define("common/scroll-to",["require","adapter/dom","adapter/enumerable","jquery","adapter/jsClass"],function(e){var f=e("adapter/dom");var c=e("adapter/jsClass");var b=e("jquery");var a=e("adapter/enumerable");var d=c.Class({defaults:{},options:{},scrollElement:null,constructor:function(g,h){this.scrollElement=f.find("#"+g)[0];if(!this.scrollElement){return}this.defaults={forceFocus:false,setFocus:true,focusedElementId:null,animation:true,speed:500,delay:0,position:50,scrollIfVisible:false,clickId:null};this.options=a.defaults(h||{},this.defaults);if(!this.options.animation){this.options.speed=0}if(this.options.clickId){f.on("#"+this.options.clickId,"click",this.scrollToElement.bind(this))}else{this.scrollToElement()}if(this.options.forceFocus){this.onScrollFinished()}},scrollToElement:function(){var g=this.findScrollTop();if(this.options.scrollIfVisible||g>=0){b("body,html").delay(this.options.delay).animate({scrollTop:g},{duration:this.options.speed,complete:this.onScrollFinished.bind(this)})}return false},findScrollTop:function(){var n=f.find(".header"),g=f.offset(this.scrollElement).top,m=f.height(window),h=f.pageScrollTop(),k=(f.css(n,"position")=="fixed")?f.outerHeight(n):0,j=m-k,l=f.outerHeight(this.scrollElement),i=j*this.options.position/100-l/2;if(i+l>j){i=j-l}if(i<0){i=0}if(!this.options.scrollIfVisible&&h+k<=g&&h+m-l>=g){return -1}return g-f.outerHeight(n)-i-10},onScrollFinished:function(){if(this.options.setFocus){if(this.options.focusedElementId){f.trigger(f.find("#"+this.options.focusedElementId),"focus")}else{f.trigger(this.scrollElement,"focus")}}}});return d});