define("common/custom-checkbox-css3",["require","pubsub","adapter/jsClass","adapter/dom","adapter/enumerable"],function(e){var f=e("adapter/dom"),d=e("pubsub"),c=e("adapter/jsClass"),b=e("adapter/enumerable");var a=c.Class({radiogroupPrefix:"radiogroup-",constructor:function(g,h){this.classNs=config.namespace;this.defaults={checkedClass:this.classNs+"-checked",notCheckedClass:this.classNs+"-not-checked",disabledClass:this.classNs+"-disabled",focusClass:this.classNs+"-focused"};this.opts=b.defaults(this.defaults,h);this.input=f.find("#"+g)[0];if(!this.input){return}this.inputType=this.input.type.toLowerCase();this.customInput=null;this.createCheckboxHtml();this.changeState(this.input.checked,this.input.disabled,false,true);this.initObservers()},createCheckboxHtml:function(){var j=this,m=this.opts,l="-"+this.classNs+"-"+j.inputType,i=this.classNs+"-custom-input "+this.classNs+"-"+j.inputType+" "+(f.getClass(j.input)||""),g='<span id="'+this.input.id+l+'" class="'+i+'"><span class="'+this.classNs+"-"+j.inputType+'-inner"><span></span></span></span>',h=this.getLabel(this.input.id);var k=f.siblings(this.input,false,"span");if(k.length>0){f.append(k[0],g,"replace")}else{f.append(this.input,g,"after")}this.customInput=f.find("#"+this.input.id+l)[0];f.addClass(h,this.classNs+"-input-label");f.addClass(this.input,"reader-only")},initObservers:function(){f.on(this.input,"change",this.onInputChange.bind(this));f.on(this.input,"focus",this.onInputFocus.bind(this));f.on(this.input,"blur",this.onInputBlur.bind(this))},onInputChange:function(g){this.changeState(this.input.checked,this.input.disabled,true)},changeState:function(g,j,h,l){var k=this;j=j||false;if(g){f.addClass(this.customInput,this.opts.checkedClass)}else{f.removeClass(this.customInput,this.opts.checkedClass)}(j)?f.addClass(this.customInput,this.opts.disabledClass):f.removeClass(this.customInput,this.opts.disabledClass);if(this.inputType==="radio"){var i=f.find('input:radio[name="'+this.input.name+'"]');b.each(i,function(m){if(m.id!=this.input.id&&g){m.checked=false;f.removeClass(f.next(m,"span"),k.opts.checkedClass)}},this)}},onInputFocus:function(g){f.addClass(this.customInput,this.opts.focusClass)},onInputBlur:function(g){f.removeClass(this.customInput,this.opts.focusClass)},getLabel:function(g){var h=f.find('label[for="'+g+'"]')[0];return h}});return a});