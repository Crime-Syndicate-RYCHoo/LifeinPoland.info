/**
 * All rights reserved to Piwik PRO, Poland, since 2015
 */

(function(stg,initial){stg=window.sevenTag=stg||{};stg.tagTree=initial.tagTree;stg.variables=initial.variables;stg.triggers=initial.triggers;stg.tags=initial.tags;stg.configuration=initial.configuration;stg.privacy=initial.privacy;stg.consentSettings=initial.consentSettings;stg.consentTemplatesSettings=initial.consentTemplatesSettings;}(window.sevenTag,{"variables":[{"id":"8d3cc942-9d05-4e6c-bdbd-b4eb672a0aea","name":"DataLayer documentID","type":{"collector_name":"data_layer"},"value":"documentID","options":[]},{"id":"701a1dcd-0ebf-49fb-9de3-0ae6df392952","name":"W - WT.pi","type":{"collector_name":"custom_javascript"},"value":"function() {\n  var pageOfInterest = document.querySelector('[name=\"WT.pi\"]');\n  \n  if (pageOfInterest) {\n   \treturn pageOfInterest.getAttribute('content').substr(0, 250);\n  };\n}","options":[]},{"id":"e80c4cbe-e0ce-4e23-a614-d7d86e90e6f2","name":"W - WT.seg_1","type":{"collector_name":"custom_javascript"},"value":"function() {\n  var regist = document.querySelector('[name=\"WT.seg_1\"]');\n  \n  if (regist) {\n   \treturn regist.getAttribute('content').substr(0, 250);\n  };\n}","options":[]},{"id":"136e2e6c-c6a1-46ae-be0e-9a481ded7a9e","name":"Consent","type":{"collector_name":"cookie"},"value":"cck1","options":[]},{"id":"316561d4-dd53-4a6a-af32-75fdcd884460","name":"DataLayer searchLang","type":{"collector_name":"data_layer"},"value":"searchLang","options":[]},{"id":"d50908f3-67cb-43f0-a794-ee96f51ccd86","name":"U - PublicationLanguage","type":{"collector_name":"custom_javascript"},"value":"function() {\nvar myPath = window.location.pathname;\nvar expresion = '\\/.*(legal-content|procedure)\\/(.*)\\/';\nvar result = myPath.match(expresion);\nvar result2;\n  \n  if (result) {\n    result2 = result[2]\n    if (result2.indexOf('/') !== -1)\n    {\n      return result2.substr(0,result2.indexOf('/'));\n    } else {\n   \treturn result2;\n    }\n  };\n}","options":[]},{"id":"295af1be-9f41-4e60-8b7e-83076afd7f7a","name":"W - DCSext.w_tour_page","type":{"collector_name":"custom_javascript"},"value":"function() {\n  var tourPage = document.querySelector('[name=\"DCSext.w_tour_page\"]');\n  \n  if (tourPage) {\n   \treturn tourPage.getAttribute('content').substr(0, 250);\n  };\n}","options":[]},{"id":"ef4067d2-9ad2-4c98-b327-2df077c458c0","name":"W - WT.cg_n","type":{"collector_name":"custom_javascript"},"value":"function() {\n  var contentGroup = document.querySelector('[name=\"WT.cg_n\"]');\n  \n  if (contentGroup) {\n   \treturn contentGroup.getAttribute('content').substr(0, 250);\n  };\n};","options":[]},{"id":"a6e2f6c0-26d9-4ece-bc7a-6cddd10d9c59","name":"W - WT.z_ele_ev","type":{"collector_name":"custom_javascript"},"value":"function() {\n  var MyEurLexEvent = document.querySelector('[name=\"WT.z_ele_ev\"]');\n  \n  if (MyEurLexEvent) {\n   \treturn MyEurLexEvent.getAttribute('content').substr(0, 250);\n  };\n}","options":[]},{"id":"6a47eaa4-dc7b-451b-a875-0fc344e63691","name":"W - WT.z_ele","type":{"collector_name":"custom_javascript"},"value":"function() {\n  var MyEurLexEvent = document.querySelector('[name=\"WT.z_ele\"]');\n  \n  if (MyEurLexEvent) {\n   \treturn MyEurLexEvent.getAttribute('content').substr(0, 250);\n  };\n}","options":[]},{"id":"9baa772c-f6ab-4f5d-8036-d30adc915bb8","name":"W - WT.z_docID","type":{"collector_name":"custom_javascript"},"value":"function() {\n  var docID = document.querySelector('[name=\"WT.z_docID\"]');\n  \n  if (docID) {\n   \treturn docID.getAttribute('content').substr(0, 250);\n  };\n}","options":[]},{"id":"f3213949-10b9-4ff3-bd99-c4427a7fc0d3","name":"W - DCSext.w_oss_metadata_collection_option","type":{"collector_name":"custom_javascript"},"value":"function() {\n  var metadataOption = document.querySelector('[name=\"DCSext.w_oss_metadata_collection_option\"]');\n  \n  if (metadataOption) {\n   \treturn metadataOption.getAttribute('content').substr(0, 250);\n  };\n}","options":[]},{"id":"9022a159-bb32-4106-a2cb-5c7a228e2868","name":"W - WT.z_usr_lan","type":{"collector_name":"custom_javascript"},"value":"function() {\n  var lang = document.querySelector('[name=\"WT.z_usr_lan\"]');\n  \n  if (lang) {\n   \treturn lang.getAttribute('content').substr(0, 250);\n  };\n}","options":[]},{"id":"51f329ab-6883-4727-951f-5b600993bf7c","name":"Document - Referrer","type":{"collector_name":"document"},"value":"referrer","options":[]},{"id":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","name":"optedOut","type":{"collector_name":"data_layer"},"value":"optedOut","options":[]},{"id":"8bd65173-e195-4a7d-b766-5ab9610e7dd2","name":"DataLayer searchType","type":{"collector_name":"data_layer"},"value":"searchType","options":[]},{"id":"a218ab4f-179a-48b5-8c84-86169b534cc9","name":"U - WT.rss_a","type":{"collector_name":"url"},"value":"parameter","options":{"parameter_name":"WT.rss_a"}},{"id":"745e147c-b7d1-4844-9372-e743783ae6ca","name":"DataLayer scope","type":{"collector_name":"data_layer"},"value":"scope","options":[]},{"id":"890f37d4-d0c4-4f39-b4d1-16aebe2d98a1","name":"DataLayer event_type","type":{"collector_name":"data_layer"},"value":"event_type","options":[]},{"id":"8ac94663-bb51-46a9-90eb-fb86bf9c72a0","name":"DataLayer searchKeyword","type":{"collector_name":"data_layer"},"value":"searchKeyword","options":[]},{"id":"53c1d24f-6e8a-44b8-b6ca-b61307f25c5c","name":"W - DCSext.w_oss_metadata_field","type":{"collector_name":"custom_javascript"},"value":"function() {\n  var metadataField = document.querySelector('[name=\"DCSext.w_oss_metadata_field\"]');\n  \n  if (metadataField) {\n   \treturn metadataField.getAttribute('content').substr(0, 250);\n  };\n}","options":[]},{"id":"a5186104-63ab-4fa8-a880-057fa54229eb","name":"DataLayer position","type":{"collector_name":"data_layer"},"value":"position","options":[]},{"id":"8f76c967-ea20-421e-a1d9-7b6367d64578","name":"DataLayer searchPage","type":{"collector_name":"data_layer"},"value":"searchPage","options":[]},{"id":"2b5f46d1-e75c-445d-955a-a48efc7f5a26","name":"W - WT.z_docType","type":{"collector_name":"custom_javascript"},"value":"function() {\n  var docType = document.querySelector('[name=\"WT.z_docType\"]');\n  \n  if (docType) {\n   \treturn docType.getAttribute('content').substr(0, 250);\n  };\n}","options":[]},{"id":"00f2645e-01c3-4292-b921-e4e34f72c8e0","name":"U - WT.rss_f","type":{"collector_name":"url"},"value":"parameter","options":{"parameter_name":"WT.rss_f"}},{"id":"899b0b6a-4445-4851-a519-272baf5fdfcb","name":"W - WT.cg_s","type":{"collector_name":"custom_javascript"},"value":"function() {\n  var subcontent = document.querySelector('[name=\"WT.cg_s\"]');\n  \n  if (subcontent) {\n   \treturn subcontent.getAttribute('content').substr(0, 250);\n  };\n}","options":[]},{"id":"65d909b5-13af-4370-9e8b-4120a28ce396","name":"W - DCSext.w_legissum_ID","type":{"collector_name":"custom_javascript"},"value":"function() {\n  var summaryID = document.querySelector('[name=\"DCSext.w_legissum_ID\"]');\n  \n  if (summaryID) {\n   \treturn summaryID.getAttribute('content').substr(0, 250);\n  };\n}","options":[]},{"id":"0f91af48-c2e9-4031-84d5-04944776bfb2","name":"W - DCSext.w_oss_metadata_collection_type","type":{"collector_name":"custom_javascript"},"value":"function() {\n  var metadataType = document.querySelector('[name=\"DCSext.w_oss_metadata_collection_type\"]');\n  \n  if (metadataType) {\n   \treturn metadataType.getAttribute('content').substr(0, 250);\n  };\n}","options":[]},{"id":"8051de40-83e2-41aa-95d6-044831955ab0","name":"W - WT.z_docSector","type":{"collector_name":"custom_javascript"},"value":"function() {\n  var docSector = document.querySelector('[name=\"WT.z_docSector\"]');\n  \n  if (docSector) {\n   \treturn docSector.getAttribute('content').substr(0, 250);\n  };\n}","options":[]},{"id":"f0cf5519-1c5b-4f1b-be89-90b2a4f08925","name":"W - WT.z_docTitle","type":{"collector_name":"custom_javascript"},"value":"function() {\n  var docTitle = document.querySelector('[name=\"WT.z_docTitle\"]');\n  \n  if (docTitle) {\n  //  return docTitle.getAttribute('content').substr(0, 200);\n  //  return docTitle.getAttribute('content').replace(/\\u0142/g, \"l\").replace(/([ ])+/g, \"_\").normalize('NFKD').replace(/[^\\w]/g, '').substr(0, 250);\n      return document.querySelector('[name=\"WT.z_docTitle\"]').getAttribute('content').replace(/\\u0142/g, \"l\").normalize('NFKD').replace(/[^\\w]/g, ' ').replace(/\\s\\s+/g, ' ').substr(0, 200);\n  };\n}","options":[]},{"id":"b51572f2-b665-47d9-95ba-e51c874fb4a2","name":"U - page","type":{"collector_name":"url"},"value":"parameter","options":{"parameter_name":"page"}},{"id":"1c7ab51f-638b-4b4e-a21c-b3875f1f4e1d","name":"Document - Title","type":{"collector_name":"document"},"value":"title","options":[]},{"id":"18c827bd-43e2-409a-a25d-cd8b0f6b95f7","name":"View within session","type":{"collector_name":"cookie"},"value":"firstVisit","options":[]},{"id":"6fa9617f-00b8-4bed-8112-ccbb32033c74","name":"External referrer","type":{"collector_name":"url"},"value":"externalReferrer","options":[]},{"id":"028f3993-dc39-4ad1-8602-f6345c91f3bb","name":"Form Name","type":{"collector_name":"data_layer"},"value":"elementName","options":[]},{"id":"c98aff1e-a24a-4ab7-bad4-d7e0f056b42e","name":"History state","type":{"collector_name":"data_layer"},"value":"newHistoryState","options":[]},{"id":"42ff090e-f97c-45b5-8625-21ae26891382","name":"Page Hostname","type":{"collector_name":"url"},"value":"hostname","options":[]},{"id":"78fec807-3991-4fbc-ad57-238a6960d0b7","name":"Traffic source","type":{"collector_name":"url"},"value":"trafficSource","options":[]},{"id":"44ef5a4b-4009-4f66-8fb4-c8137c0ed1b0","name":"Old history fragment","type":{"collector_name":"data_layer"},"value":"oldHistoryFragment","options":[]},{"id":"b1504526-de0d-4c27-9ff0-1ee7734561ed","name":"Form ID","type":{"collector_name":"data_layer"},"value":"elementId","options":[]},{"id":"67ed6060-eace-4370-8ede-a083f7c909f1","name":"Page Url","type":{"collector_name":"url"},"value":"href","options":[]},{"id":"d7c47336-342d-4c9b-b35a-fa13f238ca44","name":"Form Classes","type":{"collector_name":"data_layer"},"value":"elementClasses","options":[]},{"id":"caf01b44-cdbf-4a7e-a7e8-0150744b4e32","name":"History source","type":{"collector_name":"data_layer"},"value":"historySource","options":[]},{"id":"e1e2b185-464f-4eb5-8575-feec34c5e281","name":"Page Path","type":{"collector_name":"url"},"value":"pathname","options":[]},{"id":"67f49c79-bab6-4b0f-95c8-3bf624b6398f","name":"Consents","type":{"collector_name":"data_layer"},"value":"consents","options":[]},{"id":"efc09356-e1f2-40f7-8a0a-4c454429e678","name":"Click Classes","type":{"collector_name":"data_layer"},"value":"elementClasses","options":[]},{"id":"db5a673e-dabe-4dfa-908c-d08b369d08c9","name":"Click Element","type":{"collector_name":"data_layer"},"value":"elementSelector","options":[]},{"id":"a489adb8-f2cf-4a09-8b7a-e6a048b943d7","name":"Old history state","type":{"collector_name":"data_layer"},"value":"oldHistoryState","options":[]},{"id":"c2fe42d6-2cbc-45d0-b4df-af92fdbdc2fc","name":"Leave content","type":{"collector_name":"data_layer"},"value":"edge","options":[]},{"id":"f39468e9-ae2d-4e58-9e2c-73a4d44add6f","name":"Click ID","type":{"collector_name":"data_layer"},"value":"elementId","options":[]},{"id":"a9a87b7d-d565-433d-8090-df9d80bf91f5","name":"Page Scroll","type":{"collector_name":"document"},"value":"pageScroll","options":[]},{"id":"7dead2a9-5804-4cdd-8d73-b04d338952e9","name":"Found Elements","type":{"collector_name":"data_layer"},"value":"foundElements","options":[]},{"id":"8530b589-aaac-42e4-b4c0-dfeef1360ee5","name":"Referrer","type":{"collector_name":"document"},"value":"referrer","options":[]},{"id":"efd3558a-714d-4b33-9edd-2bbeb0b5eaf7","name":"Click Url","type":{"collector_name":"data_layer"},"value":"elementUrl","options":[]},{"id":"d76335ca-0ae1-4540-8b7e-5ff7acb0d14f","name":"Returning Visitor","type":{"collector_name":"cookie"},"value":"returningVisitor","options":[]},{"id":"d462fb15-d23c-40e2-bc54-494377accccb","name":"History fragment","type":{"collector_name":"url"},"value":"hash","options":[]},{"id":"a3f51ab7-ea76-4adc-a839-a32d392df37c","name":"Campaign","type":{"collector_name":"url"},"value":"campaign","options":[]},{"id":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","name":"Event","type":{"collector_name":"data_layer"},"value":"event","options":[]},{"id":"0e45761b-d00d-4b18-88c1-eb8fc233d3da","name":"Form Url","type":{"collector_name":"data_layer"},"value":"elementUrl","options":[]},{"id":"4a3cbab8-e239-44ca-b1c9-6c1bc5cc3fbd","name":"Time on website","type":{"collector_name":"data_layer"},"value":"timeOnWebsite","options":[]},{"id":"d3b9c231-6491-46e7-ad77-34707dad8fd9","name":"Piwik PRO Anonymization","type":{"collector_name":"piwik_anonymization"},"value":"piwik_anonymization","options":[]}],"tagTree":[{"id":"4bcafb0a-3fb4-449f-9d77-a537e3eaa836","name":"ADT opt-out","code":"<script type=\"text/javascript\">\n\nfunction allCookies() {\n\ttry {\n        all_cookies= document.cookie.split(\";\");\n\t\treturn all_cookies;\n\t} catch (e) {\n\t}\n}\n\nfunction cookieDelete(cookieName) {\n\tdocument.cookie = cookieName + \"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\n}\n\nfunction deletePiwikWebStorage() {\n\twindow.localStorage.removeItem(\"ppms_webstorage\");\n}\n\nfunction deletePiwikCookies(allCookies) {\n\tfor (var cookie = 0;  cookie < allCookies.length; cookie++) {\n\t\tif (allCookies[cookie].indexOf(\"_pk\") !== -1) {\n\t\t\tvar cookieName = allCookies[cookie].split(\"=\")[0];\n\t\t\tcookieDelete(cookieName);\n\t\t}\n\t}\n}\n\nfunction clearOnReject() {\n\tdeletePiwikCookies(allCookies());\n\tdeletePiwikWebStorage();\n}\n\nfunction readingCCK1 (pre_cck1) {\n\tvar checkedjson;\n\ttry {\n\t\tvar cck1= pre_cck1.replace(/%7B/g, '{').replace(/%7D/g, '}').replace(/%22/g, '\"').replace(/%3A/g, ':').replace(/%2C/g, ',');\n\t\tcheckedjson = JSON.parse(cck1.split(\"=\")[1]);\n\t} catch (e) {\n\t}\n\treturn checkedjson ;\n}\n  \nfunction euOptout(allCookies) {\n\tfor (var cookie = 0;  cookie < allCookies.length; cookie++) {\n\t\tif (allCookies[cookie].indexOf(\"cck1\")  !== -1) {\n\t\t\tvar cck1 = readingCCK1(allCookies[cookie]);\n            if (typeof cck1 !== 'undefined')\n\t\t\t\tif (cck1.cm == true && cck1.all1st == false){\n\t\t\t\t\treturn \"0\";\n\t\t\t\t}\n\t\t\t\telse if (cck1.cm == true && cck1.all1st == true){\n\t\t\t\t\treturn \"1\";\n\t\t\t\t}else{ \n\t\t\t\t\treturn \"-1\";\n\t\t\t\t}\n\t\t\telse{\n\t\t\t\treturn \"undefined\"\n            }\n\t\t}\n\t}\n}\n  \nfunction getSettings() {\n\tppms.cm.api('getComplianceSettings', function(settings){consentStatus = settings.consents.analytics.status},function(error){consentStatus=\"undefined\";});\n\treturn consentStatus;\n}\n\nfunction pushDatalayerTrue(){\n\tdataLayer.push({\n\t\tevent: \"optedOut\",\n\t\toptedOut: true,\n\t});\n}\n\nfunction pushDatalayerFalse(){\n\tdataLayer.push({\n\t\tevent: \"optedOut\",\n\t\toptedOut: false,\n\t});\n}\n\nfunction pushDatalayerFalseWithParams(param_init, param_status){\n\tdataLayer.push({\n\t\tevent: \"optedOut\",\n\t\toptedOut: false,\n\t\tinit: param_init,\n\t\tstatus: param_status,\n\t});\n}\n  \nfunction pushDatalayerTrueWithParams(param_init, param_status){\n\tdataLayer.push({\n\t\tevent: \"optedOut\",\n\t\toptedOut: true,\n\t\tinit: param_init,\n\t\tstatus: param_status,\n\t});\n}\n\nfunction setConsent0(){\n  console.log (\"setConsent0\");\n\tconsentRejected = {consents: {analytics: {status: 0}}};\n    ppms.cm.api('setComplianceSettings', consentRejected, function(consentRejected){});\n}\n\nfunction setConsent1(){\n  console.log (\"setConsent1\");\n\tconsentAccepted = {consents: {analytics: {status: 1}}};\n    ppms.cm.api('setComplianceSettings', consentAccepted, function(consentAccepted){});\n\n}\n\nfunction setConsentMinus1(){\n\tinitialConsent = {consents: ['analytics']};\n    ppms.cm.api('setInitialComplianceSettings', initialConsent, function(initialConsent){});\n}\n\nfunction optedOut() {\n\tif (getSettings() == \"undefined\"){\n\t\tvar cck1 = euOptout(allCookies());     \n\t\tswitch (cck1) {\n\t\t\tcase '0':            \n\t\t\t\tpushDatalayerTrueWithParams(\"undefined\",cck1);\n\t\t\t\tclearOnReject();\n\t\t\t\tsetConsent0();\n\t\t\t\tbreak;\n\t\t\tcase '1':\n\t\t\t\tpushDatalayerFalse();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tpushDatalayerFalseWithParams(\"undefined\",cck1);\n\t\t\t\tsetConsentMinus1();\n\t\t\t\tbreak;\n\t\t}\n\t}else if (getSettings() == 0){ \n\t\tvar cck1 = euOptout(allCookies());\n\t\tswitch (cck1) {\n\t\t\tcase '0':\n\t\t\t\tpushDatalayerTrue();\n\t\t\t\tclearOnReject();\n\t\t\t\tbreak;\n\t\t\tcase '1':\n\t\t\t\tpushDatalayerFalseWithParams(\"0\",cck1);\n\t\t\t\tsetConsent1();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tpushDatalayerFalseWithParams(\"0\",cck1);\n\t\t\t\tsetConsentMinus1();\n\t\t\t\tbreak;\n\t\t}\n\t}else if (getSettings() == 1){ \n\t\tvar cck1 = euOptout(allCookies());\n\t\tswitch (cck1) {\n\t\t\tcase '0':\n\t\t\t\tpushDatalayerTrueWithParams(\"undefined\",cck1);\n\t\t\t\tclearOnReject();\n\t\t\t\tsetConsent0();\n\t\t\t\tbreak;\n\t\t\tcase '1':\n            \tconsole.log(\"1 1\");\n\t\t\t\tpushDatalayerFalse();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tpushDatalayerFalseWithParams(\"1\",cck1);\n\t\t\t\tsetConsentMinus1();\n\t\t\t\tbreak;\n\t\t}\n\t}else if (getSettings() == -1){ \n\t\tvar cck1 = euOptout(allCookies());\n\t\tswitch (cck1) {\n\t\t\tcase '0':\n\t\t\t\tpushDatalayerTrueWithParams(\"-1\",cck1);\n\t\t\t\tclearOnReject();\n\t\t\t\tsetConsent0();\n\t\t\t\tbreak;\n\t\t\tcase '1':\n\t\t\t\tpushDatalayerFalseWithParams(\"-1\",cck1);\n\t\t\t\tsetConsent1();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tpushDatalayerFalse();\n\t\t\t\tbreak;\n\t\t}\n\t}\n  else {\n\t\tpushDatalayerFalse();\n    }\n  }\n\ntry {\n\t\n  var cmApiCheck = setInterval(function() {\n    if (typeof ppms.cm.api!=='undefined') {\n      optedOut();\n      clearInterval(cmApiCheck);\n    }\n  },500);\n  setTimeout(function(){\n    if (cmApiCheck){\n      clearInterval(cmApiCheck);\n      getSettings();\n    }\n  },15000);\n} catch (e) {}\n</script>","consentType":"not_require_consent","template":"custom_tag","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":true,"triggers":[{"id":"9cae43f2-765e-4afe-a0dd-be1cb8190422","type":"page_view","relation":"4bcafb0a-3fb4-449f-9d77-a537e3eaa836_9cae43f2-765e-4afe-a0dd-be1cb8190422","name":"All page views","conditions":[{"id":"9cae43f2-765e-4afe-a0dd-be1cb8190422","relation":"4bcafb0a-3fb4-449f-9d77-a537e3eaa836_9cae43f2-765e-4afe-a0dd-be1cb8190422_9cae43f2-765e-4afe-a0dd-be1cb8190422","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.pageView","options":[]}]}],"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":5,"triggerIds":["9cae43f2-765e-4afe-a0dd-be1cb8190422"]},{"id":"8b51e6b4-e159-4c10-822a-2e6260ad15e2","name":"ADT opt-out-inPage","code":"<script type=\"text/javascript\">\n\nfunction allCookies() {\n\ttry {\n        all_cookies= document.cookie.split(\";\");\n\t\treturn all_cookies;\n\t} catch (e) {\n\t}\n}\n\nfunction cookieDelete(cookieName) {\n\tdocument.cookie = cookieName + \"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\n}\n\nfunction deletePiwikWebStorage() {\n\twindow.localStorage.removeItem(\"ppms_webstorage\");\n}\n\nfunction deletePiwikCookies(allCookies) {\n\tfor (var cookie = 0;  cookie < allCookies.length; cookie++) {\n\t\tif (allCookies[cookie].indexOf(\"_pk\") !== -1){          \n\t\t\tvar cookieName = allCookies[cookie].split(\"=\")[0];\n\t\t\tcookieDelete(cookieName);\n\t\t}\n\t}\n}\n\nfunction clearOnReject() {\n\tdeletePiwikCookies(allCookies());\n\tdeletePiwikWebStorage();\n}\n\nfunction pushDatalayerInPageTrue(){\n\tdataLayer.push({\n\t\tevent: \"opted-Out-inPage\",\n\t\toptedOut: true,\n\t});\n}\n  \nfunction pushDatalayerInPageFalse(){\n\tdataLayer.push({\n\t\tevent: \"opted-Out-inPage\",\n\t\toptedOut: false,\n\t});\n}\n\nfunction validatingJSON (pre_cck1) {\n\tvar checkedjson\n\ttry {\n\t\tvar cck1= pre_cck1.replace(/%7B/g, '{').replace(/%7D/g, '}').replace(/%22/g, '\"').replace(/%3A/g, ':').replace(/%2C/g, ',');\n\t\tcheckedjson = JSON.parse(cck1.split(\"=\")[1]);\n\t} catch (e) {\n\t}\n\treturn checkedjson ;\n}\n\nfunction euOptout(allCookies) {\n\tfor (var cookie = 0;  cookie < allCookies.length; cookie++) {\n\t\tif (allCookies[cookie].indexOf(\"cck1\")  !== -1) {\n\t\t\tvar cck1 = validatingJSON(allCookies[cookie]);\n            if (typeof cck1 !== 'undefined')\n\t\t\t\tif (cck1.cm == true && cck1.all1st == false){\n\t\t\t\t\treturn \"0\";\n\t\t\t\t}\n\t\t\t\telse if (cck1.cm == true && cck1.all1st == true){\n\t\t\t\t\treturn \"1\";\n\t\t\t\t}else{ \n\t\t\t\t\treturn \"-1\";\n\t\t\t\t}\n\t\t\telse{\n\t\t\t\treturn \"undefined\"\n            }\n\t\t}\n\t}\n}\n  \nfunction getSettings() {\n\tppms.cm.api('getComplianceSettings', function(settings){consentStatus = settings.consents.analytics.status},function(settings){consentStatus=\"undefined\";});\n\treturn consentStatus;\n}\n\nfunction optedOut(){\n\tif ((getSettings() == 0) && (euOptout(allCookies()) == 0)){\t\t\n        pushDatalayerInPageTrue();\n        clearOnReject();\n    }else if ((getSettings() == 1) && (euOptout(allCookies()) == 1)){\n    \tpushDatalayerInPageFalse();\n    }\n}\n\ntry { optedOut();} catch (e) {}\n</script>","consentType":"not_require_consent","template":"custom_tag","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":true,"triggers":[{"id":"4090ea16-0e2c-4dce-a65b-b98ad01216bc","type":"event","relation":"8b51e6b4-e159-4c10-822a-2e6260ad15e2_4090ea16-0e2c-4dce-a65b-b98ad01216bc","name":"setComplianceSettings","conditions":[{"id":"ebe66272-cf7d-48b5-b133-a987e33b3d8b","relation":"8b51e6b4-e159-4c10-822a-2e6260ad15e2_4090ea16-0e2c-4dce-a65b-b98ad01216bc_ebe66272-cf7d-48b5-b133-a987e33b3d8b","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"ppms.cm:setComplianceSettings","options":[]}]}],"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":5,"triggerIds":["4090ea16-0e2c-4dce-a65b-b98ad01216bc"]},{"id":"9b4e9840-a9b6-4068-bb53-3f4523ad624f","name":"Piwik PRO Deanonymization","code":"<script type=\"text/javascript\">\n    var _paq = window._paq || [];\n    (function () {\n        var consents = {{ Consents }};\n        var consentType = 'analytics';\n        if (typeof consents !== 'undefined' &&\n            consents.hasOwnProperty('current_state') &&\n            consents.current_state.hasOwnProperty(consentType) &&\n            consents.current_state[consentType] === 1 &&\n            consents.hasOwnProperty('previous_state') &&\n            consents.previous_state.hasOwnProperty(consentType) &&\n            consents.previous_state[consentType] !== 1\n        ) {\n            _paq.push(['deanonymizeUser']);\n            _paq.push(['setVisitorCookieTimeout', 33955200]);\n        }\n    }());\n</script>\n","consentType":"analytics","template":"custom_tag","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":false,"triggers":[{"id":"ccd3922e-3b5d-4073-a0a8-ee6f30ec0582","type":"event","relation":"9b4e9840-a9b6-4068-bb53-3f4523ad624f_ccd3922e-3b5d-4073-a0a8-ee6f30ec0582","name":"Piwik PRO Deanonymization trigger","conditions":[{"id":"ccd3922e-3b5d-4073-a0a8-ee6f30ec0582","relation":"9b4e9840-a9b6-4068-bb53-3f4523ad624f_ccd3922e-3b5d-4073-a0a8-ee6f30ec0582_ccd3922e-3b5d-4073-a0a8-ee6f30ec0582","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.consentDecisionMade","options":[]}]}],"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":1,"triggerIds":["ccd3922e-3b5d-4073-a0a8-ee6f30ec0582"]},{"id":"41ae9983-c805-44b0-8aeb-8ac637d7bf74","name":"Piwik PRO","code":"<script type=\"text/javascript\">\n    var _paq = _paq || [];\n    (function () {\n        var trackAnonymously = {{ Piwik PRO Anonymization }}('analytics');\n        if (trackAnonymously) {\n            _paq.push(['setUserIsAnonymous', 1]);\n            _paq.push(['setVisitorCookieTimeout', 1800]);\n        }\n    }());\n</script>\n\n<script type=\"text/javascript\">\n    var _paq = _paq || [];\n    _paq.push(['setTrackingSource', 'jstc_tm']);\n    _paq.push(['enableLinkTracking']);\n    _paq.push(['setIpTracking', true]);\n    _paq.push(['setDomains', ['eur-lex.europa.eu/']]);\n    _paq.push(['setCustomDimensionValue', 1, {{ W - WT.cg_n }}]);\n    _paq.push(['setCustomDimensionValue', 2, {{ W - WT.cg_s }}]);\n    _paq.push(['setCustomDimensionValue', 3, {{ W - WT.pi }}]);\n    _paq.push(['setCustomDimensionValue', 4, {{ W - WT.z_docID }}]);\n    _paq.push(['setCustomDimensionValue', 5, {{ W - WT.z_usr_lan }}]);\n    _paq.push(['setCustomDimensionValue', 6, {{ W - WT.z_docSector }}]);\n    _paq.push(['setCustomDimensionValue', 7, {{ W - WT.z_docType }}]);\n    _paq.push(['setCustomDimensionValue', 8, {{ W - WT.z_docTitle }}]);\n    _paq.push(['setCustomDimensionValue', 9, {{ W - WT.seg_1 }}]);\n    _paq.push(['setCustomDimensionValue', 10, {{ W - DCSext.w_oss_metadata_field }}]);\n    _paq.push(['setCustomDimensionValue', 11, {{ W - DCSext.w_oss_metadata_collection_type }}]);\n    _paq.push(['setCustomDimensionValue', 12, {{ W - DCSext.w_oss_metadata_collection_option }}]);\n    _paq.push(['setCustomDimensionValue', 13, {{ W - DCSext.w_tour_page }}]);\n    _paq.push(['setCustomDimensionValue', 15, {{ W - DCSext.w_legissum_ID }}]);\n    _paq.push(['setCustomDimensionValue', 16, {{ U - PublicationLanguage }}]);\n    _paq.push(['setCustomDimensionValue', 17, {{ W - WT.z_ele }}]);\n    _paq.push(['setCustomDimensionValue', 18, {{ W - WT.z_ele_ev }}]);\n    _paq.push(['setCustomDimensionValue', 19, {{ U - WT.rss_f }}]);\n    _paq.push(['setCustomDimensionValue', 20, {{ U - WT.rss_a }}]);\n    _paq.push(['setCustomDimensionValue', 21, {{ U - page }}]);\n    _paq.push(['setSecureCookie', 1]);\n    _paq.push(['trackPageView']);\n    (function(p,i,w,ik) {\n        var g=ik.createElement('script'),s=ik.getElementsByTagName('script')[0];\n        _paq.push(['setTrackerUrl', p]);\n        _paq.push(['setSiteId', w]);\n        g.type='text/javascript';g.async=true;g.defer=true;g.src=i;s.parentNode.insertBefore(g,s);\n    })('https://analytics.webanalytics.op.europa.eu/ppms.php','https://analytics.webanalytics.op.europa.eu/ppms.js','0b5594a8\\u002Db9c8\\u002D4cd6\\u002Daa25\\u002D5c578dcf91df',document)\n</script>\n","consentType":"not_require_consent","template":"piwik","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":true,"triggers":[{"id":"34b5b366-2b33-413c-be48-299e9f88fb8e","type":"event","relation":"41ae9983-c805-44b0-8aeb-8ac637d7bf74_34b5b366-2b33-413c-be48-299e9f88fb8e","name":"Not opted out","conditions":[{"id":"9838452d-9cf9-4c11-be14-c708f5c45fdc","relation":"41ae9983-c805-44b0-8aeb-8ac637d7bf74_34b5b366-2b33-413c-be48-299e9f88fb8e_9838452d-9cf9-4c11-be14-c708f5c45fdc","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"8069431e-13dd-4f67-b59d-aca2230b12f5","relation":"41ae9983-c805-44b0-8aeb-8ac637d7bf74_34b5b366-2b33-413c-be48-299e9f88fb8e_8069431e-13dd-4f67-b59d-aca2230b12f5","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"optedOut","options":[]}]}],"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":1,"triggerIds":["34b5b366-2b33-413c-be48-299e9f88fb8e"]},{"id":"6a432c25-204a-43b7-80f5-30508b631004","name":"Click on SERP - Publication download DOC","code":"<script type=\"text/javascript\">\n    var _paq = _paq || [];\n    var clicked_button = {{ Click Element }};\n    var title = clicked_button.getAttribute(\"title\");\n    var CELEX = title.match('.*CELEX:([^\\/]*)');\n    if(CELEX){\n  \t\tvar docID = CELEX[1];\n    }\n    var pageURL = {{ Page Url }};//\n    var pageNumber;\n\n    var user_agent = window.navigator.userAgent;\n    var is_IE = false;\n  \tif ((user_agent.indexOf(\"Trident\") != -1) || (user_agent.indexOf(\"MSIE\")))\n        is_IE = true;\n    \n    if (is_IE){\n      // get position by parent element\n      var position_html = clicked_button.parentElement.parentElement.parentElement.parentElement.parentElement.getAttribute(\"id\");      \n    }else{\n      // get position by class\n      var position_html =  clicked_button.closest('.SearchResultData').getAttribute(\"id\");\n    }  \n    var position_array = position_html.split(\"_\");\n    var position = position_array[1];\n    \n// Get URL parameters (compatible with IE). Start\n   var vars = pageURL.split(\"&\");\n   var query_string = {};\n   for (var i = 0; i < vars.length; i++) {\n   \tvar pair = vars[i].split(\"=\");\n    var key = decodeURIComponent(pair[0]);\n    var value = decodeURIComponent(pair[1]);\n    if (typeof query_string[key] === \"undefined\") {\n      query_string[key] = decodeURIComponent(value);\n    } else if (typeof query_string[key] === \"string\") {\n      var arr = [query_string[key], decodeURIComponent(value)];\n      query_string[key] = arr;\n    } else {\n      query_string[key].push(decodeURIComponent(value));\n    }\n   }\n// End. \n  \n// Obtain data from URL parameter\n   var page = query_string.page;\n   var type = query_string.type;\n   var lang = query_string.lang;\n   var text = '';\n   if (query_string.text)\n   {\n  \t text = (query_string.text);\n   } \n   if (query_string.andText0)\n   {\n     if (text != '') \n     {\n       \t text += ' | ';\n     }\n      text +=  (query_string.andText0);\n   } \n   if (query_string.andText1)\n   {\n     if (text != '') \n     {\n       \t text += ' | ';\n     }\n \t\ttext += (query_string.andText1);\n   } \n   if (text == '')\n   {\n       text = 'No data';\n   }\n  \n   if (page) {\n    pageNumber = page;\n   } else {\n     pageNumber = '1';\n   }\n  \n//Create dataLayer event\n  dataLayer.push({\n        event: \"OP.serpClick\",\n        event_type: \"PUB_DOC\",\n        documentID:  docID, \n        searchPage: pageNumber, \n        searchType: type, \n        searchLang: lang,\n        searchKeyword: text,\n        position: position,\n      });\n\n</script>\n","consentType":"not_require_consent","template":"custom_tag","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":true,"triggers":[{"id":"85cd9c5d-5503-430e-9142-8187836c37e6","type":"click","relation":"6a432c25-204a-43b7-80f5-30508b631004_85cd9c5d-5503-430e-9142-8187836c37e6","name":"Click on SERP - DOC Download","conditions":[{"id":"85cd9c5d-5503-430e-9142-8187836c37e6","relation":"6a432c25-204a-43b7-80f5-30508b631004_85cd9c5d-5503-430e-9142-8187836c37e6_85cd9c5d-5503-430e-9142-8187836c37e6","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"c5357a39-2441-4896-b06c-77b36a32eb52","relation":"6a432c25-204a-43b7-80f5-30508b631004_85cd9c5d-5503-430e-9142-8187836c37e6_c5357a39-2441-4896-b06c-77b36a32eb52","variable":"efd3558a-714d-4b33-9edd-2bbeb0b5eaf7","action":"contains","value":"/DOC/","options":[]},{"id":"28d6fb8a-31a5-42fe-bd86-d0d2b0148c63","relation":"6a432c25-204a-43b7-80f5-30508b631004_85cd9c5d-5503-430e-9142-8187836c37e6_28d6fb8a-31a5-42fe-bd86-d0d2b0148c63","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"1323720f-a5a0-4785-9b99-2f2dbe1cdee4","relation":"6a432c25-204a-43b7-80f5-30508b631004_85cd9c5d-5503-430e-9142-8187836c37e6_1323720f-a5a0-4785-9b99-2f2dbe1cdee4","variable":"899b0b6a-4445-4851-a519-272baf5fdfcb","action":"contains","value":"Search results","options":[]},{"id":"2c946fed-2154-49a8-8eb4-d766c07514a0","relation":"6a432c25-204a-43b7-80f5-30508b631004_85cd9c5d-5503-430e-9142-8187836c37e6_2c946fed-2154-49a8-8eb4-d766c07514a0","variable":"efc09356-e1f2-40f7-8a0a-4c454429e678","action":"equals","value":"piwik_download","options":[]}]}],"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["85cd9c5d-5503-430e-9142-8187836c37e6"]},{"id":"01e89d15-be75-487f-92a6-0678b0b110e2","name":"Click on buttons","code":"<script type=\"text/javascript\">\n    var _paq = _paq || [];\n    var clicked_button = {{ Click Element }};\n    var button_title = clicked_button.getAttribute(\"id\");\n    _paq.push(['trackEvent', 'Button', 'Click' , button_title]);\n</script>\n","consentType":"not_require_consent","template":"custom_tag","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":true,"triggers":[{"id":"1c307387-af36-4714-8369-2ad6376ba43e","type":"click","relation":"01e89d15-be75-487f-92a6-0678b0b110e2_1c307387-af36-4714-8369-2ad6376ba43e","name":"Click on TOC button","conditions":[{"id":"1c307387-af36-4714-8369-2ad6376ba43e","relation":"01e89d15-be75-487f-92a6-0678b0b110e2_1c307387-af36-4714-8369-2ad6376ba43e_1c307387-af36-4714-8369-2ad6376ba43e","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"05726dee-aef3-45c2-b253-9c877305cdf6","relation":"01e89d15-be75-487f-92a6-0678b0b110e2_1c307387-af36-4714-8369-2ad6376ba43e_05726dee-aef3-45c2-b253-9c877305cdf6","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"8c579383-d865-4df5-8a48-e413cad181f4","relation":"01e89d15-be75-487f-92a6-0678b0b110e2_1c307387-af36-4714-8369-2ad6376ba43e_8c579383-d865-4df5-8a48-e413cad181f4","variable":"f39468e9-ae2d-4e58-9e2c-73a4d44add6f","action":"contains","value":"tocBtn","options":[]}]},{"id":"cf95679d-f353-4334-bdfe-daf51c5c14ab","type":"click","relation":"01e89d15-be75-487f-92a6-0678b0b110e2_cf95679d-f353-4334-bdfe-daf51c5c14ab","name":"Click on Permanent link","conditions":[{"id":"cf95679d-f353-4334-bdfe-daf51c5c14ab","relation":"01e89d15-be75-487f-92a6-0678b0b110e2_cf95679d-f353-4334-bdfe-daf51c5c14ab_cf95679d-f353-4334-bdfe-daf51c5c14ab","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"4e27c7c7-85ec-4f6f-a86c-6454f29ea187","relation":"01e89d15-be75-487f-92a6-0678b0b110e2_cf95679d-f353-4334-bdfe-daf51c5c14ab_4e27c7c7-85ec-4f6f-a86c-6454f29ea187","variable":"f39468e9-ae2d-4e58-9e2c-73a4d44add6f","action":"contains","value":"link-permanent-link","options":[]},{"id":"d3111b18-dc7f-4771-a369-8a2c1ad0a837","relation":"01e89d15-be75-487f-92a6-0678b0b110e2_cf95679d-f353-4334-bdfe-daf51c5c14ab_d3111b18-dc7f-4771-a369-8a2c1ad0a837","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]}]},{"id":"ac97cdde-00d4-4d60-8585-017dc8fe9b24","type":"click","relation":"01e89d15-be75-487f-92a6-0678b0b110e2_ac97cdde-00d4-4d60-8585-017dc8fe9b24","name":"Click on video buttons","conditions":[{"id":"ac97cdde-00d4-4d60-8585-017dc8fe9b24","relation":"01e89d15-be75-487f-92a6-0678b0b110e2_ac97cdde-00d4-4d60-8585-017dc8fe9b24_ac97cdde-00d4-4d60-8585-017dc8fe9b24","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"29922db4-b71b-48a6-9169-bcd470756842","relation":"01e89d15-be75-487f-92a6-0678b0b110e2_ac97cdde-00d4-4d60-8585-017dc8fe9b24_29922db4-b71b-48a6-9169-bcd470756842","variable":"f39468e9-ae2d-4e58-9e2c-73a4d44add6f","action":"contains","value":"video","options":[]},{"id":"d741a5ea-1055-46c2-a0fe-08569d51ac41","relation":"01e89d15-be75-487f-92a6-0678b0b110e2_ac97cdde-00d4-4d60-8585-017dc8fe9b24_d741a5ea-1055-46c2-a0fe-08569d51ac41","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]}]},{"id":"b0b07861-9678-4854-a92c-a97627f39938","type":"click","relation":"01e89d15-be75-487f-92a6-0678b0b110e2_b0b07861-9678-4854-a92c-a97627f39938","name":"Click on Machine translation tool","conditions":[{"id":"b0b07861-9678-4854-a92c-a97627f39938","relation":"01e89d15-be75-487f-92a6-0678b0b110e2_b0b07861-9678-4854-a92c-a97627f39938_b0b07861-9678-4854-a92c-a97627f39938","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"ae83d387-3e37-4acb-a9a5-e0d95f9f4719","relation":"01e89d15-be75-487f-92a6-0678b0b110e2_b0b07861-9678-4854-a92c-a97627f39938_ae83d387-3e37-4acb-a9a5-e0d95f9f4719","variable":"f39468e9-ae2d-4e58-9e2c-73a4d44add6f","action":"contains","value":"MT_button","options":[]},{"id":"49c3cea7-6471-443a-8d5c-f2722c95b2aa","relation":"01e89d15-be75-487f-92a6-0678b0b110e2_b0b07861-9678-4854-a92c-a97627f39938_49c3cea7-6471-443a-8d5c-f2722c95b2aa","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]}]}],"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["1c307387-af36-4714-8369-2ad6376ba43e","cf95679d-f353-4334-bdfe-daf51c5c14ab","ac97cdde-00d4-4d60-8585-017dc8fe9b24","b0b07861-9678-4854-a92c-a97627f39938"]},{"id":"8f828cc3-5718-47e7-8427-480333f4bcfd","name":"Click on SERP - Publication download HTML","code":"<script type=\"text/javascript\">\n    var _paq = _paq || [];\n    var clicked_button = {{ Click Element }};\n    var title = clicked_button.getAttribute(\"title\");\n    var CELEX = title.match('.*CELEX:([^\\/]*)');\n    if(CELEX){\n  \t\tvar docID = CELEX[1];\n    }\n    var pageURL = {{ Page Url }};//\n    var pageNumber;\n\n    var user_agent = window.navigator.userAgent;\n    var is_IE = false;\n  \tif ((user_agent.indexOf(\"Trident\") != -1) || (user_agent.indexOf(\"MSIE\")))\n        is_IE = true;\n    \n    if (is_IE){\n      // get position by parent element\n      var position_html = clicked_button.parentElement.parentElement.parentElement.parentElement.parentElement.getAttribute(\"id\");      \n    }else{\n      // get position by class\n      var position_html =  clicked_button.closest('.SearchResultData').getAttribute(\"id\");\n    }  \n    var position_array = position_html.split(\"_\");\n    var position = position_array[1];\n  \n// Get URL parameters (compatible with IE). Start\n   var vars = pageURL.split(\"&\");\n   var query_string = {};\n   for (var i = 0; i < vars.length; i++) {\n   \tvar pair = vars[i].split(\"=\");\n    var key = decodeURIComponent(pair[0]);\n    var value = decodeURIComponent(pair[1]);\n    if (typeof query_string[key] === \"undefined\") {\n      query_string[key] = decodeURIComponent(value);\n    } else if (typeof query_string[key] === \"string\") {\n      var arr = [query_string[key], decodeURIComponent(value)];\n      query_string[key] = arr;\n    } else {\n      query_string[key].push(decodeURIComponent(value));\n    }\n   }\n// End. \n  \n// Obtain data from URL parameter\n   var page = query_string.page;\n   var type = query_string.type;\n   var lang = query_string.lang;\n   var text = '';\n   if (query_string.text)\n   {\n  \t text = (query_string.text);\n   } \n   if (query_string.andText0)\n   {\n     if (text != '') \n     {\n       \t text += ' | ';\n     }\n      text +=  (query_string.andText0);\n   } \n   if (query_string.andText1)\n   {\n     if (text != '') \n     {\n       \t text += ' | ';\n     }\n \t\ttext += (query_string.andText1);\n   } \n   if (text == '')\n   {\n       text = 'No data';\n   }\n  \n   if (page) {\n    pageNumber = page;\n   } else {\n     pageNumber = '1';\n   }\n  \n//Create dataLayer event\n  dataLayer.push({\n        event: \"OP.serpClick\",\n        event_type: \"PUB_HTML\",\n        documentID:  docID, \n        searchPage: pageNumber, \n        searchType: type, \n        searchLang: lang,\n        searchKeyword: text,\n        position: position,\n      });\n\n</script>\n","consentType":"not_require_consent","template":"custom_tag","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":true,"triggers":[{"id":"94442f70-dd6a-4925-bd65-b57c8b78a189","type":"click","relation":"8f828cc3-5718-47e7-8427-480333f4bcfd_94442f70-dd6a-4925-bd65-b57c8b78a189","name":"Click on SERP - HTML Download","conditions":[{"id":"94442f70-dd6a-4925-bd65-b57c8b78a189","relation":"8f828cc3-5718-47e7-8427-480333f4bcfd_94442f70-dd6a-4925-bd65-b57c8b78a189_94442f70-dd6a-4925-bd65-b57c8b78a189","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"98f542b3-14e1-49d6-848b-8913daacabf6","relation":"8f828cc3-5718-47e7-8427-480333f4bcfd_94442f70-dd6a-4925-bd65-b57c8b78a189_98f542b3-14e1-49d6-848b-8913daacabf6","variable":"efd3558a-714d-4b33-9edd-2bbeb0b5eaf7","action":"contains","value":"/HTML/","options":[]},{"id":"b1f0cb62-2f92-4a02-839b-61c81a5e8d6a","relation":"8f828cc3-5718-47e7-8427-480333f4bcfd_94442f70-dd6a-4925-bd65-b57c8b78a189_b1f0cb62-2f92-4a02-839b-61c81a5e8d6a","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"aa1980b4-6c46-4159-b8c5-fdd926ac7984","relation":"8f828cc3-5718-47e7-8427-480333f4bcfd_94442f70-dd6a-4925-bd65-b57c8b78a189_aa1980b4-6c46-4159-b8c5-fdd926ac7984","variable":"899b0b6a-4445-4851-a519-272baf5fdfcb","action":"contains","value":"Search results","options":[]},{"id":"1f1234bc-3de4-4dfa-8fb9-a4583d629523","relation":"8f828cc3-5718-47e7-8427-480333f4bcfd_94442f70-dd6a-4925-bd65-b57c8b78a189_1f1234bc-3de4-4dfa-8fb9-a4583d629523","variable":"efc09356-e1f2-40f7-8a0a-4c454429e678","action":"equals","value":"piwik_download","options":[]}]}],"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["94442f70-dd6a-4925-bd65-b57c8b78a189"]},{"id":"588555d2-2da1-47c8-8e06-8d5d51007a17","name":"Click on SERP - Publication Link","code":"<script type=\"text/javascript\">\n    var _paq = _paq || [];\n    var clicked_button = {{ Click Element }};\n    var button_title = 'Click on SERP';\n    var URL = clicked_button.getAttribute(\"name\");\n    var URLdate = clicked_button.getAttribute(\"href\");\n    var cellar = clicked_button.getAttribute(\"id\");\n//    var CELEX = URL.match('.*?uri=CELEX:([^\\/]*)');\n  \n   // Get rid parameter (compatible with IE). Start\n    var pos_firt_var = URLdate.split(\"?\");\n    var pos_all_vars = pos_firt_var[1].split(\"&\");\n    for (var i = 0; i < pos_all_vars.length; i++) {\n      var pos_pair = pos_all_vars[i].split(\"=\");\n      var pos_key = decodeURIComponent(pos_pair[0]);\n      var pos_value = decodeURIComponent(pos_pair[1]);\n      if (pos_key == \"rid\")\n        position = pos_value;      \n    }\n  \n    if(URL)\n    {\n    \tvar docN = URL.match('.*?uri=([^\\&]*)');\n    \tvar CELEX= docN[1].match('.*:(.*)');\n    } else if (URLdate) {\n       \tvar docN = URLdate.match('.*?uri=([^\\&]*).+?qid');\n    \tvar CELEX= docN[1].match('.*:(.*)');\n    }\n    if(CELEX){\n  \t\tvar docID = CELEX[1];\n    }\n    var pageURL = {{ Page Url }};//\n    var pageNumber;\n  \n// Get URL parameters (compatible with IE). Start\n   var var1 = pageURL.split(\"?\");\n   var vars = var1[1].split(\"&\");\n   var query_string = {};\n   for (var i = 0; i < vars.length; i++) {\n   \tvar pair = vars[i].split(\"=\");\n    var key = decodeURIComponent(pair[0]);\n    var value = decodeURIComponent(pair[1]);\n    if (typeof query_string[key] === \"undefined\") {\n      query_string[key] = decodeURIComponent(value);\n    } else if (typeof query_string[key] === \"string\") {\n      var arr = [query_string[key], decodeURIComponent(value)];\n      query_string[key] = arr;\n    } else {\n      query_string[key].push(decodeURIComponent(value));\n    }\n   }\n// End. \n  \n// Obtain data from URL parameter\n   var page = query_string.page;\n   var type = query_string.type;\n   var lang = query_string.lang;\n   var scope = query_string.scope;\n   var subdomInit = query_string.SUBDOM_INIT;\n   var statType = query_string.statType;\n   var isEcbCourtSearch = query_string.isEcbCourtSearch;\n   var text = '';\n   if (query_string.text)\n   {\n  \t text = (query_string.text);\n   } \n   if (query_string.andText0)\n   {\n     if (text != '') \n     {\n       \t text += ' | ';\n     }\n      text +=  (query_string.andText0);\n   } \n   if (query_string.andText1)\n   {\n     if (text != '') \n     {\n       \t text += ' | ';\n     }\n \t\ttext += (query_string.andText1);\n   } \n   if (text == '')\n   {\n       text = 'No data';\n   }\n  \n  //Search Type - Scope\n  if (scope == 'ECB_ACTS' && type == 'quick')\n  {\n    type = 'ECB quick search';\n    scope = 'ECB corner'\n  }\n  if (subdomInit == 'ECB_ACTS' && type == 'advanced' && !isEcbCourtSearch)\n  {\n    type = 'ECB Browse by topic';\n    scope = 'ECB corner'\n  }\n  if (statType == 'ECB')\n  {\n    type = 'ECB Visual navigation';\n    scope = 'ECB corner'\n  }\n  if (isEcbCourtSearch == 'false' && subdomInit == 'ECB_ACTS' && type == 'advanced')\n  {\n    type = 'ECB Find a document';\n    scope = 'ECB corner'\n  }\n  if (isEcbCourtSearch == 'true' && subdomInit == 'ECB_ACTS' && type == 'advanced')\n  {\n    type = 'ECB Find a Court case';\n    scope = 'ECB corner'\n  }\n  if (isEcbCourtSearch == 'null' && subdomInit == 'ECB_ACTS' && type == 'advanced')\n  {\n    type = 'ECB Advanced search';\n    scope = 'ECB corner'\n  }\n  if (scope == 'EURLEX' && type == 'quick')\n  {\n    type = 'Quick search';\n    scope = 'EUR-Lex'\n  }\n  if (type == 'advanced' && subdomInit != 'ECB_ACTS')\n  {\n    type = 'Advanced search';\n    scope = 'EUR-Lex'\n  }    \n  if (type == 'expert')\n  {\n    type = 'Expert search';\n    scope = 'EUR-Lex'\n  }    \n  \n  //console.log('Search Type - scope: ' + type + '- ' + scope);\n \n   if (page) {\n      pageNumber = page;\n    } else {\n      pageNumber = '1';\n    }\n//Create dataLayer event\n  dataLayer.push({\n        event: \"OP.serpClick\",\n        event_type: \"PUB_Link\",\n        documentID:  docID, \n        searchPage: pageNumber, \n        searchType: type, \n        searchLang: lang,\n        searchKeyword: text,\n        scope: scope,\n    \tposition: position,\n      });\n\t\n</script>\n","consentType":"not_require_consent","template":"custom_tag","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":true,"triggers":[{"id":"3c91bc00-5ac4-4929-832a-aa997198a82d","type":"click","relation":"588555d2-2da1-47c8-8e06-8d5d51007a17_3c91bc00-5ac4-4929-832a-aa997198a82d","name":"Click on SERP - Publication Link","conditions":[{"id":"3c91bc00-5ac4-4929-832a-aa997198a82d","relation":"588555d2-2da1-47c8-8e06-8d5d51007a17_3c91bc00-5ac4-4929-832a-aa997198a82d_3c91bc00-5ac4-4929-832a-aa997198a82d","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"e26f4c3c-0c74-42e0-a3e4-00748d18da67","relation":"588555d2-2da1-47c8-8e06-8d5d51007a17_3c91bc00-5ac4-4929-832a-aa997198a82d_e26f4c3c-0c74-42e0-a3e4-00748d18da67","variable":"899b0b6a-4445-4851-a519-272baf5fdfcb","action":"contains","value":"Search results","options":[]},{"id":"e1143c1f-ef9b-4043-bd63-b58169455580","relation":"588555d2-2da1-47c8-8e06-8d5d51007a17_3c91bc00-5ac4-4929-832a-aa997198a82d_e1143c1f-ef9b-4043-bd63-b58169455580","variable":"67ed6060-eace-4370-8ede-a083f7c909f1","action":"contains","value":"/search.html?","options":[]},{"id":"93dc7c8f-9b90-42ea-a26a-36ce19eeab8a","relation":"588555d2-2da1-47c8-8e06-8d5d51007a17_3c91bc00-5ac4-4929-832a-aa997198a82d_93dc7c8f-9b90-42ea-a26a-36ce19eeab8a","variable":"efc09356-e1f2-40f7-8a0a-4c454429e678","action":"does_not_contain","value":"piwik_download","options":[]},{"id":"5df6ccc3-2312-43e8-bae0-08df28bd4533","relation":"588555d2-2da1-47c8-8e06-8d5d51007a17_3c91bc00-5ac4-4929-832a-aa997198a82d_5df6ccc3-2312-43e8-bae0-08df28bd4533","variable":"efd3558a-714d-4b33-9edd-2bbeb0b5eaf7","action":"contains","value":"/legal-content/","options":[]},{"id":"46173bb1-7e01-4d40-a1cb-3fdb07d633ef","relation":"588555d2-2da1-47c8-8e06-8d5d51007a17_3c91bc00-5ac4-4929-832a-aa997198a82d_46173bb1-7e01-4d40-a1cb-3fdb07d633ef","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]}]}],"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["3c91bc00-5ac4-4929-832a-aa997198a82d"]},{"id":"d71f95d5-bbfd-42f6-a781-03630b52de8e","name":"Click on download e-Signature","code":"<script type=\"text/javascript\">\n    var _paq = _paq || [];\n    var clicked_download = {{ Click Element }};\n    _paq.push([\"trackLink\",{{ Click Url }},\"download\"]);\n</script>\n","consentType":"not_require_consent","template":"custom_tag","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":true,"triggers":[{"id":"046ef384-c7b8-4325-ad16-36cc092fc4b1","type":"click","relation":"d71f95d5-bbfd-42f6-a781-03630b52de8e_046ef384-c7b8-4325-ad16-36cc092fc4b1","name":"Download e-Signature","conditions":[{"id":"046ef384-c7b8-4325-ad16-36cc092fc4b1","relation":"d71f95d5-bbfd-42f6-a781-03630b52de8e_046ef384-c7b8-4325-ad16-36cc092fc4b1_046ef384-c7b8-4325-ad16-36cc092fc4b1","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"c3024ed2-b6bf-44d5-943a-58e3f975bd73","relation":"d71f95d5-bbfd-42f6-a781-03630b52de8e_046ef384-c7b8-4325-ad16-36cc092fc4b1_c3024ed2-b6bf-44d5-943a-58e3f975bd73","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"c5804f07-e3a3-404f-a852-d250a353d165","relation":"d71f95d5-bbfd-42f6-a781-03630b52de8e_046ef384-c7b8-4325-ad16-36cc092fc4b1_c5804f07-e3a3-404f-a852-d250a353d165","variable":"f39468e9-ae2d-4e58-9e2c-73a4d44add6f","action":"contains","value":"_digital_sign_","options":[]}]}],"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["046ef384-c7b8-4325-ad16-36cc092fc4b1"]},{"id":"7e203b74-73ab-430e-828e-131fd84fc347","name":"cckv2_clicks","code":"<script type=\"text/javascript\">\n\tvar _paq = _paq || [];\n    var clicked_consent = {{ Click Classes }};\n\tif (clicked_consent.includes(\"ea_ignore\")){\n   \t\t_paq.push(['trackEvent', \"Consent\", \"CCKv2\", \"essential\"]);\n    }else{\n      \t_paq.push(['trackEvent', \"Consent\", \"CCKv2\", \"all\"]);\n    }\n</script>","consentType":"not_require_consent","template":"custom_tag","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":true,"triggers":[{"id":"42230039-55ff-4d44-8e95-c2dd233d3082","type":"click","relation":"7e203b74-73ab-430e-828e-131fd84fc347_42230039-55ff-4d44-8e95-c2dd233d3082","name":"cck1 consent banner -  click (all/only essentials)","conditions":[{"id":"42230039-55ff-4d44-8e95-c2dd233d3082","relation":"7e203b74-73ab-430e-828e-131fd84fc347_42230039-55ff-4d44-8e95-c2dd233d3082_42230039-55ff-4d44-8e95-c2dd233d3082","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"f99d29d6-f5cf-4727-af82-b3e3e10615ea","relation":"7e203b74-73ab-430e-828e-131fd84fc347_42230039-55ff-4d44-8e95-c2dd233d3082_f99d29d6-f5cf-4727-af82-b3e3e10615ea","variable":"efc09356-e1f2-40f7-8a0a-4c454429e678","action":"contains","value":"cck-actions-button","options":[]}]}],"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["42230039-55ff-4d44-8e95-c2dd233d3082"]},{"id":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81","name":"EuroVoc Usage","code":"<script type=\"text/javascript\">\n    var _paq = _paq || [];\n    var clicked_button = {{ Click Element }};\n    var title = clicked_button.getAttribute(\"title\");\n    var id = clicked_button.getAttribute(\"id\");\n    var clas = clicked_button.getAttribute(\"class\");\n    var url = clicked_button.getAttribute(\"href\");\n    var locationEuroVoc;\n    var term;\n    var category;\n    var button_title;\n\n  //HomePage\n  if (clas == 'gotoResultLink')\n  {\n    var urlTextHome = clicked_button.parentNode.innerText;\n    console.log ('urlTextHome: ' + urlTextHome);\n    term = urlTextHome.substring(0, urlTextHome.indexOf('search'));\n    locationEuroVoc = 'Homepage/ Browse by';\n    console.log('Location: ' + locationEuroVoc);\n    console.log('EuroVoc Term: ' + term);\n  }\n  \n  //Advanced search\n  if (id == 'topSearch')\n  {\n    var eurovocBrowse = document.getElementById('eurovocBrowse').value;\n\tvar term2 = eurovocBrowse.match(/\"(.*?)\"/)[1];\n   if (eurovocBrowse)\n    {\n      locationEuroVoc = 'Advanced search/Theme';\n      term = term2;\n      console.log('Location: Advanced search/Theme');\n      console.log('EuroVoc Term: ' + term);\n    }\n  }\n  \n  //Document information\n  if (url)\n  {\n  \t if (url.indexOf('DC_CODED') !== -1 && !id && !clas)\n   \t {\n       var urlTextDocumentInformation = clicked_button.children[0].innerText;\n       locationEuroVoc = 'Document information page/classification';\n       term = urlTextDocumentInformation;\n       console.log('Document information page/classification');\n       console.log('EuroVoc Term: ' + urlTextDocumentInformation);\n     }\n   }\n\n  //Facets\n  if (title)\n  {\n  \tif (title.indexOf('EuroVoc thesaurus term:') !==-1)\n\t  {\n  \t  locationEuroVoc = 'Facet';\n      var text = clicked_button.innerHTML.substr(0, clicked_button.innerHTML.indexOf('<'));\n  \t  term = title + '-' + text;\n\n  \t  console.log('Location: Facet');\n   \t  console.log('EuroVoc Term: ' + term);\n      }\n  }\n\nif (location && term)\n{\n    _paq.push(['trackEvent', 'EuroVoc usage', locationEuroVoc , term]);\n}\n\n  \n</script>","consentType":"not_require_consent","template":"custom_tag","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":true,"triggers":[{"id":"e5a2cda8-7929-4da8-b015-e69df6f51477","type":"click","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_e5a2cda8-7929-4da8-b015-e69df6f51477","name":"EuroVoc - Document Information","conditions":[{"id":"e5a2cda8-7929-4da8-b015-e69df6f51477","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_e5a2cda8-7929-4da8-b015-e69df6f51477_e5a2cda8-7929-4da8-b015-e69df6f51477","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"3338efb8-e8ee-4ea7-b0d8-b5019cc25609","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_e5a2cda8-7929-4da8-b015-e69df6f51477_3338efb8-e8ee-4ea7-b0d8-b5019cc25609","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"d00738a9-aaf9-4fcb-b101-49c7f134bacf","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_e5a2cda8-7929-4da8-b015-e69df6f51477_d00738a9-aaf9-4fcb-b101-49c7f134bacf","variable":"efd3558a-714d-4b33-9edd-2bbeb0b5eaf7","action":"contains","value":"DC_CODED=","options":[]},{"id":"29aa422e-115f-4fa9-ad7b-a9386b669341","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_e5a2cda8-7929-4da8-b015-e69df6f51477_29aa422e-115f-4fa9-ad7b-a9386b669341","variable":"899b0b6a-4445-4851-a519-272baf5fdfcb","action":"contains","value":"Notices","options":[]},{"id":"548bb9b0-b45c-4a6e-8852-d101c8bcb720","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_e5a2cda8-7929-4da8-b015-e69df6f51477_548bb9b0-b45c-4a6e-8852-d101c8bcb720","variable":"ef4067d2-9ad2-4c98-b327-2df077c458c0","action":"contains","value":"Legal content view","options":[]}]},{"id":"432af1b1-fb9a-4cc7-8d95-a472ef9a9a3e","type":"click","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_432af1b1-fb9a-4cc7-8d95-a472ef9a9a3e","name":"EuroVoc - Advanced Search","conditions":[{"id":"432af1b1-fb9a-4cc7-8d95-a472ef9a9a3e","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_432af1b1-fb9a-4cc7-8d95-a472ef9a9a3e_432af1b1-fb9a-4cc7-8d95-a472ef9a9a3e","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"f1a571d4-72eb-4d8e-9a2a-de7205fc26ab","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_432af1b1-fb9a-4cc7-8d95-a472ef9a9a3e_f1a571d4-72eb-4d8e-9a2a-de7205fc26ab","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"447e96bd-9241-4583-be91-45c5e51bfed9","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_432af1b1-fb9a-4cc7-8d95-a472ef9a9a3e_447e96bd-9241-4583-be91-45c5e51bfed9","variable":"899b0b6a-4445-4851-a519-272baf5fdfcb","action":"contains","value":"Advanced search form","options":[]},{"id":"6ff38c02-d381-4886-8304-fda582afc341","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_432af1b1-fb9a-4cc7-8d95-a472ef9a9a3e_6ff38c02-d381-4886-8304-fda582afc341","variable":"ef4067d2-9ad2-4c98-b327-2df077c458c0","action":"contains","value":"Search","options":[]},{"id":"a8de921b-7d95-4d63-9e54-6f0805138f58","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_432af1b1-fb9a-4cc7-8d95-a472ef9a9a3e_a8de921b-7d95-4d63-9e54-6f0805138f58","variable":"f39468e9-ae2d-4e58-9e2c-73a4d44add6f","action":"contains","value":"topSearch","options":[]}]},{"id":"14334dce-f519-478f-a65f-59ceb76566a6","type":"click","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_14334dce-f519-478f-a65f-59ceb76566a6","name":"EuroVoc Facet - level 4","conditions":[{"id":"14334dce-f519-478f-a65f-59ceb76566a6","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_14334dce-f519-478f-a65f-59ceb76566a6_14334dce-f519-478f-a65f-59ceb76566a6","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"d6b7e5e7-af22-43d0-90fc-ff74b29a7ca7","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_14334dce-f519-478f-a65f-59ceb76566a6_d6b7e5e7-af22-43d0-90fc-ff74b29a7ca7","variable":"f39468e9-ae2d-4e58-9e2c-73a4d44add6f","action":"contains","value":"DC_CODED_","options":[]},{"id":"e5e5d9b9-8d22-447b-918e-519ea1a5f7e3","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_14334dce-f519-478f-a65f-59ceb76566a6_e5e5d9b9-8d22-447b-918e-519ea1a5f7e3","variable":"ef4067d2-9ad2-4c98-b327-2df077c458c0","action":"contains","value":"Search","options":[]},{"id":"51209378-b8ac-4818-a1e5-da9078159eec","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_14334dce-f519-478f-a65f-59ceb76566a6_51209378-b8ac-4818-a1e5-da9078159eec","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]}]},{"id":"58b6872f-d1f9-4512-aed0-f35f28067a8c","type":"click","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_58b6872f-d1f9-4512-aed0-f35f28067a8c","name":"EuroVoc Facet - level 3","conditions":[{"id":"58b6872f-d1f9-4512-aed0-f35f28067a8c","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_58b6872f-d1f9-4512-aed0-f35f28067a8c_58b6872f-d1f9-4512-aed0-f35f28067a8c","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"cf89279c-3b36-4b4a-b8cb-5a833c4cf651","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_58b6872f-d1f9-4512-aed0-f35f28067a8c_cf89279c-3b36-4b4a-b8cb-5a833c4cf651","variable":"f39468e9-ae2d-4e58-9e2c-73a4d44add6f","action":"contains","value":"DC_TT_CODED_","options":[]},{"id":"b9d735cf-114d-4c10-b44c-a63c053d35b8","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_58b6872f-d1f9-4512-aed0-f35f28067a8c_b9d735cf-114d-4c10-b44c-a63c053d35b8","variable":"ef4067d2-9ad2-4c98-b327-2df077c458c0","action":"contains","value":"Search","options":[]},{"id":"298a46a5-e940-4b09-af38-e239239ee854","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_58b6872f-d1f9-4512-aed0-f35f28067a8c_298a46a5-e940-4b09-af38-e239239ee854","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]}]},{"id":"ed2355b0-66e3-47a1-a1d6-363421e7e382","type":"click","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_ed2355b0-66e3-47a1-a1d6-363421e7e382","name":"EuroVoc - Homepage","conditions":[{"id":"ed2355b0-66e3-47a1-a1d6-363421e7e382","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_ed2355b0-66e3-47a1-a1d6-363421e7e382_ed2355b0-66e3-47a1-a1d6-363421e7e382","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"b87d5cc2-3eb0-4587-b5cf-13597538dce1","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_ed2355b0-66e3-47a1-a1d6-363421e7e382_b87d5cc2-3eb0-4587-b5cf-13597538dce1","variable":"efc09356-e1f2-40f7-8a0a-4c454429e678","action":"contains","value":"gotoResultLink","options":[]},{"id":"0af6f7de-e8a1-46f3-aad1-5d974eccb547","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_ed2355b0-66e3-47a1-a1d6-363421e7e382_0af6f7de-e8a1-46f3-aad1-5d974eccb547","variable":"ef4067d2-9ad2-4c98-b327-2df077c458c0","action":"contains","value":"EuroVoc","options":[]},{"id":"43ca2489-96f3-43f8-91ed-f50df6217a71","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_ed2355b0-66e3-47a1-a1d6-363421e7e382_43ca2489-96f3-43f8-91ed-f50df6217a71","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]}]}],"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["e5a2cda8-7929-4da8-b015-e69df6f51477","432af1b1-fb9a-4cc7-8d95-a472ef9a9a3e","14334dce-f519-478f-a65f-59ceb76566a6","58b6872f-d1f9-4512-aed0-f35f28067a8c","ed2355b0-66e3-47a1-a1d6-363421e7e382"]},{"id":"02508ae9-4524-4d99-9334-bc41d0fb3086","name":"Click on SERP - Publication download PDF","code":"<script type=\"text/javascript\">\n    var _paq = _paq || [];\n    var clicked_button = {{ Click Element }};\n    var title = clicked_button.getAttribute(\"title\");\n    var CELEX = title.match('.*CELEX:([^\\/]*)');\n    if(CELEX){\n  \t\tvar docID = CELEX[1];\n    }\n    var pageURL = {{ Page Url }};//\n    var pageNumber;\n  \n    var user_agent = window.navigator.userAgent;\n    var is_IE = false;\n  \tif ((user_agent.indexOf(\"Trident\") != -1) || (user_agent.indexOf(\"MSIE\")))\n        is_IE = true;\n    \n    if (is_IE){\n      // get position by parent element\n      var position_html = clicked_button.parentElement.parentElement.parentElement.parentElement.parentElement.getAttribute(\"id\");      \n    }else{\n      // get position by class\n      var position_html =  clicked_button.closest('.SearchResultData').getAttribute(\"id\");\n    }  \n    var position_array = position_html.split(\"_\");\n    var position = position_array[1];\n  \n// Get URL parameters (compatible with IE). Start\n   var vars = pageURL.split(\"&\");\n   var query_string = {};\n   for (var i = 0; i < vars.length; i++) {\n   \tvar pair = vars[i].split(\"=\");\n    var key = decodeURIComponent(pair[0]);\n    var value = decodeURIComponent(pair[1]);\n    if (typeof query_string[key] === \"undefined\") {\n      query_string[key] = decodeURIComponent(value);\n    } else if (typeof query_string[key] === \"string\") {\n      var arr = [query_string[key], decodeURIComponent(value)];\n      query_string[key] = arr;\n    } else {\n      query_string[key].push(decodeURIComponent(value));\n    }\n   }\n// End. \n  \n// Obtain data from URL parameter\n   var page = query_string.page;\n   var type = query_string.type;\n   var lang = query_string.lang;\n   var text = '';\n   if (query_string.text)\n   {\n  \t text = (query_string.text);\n   } \n   if (query_string.andText0)\n   {\n     if (text != '') \n     {\n       \t text += ' | ';\n     }\n      text +=  (query_string.andText0);\n   } \n   if (query_string.andText1)\n   {\n     if (text != '') \n     {\n       \t text += ' | ';\n     }\n \t\ttext += (query_string.andText1);\n   } \n   if (text == '')\n   {\n       text = 'No data';\n   }\n  \n   if (page) {\n    pageNumber = page;\n   } else {\n     pageNumber = '1';\n   }\n  \n  \n//Create dataLayer event\n  dataLayer.push({\n        event: \"OP.serpClick\",\n        event_type: \"PUB_PDF\",\n        documentID:  docID, \n        searchPage: pageNumber, \n        searchType: type, \n        searchLang: lang,\n        searchKeyword: text,\n        position: position,\n      });\n\n</script>\n","consentType":"not_require_consent","template":"custom_tag","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":true,"triggers":[{"id":"296534d1-6111-4b50-9b04-824bc81a9941","type":"click","relation":"02508ae9-4524-4d99-9334-bc41d0fb3086_296534d1-6111-4b50-9b04-824bc81a9941","name":"Click on SERP - PDF Download","conditions":[{"id":"296534d1-6111-4b50-9b04-824bc81a9941","relation":"02508ae9-4524-4d99-9334-bc41d0fb3086_296534d1-6111-4b50-9b04-824bc81a9941_296534d1-6111-4b50-9b04-824bc81a9941","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"781460a5-7e74-4531-bbf0-a197a7eb0568","relation":"02508ae9-4524-4d99-9334-bc41d0fb3086_296534d1-6111-4b50-9b04-824bc81a9941_781460a5-7e74-4531-bbf0-a197a7eb0568","variable":"efd3558a-714d-4b33-9edd-2bbeb0b5eaf7","action":"contains","value":"/PDF/","options":[]},{"id":"6f9dc9c8-0e4f-4cbf-aa9d-71bc09e0df20","relation":"02508ae9-4524-4d99-9334-bc41d0fb3086_296534d1-6111-4b50-9b04-824bc81a9941_6f9dc9c8-0e4f-4cbf-aa9d-71bc09e0df20","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"729721ed-da78-4bdc-ab5c-b9e59019e46a","relation":"02508ae9-4524-4d99-9334-bc41d0fb3086_296534d1-6111-4b50-9b04-824bc81a9941_729721ed-da78-4bdc-ab5c-b9e59019e46a","variable":"efc09356-e1f2-40f7-8a0a-4c454429e678","action":"equals","value":"piwik_download","options":[]},{"id":"f7c6350f-abc5-443a-b4f7-c91f300f5cec","relation":"02508ae9-4524-4d99-9334-bc41d0fb3086_296534d1-6111-4b50-9b04-824bc81a9941_f7c6350f-abc5-443a-b4f7-c91f300f5cec","variable":"899b0b6a-4445-4851-a519-272baf5fdfcb","action":"contains","value":"Search results","options":[]}]}],"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["296534d1-6111-4b50-9b04-824bc81a9941"]},{"id":"0d6e1d70-4bb6-4c49-9370-141303ac0b8f","name":"Click on SERP - Publication Link - Right and middle mouse button","code":"<script>\n  window.addEventListener('mousedown', e => {\n    if (e.button === 0) return;\n    if (!e){\n        var e = window.event;\n    }\n    if (e.target){\n        var clickedElement = e.target;\n    }\n    if (clickedElement.tagName === \"A\"){\n\tvar _paq = _paq || [];\n    var button_title = 'Click on SERP';\n    var URL = clickedElement.getAttribute(\"name\");\n    var cellar = clickedElement.getAttribute(\"id\");\n      var URLdate = clickedElement.getAttribute(\"href\");\n    var CELEX = URL.match('.*?uri=CELEX:([^\\/]*)');\n    if(CELEX){\n  \t\tvar docID = CELEX[1];\n    }\n    var pageURL = {{ Page Url }};//\n    var pageNumber;\n    \n    // Get rid parameter (compatible with IE). Start\n    var pos_firt_var = URLdate.split(\"?\");\n    var pos_all_vars = pos_firt_var[1].split(\"&\");\n    for (var i = 0; i < pos_all_vars.length; i++) {\n      var pos_pair = pos_all_vars[i].split(\"=\");\n      var pos_key = decodeURIComponent(pos_pair[0]);\n      var pos_value = decodeURIComponent(pos_pair[1]);\n      if (pos_key == \"rid\")\n        position = pos_value;      \n    }\n  \n// Get URL parameters (compatible with IE). Start\n   var vars = pageURL.split(\"&\");\n   var query_string = {};\n   for (var i = 0; i < vars.length; i++) {\n   \tvar pair = vars[i].split(\"=\");\n    var key = decodeURIComponent(pair[0]);\n    var value = decodeURIComponent(pair[1]);\n    if (typeof query_string[key] === \"undefined\") {\n      query_string[key] = decodeURIComponent(value);\n    } else if (typeof query_string[key] === \"string\") {\n      var arr = [query_string[key], decodeURIComponent(value)];\n      query_string[key] = arr;\n    } else {\n      query_string[key].push(decodeURIComponent(value));\n    }\n   }\n// End. \n  \n// Obtain data from URL parameter\n   var page = query_string.page;\n   var type = query_string.type;\n   var lang = query_string.lang;\n   var text = '';\n   if (query_string.text)\n   {\n  \t text = (query_string.text);\n   } \n   if (query_string.andText0)\n   {\n     if (text != '') \n     {\n       \t text += ' | ';\n     }\n      text +=  (query_string.andText0);\n   } \n   if (query_string.andText1)\n   {\n     if (text != '') \n     {\n       \t text += ' | ';\n     }\n \t\ttext += (query_string.andText1);\n   } \n   if (text == '')\n   {\n       text = 'No data';\n   }\n  \n  \n   if (page) {\n    pageNumber = page;\n   } else {\n     pageNumber = '1';\n   }\n  if (e.button == 1)\n    var eventText = \"OP.serpClickMiddleButton\"\n  else var eventText = \"OP.serpClickRightButton\"\n \n//Create dataLayer event\n  dataLayer.push({\n        event: eventText,\n        event_type: \"PUB_Link\",\n        documentID:  docID, \n        searchPage: pageNumber, \n        searchType: type, \n        searchLang: lang,\n        searchKeyword: text,\n    \tposition: position,\n      });\n\t\n\t\n}});\n</script>","consentType":"not_require_consent","template":"custom_tag","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":true,"triggers":[{"id":"afb85a04-e4f9-446b-8e39-2ddf682d1bd7","type":"event","relation":"0d6e1d70-4bb6-4c49-9370-141303ac0b8f_afb85a04-e4f9-446b-8e39-2ddf682d1bd7","name":"SERP pages","conditions":[{"id":"da320ce8-00fc-44ec-b9e7-a54626c01946","relation":"0d6e1d70-4bb6-4c49-9370-141303ac0b8f_afb85a04-e4f9-446b-8e39-2ddf682d1bd7_da320ce8-00fc-44ec-b9e7-a54626c01946","variable":"899b0b6a-4445-4851-a519-272baf5fdfcb","action":"contains","value":"Search results","options":[]},{"id":"7b4da87c-4426-4554-b0dd-320a3f174102","relation":"0d6e1d70-4bb6-4c49-9370-141303ac0b8f_afb85a04-e4f9-446b-8e39-2ddf682d1bd7_7b4da87c-4426-4554-b0dd-320a3f174102","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"75c045ee-944b-461b-bed1-80798faa8d9e","relation":"0d6e1d70-4bb6-4c49-9370-141303ac0b8f_afb85a04-e4f9-446b-8e39-2ddf682d1bd7_75c045ee-944b-461b-bed1-80798faa8d9e","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"optedOut","options":[]}]}],"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["afb85a04-e4f9-446b-8e39-2ddf682d1bd7"]},{"id":"06140e86-a692-4836-a010-46c895717853","name":"Event - Broken Link External","code":"        <script type=\"text/javascript\">\n    var _paq = _paq || [];\n\n        _paq.push(['trackEvent', 'Broken Link External', {{ Document - Referrer }}, {{ Page Url }}]);\n</script>\n","consentType":"not_require_consent","template":"piwik_event","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":true,"triggers":[{"id":"a825d8b2-1848-4403-928f-3f1122b1184f","type":"event","relation":"06140e86-a692-4836-a010-46c895717853_a825d8b2-1848-4403-928f-3f1122b1184f","name":"Broken Link External (part 3)","conditions":[{"id":"b8afeaa2-717e-4995-b837-c5ffc7745fb9","relation":"06140e86-a692-4836-a010-46c895717853_a825d8b2-1848-4403-928f-3f1122b1184f_b8afeaa2-717e-4995-b837-c5ffc7745fb9","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"optedOut","options":[]},{"id":"13aabc5c-8962-4b2f-9b13-1eee87e57505","relation":"06140e86-a692-4836-a010-46c895717853_a825d8b2-1848-4403-928f-3f1122b1184f_13aabc5c-8962-4b2f-9b13-1eee87e57505","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"f84cf40b-7a81-455e-b9f5-64cede75502d","relation":"06140e86-a692-4836-a010-46c895717853_a825d8b2-1848-4403-928f-3f1122b1184f_f84cf40b-7a81-455e-b9f5-64cede75502d","variable":"51f329ab-6883-4727-951f-5b600993bf7c","action":"does_not_contain","value":"eur-lex.europa.eu","options":[]},{"id":"3bf99991-a4f2-4a20-876c-698e6097edbf","relation":"06140e86-a692-4836-a010-46c895717853_a825d8b2-1848-4403-928f-3f1122b1184f_3bf99991-a4f2-4a20-876c-698e6097edbf","variable":"1c7ab51f-638b-4b4e-a21c-b3875f1f4e1d","action":"regexp","value":"Strani ni mogoe najti|Sivua ei lydy|Sidan hittades inte","options":[]}]},{"id":"a74a21fd-dd57-48d3-8d29-ac82dc5b2040","type":"event","relation":"06140e86-a692-4836-a010-46c895717853_a74a21fd-dd57-48d3-8d29-ac82dc5b2040","name":"Broken Link External (part 1)","conditions":[{"id":"e0b99bc9-50e2-4a31-bb95-4770bab3149e","relation":"06140e86-a692-4836-a010-46c895717853_a74a21fd-dd57-48d3-8d29-ac82dc5b2040_e0b99bc9-50e2-4a31-bb95-4770bab3149e","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"93986404-24ec-4d46-a6e8-5fb57698a1a1","relation":"06140e86-a692-4836-a010-46c895717853_a74a21fd-dd57-48d3-8d29-ac82dc5b2040_93986404-24ec-4d46-a6e8-5fb57698a1a1","variable":"1c7ab51f-638b-4b4e-a21c-b3875f1f4e1d","action":"regexp","value":"   |Pgina no encontrada|Strnka nenalezena|Siden ikke fundet|Seite nicht gefunden|Leheklge ei leitud|   |Page Not Found|Page introuvable|Nor aimsodh an leathanach|Stranica nije pronaena|Pagina non trovata","options":[]},{"id":"36064e04-262e-437b-a94e-d05208d887ab","relation":"06140e86-a692-4836-a010-46c895717853_a74a21fd-dd57-48d3-8d29-ac82dc5b2040_36064e04-262e-437b-a94e-d05208d887ab","variable":"51f329ab-6883-4727-951f-5b600993bf7c","action":"does_not_contain","value":"eur-lex.europa.eu","options":[]},{"id":"c29480cf-f75c-4e87-ada8-d93d2c53c58e","relation":"06140e86-a692-4836-a010-46c895717853_a74a21fd-dd57-48d3-8d29-ac82dc5b2040_c29480cf-f75c-4e87-ada8-d93d2c53c58e","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"optedOut","options":[]}]},{"id":"2c62442b-dd2c-4fb0-b34c-70eef2d9a4d6","type":"event","relation":"06140e86-a692-4836-a010-46c895717853_2c62442b-dd2c-4fb0-b34c-70eef2d9a4d6","name":"Broken Link External (part 2)","conditions":[{"id":"6ca54be8-92ca-44d6-9ab0-f00dbf892d55","relation":"06140e86-a692-4836-a010-46c895717853_2c62442b-dd2c-4fb0-b34c-70eef2d9a4d6_6ca54be8-92ca-44d6-9ab0-f00dbf892d55","variable":"1c7ab51f-638b-4b4e-a21c-b3875f1f4e1d","action":"regexp","value":"Lappuse nav atrasta|Puslapis nerastas|Nem tallhat az oldal|Il-pana ma nstabitx|Pagina niet gevonden|Strona nie zostaa znaleziona|Pgina no encontrada|Pagina nu a fost gsit|Strnka nebola njden","options":[]},{"id":"52aeee35-ec4f-4034-89b9-8ccb3162075b","relation":"06140e86-a692-4836-a010-46c895717853_2c62442b-dd2c-4fb0-b34c-70eef2d9a4d6_52aeee35-ec4f-4034-89b9-8ccb3162075b","variable":"51f329ab-6883-4727-951f-5b600993bf7c","action":"does_not_contain","value":"eur-lex.europa.eu","options":[]},{"id":"46faccb8-e07a-409f-a24a-f7499e830858","relation":"06140e86-a692-4836-a010-46c895717853_2c62442b-dd2c-4fb0-b34c-70eef2d9a4d6_46faccb8-e07a-409f-a24a-f7499e830858","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"1af434f4-dc35-41d0-b4ae-4f6b611b9b12","relation":"06140e86-a692-4836-a010-46c895717853_2c62442b-dd2c-4fb0-b34c-70eef2d9a4d6_1af434f4-dc35-41d0-b4ae-4f6b611b9b12","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"optedOut","options":[]}]}],"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["a825d8b2-1848-4403-928f-3f1122b1184f","a74a21fd-dd57-48d3-8d29-ac82dc5b2040","2c62442b-dd2c-4fb0-b34c-70eef2d9a4d6"]},{"id":"c92c2afc-b6da-4f0c-9520-b5bdb0b19086","name":"Event - Broken Link Internal","code":"        <script type=\"text/javascript\">\n    var _paq = _paq || [];\n\n        _paq.push(['trackEvent', 'Broken Link Internal', {{ Document - Referrer }}, {{ Page Url }}]);\n</script>\n","consentType":"not_require_consent","template":"piwik_event","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":true,"triggers":[{"id":"a5bab6c4-6d19-4c1d-a93c-a63cb7231b53","type":"event","relation":"c92c2afc-b6da-4f0c-9520-b5bdb0b19086_a5bab6c4-6d19-4c1d-a93c-a63cb7231b53","name":"Broken Link Internal (part 3)","conditions":[{"id":"c680e400-b3c9-4867-ad8c-767dd793dbb4","relation":"c92c2afc-b6da-4f0c-9520-b5bdb0b19086_a5bab6c4-6d19-4c1d-a93c-a63cb7231b53_c680e400-b3c9-4867-ad8c-767dd793dbb4","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"ba389096-af3d-421a-97b3-b4bc26eeeca3","relation":"c92c2afc-b6da-4f0c-9520-b5bdb0b19086_a5bab6c4-6d19-4c1d-a93c-a63cb7231b53_ba389096-af3d-421a-97b3-b4bc26eeeca3","variable":"1c7ab51f-638b-4b4e-a21c-b3875f1f4e1d","action":"regexp","value":"Strani ni mogoe najti|Sivua ei lydy|Sidan hittades inte","options":[]},{"id":"01d48589-caa7-465a-afa4-b564dde36814","relation":"c92c2afc-b6da-4f0c-9520-b5bdb0b19086_a5bab6c4-6d19-4c1d-a93c-a63cb7231b53_01d48589-caa7-465a-afa4-b564dde36814","variable":"51f329ab-6883-4727-951f-5b600993bf7c","action":"contains","value":"eur-lex.europa.eu","options":[]},{"id":"407b3577-7dc1-4a38-9caf-e92695e59546","relation":"c92c2afc-b6da-4f0c-9520-b5bdb0b19086_a5bab6c4-6d19-4c1d-a93c-a63cb7231b53_407b3577-7dc1-4a38-9caf-e92695e59546","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"optedOut","options":[]}]},{"id":"2abd7056-1084-4270-9d08-540f78f2934e","type":"event","relation":"c92c2afc-b6da-4f0c-9520-b5bdb0b19086_2abd7056-1084-4270-9d08-540f78f2934e","name":"Broken Link Internal (part 1)","conditions":[{"id":"4e105d35-8781-4dac-a50a-1dae4c4c766b","relation":"c92c2afc-b6da-4f0c-9520-b5bdb0b19086_2abd7056-1084-4270-9d08-540f78f2934e_4e105d35-8781-4dac-a50a-1dae4c4c766b","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"optedOut","options":[]},{"id":"9d610637-a0a2-4ed6-9382-c0c9c19c04b2","relation":"c92c2afc-b6da-4f0c-9520-b5bdb0b19086_2abd7056-1084-4270-9d08-540f78f2934e_9d610637-a0a2-4ed6-9382-c0c9c19c04b2","variable":"1c7ab51f-638b-4b4e-a21c-b3875f1f4e1d","action":"regexp","value":"   |Pgina no encontrada|Strnka nenalezena|Siden ikke fundet|Seite nicht gefunden|Leheklge ei leitud|   |Page Not Found|Page introuvable|Nor aimsodh an leathanach|Stranica nije pronaena|Pagina non trovata","options":[]},{"id":"1b6399e5-8a87-4317-9ea4-47fbe17b943c","relation":"c92c2afc-b6da-4f0c-9520-b5bdb0b19086_2abd7056-1084-4270-9d08-540f78f2934e_1b6399e5-8a87-4317-9ea4-47fbe17b943c","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"7ad33d7f-bd66-4c4c-94b4-847bf50688bf","relation":"c92c2afc-b6da-4f0c-9520-b5bdb0b19086_2abd7056-1084-4270-9d08-540f78f2934e_7ad33d7f-bd66-4c4c-94b4-847bf50688bf","variable":"51f329ab-6883-4727-951f-5b600993bf7c","action":"contains","value":"eur-lex.europa.eu","options":[]}]},{"id":"e3d55544-45c1-42d8-b483-e19440f44c0a","type":"event","relation":"c92c2afc-b6da-4f0c-9520-b5bdb0b19086_e3d55544-45c1-42d8-b483-e19440f44c0a","name":"Broken Link Internal (part 2)","conditions":[{"id":"857b65c4-7d3a-43ff-a1b7-50447f901be6","relation":"c92c2afc-b6da-4f0c-9520-b5bdb0b19086_e3d55544-45c1-42d8-b483-e19440f44c0a_857b65c4-7d3a-43ff-a1b7-50447f901be6","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"967e34a6-8733-4d53-b568-ef012c279bfb","relation":"c92c2afc-b6da-4f0c-9520-b5bdb0b19086_e3d55544-45c1-42d8-b483-e19440f44c0a_967e34a6-8733-4d53-b568-ef012c279bfb","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"optedOut","options":[]},{"id":"cf5a4955-5552-4471-a3cc-d8b970d2ab4d","relation":"c92c2afc-b6da-4f0c-9520-b5bdb0b19086_e3d55544-45c1-42d8-b483-e19440f44c0a_cf5a4955-5552-4471-a3cc-d8b970d2ab4d","variable":"51f329ab-6883-4727-951f-5b600993bf7c","action":"contains","value":"eur-lex.europa.eu","options":[]},{"id":"992ba0ac-ebf4-409f-9521-52422eb7b308","relation":"c92c2afc-b6da-4f0c-9520-b5bdb0b19086_e3d55544-45c1-42d8-b483-e19440f44c0a_992ba0ac-ebf4-409f-9521-52422eb7b308","variable":"1c7ab51f-638b-4b4e-a21c-b3875f1f4e1d","action":"regexp","value":"Lappuse nav atrasta|Puslapis nerastas|Nem tallhat az oldal|Il-pana ma nstabitx|Pagina niet gevonden|Strona nie zostaa znaleziona|Pgina no encontrada|Pagina nu a fost gsit|Strnka nebola njden","options":[]}]}],"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["a5bab6c4-6d19-4c1d-a93c-a63cb7231b53","2abd7056-1084-4270-9d08-540f78f2934e","e3d55544-45c1-42d8-b483-e19440f44c0a"]},{"id":"5ba12795-bfe9-4c4c-9743-05873ee1c6d4","name":"Click on SERP","code":"<script type=\"text/javascript\">\n    var _paq = _paq || [];\n    _paq.push([\"setCustomDimensionValue\",4, {{ DataLayer documentID }}]);\n    _paq.push([\"setCustomDimensionValue\",21, {{ DataLayer searchPage }}]);\n    _paq.push([\"setCustomDimensionValue\",22, {{ DataLayer searchKeyword }}]);\n    _paq.push([\"setCustomDimensionValue\",23, {{ DataLayer searchLang }}]);\n    _paq.push([\"setCustomDimensionValue\",24, {{ DataLayer searchType }}]);\n    _paq.push([\"setCustomDimensionValue\",25, {{ DataLayer scope }}]);\n  \n    _paq.push(['trackEvent', {{ Event }}, {{ DataLayer event_type }}, {{ DataLayer position }}]);\n  \n//Clearing dimensions so they are not populated for next events on the page   \n    _paq.push([\"setCustomDimensionValue\",4,\"\"]);\n    _paq.push([\"setCustomDimensionValue\",21,\"\"]);\n    _paq.push([\"setCustomDimensionValue\",22,\"\"]);\n    _paq.push([\"setCustomDimensionValue\",23,\"\"]);\n    _paq.push([\"setCustomDimensionValue\",24,\"\"]);\n    _paq.push([\"setCustomDimensionValue\",25,\"\"]);\n</script>","consentType":"not_require_consent","template":"custom_tag","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":true,"triggers":[{"id":"cbcb392c-3476-43d3-9716-0449765aa919","type":"event","relation":"5ba12795-bfe9-4c4c-9743-05873ee1c6d4_cbcb392c-3476-43d3-9716-0449765aa919","name":"Click_SERP","conditions":[{"id":"60b54197-b6c1-4a34-b282-0344d724f25e","relation":"5ba12795-bfe9-4c4c-9743-05873ee1c6d4_cbcb392c-3476-43d3-9716-0449765aa919_60b54197-b6c1-4a34-b282-0344d724f25e","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"b13e4537-4bc9-48d9-b6fe-24d77e1d900e","relation":"5ba12795-bfe9-4c4c-9743-05873ee1c6d4_cbcb392c-3476-43d3-9716-0449765aa919_b13e4537-4bc9-48d9-b6fe-24d77e1d900e","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"OP.serpClick","options":[]}]}],"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["cbcb392c-3476-43d3-9716-0449765aa919"]},{"id":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e","name":"ECB ","code":"<script type=\"text/javascript\">\n    var _paq = _paq || [];\n    var clicked_button = {{ Click Element }};\n    var clicked_form = {{ Form ID }};\n    var title = clicked_button.getAttribute(\"title\");\n    var id = clicked_button.getAttribute(\"id\");\n    var clas = clicked_button.getAttribute(\"class\");\n    var url = clicked_button.getAttribute(\"href\");\n    var category;\n    var button_title;\n    if (clas == 'gotoResultsLinkFontawsome')\n    {\n      category = 'Browse by topic';\n      start_substring = url.indexOf(\"CODED=c\") + 6 ;\n      end_substring = url.indexOf(\"&DTS_DOM\")\n      button_title = url.substr(start_substring, end_substring-start_substring);\n      text_lang = title;\n    }\n    if (clicked_form == 'searchWidgetDocumentNumber')\n    {\n      category = 'Find a document';\n      var year = document.getElementById('naturalYear').value;\n      var number = document.getElementById('QSNumber').value;\n      var type = document.getElementById('QSType').value;\n      button_title = 'Year: ' + year + ' |  Number: ' +  number + ' | Type:' + type;\n    }\n    if (clicked_form == 'searchWidgetCourtCase')\n    {\n      category = 'Find a court case';\n      var year = document.getElementById('courtDocYear').value;\n      var number = document.getElementById('courtNumber').value;\n      var type = document.getElementById('naturalNumberType').value;\n      switch(type) {\n        case 'naturalNumber.all.ecb.court.search':\n          type = 'All';\n          break;\n        case 'naturalNumber.courtOfJustice':\n          type = 'Court of Justice'; \n          break;\n        case 'naturalNumber.court':\n          type = 'General Court';\n          break;\n        case 'naturalNumber.civilServiceTribunal':\n          type = 'Civil Service Tribunal';\n          break;\n       }\n      button_title = 'Year: ' + year + ' |  Number: ' +  number + ' | Type:' + type;\n    }\n    if (clas == 'title')\n    {\n      category = 'Recently published';\n      text_lang = title;\n      start_substring = -1;\n      end_substring = -1;\n      //console.log (\"URL : \"+ url.toLowerCase());\n      start_substring = url.toLowerCase().indexOf(\"celex:\") + 6 ;\n      //console.log (\"Start Celex : \"+ start_substring);\n      if (start_substring < 6){\n      \tstart_substring = url.toLowerCase().indexOf(\"immc:\") + 5 ;\n      \t//console.log (\"Start IMMC: \"+ start_substring);\n      }\n      if (start_substring < 5){\n        start_substring = url.toLowerCase().indexOf(\"oj:\") + 3 ;      \n      \t//console.log (\"Start OJ: \"+ start_substring);\n      }\n      end_substring = url.substring(start_substring, url.length).indexOf(\"&\");\n      //console.log (\"End : \"+ end_substring);\n      if (end_substring == -1){\n      \tend_substring = url.length;\n      \t//console.log (\"End : \"+ end_substring);\n      }\n      button_title = url.substr(start_substring, end_substring);\n    }\n    if (url !== null && url.indexOf('browse/institutions/bank/banking-supervision.html') !== -1)\n    {\n      category = 'European banking supervision';\n      button_title = 'Banking supervision';\n    }\n    if (id) {\n    \tif(id.indexOf('img-ecb') !==-1)\n  \t\t  {\n    \t\t  category = 'Visual navigation';\n    \t\t  button_title = 'Click on the chart';\n  \t\t  }\n        else if (id.indexOf('quick-search-image-editorial') !==-1)\n          {\n              category = 'Quick search';\n    \t\t  button_title = document.getElementById('freetextEditorial').value;\n          }\n        else if (id.indexOf('Ecb-adv-search-btn-in-qs') !==-1)\n          {\n              category = 'Advanced search';\n    \t\t  button_title = \"N/A\"\n          }\n    }\n    //console.log('Category: ' + category);\n    //console.log('Button title: ' + button_title);        \n    _paq.push(['trackEvent', 'ECB', category , button_title]);\n  \n</script>","consentType":"not_require_consent","template":"custom_tag","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":true,"triggers":[{"id":"5cd12acc-e1e8-4de6-9b46-7c586822203a","type":"click","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_5cd12acc-e1e8-4de6-9b46-7c586822203a","name":"ECB - Advanced search","conditions":[{"id":"5cd12acc-e1e8-4de6-9b46-7c586822203a","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_5cd12acc-e1e8-4de6-9b46-7c586822203a_5cd12acc-e1e8-4de6-9b46-7c586822203a","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"051abb12-1b40-466b-9e12-eaa0f3a9a520","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_5cd12acc-e1e8-4de6-9b46-7c586822203a_051abb12-1b40-466b-9e12-eaa0f3a9a520","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"5eb5bd93-450a-4142-9691-be47ad7c1f24","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_5cd12acc-e1e8-4de6-9b46-7c586822203a_5eb5bd93-450a-4142-9691-be47ad7c1f24","variable":"f39468e9-ae2d-4e58-9e2c-73a4d44add6f","action":"equals","value":"Ecb-adv-search-btn-in-qs","options":[]}]},{"id":"1f3ef955-274a-4f5a-9359-d24dbdaec92a","type":"click","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_1f3ef955-274a-4f5a-9359-d24dbdaec92a","name":"ECB - Recenlty published","conditions":[{"id":"1f3ef955-274a-4f5a-9359-d24dbdaec92a","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_1f3ef955-274a-4f5a-9359-d24dbdaec92a_1f3ef955-274a-4f5a-9359-d24dbdaec92a","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"fdea745a-e5e3-472b-8a90-427823235321","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_1f3ef955-274a-4f5a-9359-d24dbdaec92a_fdea745a-e5e3-472b-8a90-427823235321","variable":"efc09356-e1f2-40f7-8a0a-4c454429e678","action":"equals","value":"title","options":[]},{"id":"292c288b-5a32-4301-bbd1-a186b26caff7","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_1f3ef955-274a-4f5a-9359-d24dbdaec92a_292c288b-5a32-4301-bbd1-a186b26caff7","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"65b38ad3-f8d1-4f26-b356-4cfe577cbc3e","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_1f3ef955-274a-4f5a-9359-d24dbdaec92a_65b38ad3-f8d1-4f26-b356-4cfe577cbc3e","variable":"67ed6060-eace-4370-8ede-a083f7c909f1","action":"contains","value":"/browse/institutions/bank","options":[]}]},{"id":"6727af8a-e7eb-4ee6-999f-2e169db93031","type":"form_submission","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_6727af8a-e7eb-4ee6-999f-2e169db93031","name":"ECB - Find a document","conditions":[{"id":"6727af8a-e7eb-4ee6-999f-2e169db93031","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_6727af8a-e7eb-4ee6-999f-2e169db93031_6727af8a-e7eb-4ee6-999f-2e169db93031","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.formSubmit","options":[]},{"id":"5fcbda70-df88-4bf7-8b13-0c5286e3634c","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_6727af8a-e7eb-4ee6-999f-2e169db93031_5fcbda70-df88-4bf7-8b13-0c5286e3634c","variable":"b1504526-de0d-4c27-9ff0-1ee7734561ed","action":"contains","value":"searchWidgetDocumentNumber","options":[]},{"id":"d4769873-11bd-4fe6-8578-58f8e5db4438","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_6727af8a-e7eb-4ee6-999f-2e169db93031_d4769873-11bd-4fe6-8578-58f8e5db4438","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"d8183f04-ce11-4c1e-9817-49889f13b0f7","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_6727af8a-e7eb-4ee6-999f-2e169db93031_d8183f04-ce11-4c1e-9817-49889f13b0f7","variable":"67ed6060-eace-4370-8ede-a083f7c909f1","action":"contains","value":"/browse/institutions/bank","options":[]}]},{"id":"ab092934-9f4a-4769-9e0f-b1d3bc947659","type":"click","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_ab092934-9f4a-4769-9e0f-b1d3bc947659","name":"ECB - Browse by topic","conditions":[{"id":"ab092934-9f4a-4769-9e0f-b1d3bc947659","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_ab092934-9f4a-4769-9e0f-b1d3bc947659_ab092934-9f4a-4769-9e0f-b1d3bc947659","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"f6d3c1b6-2e03-4a42-9211-c60fb276875e","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_ab092934-9f4a-4769-9e0f-b1d3bc947659_f6d3c1b6-2e03-4a42-9211-c60fb276875e","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"127cdeee-dbba-47de-8d8b-56d3a80ea733","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_ab092934-9f4a-4769-9e0f-b1d3bc947659_127cdeee-dbba-47de-8d8b-56d3a80ea733","variable":"efc09356-e1f2-40f7-8a0a-4c454429e678","action":"contains","value":"gotoResultsLinkFontawsome","options":[]},{"id":"0b0a8a7e-a608-4c2a-8d13-789e00fc34de","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_ab092934-9f4a-4769-9e0f-b1d3bc947659_0b0a8a7e-a608-4c2a-8d13-789e00fc34de","variable":"67ed6060-eace-4370-8ede-a083f7c909f1","action":"contains","value":"/browse/institutions/bank","options":[]}]},{"id":"6284fd67-dc92-4d93-9983-b36f99e0fd9f","type":"click","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_6284fd67-dc92-4d93-9983-b36f99e0fd9f","name":"ECB - Banking supervision","conditions":[{"id":"6284fd67-dc92-4d93-9983-b36f99e0fd9f","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_6284fd67-dc92-4d93-9983-b36f99e0fd9f_6284fd67-dc92-4d93-9983-b36f99e0fd9f","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"2f519c6f-c037-4ea7-ace7-0c0a2af8db1e","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_6284fd67-dc92-4d93-9983-b36f99e0fd9f_2f519c6f-c037-4ea7-ace7-0c0a2af8db1e","variable":"efd3558a-714d-4b33-9edd-2bbeb0b5eaf7","action":"contains","value":"/browse/institutions/bank/banking-supervision.htm","options":[]},{"id":"5da68f46-ce52-444f-b59c-9d4393e652d9","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_6284fd67-dc92-4d93-9983-b36f99e0fd9f_5da68f46-ce52-444f-b59c-9d4393e652d9","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]}]},{"id":"f1d55a3c-8bac-4fdd-968b-810f92138a10","type":"form_submission","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_f1d55a3c-8bac-4fdd-968b-810f92138a10","name":"ECB - Find a court case","conditions":[{"id":"f1d55a3c-8bac-4fdd-968b-810f92138a10","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_f1d55a3c-8bac-4fdd-968b-810f92138a10_f1d55a3c-8bac-4fdd-968b-810f92138a10","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.formSubmit","options":[]},{"id":"25dff8de-16d6-4c80-be3a-f65595459d47","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_f1d55a3c-8bac-4fdd-968b-810f92138a10_25dff8de-16d6-4c80-be3a-f65595459d47","variable":"67ed6060-eace-4370-8ede-a083f7c909f1","action":"contains","value":"/browse/institutions/bank","options":[]},{"id":"024274a9-194d-44c2-a503-17c0d47d7f29","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_f1d55a3c-8bac-4fdd-968b-810f92138a10_024274a9-194d-44c2-a503-17c0d47d7f29","variable":"b1504526-de0d-4c27-9ff0-1ee7734561ed","action":"contains","value":"searchWidgetCourtCase","options":[]},{"id":"0aeacba3-d7ee-488a-b658-97becc5aea36","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_f1d55a3c-8bac-4fdd-968b-810f92138a10_0aeacba3-d7ee-488a-b658-97becc5aea36","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]}]},{"id":"3e26ac0b-fb5a-40ae-abae-92e5815113d4","type":"click","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_3e26ac0b-fb5a-40ae-abae-92e5815113d4","name":"ECB - Quick search","conditions":[{"id":"3e26ac0b-fb5a-40ae-abae-92e5815113d4","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_3e26ac0b-fb5a-40ae-abae-92e5815113d4_3e26ac0b-fb5a-40ae-abae-92e5815113d4","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"728eaacd-b498-4986-857f-3f03be307ca5","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_3e26ac0b-fb5a-40ae-abae-92e5815113d4_728eaacd-b498-4986-857f-3f03be307ca5","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"b180490c-2af5-421b-8f7e-7a1660f00163","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_3e26ac0b-fb5a-40ae-abae-92e5815113d4_b180490c-2af5-421b-8f7e-7a1660f00163","variable":"f39468e9-ae2d-4e58-9e2c-73a4d44add6f","action":"equals","value":"quick-search-image-editorial","options":[]}]},{"id":"d457bbf1-1c1a-4074-91ca-fca2db11a42f","type":"click","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_d457bbf1-1c1a-4074-91ca-fca2db11a42f","name":"ECB - Visual navigation","conditions":[{"id":"d457bbf1-1c1a-4074-91ca-fca2db11a42f","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_d457bbf1-1c1a-4074-91ca-fca2db11a42f_d457bbf1-1c1a-4074-91ca-fca2db11a42f","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"3919c2f1-b31e-487a-b341-8fa566db5b4a","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_d457bbf1-1c1a-4074-91ca-fca2db11a42f_3919c2f1-b31e-487a-b341-8fa566db5b4a","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"03cfe5ab-7d5f-40e5-be59-19dd41282149","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_d457bbf1-1c1a-4074-91ca-fca2db11a42f_03cfe5ab-7d5f-40e5-be59-19dd41282149","variable":"f39468e9-ae2d-4e58-9e2c-73a4d44add6f","action":"contains","value":"img-ecb","options":[]}]}],"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["5cd12acc-e1e8-4de6-9b46-7c586822203a","1f3ef955-274a-4f5a-9359-d24dbdaec92a","6727af8a-e7eb-4ee6-999f-2e169db93031","ab092934-9f4a-4769-9e0f-b1d3bc947659","6284fd67-dc92-4d93-9983-b36f99e0fd9f","f1d55a3c-8bac-4fdd-968b-810f92138a10","3e26ac0b-fb5a-40ae-abae-92e5815113d4","d457bbf1-1c1a-4074-91ca-fca2db11a42f"]},{"id":"988b26ad-ebe2-42fa-a695-371ce5259459","name":"Click: Agree to all","code":"<script>\n    var _paq = _paq || [];\n    _paq.push([\"trackEvent\", 'consent_form_click', 'agree_to_all']);\n</script>\n","consentType":"not_require_consent","template":"consent_insights","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":false,"triggers":[{"id":"22a9cea3-0423-4643-aaf6-7ede28772b14","type":"click","relation":"988b26ad-ebe2-42fa-a695-371ce5259459_22a9cea3-0423-4643-aaf6-7ede28772b14","name":"Click: Agree to all","conditions":[{"id":"1dc6efb9-95fd-40fb-b307-b2b964b7e717","relation":"988b26ad-ebe2-42fa-a695-371ce5259459_22a9cea3-0423-4643-aaf6-7ede28772b14_1dc6efb9-95fd-40fb-b307-b2b964b7e717","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"stg.agreeToAllClicked","options":[]}]}],"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["22a9cea3-0423-4643-aaf6-7ede28772b14"]},{"id":"a82c335e-4896-48c6-9885-4e4f7ead04f8","name":"Click: Close","code":"<script>\n    var _paq = _paq || [];\n    _paq.push([\"trackEvent\", 'consent_form_click', 'close']);\n</script>\n","consentType":"not_require_consent","template":"consent_insights","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":false,"triggers":[{"id":"3a673c4f-0a28-48d9-96ed-dc8d4956fd4c","type":"click","relation":"a82c335e-4896-48c6-9885-4e4f7ead04f8_3a673c4f-0a28-48d9-96ed-dc8d4956fd4c","name":"Click: Close","conditions":[{"id":"fdb0ef5f-4981-4e60-9ed3-2de7de893202","relation":"a82c335e-4896-48c6-9885-4e4f7ead04f8_3a673c4f-0a28-48d9-96ed-dc8d4956fd4c_fdb0ef5f-4981-4e60-9ed3-2de7de893202","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"stg.closeButtonClicked","options":[]}]}],"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["3a673c4f-0a28-48d9-96ed-dc8d4956fd4c"]},{"id":"86f2ed31-9782-49b6-9c2e-989e78a51ed8","name":"Click: Reject all","code":"<script>\n    var _paq = _paq || [];\n    _paq.push([\"trackEvent\", 'consent_form_click', 'reject_all']);\n</script>\n","consentType":"not_require_consent","template":"consent_insights","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":false,"triggers":[{"id":"40e7b5d6-c8cd-4f92-9b5e-82fd6136fefe","type":"click","relation":"86f2ed31-9782-49b6-9c2e-989e78a51ed8_40e7b5d6-c8cd-4f92-9b5e-82fd6136fefe","name":"Click: Reject all","conditions":[{"id":"61aef87f-7de2-4e24-a42e-0bd5a626732e","relation":"86f2ed31-9782-49b6-9c2e-989e78a51ed8_40e7b5d6-c8cd-4f92-9b5e-82fd6136fefe_61aef87f-7de2-4e24-a42e-0bd5a626732e","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"stg.rejectAllClicked","options":[]}]}],"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["40e7b5d6-c8cd-4f92-9b5e-82fd6136fefe"]},{"id":"d10463e1-0e75-4ebb-a922-f8ccdbf886b6","name":"Click: Save choices","code":"<script>\n    var _paq = _paq || [];\n    _paq.push([\"trackEvent\", 'consent_form_click', 'save_choices']);\n</script>\n","consentType":"not_require_consent","template":"consent_insights","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":false,"triggers":[{"id":"79efb39f-71f3-4f50-80ec-fc2c9fd9a60f","type":"click","relation":"d10463e1-0e75-4ebb-a922-f8ccdbf886b6_79efb39f-71f3-4f50-80ec-fc2c9fd9a60f","name":"Click: Save choices","conditions":[{"id":"dea23e71-83d4-46ce-8b6d-088c073a02e0","relation":"d10463e1-0e75-4ebb-a922-f8ccdbf886b6_79efb39f-71f3-4f50-80ec-fc2c9fd9a60f_dea23e71-83d4-46ce-8b6d-088c073a02e0","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"stg.saveChoicesClicked","options":[]}]}],"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["79efb39f-71f3-4f50-80ec-fc2c9fd9a60f"]},{"id":"6579f6d9-1455-495c-9405-254e7f170101","name":"Consent decision","code":"<script>\n    var _paq = window._paq || [];\n\n    (function() {\n        var consents = {{ Consents }};\n        var previousConsents = consents.previous_state;\n        var previousConsentDecisions = [];\n        var currentConsents = consents.current_state;\n        var currentConsentDecisions = [];\n        var consentType;\n\n        function includes(array, value) {\n            for (var i = 0; i < array.length; i++) {\n                if (array[i] === value) {\n                    return true;\n                }\n            }\n            return false;\n        }\n\n        function every(array, value) {\n            for (var i = 0; i < array.length; i++) {\n                if (array[i] !== value) {\n                    return false;\n                }\n            }\n            return true;\n        }\n\n        function getConsentScope(consentDecisions) {\n            if (every(consentDecisions, 1)) {\n                return 'full_consent';\n            }\n\n            if (every(consentDecisions, 0)) {\n                return 'no_consent';\n            }\n\n            return 'any_consent';\n        }\n\n        function getConsentDecision(consents, consentType) {\n            var consentDecision = consents[consentType];\n            if (typeof consentDecision !== 'undefined') {\n                return consentDecision;\n            }\n\n            return 'null';\n        }\n\n        for (consentType in previousConsents) {\n            previousConsentDecisions.push(previousConsents[consentType]);\n        }\n\n        for (consentType in currentConsents) {\n            currentConsentDecisions.push(currentConsents[consentType]);\n        }\n\n        var consentAction = includes(previousConsentDecisions, -1) ? 'first_consent' : 'changed_consent';\n        var consentScope = getConsentScope(currentConsentDecisions);\n\n        _paq.push(['setCustomVariable', 1, getConsentDecision(currentConsents, 'analytics'), getConsentDecision(currentConsents, 'ab_testing_and_personalization'), 'page']);\n        _paq.push(['setCustomVariable', 2, getConsentDecision(currentConsents, 'conversion_tracking'), getConsentDecision(currentConsents, 'marketing_automation'), 'page']);\n        _paq.push(['setCustomVariable', 3, getConsentDecision(currentConsents, 'remarketing'), getConsentDecision(currentConsents, 'user_feedback'), 'page']);\n        _paq.push(['setCustomVariable', 4, getConsentDecision(currentConsents, 'custom_consent'), 'null', 'page']);\n        _paq.push(['trackEvent', 'consent_decision', consentScope, consentAction]);\n\n        for (var i = 1; i <= 5; i++) {\n            _paq.push(['deleteCustomVariable', i, 'page']);\n        }\n    })()\n</script>\n","consentType":"not_require_consent","template":"consent_insights","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":false,"triggers":[{"id":"e7f66ed3-43fe-4662-8d75-db6f50f2383e","type":"event","relation":"6579f6d9-1455-495c-9405-254e7f170101_e7f66ed3-43fe-4662-8d75-db6f50f2383e","name":"Consent decision made","conditions":[{"id":"707aa6c4-6a2c-4478-b81a-b236d20fe8cb","relation":"6579f6d9-1455-495c-9405-254e7f170101_e7f66ed3-43fe-4662-8d75-db6f50f2383e_707aa6c4-6a2c-4478-b81a-b236d20fe8cb","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"stg.consentDecisionMade","options":[]}]}],"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["e7f66ed3-43fe-4662-8d75-db6f50f2383e"]},{"id":"a7d16374-4f6b-4ef2-95d7-25d2e37201aa","name":"Impression: Popup","code":"<script>\n    var _paq = _paq || [];\n    _paq.push([\"trackEvent\", 'consent_form_impression', 'popup']);\n</script>\n","consentType":"not_require_consent","template":"consent_insights","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":false,"triggers":[{"id":"fa8aaf82-4bcc-4f13-ba4a-e75302a854e2","type":"event","relation":"a7d16374-4f6b-4ef2-95d7-25d2e37201aa_fa8aaf82-4bcc-4f13-ba4a-e75302a854e2","name":"Impression: Popup","conditions":[{"id":"13590231-e1a1-4027-9eb3-1c490a67a826","relation":"a7d16374-4f6b-4ef2-95d7-25d2e37201aa_fa8aaf82-4bcc-4f13-ba4a-e75302a854e2_13590231-e1a1-4027-9eb3-1c490a67a826","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"stg.consentFormViewMain","options":[]}]}],"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["fa8aaf82-4bcc-4f13-ba4a-e75302a854e2"]},{"id":"552983e4-6071-4903-8bfa-f5fd5202bb1a","name":"Impression: Privacy settings","code":"<script>\n    var _paq = _paq || [];\n    _paq.push([\"trackEvent\", 'consent_form_impression', 'privacy_settings']);\n</script>\n","consentType":"not_require_consent","template":"consent_insights","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":false,"triggers":[{"id":"ebee0d87-e383-4857-b09b-e7470e4a8645","type":"event","relation":"552983e4-6071-4903-8bfa-f5fd5202bb1a_ebee0d87-e383-4857-b09b-e7470e4a8645","name":"Impression: Privacy settings","conditions":[{"id":"53817989-b3f5-4cb4-afe5-a1b9e7b625b6","relation":"552983e4-6071-4903-8bfa-f5fd5202bb1a_ebee0d87-e383-4857-b09b-e7470e4a8645_53817989-b3f5-4cb4-afe5-a1b9e7b625b6","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"stg.consentFormViewPrivacyPolicy","options":[]}]}],"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["ebee0d87-e383-4857-b09b-e7470e4a8645"]},{"id":"e63bdacb-1746-4be7-a62c-12db6b3f12f4","name":"Impression: Reminder","code":"<script>\n    var _paq = _paq || [];\n    _paq.push([\"trackEvent\", 'consent_form_impression', 'reminder']);\n</script>\n","consentType":"not_require_consent","template":"consent_insights","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":false,"triggers":[{"id":"b8359280-76ee-47cf-995e-bf08a91afc53","type":"event","relation":"e63bdacb-1746-4be7-a62c-12db6b3f12f4_b8359280-76ee-47cf-995e-bf08a91afc53","name":"Impression: Reminder","conditions":[{"id":"93f4048b-77cb-458a-bf37-77ff73364d86","relation":"e63bdacb-1746-4be7-a62c-12db6b3f12f4_b8359280-76ee-47cf-995e-bf08a91afc53_93f4048b-77cb-458a-bf37-77ff73364d86","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"stg.consentFormViewReminder","options":[]}]}],"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["b8359280-76ee-47cf-995e-bf08a91afc53"]}],"configuration":{"cookies_enabled":true,"app_cookies_enabled":true,"main_domain":"analytics.webanalytics.op.europa.eu","id":"0b5594a8-b9c8-4cd6-aa25-5c578dcf91df","protocol":"https","host":"analytics.webanalytics.op.europa.eu","delay":500,"consent_manager_privacy_templates_url":"https://analytics.webanalytics.op.europa.eu/containers/0b5594a8-b9c8-4cd6-aa25-5c578dcf91df/privacy-templates.json","consent_manager_privacy_widgets_url":"https://analytics.webanalytics.op.europa.eu/containers/0b5594a8-b9c8-4cd6-aa25-5c578dcf91df/privacy-widgets.json","consent_request_tracker_url":"https://analytics.webanalytics.op.europa.eu/consent/collect","cdp_api_fetch_audiences_url":"https://analytics.webanalytics.op.europa.eu/api/cdp/profiles/public/v1/app/0b5594a8-b9c8-4cd6-aa25-5c578dcf91df/profile/{visitor_id}/audiences","ui_apis_url":"https://analytics.webanalytics.op.europa.eu"},"privacy":{"configuration":{"settings":{"user_mode_enabled":true,"cookie_expiration_period":31536000,"powered_by_enabled":true,"consent_form_variant":"modal","languages":{"en":{"en":"English"}},"domains":[],"reminder_enabled":true,"default_language":"en","reminder_widget_variant":"consent_bar","cookie_stale_period":"-1"}},"enabled":true},"consentSettings":{"user_mode_enabled":true,"data_anonymization_mode":"session_cookie_id","cookie_expiration_period":31536000,"cookie_domains":[],"consent_enabled":true,"data_anonymization_enabled":true,"cookie_domains_enabled":false,"cookie_stale_period":-1},"triggers":[{"id":"9cae43f2-765e-4afe-a0dd-be1cb8190422","type":"page_view","relation":"4bcafb0a-3fb4-449f-9d77-a537e3eaa836_9cae43f2-765e-4afe-a0dd-be1cb8190422","name":"All page views","conditions":[{"id":"9cae43f2-765e-4afe-a0dd-be1cb8190422","relation":"4bcafb0a-3fb4-449f-9d77-a537e3eaa836_9cae43f2-765e-4afe-a0dd-be1cb8190422_9cae43f2-765e-4afe-a0dd-be1cb8190422","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.pageView","options":[]}],"tagIds":["4bcafb0a-3fb4-449f-9d77-a537e3eaa836"]},{"id":"4090ea16-0e2c-4dce-a65b-b98ad01216bc","type":"event","relation":"8b51e6b4-e159-4c10-822a-2e6260ad15e2_4090ea16-0e2c-4dce-a65b-b98ad01216bc","name":"setComplianceSettings","conditions":[{"id":"ebe66272-cf7d-48b5-b133-a987e33b3d8b","relation":"8b51e6b4-e159-4c10-822a-2e6260ad15e2_4090ea16-0e2c-4dce-a65b-b98ad01216bc_ebe66272-cf7d-48b5-b133-a987e33b3d8b","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"ppms.cm:setComplianceSettings","options":[]}],"tagIds":["8b51e6b4-e159-4c10-822a-2e6260ad15e2"]},{"id":"ccd3922e-3b5d-4073-a0a8-ee6f30ec0582","type":"event","relation":"9b4e9840-a9b6-4068-bb53-3f4523ad624f_ccd3922e-3b5d-4073-a0a8-ee6f30ec0582","name":"Piwik PRO Deanonymization trigger","conditions":[{"id":"ccd3922e-3b5d-4073-a0a8-ee6f30ec0582","relation":"9b4e9840-a9b6-4068-bb53-3f4523ad624f_ccd3922e-3b5d-4073-a0a8-ee6f30ec0582_ccd3922e-3b5d-4073-a0a8-ee6f30ec0582","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.consentDecisionMade","options":[]}],"tagIds":["9b4e9840-a9b6-4068-bb53-3f4523ad624f"]},{"id":"34b5b366-2b33-413c-be48-299e9f88fb8e","type":"event","relation":"41ae9983-c805-44b0-8aeb-8ac637d7bf74_34b5b366-2b33-413c-be48-299e9f88fb8e","name":"Not opted out","conditions":[{"id":"9838452d-9cf9-4c11-be14-c708f5c45fdc","relation":"41ae9983-c805-44b0-8aeb-8ac637d7bf74_34b5b366-2b33-413c-be48-299e9f88fb8e_9838452d-9cf9-4c11-be14-c708f5c45fdc","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"8069431e-13dd-4f67-b59d-aca2230b12f5","relation":"41ae9983-c805-44b0-8aeb-8ac637d7bf74_34b5b366-2b33-413c-be48-299e9f88fb8e_8069431e-13dd-4f67-b59d-aca2230b12f5","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"optedOut","options":[]}],"tagIds":["41ae9983-c805-44b0-8aeb-8ac637d7bf74"]},{"id":"85cd9c5d-5503-430e-9142-8187836c37e6","type":"click","relation":"6a432c25-204a-43b7-80f5-30508b631004_85cd9c5d-5503-430e-9142-8187836c37e6","name":"Click on SERP - DOC Download","conditions":[{"id":"85cd9c5d-5503-430e-9142-8187836c37e6","relation":"6a432c25-204a-43b7-80f5-30508b631004_85cd9c5d-5503-430e-9142-8187836c37e6_85cd9c5d-5503-430e-9142-8187836c37e6","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"c5357a39-2441-4896-b06c-77b36a32eb52","relation":"6a432c25-204a-43b7-80f5-30508b631004_85cd9c5d-5503-430e-9142-8187836c37e6_c5357a39-2441-4896-b06c-77b36a32eb52","variable":"efd3558a-714d-4b33-9edd-2bbeb0b5eaf7","action":"contains","value":"/DOC/","options":[]},{"id":"28d6fb8a-31a5-42fe-bd86-d0d2b0148c63","relation":"6a432c25-204a-43b7-80f5-30508b631004_85cd9c5d-5503-430e-9142-8187836c37e6_28d6fb8a-31a5-42fe-bd86-d0d2b0148c63","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"1323720f-a5a0-4785-9b99-2f2dbe1cdee4","relation":"6a432c25-204a-43b7-80f5-30508b631004_85cd9c5d-5503-430e-9142-8187836c37e6_1323720f-a5a0-4785-9b99-2f2dbe1cdee4","variable":"899b0b6a-4445-4851-a519-272baf5fdfcb","action":"contains","value":"Search results","options":[]},{"id":"2c946fed-2154-49a8-8eb4-d766c07514a0","relation":"6a432c25-204a-43b7-80f5-30508b631004_85cd9c5d-5503-430e-9142-8187836c37e6_2c946fed-2154-49a8-8eb4-d766c07514a0","variable":"efc09356-e1f2-40f7-8a0a-4c454429e678","action":"equals","value":"piwik_download","options":[]}],"tagIds":["6a432c25-204a-43b7-80f5-30508b631004"]},{"id":"1c307387-af36-4714-8369-2ad6376ba43e","type":"click","relation":"01e89d15-be75-487f-92a6-0678b0b110e2_1c307387-af36-4714-8369-2ad6376ba43e","name":"Click on TOC button","conditions":[{"id":"1c307387-af36-4714-8369-2ad6376ba43e","relation":"01e89d15-be75-487f-92a6-0678b0b110e2_1c307387-af36-4714-8369-2ad6376ba43e_1c307387-af36-4714-8369-2ad6376ba43e","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"05726dee-aef3-45c2-b253-9c877305cdf6","relation":"01e89d15-be75-487f-92a6-0678b0b110e2_1c307387-af36-4714-8369-2ad6376ba43e_05726dee-aef3-45c2-b253-9c877305cdf6","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"8c579383-d865-4df5-8a48-e413cad181f4","relation":"01e89d15-be75-487f-92a6-0678b0b110e2_1c307387-af36-4714-8369-2ad6376ba43e_8c579383-d865-4df5-8a48-e413cad181f4","variable":"f39468e9-ae2d-4e58-9e2c-73a4d44add6f","action":"contains","value":"tocBtn","options":[]}],"tagIds":["01e89d15-be75-487f-92a6-0678b0b110e2"]},{"id":"cf95679d-f353-4334-bdfe-daf51c5c14ab","type":"click","relation":"01e89d15-be75-487f-92a6-0678b0b110e2_cf95679d-f353-4334-bdfe-daf51c5c14ab","name":"Click on Permanent link","conditions":[{"id":"cf95679d-f353-4334-bdfe-daf51c5c14ab","relation":"01e89d15-be75-487f-92a6-0678b0b110e2_cf95679d-f353-4334-bdfe-daf51c5c14ab_cf95679d-f353-4334-bdfe-daf51c5c14ab","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"4e27c7c7-85ec-4f6f-a86c-6454f29ea187","relation":"01e89d15-be75-487f-92a6-0678b0b110e2_cf95679d-f353-4334-bdfe-daf51c5c14ab_4e27c7c7-85ec-4f6f-a86c-6454f29ea187","variable":"f39468e9-ae2d-4e58-9e2c-73a4d44add6f","action":"contains","value":"link-permanent-link","options":[]},{"id":"d3111b18-dc7f-4771-a369-8a2c1ad0a837","relation":"01e89d15-be75-487f-92a6-0678b0b110e2_cf95679d-f353-4334-bdfe-daf51c5c14ab_d3111b18-dc7f-4771-a369-8a2c1ad0a837","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]}],"tagIds":["01e89d15-be75-487f-92a6-0678b0b110e2"]},{"id":"ac97cdde-00d4-4d60-8585-017dc8fe9b24","type":"click","relation":"01e89d15-be75-487f-92a6-0678b0b110e2_ac97cdde-00d4-4d60-8585-017dc8fe9b24","name":"Click on video buttons","conditions":[{"id":"ac97cdde-00d4-4d60-8585-017dc8fe9b24","relation":"01e89d15-be75-487f-92a6-0678b0b110e2_ac97cdde-00d4-4d60-8585-017dc8fe9b24_ac97cdde-00d4-4d60-8585-017dc8fe9b24","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"29922db4-b71b-48a6-9169-bcd470756842","relation":"01e89d15-be75-487f-92a6-0678b0b110e2_ac97cdde-00d4-4d60-8585-017dc8fe9b24_29922db4-b71b-48a6-9169-bcd470756842","variable":"f39468e9-ae2d-4e58-9e2c-73a4d44add6f","action":"contains","value":"video","options":[]},{"id":"d741a5ea-1055-46c2-a0fe-08569d51ac41","relation":"01e89d15-be75-487f-92a6-0678b0b110e2_ac97cdde-00d4-4d60-8585-017dc8fe9b24_d741a5ea-1055-46c2-a0fe-08569d51ac41","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]}],"tagIds":["01e89d15-be75-487f-92a6-0678b0b110e2"]},{"id":"b0b07861-9678-4854-a92c-a97627f39938","type":"click","relation":"01e89d15-be75-487f-92a6-0678b0b110e2_b0b07861-9678-4854-a92c-a97627f39938","name":"Click on Machine translation tool","conditions":[{"id":"b0b07861-9678-4854-a92c-a97627f39938","relation":"01e89d15-be75-487f-92a6-0678b0b110e2_b0b07861-9678-4854-a92c-a97627f39938_b0b07861-9678-4854-a92c-a97627f39938","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"ae83d387-3e37-4acb-a9a5-e0d95f9f4719","relation":"01e89d15-be75-487f-92a6-0678b0b110e2_b0b07861-9678-4854-a92c-a97627f39938_ae83d387-3e37-4acb-a9a5-e0d95f9f4719","variable":"f39468e9-ae2d-4e58-9e2c-73a4d44add6f","action":"contains","value":"MT_button","options":[]},{"id":"49c3cea7-6471-443a-8d5c-f2722c95b2aa","relation":"01e89d15-be75-487f-92a6-0678b0b110e2_b0b07861-9678-4854-a92c-a97627f39938_49c3cea7-6471-443a-8d5c-f2722c95b2aa","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]}],"tagIds":["01e89d15-be75-487f-92a6-0678b0b110e2"]},{"id":"94442f70-dd6a-4925-bd65-b57c8b78a189","type":"click","relation":"8f828cc3-5718-47e7-8427-480333f4bcfd_94442f70-dd6a-4925-bd65-b57c8b78a189","name":"Click on SERP - HTML Download","conditions":[{"id":"94442f70-dd6a-4925-bd65-b57c8b78a189","relation":"8f828cc3-5718-47e7-8427-480333f4bcfd_94442f70-dd6a-4925-bd65-b57c8b78a189_94442f70-dd6a-4925-bd65-b57c8b78a189","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"98f542b3-14e1-49d6-848b-8913daacabf6","relation":"8f828cc3-5718-47e7-8427-480333f4bcfd_94442f70-dd6a-4925-bd65-b57c8b78a189_98f542b3-14e1-49d6-848b-8913daacabf6","variable":"efd3558a-714d-4b33-9edd-2bbeb0b5eaf7","action":"contains","value":"/HTML/","options":[]},{"id":"b1f0cb62-2f92-4a02-839b-61c81a5e8d6a","relation":"8f828cc3-5718-47e7-8427-480333f4bcfd_94442f70-dd6a-4925-bd65-b57c8b78a189_b1f0cb62-2f92-4a02-839b-61c81a5e8d6a","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"aa1980b4-6c46-4159-b8c5-fdd926ac7984","relation":"8f828cc3-5718-47e7-8427-480333f4bcfd_94442f70-dd6a-4925-bd65-b57c8b78a189_aa1980b4-6c46-4159-b8c5-fdd926ac7984","variable":"899b0b6a-4445-4851-a519-272baf5fdfcb","action":"contains","value":"Search results","options":[]},{"id":"1f1234bc-3de4-4dfa-8fb9-a4583d629523","relation":"8f828cc3-5718-47e7-8427-480333f4bcfd_94442f70-dd6a-4925-bd65-b57c8b78a189_1f1234bc-3de4-4dfa-8fb9-a4583d629523","variable":"efc09356-e1f2-40f7-8a0a-4c454429e678","action":"equals","value":"piwik_download","options":[]}],"tagIds":["8f828cc3-5718-47e7-8427-480333f4bcfd"]},{"id":"3c91bc00-5ac4-4929-832a-aa997198a82d","type":"click","relation":"588555d2-2da1-47c8-8e06-8d5d51007a17_3c91bc00-5ac4-4929-832a-aa997198a82d","name":"Click on SERP - Publication Link","conditions":[{"id":"3c91bc00-5ac4-4929-832a-aa997198a82d","relation":"588555d2-2da1-47c8-8e06-8d5d51007a17_3c91bc00-5ac4-4929-832a-aa997198a82d_3c91bc00-5ac4-4929-832a-aa997198a82d","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"e26f4c3c-0c74-42e0-a3e4-00748d18da67","relation":"588555d2-2da1-47c8-8e06-8d5d51007a17_3c91bc00-5ac4-4929-832a-aa997198a82d_e26f4c3c-0c74-42e0-a3e4-00748d18da67","variable":"899b0b6a-4445-4851-a519-272baf5fdfcb","action":"contains","value":"Search results","options":[]},{"id":"e1143c1f-ef9b-4043-bd63-b58169455580","relation":"588555d2-2da1-47c8-8e06-8d5d51007a17_3c91bc00-5ac4-4929-832a-aa997198a82d_e1143c1f-ef9b-4043-bd63-b58169455580","variable":"67ed6060-eace-4370-8ede-a083f7c909f1","action":"contains","value":"/search.html?","options":[]},{"id":"93dc7c8f-9b90-42ea-a26a-36ce19eeab8a","relation":"588555d2-2da1-47c8-8e06-8d5d51007a17_3c91bc00-5ac4-4929-832a-aa997198a82d_93dc7c8f-9b90-42ea-a26a-36ce19eeab8a","variable":"efc09356-e1f2-40f7-8a0a-4c454429e678","action":"does_not_contain","value":"piwik_download","options":[]},{"id":"5df6ccc3-2312-43e8-bae0-08df28bd4533","relation":"588555d2-2da1-47c8-8e06-8d5d51007a17_3c91bc00-5ac4-4929-832a-aa997198a82d_5df6ccc3-2312-43e8-bae0-08df28bd4533","variable":"efd3558a-714d-4b33-9edd-2bbeb0b5eaf7","action":"contains","value":"/legal-content/","options":[]},{"id":"46173bb1-7e01-4d40-a1cb-3fdb07d633ef","relation":"588555d2-2da1-47c8-8e06-8d5d51007a17_3c91bc00-5ac4-4929-832a-aa997198a82d_46173bb1-7e01-4d40-a1cb-3fdb07d633ef","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]}],"tagIds":["588555d2-2da1-47c8-8e06-8d5d51007a17"]},{"id":"046ef384-c7b8-4325-ad16-36cc092fc4b1","type":"click","relation":"d71f95d5-bbfd-42f6-a781-03630b52de8e_046ef384-c7b8-4325-ad16-36cc092fc4b1","name":"Download e-Signature","conditions":[{"id":"046ef384-c7b8-4325-ad16-36cc092fc4b1","relation":"d71f95d5-bbfd-42f6-a781-03630b52de8e_046ef384-c7b8-4325-ad16-36cc092fc4b1_046ef384-c7b8-4325-ad16-36cc092fc4b1","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"c3024ed2-b6bf-44d5-943a-58e3f975bd73","relation":"d71f95d5-bbfd-42f6-a781-03630b52de8e_046ef384-c7b8-4325-ad16-36cc092fc4b1_c3024ed2-b6bf-44d5-943a-58e3f975bd73","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"c5804f07-e3a3-404f-a852-d250a353d165","relation":"d71f95d5-bbfd-42f6-a781-03630b52de8e_046ef384-c7b8-4325-ad16-36cc092fc4b1_c5804f07-e3a3-404f-a852-d250a353d165","variable":"f39468e9-ae2d-4e58-9e2c-73a4d44add6f","action":"contains","value":"_digital_sign_","options":[]}],"tagIds":["d71f95d5-bbfd-42f6-a781-03630b52de8e"]},{"id":"42230039-55ff-4d44-8e95-c2dd233d3082","type":"click","relation":"7e203b74-73ab-430e-828e-131fd84fc347_42230039-55ff-4d44-8e95-c2dd233d3082","name":"cck1 consent banner -  click (all/only essentials)","conditions":[{"id":"42230039-55ff-4d44-8e95-c2dd233d3082","relation":"7e203b74-73ab-430e-828e-131fd84fc347_42230039-55ff-4d44-8e95-c2dd233d3082_42230039-55ff-4d44-8e95-c2dd233d3082","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"f99d29d6-f5cf-4727-af82-b3e3e10615ea","relation":"7e203b74-73ab-430e-828e-131fd84fc347_42230039-55ff-4d44-8e95-c2dd233d3082_f99d29d6-f5cf-4727-af82-b3e3e10615ea","variable":"efc09356-e1f2-40f7-8a0a-4c454429e678","action":"contains","value":"cck-actions-button","options":[]}],"tagIds":["7e203b74-73ab-430e-828e-131fd84fc347"]},{"id":"e5a2cda8-7929-4da8-b015-e69df6f51477","type":"click","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_e5a2cda8-7929-4da8-b015-e69df6f51477","name":"EuroVoc - Document Information","conditions":[{"id":"e5a2cda8-7929-4da8-b015-e69df6f51477","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_e5a2cda8-7929-4da8-b015-e69df6f51477_e5a2cda8-7929-4da8-b015-e69df6f51477","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"3338efb8-e8ee-4ea7-b0d8-b5019cc25609","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_e5a2cda8-7929-4da8-b015-e69df6f51477_3338efb8-e8ee-4ea7-b0d8-b5019cc25609","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"d00738a9-aaf9-4fcb-b101-49c7f134bacf","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_e5a2cda8-7929-4da8-b015-e69df6f51477_d00738a9-aaf9-4fcb-b101-49c7f134bacf","variable":"efd3558a-714d-4b33-9edd-2bbeb0b5eaf7","action":"contains","value":"DC_CODED=","options":[]},{"id":"29aa422e-115f-4fa9-ad7b-a9386b669341","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_e5a2cda8-7929-4da8-b015-e69df6f51477_29aa422e-115f-4fa9-ad7b-a9386b669341","variable":"899b0b6a-4445-4851-a519-272baf5fdfcb","action":"contains","value":"Notices","options":[]},{"id":"548bb9b0-b45c-4a6e-8852-d101c8bcb720","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_e5a2cda8-7929-4da8-b015-e69df6f51477_548bb9b0-b45c-4a6e-8852-d101c8bcb720","variable":"ef4067d2-9ad2-4c98-b327-2df077c458c0","action":"contains","value":"Legal content view","options":[]}],"tagIds":["6d26c180-b4f1-4bdf-a75b-220dbaf7dd81"]},{"id":"432af1b1-fb9a-4cc7-8d95-a472ef9a9a3e","type":"click","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_432af1b1-fb9a-4cc7-8d95-a472ef9a9a3e","name":"EuroVoc - Advanced Search","conditions":[{"id":"432af1b1-fb9a-4cc7-8d95-a472ef9a9a3e","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_432af1b1-fb9a-4cc7-8d95-a472ef9a9a3e_432af1b1-fb9a-4cc7-8d95-a472ef9a9a3e","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"f1a571d4-72eb-4d8e-9a2a-de7205fc26ab","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_432af1b1-fb9a-4cc7-8d95-a472ef9a9a3e_f1a571d4-72eb-4d8e-9a2a-de7205fc26ab","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"447e96bd-9241-4583-be91-45c5e51bfed9","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_432af1b1-fb9a-4cc7-8d95-a472ef9a9a3e_447e96bd-9241-4583-be91-45c5e51bfed9","variable":"899b0b6a-4445-4851-a519-272baf5fdfcb","action":"contains","value":"Advanced search form","options":[]},{"id":"6ff38c02-d381-4886-8304-fda582afc341","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_432af1b1-fb9a-4cc7-8d95-a472ef9a9a3e_6ff38c02-d381-4886-8304-fda582afc341","variable":"ef4067d2-9ad2-4c98-b327-2df077c458c0","action":"contains","value":"Search","options":[]},{"id":"a8de921b-7d95-4d63-9e54-6f0805138f58","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_432af1b1-fb9a-4cc7-8d95-a472ef9a9a3e_a8de921b-7d95-4d63-9e54-6f0805138f58","variable":"f39468e9-ae2d-4e58-9e2c-73a4d44add6f","action":"contains","value":"topSearch","options":[]}],"tagIds":["6d26c180-b4f1-4bdf-a75b-220dbaf7dd81"]},{"id":"14334dce-f519-478f-a65f-59ceb76566a6","type":"click","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_14334dce-f519-478f-a65f-59ceb76566a6","name":"EuroVoc Facet - level 4","conditions":[{"id":"14334dce-f519-478f-a65f-59ceb76566a6","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_14334dce-f519-478f-a65f-59ceb76566a6_14334dce-f519-478f-a65f-59ceb76566a6","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"d6b7e5e7-af22-43d0-90fc-ff74b29a7ca7","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_14334dce-f519-478f-a65f-59ceb76566a6_d6b7e5e7-af22-43d0-90fc-ff74b29a7ca7","variable":"f39468e9-ae2d-4e58-9e2c-73a4d44add6f","action":"contains","value":"DC_CODED_","options":[]},{"id":"e5e5d9b9-8d22-447b-918e-519ea1a5f7e3","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_14334dce-f519-478f-a65f-59ceb76566a6_e5e5d9b9-8d22-447b-918e-519ea1a5f7e3","variable":"ef4067d2-9ad2-4c98-b327-2df077c458c0","action":"contains","value":"Search","options":[]},{"id":"51209378-b8ac-4818-a1e5-da9078159eec","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_14334dce-f519-478f-a65f-59ceb76566a6_51209378-b8ac-4818-a1e5-da9078159eec","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]}],"tagIds":["6d26c180-b4f1-4bdf-a75b-220dbaf7dd81"]},{"id":"58b6872f-d1f9-4512-aed0-f35f28067a8c","type":"click","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_58b6872f-d1f9-4512-aed0-f35f28067a8c","name":"EuroVoc Facet - level 3","conditions":[{"id":"58b6872f-d1f9-4512-aed0-f35f28067a8c","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_58b6872f-d1f9-4512-aed0-f35f28067a8c_58b6872f-d1f9-4512-aed0-f35f28067a8c","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"cf89279c-3b36-4b4a-b8cb-5a833c4cf651","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_58b6872f-d1f9-4512-aed0-f35f28067a8c_cf89279c-3b36-4b4a-b8cb-5a833c4cf651","variable":"f39468e9-ae2d-4e58-9e2c-73a4d44add6f","action":"contains","value":"DC_TT_CODED_","options":[]},{"id":"b9d735cf-114d-4c10-b44c-a63c053d35b8","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_58b6872f-d1f9-4512-aed0-f35f28067a8c_b9d735cf-114d-4c10-b44c-a63c053d35b8","variable":"ef4067d2-9ad2-4c98-b327-2df077c458c0","action":"contains","value":"Search","options":[]},{"id":"298a46a5-e940-4b09-af38-e239239ee854","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_58b6872f-d1f9-4512-aed0-f35f28067a8c_298a46a5-e940-4b09-af38-e239239ee854","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]}],"tagIds":["6d26c180-b4f1-4bdf-a75b-220dbaf7dd81"]},{"id":"ed2355b0-66e3-47a1-a1d6-363421e7e382","type":"click","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_ed2355b0-66e3-47a1-a1d6-363421e7e382","name":"EuroVoc - Homepage","conditions":[{"id":"ed2355b0-66e3-47a1-a1d6-363421e7e382","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_ed2355b0-66e3-47a1-a1d6-363421e7e382_ed2355b0-66e3-47a1-a1d6-363421e7e382","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"b87d5cc2-3eb0-4587-b5cf-13597538dce1","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_ed2355b0-66e3-47a1-a1d6-363421e7e382_b87d5cc2-3eb0-4587-b5cf-13597538dce1","variable":"efc09356-e1f2-40f7-8a0a-4c454429e678","action":"contains","value":"gotoResultLink","options":[]},{"id":"0af6f7de-e8a1-46f3-aad1-5d974eccb547","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_ed2355b0-66e3-47a1-a1d6-363421e7e382_0af6f7de-e8a1-46f3-aad1-5d974eccb547","variable":"ef4067d2-9ad2-4c98-b327-2df077c458c0","action":"contains","value":"EuroVoc","options":[]},{"id":"43ca2489-96f3-43f8-91ed-f50df6217a71","relation":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81_ed2355b0-66e3-47a1-a1d6-363421e7e382_43ca2489-96f3-43f8-91ed-f50df6217a71","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]}],"tagIds":["6d26c180-b4f1-4bdf-a75b-220dbaf7dd81"]},{"id":"296534d1-6111-4b50-9b04-824bc81a9941","type":"click","relation":"02508ae9-4524-4d99-9334-bc41d0fb3086_296534d1-6111-4b50-9b04-824bc81a9941","name":"Click on SERP - PDF Download","conditions":[{"id":"296534d1-6111-4b50-9b04-824bc81a9941","relation":"02508ae9-4524-4d99-9334-bc41d0fb3086_296534d1-6111-4b50-9b04-824bc81a9941_296534d1-6111-4b50-9b04-824bc81a9941","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"781460a5-7e74-4531-bbf0-a197a7eb0568","relation":"02508ae9-4524-4d99-9334-bc41d0fb3086_296534d1-6111-4b50-9b04-824bc81a9941_781460a5-7e74-4531-bbf0-a197a7eb0568","variable":"efd3558a-714d-4b33-9edd-2bbeb0b5eaf7","action":"contains","value":"/PDF/","options":[]},{"id":"6f9dc9c8-0e4f-4cbf-aa9d-71bc09e0df20","relation":"02508ae9-4524-4d99-9334-bc41d0fb3086_296534d1-6111-4b50-9b04-824bc81a9941_6f9dc9c8-0e4f-4cbf-aa9d-71bc09e0df20","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"729721ed-da78-4bdc-ab5c-b9e59019e46a","relation":"02508ae9-4524-4d99-9334-bc41d0fb3086_296534d1-6111-4b50-9b04-824bc81a9941_729721ed-da78-4bdc-ab5c-b9e59019e46a","variable":"efc09356-e1f2-40f7-8a0a-4c454429e678","action":"equals","value":"piwik_download","options":[]},{"id":"f7c6350f-abc5-443a-b4f7-c91f300f5cec","relation":"02508ae9-4524-4d99-9334-bc41d0fb3086_296534d1-6111-4b50-9b04-824bc81a9941_f7c6350f-abc5-443a-b4f7-c91f300f5cec","variable":"899b0b6a-4445-4851-a519-272baf5fdfcb","action":"contains","value":"Search results","options":[]}],"tagIds":["02508ae9-4524-4d99-9334-bc41d0fb3086"]},{"id":"afb85a04-e4f9-446b-8e39-2ddf682d1bd7","type":"event","relation":"0d6e1d70-4bb6-4c49-9370-141303ac0b8f_afb85a04-e4f9-446b-8e39-2ddf682d1bd7","name":"SERP pages","conditions":[{"id":"da320ce8-00fc-44ec-b9e7-a54626c01946","relation":"0d6e1d70-4bb6-4c49-9370-141303ac0b8f_afb85a04-e4f9-446b-8e39-2ddf682d1bd7_da320ce8-00fc-44ec-b9e7-a54626c01946","variable":"899b0b6a-4445-4851-a519-272baf5fdfcb","action":"contains","value":"Search results","options":[]},{"id":"7b4da87c-4426-4554-b0dd-320a3f174102","relation":"0d6e1d70-4bb6-4c49-9370-141303ac0b8f_afb85a04-e4f9-446b-8e39-2ddf682d1bd7_7b4da87c-4426-4554-b0dd-320a3f174102","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"75c045ee-944b-461b-bed1-80798faa8d9e","relation":"0d6e1d70-4bb6-4c49-9370-141303ac0b8f_afb85a04-e4f9-446b-8e39-2ddf682d1bd7_75c045ee-944b-461b-bed1-80798faa8d9e","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"optedOut","options":[]}],"tagIds":["0d6e1d70-4bb6-4c49-9370-141303ac0b8f"]},{"id":"a825d8b2-1848-4403-928f-3f1122b1184f","type":"event","relation":"06140e86-a692-4836-a010-46c895717853_a825d8b2-1848-4403-928f-3f1122b1184f","name":"Broken Link External (part 3)","conditions":[{"id":"b8afeaa2-717e-4995-b837-c5ffc7745fb9","relation":"06140e86-a692-4836-a010-46c895717853_a825d8b2-1848-4403-928f-3f1122b1184f_b8afeaa2-717e-4995-b837-c5ffc7745fb9","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"optedOut","options":[]},{"id":"13aabc5c-8962-4b2f-9b13-1eee87e57505","relation":"06140e86-a692-4836-a010-46c895717853_a825d8b2-1848-4403-928f-3f1122b1184f_13aabc5c-8962-4b2f-9b13-1eee87e57505","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"f84cf40b-7a81-455e-b9f5-64cede75502d","relation":"06140e86-a692-4836-a010-46c895717853_a825d8b2-1848-4403-928f-3f1122b1184f_f84cf40b-7a81-455e-b9f5-64cede75502d","variable":"51f329ab-6883-4727-951f-5b600993bf7c","action":"does_not_contain","value":"eur-lex.europa.eu","options":[]},{"id":"3bf99991-a4f2-4a20-876c-698e6097edbf","relation":"06140e86-a692-4836-a010-46c895717853_a825d8b2-1848-4403-928f-3f1122b1184f_3bf99991-a4f2-4a20-876c-698e6097edbf","variable":"1c7ab51f-638b-4b4e-a21c-b3875f1f4e1d","action":"regexp","value":"Strani ni mogoe najti|Sivua ei lydy|Sidan hittades inte","options":[]}],"tagIds":["06140e86-a692-4836-a010-46c895717853"]},{"id":"a74a21fd-dd57-48d3-8d29-ac82dc5b2040","type":"event","relation":"06140e86-a692-4836-a010-46c895717853_a74a21fd-dd57-48d3-8d29-ac82dc5b2040","name":"Broken Link External (part 1)","conditions":[{"id":"e0b99bc9-50e2-4a31-bb95-4770bab3149e","relation":"06140e86-a692-4836-a010-46c895717853_a74a21fd-dd57-48d3-8d29-ac82dc5b2040_e0b99bc9-50e2-4a31-bb95-4770bab3149e","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"93986404-24ec-4d46-a6e8-5fb57698a1a1","relation":"06140e86-a692-4836-a010-46c895717853_a74a21fd-dd57-48d3-8d29-ac82dc5b2040_93986404-24ec-4d46-a6e8-5fb57698a1a1","variable":"1c7ab51f-638b-4b4e-a21c-b3875f1f4e1d","action":"regexp","value":"   |Pgina no encontrada|Strnka nenalezena|Siden ikke fundet|Seite nicht gefunden|Leheklge ei leitud|   |Page Not Found|Page introuvable|Nor aimsodh an leathanach|Stranica nije pronaena|Pagina non trovata","options":[]},{"id":"36064e04-262e-437b-a94e-d05208d887ab","relation":"06140e86-a692-4836-a010-46c895717853_a74a21fd-dd57-48d3-8d29-ac82dc5b2040_36064e04-262e-437b-a94e-d05208d887ab","variable":"51f329ab-6883-4727-951f-5b600993bf7c","action":"does_not_contain","value":"eur-lex.europa.eu","options":[]},{"id":"c29480cf-f75c-4e87-ada8-d93d2c53c58e","relation":"06140e86-a692-4836-a010-46c895717853_a74a21fd-dd57-48d3-8d29-ac82dc5b2040_c29480cf-f75c-4e87-ada8-d93d2c53c58e","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"optedOut","options":[]}],"tagIds":["06140e86-a692-4836-a010-46c895717853"]},{"id":"2c62442b-dd2c-4fb0-b34c-70eef2d9a4d6","type":"event","relation":"06140e86-a692-4836-a010-46c895717853_2c62442b-dd2c-4fb0-b34c-70eef2d9a4d6","name":"Broken Link External (part 2)","conditions":[{"id":"6ca54be8-92ca-44d6-9ab0-f00dbf892d55","relation":"06140e86-a692-4836-a010-46c895717853_2c62442b-dd2c-4fb0-b34c-70eef2d9a4d6_6ca54be8-92ca-44d6-9ab0-f00dbf892d55","variable":"1c7ab51f-638b-4b4e-a21c-b3875f1f4e1d","action":"regexp","value":"Lappuse nav atrasta|Puslapis nerastas|Nem tallhat az oldal|Il-pana ma nstabitx|Pagina niet gevonden|Strona nie zostaa znaleziona|Pgina no encontrada|Pagina nu a fost gsit|Strnka nebola njden","options":[]},{"id":"52aeee35-ec4f-4034-89b9-8ccb3162075b","relation":"06140e86-a692-4836-a010-46c895717853_2c62442b-dd2c-4fb0-b34c-70eef2d9a4d6_52aeee35-ec4f-4034-89b9-8ccb3162075b","variable":"51f329ab-6883-4727-951f-5b600993bf7c","action":"does_not_contain","value":"eur-lex.europa.eu","options":[]},{"id":"46faccb8-e07a-409f-a24a-f7499e830858","relation":"06140e86-a692-4836-a010-46c895717853_2c62442b-dd2c-4fb0-b34c-70eef2d9a4d6_46faccb8-e07a-409f-a24a-f7499e830858","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"1af434f4-dc35-41d0-b4ae-4f6b611b9b12","relation":"06140e86-a692-4836-a010-46c895717853_2c62442b-dd2c-4fb0-b34c-70eef2d9a4d6_1af434f4-dc35-41d0-b4ae-4f6b611b9b12","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"optedOut","options":[]}],"tagIds":["06140e86-a692-4836-a010-46c895717853"]},{"id":"a5bab6c4-6d19-4c1d-a93c-a63cb7231b53","type":"event","relation":"c92c2afc-b6da-4f0c-9520-b5bdb0b19086_a5bab6c4-6d19-4c1d-a93c-a63cb7231b53","name":"Broken Link Internal (part 3)","conditions":[{"id":"c680e400-b3c9-4867-ad8c-767dd793dbb4","relation":"c92c2afc-b6da-4f0c-9520-b5bdb0b19086_a5bab6c4-6d19-4c1d-a93c-a63cb7231b53_c680e400-b3c9-4867-ad8c-767dd793dbb4","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"ba389096-af3d-421a-97b3-b4bc26eeeca3","relation":"c92c2afc-b6da-4f0c-9520-b5bdb0b19086_a5bab6c4-6d19-4c1d-a93c-a63cb7231b53_ba389096-af3d-421a-97b3-b4bc26eeeca3","variable":"1c7ab51f-638b-4b4e-a21c-b3875f1f4e1d","action":"regexp","value":"Strani ni mogoe najti|Sivua ei lydy|Sidan hittades inte","options":[]},{"id":"01d48589-caa7-465a-afa4-b564dde36814","relation":"c92c2afc-b6da-4f0c-9520-b5bdb0b19086_a5bab6c4-6d19-4c1d-a93c-a63cb7231b53_01d48589-caa7-465a-afa4-b564dde36814","variable":"51f329ab-6883-4727-951f-5b600993bf7c","action":"contains","value":"eur-lex.europa.eu","options":[]},{"id":"407b3577-7dc1-4a38-9caf-e92695e59546","relation":"c92c2afc-b6da-4f0c-9520-b5bdb0b19086_a5bab6c4-6d19-4c1d-a93c-a63cb7231b53_407b3577-7dc1-4a38-9caf-e92695e59546","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"optedOut","options":[]}],"tagIds":["c92c2afc-b6da-4f0c-9520-b5bdb0b19086"]},{"id":"2abd7056-1084-4270-9d08-540f78f2934e","type":"event","relation":"c92c2afc-b6da-4f0c-9520-b5bdb0b19086_2abd7056-1084-4270-9d08-540f78f2934e","name":"Broken Link Internal (part 1)","conditions":[{"id":"4e105d35-8781-4dac-a50a-1dae4c4c766b","relation":"c92c2afc-b6da-4f0c-9520-b5bdb0b19086_2abd7056-1084-4270-9d08-540f78f2934e_4e105d35-8781-4dac-a50a-1dae4c4c766b","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"optedOut","options":[]},{"id":"9d610637-a0a2-4ed6-9382-c0c9c19c04b2","relation":"c92c2afc-b6da-4f0c-9520-b5bdb0b19086_2abd7056-1084-4270-9d08-540f78f2934e_9d610637-a0a2-4ed6-9382-c0c9c19c04b2","variable":"1c7ab51f-638b-4b4e-a21c-b3875f1f4e1d","action":"regexp","value":"   |Pgina no encontrada|Strnka nenalezena|Siden ikke fundet|Seite nicht gefunden|Leheklge ei leitud|   |Page Not Found|Page introuvable|Nor aimsodh an leathanach|Stranica nije pronaena|Pagina non trovata","options":[]},{"id":"1b6399e5-8a87-4317-9ea4-47fbe17b943c","relation":"c92c2afc-b6da-4f0c-9520-b5bdb0b19086_2abd7056-1084-4270-9d08-540f78f2934e_1b6399e5-8a87-4317-9ea4-47fbe17b943c","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"7ad33d7f-bd66-4c4c-94b4-847bf50688bf","relation":"c92c2afc-b6da-4f0c-9520-b5bdb0b19086_2abd7056-1084-4270-9d08-540f78f2934e_7ad33d7f-bd66-4c4c-94b4-847bf50688bf","variable":"51f329ab-6883-4727-951f-5b600993bf7c","action":"contains","value":"eur-lex.europa.eu","options":[]}],"tagIds":["c92c2afc-b6da-4f0c-9520-b5bdb0b19086"]},{"id":"e3d55544-45c1-42d8-b483-e19440f44c0a","type":"event","relation":"c92c2afc-b6da-4f0c-9520-b5bdb0b19086_e3d55544-45c1-42d8-b483-e19440f44c0a","name":"Broken Link Internal (part 2)","conditions":[{"id":"857b65c4-7d3a-43ff-a1b7-50447f901be6","relation":"c92c2afc-b6da-4f0c-9520-b5bdb0b19086_e3d55544-45c1-42d8-b483-e19440f44c0a_857b65c4-7d3a-43ff-a1b7-50447f901be6","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"967e34a6-8733-4d53-b568-ef012c279bfb","relation":"c92c2afc-b6da-4f0c-9520-b5bdb0b19086_e3d55544-45c1-42d8-b483-e19440f44c0a_967e34a6-8733-4d53-b568-ef012c279bfb","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"optedOut","options":[]},{"id":"cf5a4955-5552-4471-a3cc-d8b970d2ab4d","relation":"c92c2afc-b6da-4f0c-9520-b5bdb0b19086_e3d55544-45c1-42d8-b483-e19440f44c0a_cf5a4955-5552-4471-a3cc-d8b970d2ab4d","variable":"51f329ab-6883-4727-951f-5b600993bf7c","action":"contains","value":"eur-lex.europa.eu","options":[]},{"id":"992ba0ac-ebf4-409f-9521-52422eb7b308","relation":"c92c2afc-b6da-4f0c-9520-b5bdb0b19086_e3d55544-45c1-42d8-b483-e19440f44c0a_992ba0ac-ebf4-409f-9521-52422eb7b308","variable":"1c7ab51f-638b-4b4e-a21c-b3875f1f4e1d","action":"regexp","value":"Lappuse nav atrasta|Puslapis nerastas|Nem tallhat az oldal|Il-pana ma nstabitx|Pagina niet gevonden|Strona nie zostaa znaleziona|Pgina no encontrada|Pagina nu a fost gsit|Strnka nebola njden","options":[]}],"tagIds":["c92c2afc-b6da-4f0c-9520-b5bdb0b19086"]},{"id":"cbcb392c-3476-43d3-9716-0449765aa919","type":"event","relation":"5ba12795-bfe9-4c4c-9743-05873ee1c6d4_cbcb392c-3476-43d3-9716-0449765aa919","name":"Click_SERP","conditions":[{"id":"60b54197-b6c1-4a34-b282-0344d724f25e","relation":"5ba12795-bfe9-4c4c-9743-05873ee1c6d4_cbcb392c-3476-43d3-9716-0449765aa919_60b54197-b6c1-4a34-b282-0344d724f25e","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"b13e4537-4bc9-48d9-b6fe-24d77e1d900e","relation":"5ba12795-bfe9-4c4c-9743-05873ee1c6d4_cbcb392c-3476-43d3-9716-0449765aa919_b13e4537-4bc9-48d9-b6fe-24d77e1d900e","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"OP.serpClick","options":[]}],"tagIds":["5ba12795-bfe9-4c4c-9743-05873ee1c6d4"]},{"id":"5cd12acc-e1e8-4de6-9b46-7c586822203a","type":"click","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_5cd12acc-e1e8-4de6-9b46-7c586822203a","name":"ECB - Advanced search","conditions":[{"id":"5cd12acc-e1e8-4de6-9b46-7c586822203a","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_5cd12acc-e1e8-4de6-9b46-7c586822203a_5cd12acc-e1e8-4de6-9b46-7c586822203a","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"051abb12-1b40-466b-9e12-eaa0f3a9a520","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_5cd12acc-e1e8-4de6-9b46-7c586822203a_051abb12-1b40-466b-9e12-eaa0f3a9a520","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"5eb5bd93-450a-4142-9691-be47ad7c1f24","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_5cd12acc-e1e8-4de6-9b46-7c586822203a_5eb5bd93-450a-4142-9691-be47ad7c1f24","variable":"f39468e9-ae2d-4e58-9e2c-73a4d44add6f","action":"equals","value":"Ecb-adv-search-btn-in-qs","options":[]}],"tagIds":["8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e"]},{"id":"1f3ef955-274a-4f5a-9359-d24dbdaec92a","type":"click","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_1f3ef955-274a-4f5a-9359-d24dbdaec92a","name":"ECB - Recenlty published","conditions":[{"id":"1f3ef955-274a-4f5a-9359-d24dbdaec92a","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_1f3ef955-274a-4f5a-9359-d24dbdaec92a_1f3ef955-274a-4f5a-9359-d24dbdaec92a","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"fdea745a-e5e3-472b-8a90-427823235321","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_1f3ef955-274a-4f5a-9359-d24dbdaec92a_fdea745a-e5e3-472b-8a90-427823235321","variable":"efc09356-e1f2-40f7-8a0a-4c454429e678","action":"equals","value":"title","options":[]},{"id":"292c288b-5a32-4301-bbd1-a186b26caff7","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_1f3ef955-274a-4f5a-9359-d24dbdaec92a_292c288b-5a32-4301-bbd1-a186b26caff7","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"65b38ad3-f8d1-4f26-b356-4cfe577cbc3e","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_1f3ef955-274a-4f5a-9359-d24dbdaec92a_65b38ad3-f8d1-4f26-b356-4cfe577cbc3e","variable":"67ed6060-eace-4370-8ede-a083f7c909f1","action":"contains","value":"/browse/institutions/bank","options":[]}],"tagIds":["8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e"]},{"id":"6727af8a-e7eb-4ee6-999f-2e169db93031","type":"form_submission","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_6727af8a-e7eb-4ee6-999f-2e169db93031","name":"ECB - Find a document","conditions":[{"id":"6727af8a-e7eb-4ee6-999f-2e169db93031","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_6727af8a-e7eb-4ee6-999f-2e169db93031_6727af8a-e7eb-4ee6-999f-2e169db93031","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.formSubmit","options":[]},{"id":"5fcbda70-df88-4bf7-8b13-0c5286e3634c","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_6727af8a-e7eb-4ee6-999f-2e169db93031_5fcbda70-df88-4bf7-8b13-0c5286e3634c","variable":"b1504526-de0d-4c27-9ff0-1ee7734561ed","action":"contains","value":"searchWidgetDocumentNumber","options":[]},{"id":"d4769873-11bd-4fe6-8578-58f8e5db4438","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_6727af8a-e7eb-4ee6-999f-2e169db93031_d4769873-11bd-4fe6-8578-58f8e5db4438","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"d8183f04-ce11-4c1e-9817-49889f13b0f7","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_6727af8a-e7eb-4ee6-999f-2e169db93031_d8183f04-ce11-4c1e-9817-49889f13b0f7","variable":"67ed6060-eace-4370-8ede-a083f7c909f1","action":"contains","value":"/browse/institutions/bank","options":[]}],"tagIds":["8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e"]},{"id":"ab092934-9f4a-4769-9e0f-b1d3bc947659","type":"click","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_ab092934-9f4a-4769-9e0f-b1d3bc947659","name":"ECB - Browse by topic","conditions":[{"id":"ab092934-9f4a-4769-9e0f-b1d3bc947659","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_ab092934-9f4a-4769-9e0f-b1d3bc947659_ab092934-9f4a-4769-9e0f-b1d3bc947659","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"f6d3c1b6-2e03-4a42-9211-c60fb276875e","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_ab092934-9f4a-4769-9e0f-b1d3bc947659_f6d3c1b6-2e03-4a42-9211-c60fb276875e","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"127cdeee-dbba-47de-8d8b-56d3a80ea733","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_ab092934-9f4a-4769-9e0f-b1d3bc947659_127cdeee-dbba-47de-8d8b-56d3a80ea733","variable":"efc09356-e1f2-40f7-8a0a-4c454429e678","action":"contains","value":"gotoResultsLinkFontawsome","options":[]},{"id":"0b0a8a7e-a608-4c2a-8d13-789e00fc34de","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_ab092934-9f4a-4769-9e0f-b1d3bc947659_0b0a8a7e-a608-4c2a-8d13-789e00fc34de","variable":"67ed6060-eace-4370-8ede-a083f7c909f1","action":"contains","value":"/browse/institutions/bank","options":[]}],"tagIds":["8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e"]},{"id":"6284fd67-dc92-4d93-9983-b36f99e0fd9f","type":"click","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_6284fd67-dc92-4d93-9983-b36f99e0fd9f","name":"ECB - Banking supervision","conditions":[{"id":"6284fd67-dc92-4d93-9983-b36f99e0fd9f","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_6284fd67-dc92-4d93-9983-b36f99e0fd9f_6284fd67-dc92-4d93-9983-b36f99e0fd9f","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"2f519c6f-c037-4ea7-ace7-0c0a2af8db1e","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_6284fd67-dc92-4d93-9983-b36f99e0fd9f_2f519c6f-c037-4ea7-ace7-0c0a2af8db1e","variable":"efd3558a-714d-4b33-9edd-2bbeb0b5eaf7","action":"contains","value":"/browse/institutions/bank/banking-supervision.htm","options":[]},{"id":"5da68f46-ce52-444f-b59c-9d4393e652d9","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_6284fd67-dc92-4d93-9983-b36f99e0fd9f_5da68f46-ce52-444f-b59c-9d4393e652d9","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]}],"tagIds":["8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e"]},{"id":"f1d55a3c-8bac-4fdd-968b-810f92138a10","type":"form_submission","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_f1d55a3c-8bac-4fdd-968b-810f92138a10","name":"ECB - Find a court case","conditions":[{"id":"f1d55a3c-8bac-4fdd-968b-810f92138a10","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_f1d55a3c-8bac-4fdd-968b-810f92138a10_f1d55a3c-8bac-4fdd-968b-810f92138a10","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.formSubmit","options":[]},{"id":"25dff8de-16d6-4c80-be3a-f65595459d47","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_f1d55a3c-8bac-4fdd-968b-810f92138a10_25dff8de-16d6-4c80-be3a-f65595459d47","variable":"67ed6060-eace-4370-8ede-a083f7c909f1","action":"contains","value":"/browse/institutions/bank","options":[]},{"id":"024274a9-194d-44c2-a503-17c0d47d7f29","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_f1d55a3c-8bac-4fdd-968b-810f92138a10_024274a9-194d-44c2-a503-17c0d47d7f29","variable":"b1504526-de0d-4c27-9ff0-1ee7734561ed","action":"contains","value":"searchWidgetCourtCase","options":[]},{"id":"0aeacba3-d7ee-488a-b658-97becc5aea36","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_f1d55a3c-8bac-4fdd-968b-810f92138a10_0aeacba3-d7ee-488a-b658-97becc5aea36","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]}],"tagIds":["8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e"]},{"id":"3e26ac0b-fb5a-40ae-abae-92e5815113d4","type":"click","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_3e26ac0b-fb5a-40ae-abae-92e5815113d4","name":"ECB - Quick search","conditions":[{"id":"3e26ac0b-fb5a-40ae-abae-92e5815113d4","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_3e26ac0b-fb5a-40ae-abae-92e5815113d4_3e26ac0b-fb5a-40ae-abae-92e5815113d4","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"728eaacd-b498-4986-857f-3f03be307ca5","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_3e26ac0b-fb5a-40ae-abae-92e5815113d4_728eaacd-b498-4986-857f-3f03be307ca5","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"b180490c-2af5-421b-8f7e-7a1660f00163","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_3e26ac0b-fb5a-40ae-abae-92e5815113d4_b180490c-2af5-421b-8f7e-7a1660f00163","variable":"f39468e9-ae2d-4e58-9e2c-73a4d44add6f","action":"equals","value":"quick-search-image-editorial","options":[]}],"tagIds":["8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e"]},{"id":"d457bbf1-1c1a-4074-91ca-fca2db11a42f","type":"click","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_d457bbf1-1c1a-4074-91ca-fca2db11a42f","name":"ECB - Visual navigation","conditions":[{"id":"d457bbf1-1c1a-4074-91ca-fca2db11a42f","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_d457bbf1-1c1a-4074-91ca-fca2db11a42f_d457bbf1-1c1a-4074-91ca-fca2db11a42f","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"equals","value":"stg.click","options":[]},{"id":"3919c2f1-b31e-487a-b341-8fa566db5b4a","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_d457bbf1-1c1a-4074-91ca-fca2db11a42f_3919c2f1-b31e-487a-b341-8fa566db5b4a","variable":"90bc78c6-b52f-41f1-ad5c-7d463eaeeea9","action":"is_false","value":null,"options":[]},{"id":"03cfe5ab-7d5f-40e5-be59-19dd41282149","relation":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e_d457bbf1-1c1a-4074-91ca-fca2db11a42f_03cfe5ab-7d5f-40e5-be59-19dd41282149","variable":"f39468e9-ae2d-4e58-9e2c-73a4d44add6f","action":"contains","value":"img-ecb","options":[]}],"tagIds":["8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e"]},{"id":"22a9cea3-0423-4643-aaf6-7ede28772b14","type":"click","relation":"988b26ad-ebe2-42fa-a695-371ce5259459_22a9cea3-0423-4643-aaf6-7ede28772b14","name":"Click: Agree to all","conditions":[{"id":"1dc6efb9-95fd-40fb-b307-b2b964b7e717","relation":"988b26ad-ebe2-42fa-a695-371ce5259459_22a9cea3-0423-4643-aaf6-7ede28772b14_1dc6efb9-95fd-40fb-b307-b2b964b7e717","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"stg.agreeToAllClicked","options":[]}],"tagIds":["988b26ad-ebe2-42fa-a695-371ce5259459"]},{"id":"3a673c4f-0a28-48d9-96ed-dc8d4956fd4c","type":"click","relation":"a82c335e-4896-48c6-9885-4e4f7ead04f8_3a673c4f-0a28-48d9-96ed-dc8d4956fd4c","name":"Click: Close","conditions":[{"id":"fdb0ef5f-4981-4e60-9ed3-2de7de893202","relation":"a82c335e-4896-48c6-9885-4e4f7ead04f8_3a673c4f-0a28-48d9-96ed-dc8d4956fd4c_fdb0ef5f-4981-4e60-9ed3-2de7de893202","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"stg.closeButtonClicked","options":[]}],"tagIds":["a82c335e-4896-48c6-9885-4e4f7ead04f8"]},{"id":"40e7b5d6-c8cd-4f92-9b5e-82fd6136fefe","type":"click","relation":"86f2ed31-9782-49b6-9c2e-989e78a51ed8_40e7b5d6-c8cd-4f92-9b5e-82fd6136fefe","name":"Click: Reject all","conditions":[{"id":"61aef87f-7de2-4e24-a42e-0bd5a626732e","relation":"86f2ed31-9782-49b6-9c2e-989e78a51ed8_40e7b5d6-c8cd-4f92-9b5e-82fd6136fefe_61aef87f-7de2-4e24-a42e-0bd5a626732e","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"stg.rejectAllClicked","options":[]}],"tagIds":["86f2ed31-9782-49b6-9c2e-989e78a51ed8"]},{"id":"79efb39f-71f3-4f50-80ec-fc2c9fd9a60f","type":"click","relation":"d10463e1-0e75-4ebb-a922-f8ccdbf886b6_79efb39f-71f3-4f50-80ec-fc2c9fd9a60f","name":"Click: Save choices","conditions":[{"id":"dea23e71-83d4-46ce-8b6d-088c073a02e0","relation":"d10463e1-0e75-4ebb-a922-f8ccdbf886b6_79efb39f-71f3-4f50-80ec-fc2c9fd9a60f_dea23e71-83d4-46ce-8b6d-088c073a02e0","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"stg.saveChoicesClicked","options":[]}],"tagIds":["d10463e1-0e75-4ebb-a922-f8ccdbf886b6"]},{"id":"e7f66ed3-43fe-4662-8d75-db6f50f2383e","type":"event","relation":"6579f6d9-1455-495c-9405-254e7f170101_e7f66ed3-43fe-4662-8d75-db6f50f2383e","name":"Consent decision made","conditions":[{"id":"707aa6c4-6a2c-4478-b81a-b236d20fe8cb","relation":"6579f6d9-1455-495c-9405-254e7f170101_e7f66ed3-43fe-4662-8d75-db6f50f2383e_707aa6c4-6a2c-4478-b81a-b236d20fe8cb","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"stg.consentDecisionMade","options":[]}],"tagIds":["6579f6d9-1455-495c-9405-254e7f170101"]},{"id":"fa8aaf82-4bcc-4f13-ba4a-e75302a854e2","type":"event","relation":"a7d16374-4f6b-4ef2-95d7-25d2e37201aa_fa8aaf82-4bcc-4f13-ba4a-e75302a854e2","name":"Impression: Popup","conditions":[{"id":"13590231-e1a1-4027-9eb3-1c490a67a826","relation":"a7d16374-4f6b-4ef2-95d7-25d2e37201aa_fa8aaf82-4bcc-4f13-ba4a-e75302a854e2_13590231-e1a1-4027-9eb3-1c490a67a826","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"stg.consentFormViewMain","options":[]}],"tagIds":["a7d16374-4f6b-4ef2-95d7-25d2e37201aa"]},{"id":"ebee0d87-e383-4857-b09b-e7470e4a8645","type":"event","relation":"552983e4-6071-4903-8bfa-f5fd5202bb1a_ebee0d87-e383-4857-b09b-e7470e4a8645","name":"Impression: Privacy settings","conditions":[{"id":"53817989-b3f5-4cb4-afe5-a1b9e7b625b6","relation":"552983e4-6071-4903-8bfa-f5fd5202bb1a_ebee0d87-e383-4857-b09b-e7470e4a8645_53817989-b3f5-4cb4-afe5-a1b9e7b625b6","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"stg.consentFormViewPrivacyPolicy","options":[]}],"tagIds":["552983e4-6071-4903-8bfa-f5fd5202bb1a"]},{"id":"b8359280-76ee-47cf-995e-bf08a91afc53","type":"event","relation":"e63bdacb-1746-4be7-a62c-12db6b3f12f4_b8359280-76ee-47cf-995e-bf08a91afc53","name":"Impression: Reminder","conditions":[{"id":"93f4048b-77cb-458a-bf37-77ff73364d86","relation":"e63bdacb-1746-4be7-a62c-12db6b3f12f4_b8359280-76ee-47cf-995e-bf08a91afc53_93f4048b-77cb-458a-bf37-77ff73364d86","variable":"977a1f9d-4fdb-43bf-9549-bdf68a7b69a6","action":"contains","value":"stg.consentFormViewReminder","options":[]}],"tagIds":["e63bdacb-1746-4be7-a62c-12db6b3f12f4"]}],"consentTemplatesSettings":{"default_language":"en","powered_by_enabled":true,"languages":{"en":{"en":"English"}},"consent_form_variant":"modal","reminder_enabled":true,"reminder_widget_variant":"consent_bar"},"tags":{"4bcafb0a-3fb4-449f-9d77-a537e3eaa836":{"id":"4bcafb0a-3fb4-449f-9d77-a537e3eaa836","name":"ADT opt-out","code":"<script type=\"text/javascript\">\n\nfunction allCookies() {\n\ttry {\n        all_cookies= document.cookie.split(\";\");\n\t\treturn all_cookies;\n\t} catch (e) {\n\t}\n}\n\nfunction cookieDelete(cookieName) {\n\tdocument.cookie = cookieName + \"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\n}\n\nfunction deletePiwikWebStorage() {\n\twindow.localStorage.removeItem(\"ppms_webstorage\");\n}\n\nfunction deletePiwikCookies(allCookies) {\n\tfor (var cookie = 0;  cookie < allCookies.length; cookie++) {\n\t\tif (allCookies[cookie].indexOf(\"_pk\") !== -1) {\n\t\t\tvar cookieName = allCookies[cookie].split(\"=\")[0];\n\t\t\tcookieDelete(cookieName);\n\t\t}\n\t}\n}\n\nfunction clearOnReject() {\n\tdeletePiwikCookies(allCookies());\n\tdeletePiwikWebStorage();\n}\n\nfunction readingCCK1 (pre_cck1) {\n\tvar checkedjson;\n\ttry {\n\t\tvar cck1= pre_cck1.replace(/%7B/g, '{').replace(/%7D/g, '}').replace(/%22/g, '\"').replace(/%3A/g, ':').replace(/%2C/g, ',');\n\t\tcheckedjson = JSON.parse(cck1.split(\"=\")[1]);\n\t} catch (e) {\n\t}\n\treturn checkedjson ;\n}\n  \nfunction euOptout(allCookies) {\n\tfor (var cookie = 0;  cookie < allCookies.length; cookie++) {\n\t\tif (allCookies[cookie].indexOf(\"cck1\")  !== -1) {\n\t\t\tvar cck1 = readingCCK1(allCookies[cookie]);\n            if (typeof cck1 !== 'undefined')\n\t\t\t\tif (cck1.cm == true && cck1.all1st == false){\n\t\t\t\t\treturn \"0\";\n\t\t\t\t}\n\t\t\t\telse if (cck1.cm == true && cck1.all1st == true){\n\t\t\t\t\treturn \"1\";\n\t\t\t\t}else{ \n\t\t\t\t\treturn \"-1\";\n\t\t\t\t}\n\t\t\telse{\n\t\t\t\treturn \"undefined\"\n            }\n\t\t}\n\t}\n}\n  \nfunction getSettings() {\n\tppms.cm.api('getComplianceSettings', function(settings){consentStatus = settings.consents.analytics.status},function(error){consentStatus=\"undefined\";});\n\treturn consentStatus;\n}\n\nfunction pushDatalayerTrue(){\n\tdataLayer.push({\n\t\tevent: \"optedOut\",\n\t\toptedOut: true,\n\t});\n}\n\nfunction pushDatalayerFalse(){\n\tdataLayer.push({\n\t\tevent: \"optedOut\",\n\t\toptedOut: false,\n\t});\n}\n\nfunction pushDatalayerFalseWithParams(param_init, param_status){\n\tdataLayer.push({\n\t\tevent: \"optedOut\",\n\t\toptedOut: false,\n\t\tinit: param_init,\n\t\tstatus: param_status,\n\t});\n}\n  \nfunction pushDatalayerTrueWithParams(param_init, param_status){\n\tdataLayer.push({\n\t\tevent: \"optedOut\",\n\t\toptedOut: true,\n\t\tinit: param_init,\n\t\tstatus: param_status,\n\t});\n}\n\nfunction setConsent0(){\n  console.log (\"setConsent0\");\n\tconsentRejected = {consents: {analytics: {status: 0}}};\n    ppms.cm.api('setComplianceSettings', consentRejected, function(consentRejected){});\n}\n\nfunction setConsent1(){\n  console.log (\"setConsent1\");\n\tconsentAccepted = {consents: {analytics: {status: 1}}};\n    ppms.cm.api('setComplianceSettings', consentAccepted, function(consentAccepted){});\n\n}\n\nfunction setConsentMinus1(){\n\tinitialConsent = {consents: ['analytics']};\n    ppms.cm.api('setInitialComplianceSettings', initialConsent, function(initialConsent){});\n}\n\nfunction optedOut() {\n\tif (getSettings() == \"undefined\"){\n\t\tvar cck1 = euOptout(allCookies());     \n\t\tswitch (cck1) {\n\t\t\tcase '0':            \n\t\t\t\tpushDatalayerTrueWithParams(\"undefined\",cck1);\n\t\t\t\tclearOnReject();\n\t\t\t\tsetConsent0();\n\t\t\t\tbreak;\n\t\t\tcase '1':\n\t\t\t\tpushDatalayerFalse();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tpushDatalayerFalseWithParams(\"undefined\",cck1);\n\t\t\t\tsetConsentMinus1();\n\t\t\t\tbreak;\n\t\t}\n\t}else if (getSettings() == 0){ \n\t\tvar cck1 = euOptout(allCookies());\n\t\tswitch (cck1) {\n\t\t\tcase '0':\n\t\t\t\tpushDatalayerTrue();\n\t\t\t\tclearOnReject();\n\t\t\t\tbreak;\n\t\t\tcase '1':\n\t\t\t\tpushDatalayerFalseWithParams(\"0\",cck1);\n\t\t\t\tsetConsent1();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tpushDatalayerFalseWithParams(\"0\",cck1);\n\t\t\t\tsetConsentMinus1();\n\t\t\t\tbreak;\n\t\t}\n\t}else if (getSettings() == 1){ \n\t\tvar cck1 = euOptout(allCookies());\n\t\tswitch (cck1) {\n\t\t\tcase '0':\n\t\t\t\tpushDatalayerTrueWithParams(\"undefined\",cck1);\n\t\t\t\tclearOnReject();\n\t\t\t\tsetConsent0();\n\t\t\t\tbreak;\n\t\t\tcase '1':\n            \tconsole.log(\"1 1\");\n\t\t\t\tpushDatalayerFalse();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tpushDatalayerFalseWithParams(\"1\",cck1);\n\t\t\t\tsetConsentMinus1();\n\t\t\t\tbreak;\n\t\t}\n\t}else if (getSettings() == -1){ \n\t\tvar cck1 = euOptout(allCookies());\n\t\tswitch (cck1) {\n\t\t\tcase '0':\n\t\t\t\tpushDatalayerTrueWithParams(\"-1\",cck1);\n\t\t\t\tclearOnReject();\n\t\t\t\tsetConsent0();\n\t\t\t\tbreak;\n\t\t\tcase '1':\n\t\t\t\tpushDatalayerFalseWithParams(\"-1\",cck1);\n\t\t\t\tsetConsent1();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tpushDatalayerFalse();\n\t\t\t\tbreak;\n\t\t}\n\t}\n  else {\n\t\tpushDatalayerFalse();\n    }\n  }\n\ntry {\n\t\n  var cmApiCheck = setInterval(function() {\n    if (typeof ppms.cm.api!=='undefined') {\n      optedOut();\n      clearInterval(cmApiCheck);\n    }\n  },500);\n  setTimeout(function(){\n    if (cmApiCheck){\n      clearInterval(cmApiCheck);\n      getSettings();\n    }\n  },15000);\n} catch (e) {}\n</script>","consentType":"not_require_consent","template":"custom_tag","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":true,"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":5,"triggerIds":["9cae43f2-765e-4afe-a0dd-be1cb8190422"]},"8b51e6b4-e159-4c10-822a-2e6260ad15e2":{"id":"8b51e6b4-e159-4c10-822a-2e6260ad15e2","name":"ADT opt-out-inPage","code":"<script type=\"text/javascript\">\n\nfunction allCookies() {\n\ttry {\n        all_cookies= document.cookie.split(\";\");\n\t\treturn all_cookies;\n\t} catch (e) {\n\t}\n}\n\nfunction cookieDelete(cookieName) {\n\tdocument.cookie = cookieName + \"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\n}\n\nfunction deletePiwikWebStorage() {\n\twindow.localStorage.removeItem(\"ppms_webstorage\");\n}\n\nfunction deletePiwikCookies(allCookies) {\n\tfor (var cookie = 0;  cookie < allCookies.length; cookie++) {\n\t\tif (allCookies[cookie].indexOf(\"_pk\") !== -1){          \n\t\t\tvar cookieName = allCookies[cookie].split(\"=\")[0];\n\t\t\tcookieDelete(cookieName);\n\t\t}\n\t}\n}\n\nfunction clearOnReject() {\n\tdeletePiwikCookies(allCookies());\n\tdeletePiwikWebStorage();\n}\n\nfunction pushDatalayerInPageTrue(){\n\tdataLayer.push({\n\t\tevent: \"opted-Out-inPage\",\n\t\toptedOut: true,\n\t});\n}\n  \nfunction pushDatalayerInPageFalse(){\n\tdataLayer.push({\n\t\tevent: \"opted-Out-inPage\",\n\t\toptedOut: false,\n\t});\n}\n\nfunction validatingJSON (pre_cck1) {\n\tvar checkedjson\n\ttry {\n\t\tvar cck1= pre_cck1.replace(/%7B/g, '{').replace(/%7D/g, '}').replace(/%22/g, '\"').replace(/%3A/g, ':').replace(/%2C/g, ',');\n\t\tcheckedjson = JSON.parse(cck1.split(\"=\")[1]);\n\t} catch (e) {\n\t}\n\treturn checkedjson ;\n}\n\nfunction euOptout(allCookies) {\n\tfor (var cookie = 0;  cookie < allCookies.length; cookie++) {\n\t\tif (allCookies[cookie].indexOf(\"cck1\")  !== -1) {\n\t\t\tvar cck1 = validatingJSON(allCookies[cookie]);\n            if (typeof cck1 !== 'undefined')\n\t\t\t\tif (cck1.cm == true && cck1.all1st == false){\n\t\t\t\t\treturn \"0\";\n\t\t\t\t}\n\t\t\t\telse if (cck1.cm == true && cck1.all1st == true){\n\t\t\t\t\treturn \"1\";\n\t\t\t\t}else{ \n\t\t\t\t\treturn \"-1\";\n\t\t\t\t}\n\t\t\telse{\n\t\t\t\treturn \"undefined\"\n            }\n\t\t}\n\t}\n}\n  \nfunction getSettings() {\n\tppms.cm.api('getComplianceSettings', function(settings){consentStatus = settings.consents.analytics.status},function(settings){consentStatus=\"undefined\";});\n\treturn consentStatus;\n}\n\nfunction optedOut(){\n\tif ((getSettings() == 0) && (euOptout(allCookies()) == 0)){\t\t\n        pushDatalayerInPageTrue();\n        clearOnReject();\n    }else if ((getSettings() == 1) && (euOptout(allCookies()) == 1)){\n    \tpushDatalayerInPageFalse();\n    }\n}\n\ntry { optedOut();} catch (e) {}\n</script>","consentType":"not_require_consent","template":"custom_tag","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":true,"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":5,"triggerIds":["4090ea16-0e2c-4dce-a65b-b98ad01216bc"]},"9b4e9840-a9b6-4068-bb53-3f4523ad624f":{"id":"9b4e9840-a9b6-4068-bb53-3f4523ad624f","name":"Piwik PRO Deanonymization","code":"<script type=\"text/javascript\">\n    var _paq = window._paq || [];\n    (function () {\n        var consents = {{ Consents }};\n        var consentType = 'analytics';\n        if (typeof consents !== 'undefined' &&\n            consents.hasOwnProperty('current_state') &&\n            consents.current_state.hasOwnProperty(consentType) &&\n            consents.current_state[consentType] === 1 &&\n            consents.hasOwnProperty('previous_state') &&\n            consents.previous_state.hasOwnProperty(consentType) &&\n            consents.previous_state[consentType] !== 1\n        ) {\n            _paq.push(['deanonymizeUser']);\n            _paq.push(['setVisitorCookieTimeout', 33955200]);\n        }\n    }());\n</script>\n","consentType":"analytics","template":"custom_tag","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":false,"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":1,"triggerIds":["ccd3922e-3b5d-4073-a0a8-ee6f30ec0582"]},"41ae9983-c805-44b0-8aeb-8ac637d7bf74":{"id":"41ae9983-c805-44b0-8aeb-8ac637d7bf74","name":"Piwik PRO","code":"<script type=\"text/javascript\">\n    var _paq = _paq || [];\n    (function () {\n        var trackAnonymously = {{ Piwik PRO Anonymization }}('analytics');\n        if (trackAnonymously) {\n            _paq.push(['setUserIsAnonymous', 1]);\n            _paq.push(['setVisitorCookieTimeout', 1800]);\n        }\n    }());\n</script>\n\n<script type=\"text/javascript\">\n    var _paq = _paq || [];\n    _paq.push(['setTrackingSource', 'jstc_tm']);\n    _paq.push(['enableLinkTracking']);\n    _paq.push(['setIpTracking', true]);\n    _paq.push(['setDomains', ['eur-lex.europa.eu/']]);\n    _paq.push(['setCustomDimensionValue', 1, {{ W - WT.cg_n }}]);\n    _paq.push(['setCustomDimensionValue', 2, {{ W - WT.cg_s }}]);\n    _paq.push(['setCustomDimensionValue', 3, {{ W - WT.pi }}]);\n    _paq.push(['setCustomDimensionValue', 4, {{ W - WT.z_docID }}]);\n    _paq.push(['setCustomDimensionValue', 5, {{ W - WT.z_usr_lan }}]);\n    _paq.push(['setCustomDimensionValue', 6, {{ W - WT.z_docSector }}]);\n    _paq.push(['setCustomDimensionValue', 7, {{ W - WT.z_docType }}]);\n    _paq.push(['setCustomDimensionValue', 8, {{ W - WT.z_docTitle }}]);\n    _paq.push(['setCustomDimensionValue', 9, {{ W - WT.seg_1 }}]);\n    _paq.push(['setCustomDimensionValue', 10, {{ W - DCSext.w_oss_metadata_field }}]);\n    _paq.push(['setCustomDimensionValue', 11, {{ W - DCSext.w_oss_metadata_collection_type }}]);\n    _paq.push(['setCustomDimensionValue', 12, {{ W - DCSext.w_oss_metadata_collection_option }}]);\n    _paq.push(['setCustomDimensionValue', 13, {{ W - DCSext.w_tour_page }}]);\n    _paq.push(['setCustomDimensionValue', 15, {{ W - DCSext.w_legissum_ID }}]);\n    _paq.push(['setCustomDimensionValue', 16, {{ U - PublicationLanguage }}]);\n    _paq.push(['setCustomDimensionValue', 17, {{ W - WT.z_ele }}]);\n    _paq.push(['setCustomDimensionValue', 18, {{ W - WT.z_ele_ev }}]);\n    _paq.push(['setCustomDimensionValue', 19, {{ U - WT.rss_f }}]);\n    _paq.push(['setCustomDimensionValue', 20, {{ U - WT.rss_a }}]);\n    _paq.push(['setCustomDimensionValue', 21, {{ U - page }}]);\n    _paq.push(['setSecureCookie', 1]);\n    _paq.push(['trackPageView']);\n    (function(p,i,w,ik) {\n        var g=ik.createElement('script'),s=ik.getElementsByTagName('script')[0];\n        _paq.push(['setTrackerUrl', p]);\n        _paq.push(['setSiteId', w]);\n        g.type='text/javascript';g.async=true;g.defer=true;g.src=i;s.parentNode.insertBefore(g,s);\n    })('https://analytics.webanalytics.op.europa.eu/ppms.php','https://analytics.webanalytics.op.europa.eu/ppms.js','0b5594a8\\u002Db9c8\\u002D4cd6\\u002Daa25\\u002D5c578dcf91df',document)\n</script>\n","consentType":"not_require_consent","template":"piwik","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":true,"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":1,"triggerIds":["34b5b366-2b33-413c-be48-299e9f88fb8e"]},"6a432c25-204a-43b7-80f5-30508b631004":{"id":"6a432c25-204a-43b7-80f5-30508b631004","name":"Click on SERP - Publication download DOC","code":"<script type=\"text/javascript\">\n    var _paq = _paq || [];\n    var clicked_button = {{ Click Element }};\n    var title = clicked_button.getAttribute(\"title\");\n    var CELEX = title.match('.*CELEX:([^\\/]*)');\n    if(CELEX){\n  \t\tvar docID = CELEX[1];\n    }\n    var pageURL = {{ Page Url }};//\n    var pageNumber;\n\n    var user_agent = window.navigator.userAgent;\n    var is_IE = false;\n  \tif ((user_agent.indexOf(\"Trident\") != -1) || (user_agent.indexOf(\"MSIE\")))\n        is_IE = true;\n    \n    if (is_IE){\n      // get position by parent element\n      var position_html = clicked_button.parentElement.parentElement.parentElement.parentElement.parentElement.getAttribute(\"id\");      \n    }else{\n      // get position by class\n      var position_html =  clicked_button.closest('.SearchResultData').getAttribute(\"id\");\n    }  \n    var position_array = position_html.split(\"_\");\n    var position = position_array[1];\n    \n// Get URL parameters (compatible with IE). Start\n   var vars = pageURL.split(\"&\");\n   var query_string = {};\n   for (var i = 0; i < vars.length; i++) {\n   \tvar pair = vars[i].split(\"=\");\n    var key = decodeURIComponent(pair[0]);\n    var value = decodeURIComponent(pair[1]);\n    if (typeof query_string[key] === \"undefined\") {\n      query_string[key] = decodeURIComponent(value);\n    } else if (typeof query_string[key] === \"string\") {\n      var arr = [query_string[key], decodeURIComponent(value)];\n      query_string[key] = arr;\n    } else {\n      query_string[key].push(decodeURIComponent(value));\n    }\n   }\n// End. \n  \n// Obtain data from URL parameter\n   var page = query_string.page;\n   var type = query_string.type;\n   var lang = query_string.lang;\n   var text = '';\n   if (query_string.text)\n   {\n  \t text = (query_string.text);\n   } \n   if (query_string.andText0)\n   {\n     if (text != '') \n     {\n       \t text += ' | ';\n     }\n      text +=  (query_string.andText0);\n   } \n   if (query_string.andText1)\n   {\n     if (text != '') \n     {\n       \t text += ' | ';\n     }\n \t\ttext += (query_string.andText1);\n   } \n   if (text == '')\n   {\n       text = 'No data';\n   }\n  \n   if (page) {\n    pageNumber = page;\n   } else {\n     pageNumber = '1';\n   }\n  \n//Create dataLayer event\n  dataLayer.push({\n        event: \"OP.serpClick\",\n        event_type: \"PUB_DOC\",\n        documentID:  docID, \n        searchPage: pageNumber, \n        searchType: type, \n        searchLang: lang,\n        searchKeyword: text,\n        position: position,\n      });\n\n</script>\n","consentType":"not_require_consent","template":"custom_tag","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":true,"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["85cd9c5d-5503-430e-9142-8187836c37e6"]},"01e89d15-be75-487f-92a6-0678b0b110e2":{"id":"01e89d15-be75-487f-92a6-0678b0b110e2","name":"Click on buttons","code":"<script type=\"text/javascript\">\n    var _paq = _paq || [];\n    var clicked_button = {{ Click Element }};\n    var button_title = clicked_button.getAttribute(\"id\");\n    _paq.push(['trackEvent', 'Button', 'Click' , button_title]);\n</script>\n","consentType":"not_require_consent","template":"custom_tag","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":true,"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["1c307387-af36-4714-8369-2ad6376ba43e","cf95679d-f353-4334-bdfe-daf51c5c14ab","ac97cdde-00d4-4d60-8585-017dc8fe9b24","b0b07861-9678-4854-a92c-a97627f39938"]},"8f828cc3-5718-47e7-8427-480333f4bcfd":{"id":"8f828cc3-5718-47e7-8427-480333f4bcfd","name":"Click on SERP - Publication download HTML","code":"<script type=\"text/javascript\">\n    var _paq = _paq || [];\n    var clicked_button = {{ Click Element }};\n    var title = clicked_button.getAttribute(\"title\");\n    var CELEX = title.match('.*CELEX:([^\\/]*)');\n    if(CELEX){\n  \t\tvar docID = CELEX[1];\n    }\n    var pageURL = {{ Page Url }};//\n    var pageNumber;\n\n    var user_agent = window.navigator.userAgent;\n    var is_IE = false;\n  \tif ((user_agent.indexOf(\"Trident\") != -1) || (user_agent.indexOf(\"MSIE\")))\n        is_IE = true;\n    \n    if (is_IE){\n      // get position by parent element\n      var position_html = clicked_button.parentElement.parentElement.parentElement.parentElement.parentElement.getAttribute(\"id\");      \n    }else{\n      // get position by class\n      var position_html =  clicked_button.closest('.SearchResultData').getAttribute(\"id\");\n    }  \n    var position_array = position_html.split(\"_\");\n    var position = position_array[1];\n  \n// Get URL parameters (compatible with IE). Start\n   var vars = pageURL.split(\"&\");\n   var query_string = {};\n   for (var i = 0; i < vars.length; i++) {\n   \tvar pair = vars[i].split(\"=\");\n    var key = decodeURIComponent(pair[0]);\n    var value = decodeURIComponent(pair[1]);\n    if (typeof query_string[key] === \"undefined\") {\n      query_string[key] = decodeURIComponent(value);\n    } else if (typeof query_string[key] === \"string\") {\n      var arr = [query_string[key], decodeURIComponent(value)];\n      query_string[key] = arr;\n    } else {\n      query_string[key].push(decodeURIComponent(value));\n    }\n   }\n// End. \n  \n// Obtain data from URL parameter\n   var page = query_string.page;\n   var type = query_string.type;\n   var lang = query_string.lang;\n   var text = '';\n   if (query_string.text)\n   {\n  \t text = (query_string.text);\n   } \n   if (query_string.andText0)\n   {\n     if (text != '') \n     {\n       \t text += ' | ';\n     }\n      text +=  (query_string.andText0);\n   } \n   if (query_string.andText1)\n   {\n     if (text != '') \n     {\n       \t text += ' | ';\n     }\n \t\ttext += (query_string.andText1);\n   } \n   if (text == '')\n   {\n       text = 'No data';\n   }\n  \n   if (page) {\n    pageNumber = page;\n   } else {\n     pageNumber = '1';\n   }\n  \n//Create dataLayer event\n  dataLayer.push({\n        event: \"OP.serpClick\",\n        event_type: \"PUB_HTML\",\n        documentID:  docID, \n        searchPage: pageNumber, \n        searchType: type, \n        searchLang: lang,\n        searchKeyword: text,\n        position: position,\n      });\n\n</script>\n","consentType":"not_require_consent","template":"custom_tag","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":true,"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["94442f70-dd6a-4925-bd65-b57c8b78a189"]},"588555d2-2da1-47c8-8e06-8d5d51007a17":{"id":"588555d2-2da1-47c8-8e06-8d5d51007a17","name":"Click on SERP - Publication Link","code":"<script type=\"text/javascript\">\n    var _paq = _paq || [];\n    var clicked_button = {{ Click Element }};\n    var button_title = 'Click on SERP';\n    var URL = clicked_button.getAttribute(\"name\");\n    var URLdate = clicked_button.getAttribute(\"href\");\n    var cellar = clicked_button.getAttribute(\"id\");\n//    var CELEX = URL.match('.*?uri=CELEX:([^\\/]*)');\n  \n   // Get rid parameter (compatible with IE). Start\n    var pos_firt_var = URLdate.split(\"?\");\n    var pos_all_vars = pos_firt_var[1].split(\"&\");\n    for (var i = 0; i < pos_all_vars.length; i++) {\n      var pos_pair = pos_all_vars[i].split(\"=\");\n      var pos_key = decodeURIComponent(pos_pair[0]);\n      var pos_value = decodeURIComponent(pos_pair[1]);\n      if (pos_key == \"rid\")\n        position = pos_value;      \n    }\n  \n    if(URL)\n    {\n    \tvar docN = URL.match('.*?uri=([^\\&]*)');\n    \tvar CELEX= docN[1].match('.*:(.*)');\n    } else if (URLdate) {\n       \tvar docN = URLdate.match('.*?uri=([^\\&]*).+?qid');\n    \tvar CELEX= docN[1].match('.*:(.*)');\n    }\n    if(CELEX){\n  \t\tvar docID = CELEX[1];\n    }\n    var pageURL = {{ Page Url }};//\n    var pageNumber;\n  \n// Get URL parameters (compatible with IE). Start\n   var var1 = pageURL.split(\"?\");\n   var vars = var1[1].split(\"&\");\n   var query_string = {};\n   for (var i = 0; i < vars.length; i++) {\n   \tvar pair = vars[i].split(\"=\");\n    var key = decodeURIComponent(pair[0]);\n    var value = decodeURIComponent(pair[1]);\n    if (typeof query_string[key] === \"undefined\") {\n      query_string[key] = decodeURIComponent(value);\n    } else if (typeof query_string[key] === \"string\") {\n      var arr = [query_string[key], decodeURIComponent(value)];\n      query_string[key] = arr;\n    } else {\n      query_string[key].push(decodeURIComponent(value));\n    }\n   }\n// End. \n  \n// Obtain data from URL parameter\n   var page = query_string.page;\n   var type = query_string.type;\n   var lang = query_string.lang;\n   var scope = query_string.scope;\n   var subdomInit = query_string.SUBDOM_INIT;\n   var statType = query_string.statType;\n   var isEcbCourtSearch = query_string.isEcbCourtSearch;\n   var text = '';\n   if (query_string.text)\n   {\n  \t text = (query_string.text);\n   } \n   if (query_string.andText0)\n   {\n     if (text != '') \n     {\n       \t text += ' | ';\n     }\n      text +=  (query_string.andText0);\n   } \n   if (query_string.andText1)\n   {\n     if (text != '') \n     {\n       \t text += ' | ';\n     }\n \t\ttext += (query_string.andText1);\n   } \n   if (text == '')\n   {\n       text = 'No data';\n   }\n  \n  //Search Type - Scope\n  if (scope == 'ECB_ACTS' && type == 'quick')\n  {\n    type = 'ECB quick search';\n    scope = 'ECB corner'\n  }\n  if (subdomInit == 'ECB_ACTS' && type == 'advanced' && !isEcbCourtSearch)\n  {\n    type = 'ECB Browse by topic';\n    scope = 'ECB corner'\n  }\n  if (statType == 'ECB')\n  {\n    type = 'ECB Visual navigation';\n    scope = 'ECB corner'\n  }\n  if (isEcbCourtSearch == 'false' && subdomInit == 'ECB_ACTS' && type == 'advanced')\n  {\n    type = 'ECB Find a document';\n    scope = 'ECB corner'\n  }\n  if (isEcbCourtSearch == 'true' && subdomInit == 'ECB_ACTS' && type == 'advanced')\n  {\n    type = 'ECB Find a Court case';\n    scope = 'ECB corner'\n  }\n  if (isEcbCourtSearch == 'null' && subdomInit == 'ECB_ACTS' && type == 'advanced')\n  {\n    type = 'ECB Advanced search';\n    scope = 'ECB corner'\n  }\n  if (scope == 'EURLEX' && type == 'quick')\n  {\n    type = 'Quick search';\n    scope = 'EUR-Lex'\n  }\n  if (type == 'advanced' && subdomInit != 'ECB_ACTS')\n  {\n    type = 'Advanced search';\n    scope = 'EUR-Lex'\n  }    \n  if (type == 'expert')\n  {\n    type = 'Expert search';\n    scope = 'EUR-Lex'\n  }    \n  \n  //console.log('Search Type - scope: ' + type + '- ' + scope);\n \n   if (page) {\n      pageNumber = page;\n    } else {\n      pageNumber = '1';\n    }\n//Create dataLayer event\n  dataLayer.push({\n        event: \"OP.serpClick\",\n        event_type: \"PUB_Link\",\n        documentID:  docID, \n        searchPage: pageNumber, \n        searchType: type, \n        searchLang: lang,\n        searchKeyword: text,\n        scope: scope,\n    \tposition: position,\n      });\n\t\n</script>\n","consentType":"not_require_consent","template":"custom_tag","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":true,"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["3c91bc00-5ac4-4929-832a-aa997198a82d"]},"d71f95d5-bbfd-42f6-a781-03630b52de8e":{"id":"d71f95d5-bbfd-42f6-a781-03630b52de8e","name":"Click on download e-Signature","code":"<script type=\"text/javascript\">\n    var _paq = _paq || [];\n    var clicked_download = {{ Click Element }};\n    _paq.push([\"trackLink\",{{ Click Url }},\"download\"]);\n</script>\n","consentType":"not_require_consent","template":"custom_tag","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":true,"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["046ef384-c7b8-4325-ad16-36cc092fc4b1"]},"7e203b74-73ab-430e-828e-131fd84fc347":{"id":"7e203b74-73ab-430e-828e-131fd84fc347","name":"cckv2_clicks","code":"<script type=\"text/javascript\">\n\tvar _paq = _paq || [];\n    var clicked_consent = {{ Click Classes }};\n\tif (clicked_consent.includes(\"ea_ignore\")){\n   \t\t_paq.push(['trackEvent', \"Consent\", \"CCKv2\", \"essential\"]);\n    }else{\n      \t_paq.push(['trackEvent', \"Consent\", \"CCKv2\", \"all\"]);\n    }\n</script>","consentType":"not_require_consent","template":"custom_tag","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":true,"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["42230039-55ff-4d44-8e95-c2dd233d3082"]},"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81":{"id":"6d26c180-b4f1-4bdf-a75b-220dbaf7dd81","name":"EuroVoc Usage","code":"<script type=\"text/javascript\">\n    var _paq = _paq || [];\n    var clicked_button = {{ Click Element }};\n    var title = clicked_button.getAttribute(\"title\");\n    var id = clicked_button.getAttribute(\"id\");\n    var clas = clicked_button.getAttribute(\"class\");\n    var url = clicked_button.getAttribute(\"href\");\n    var locationEuroVoc;\n    var term;\n    var category;\n    var button_title;\n\n  //HomePage\n  if (clas == 'gotoResultLink')\n  {\n    var urlTextHome = clicked_button.parentNode.innerText;\n    console.log ('urlTextHome: ' + urlTextHome);\n    term = urlTextHome.substring(0, urlTextHome.indexOf('search'));\n    locationEuroVoc = 'Homepage/ Browse by';\n    console.log('Location: ' + locationEuroVoc);\n    console.log('EuroVoc Term: ' + term);\n  }\n  \n  //Advanced search\n  if (id == 'topSearch')\n  {\n    var eurovocBrowse = document.getElementById('eurovocBrowse').value;\n\tvar term2 = eurovocBrowse.match(/\"(.*?)\"/)[1];\n   if (eurovocBrowse)\n    {\n      locationEuroVoc = 'Advanced search/Theme';\n      term = term2;\n      console.log('Location: Advanced search/Theme');\n      console.log('EuroVoc Term: ' + term);\n    }\n  }\n  \n  //Document information\n  if (url)\n  {\n  \t if (url.indexOf('DC_CODED') !== -1 && !id && !clas)\n   \t {\n       var urlTextDocumentInformation = clicked_button.children[0].innerText;\n       locationEuroVoc = 'Document information page/classification';\n       term = urlTextDocumentInformation;\n       console.log('Document information page/classification');\n       console.log('EuroVoc Term: ' + urlTextDocumentInformation);\n     }\n   }\n\n  //Facets\n  if (title)\n  {\n  \tif (title.indexOf('EuroVoc thesaurus term:') !==-1)\n\t  {\n  \t  locationEuroVoc = 'Facet';\n      var text = clicked_button.innerHTML.substr(0, clicked_button.innerHTML.indexOf('<'));\n  \t  term = title + '-' + text;\n\n  \t  console.log('Location: Facet');\n   \t  console.log('EuroVoc Term: ' + term);\n      }\n  }\n\nif (location && term)\n{\n    _paq.push(['trackEvent', 'EuroVoc usage', locationEuroVoc , term]);\n}\n\n  \n</script>","consentType":"not_require_consent","template":"custom_tag","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":true,"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["e5a2cda8-7929-4da8-b015-e69df6f51477","432af1b1-fb9a-4cc7-8d95-a472ef9a9a3e","14334dce-f519-478f-a65f-59ceb76566a6","58b6872f-d1f9-4512-aed0-f35f28067a8c","ed2355b0-66e3-47a1-a1d6-363421e7e382"]},"02508ae9-4524-4d99-9334-bc41d0fb3086":{"id":"02508ae9-4524-4d99-9334-bc41d0fb3086","name":"Click on SERP - Publication download PDF","code":"<script type=\"text/javascript\">\n    var _paq = _paq || [];\n    var clicked_button = {{ Click Element }};\n    var title = clicked_button.getAttribute(\"title\");\n    var CELEX = title.match('.*CELEX:([^\\/]*)');\n    if(CELEX){\n  \t\tvar docID = CELEX[1];\n    }\n    var pageURL = {{ Page Url }};//\n    var pageNumber;\n  \n    var user_agent = window.navigator.userAgent;\n    var is_IE = false;\n  \tif ((user_agent.indexOf(\"Trident\") != -1) || (user_agent.indexOf(\"MSIE\")))\n        is_IE = true;\n    \n    if (is_IE){\n      // get position by parent element\n      var position_html = clicked_button.parentElement.parentElement.parentElement.parentElement.parentElement.getAttribute(\"id\");      \n    }else{\n      // get position by class\n      var position_html =  clicked_button.closest('.SearchResultData').getAttribute(\"id\");\n    }  \n    var position_array = position_html.split(\"_\");\n    var position = position_array[1];\n  \n// Get URL parameters (compatible with IE). Start\n   var vars = pageURL.split(\"&\");\n   var query_string = {};\n   for (var i = 0; i < vars.length; i++) {\n   \tvar pair = vars[i].split(\"=\");\n    var key = decodeURIComponent(pair[0]);\n    var value = decodeURIComponent(pair[1]);\n    if (typeof query_string[key] === \"undefined\") {\n      query_string[key] = decodeURIComponent(value);\n    } else if (typeof query_string[key] === \"string\") {\n      var arr = [query_string[key], decodeURIComponent(value)];\n      query_string[key] = arr;\n    } else {\n      query_string[key].push(decodeURIComponent(value));\n    }\n   }\n// End. \n  \n// Obtain data from URL parameter\n   var page = query_string.page;\n   var type = query_string.type;\n   var lang = query_string.lang;\n   var text = '';\n   if (query_string.text)\n   {\n  \t text = (query_string.text);\n   } \n   if (query_string.andText0)\n   {\n     if (text != '') \n     {\n       \t text += ' | ';\n     }\n      text +=  (query_string.andText0);\n   } \n   if (query_string.andText1)\n   {\n     if (text != '') \n     {\n       \t text += ' | ';\n     }\n \t\ttext += (query_string.andText1);\n   } \n   if (text == '')\n   {\n       text = 'No data';\n   }\n  \n   if (page) {\n    pageNumber = page;\n   } else {\n     pageNumber = '1';\n   }\n  \n  \n//Create dataLayer event\n  dataLayer.push({\n        event: \"OP.serpClick\",\n        event_type: \"PUB_PDF\",\n        documentID:  docID, \n        searchPage: pageNumber, \n        searchType: type, \n        searchLang: lang,\n        searchKeyword: text,\n        position: position,\n      });\n\n</script>\n","consentType":"not_require_consent","template":"custom_tag","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":true,"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["296534d1-6111-4b50-9b04-824bc81a9941"]},"0d6e1d70-4bb6-4c49-9370-141303ac0b8f":{"id":"0d6e1d70-4bb6-4c49-9370-141303ac0b8f","name":"Click on SERP - Publication Link - Right and middle mouse button","code":"<script>\n  window.addEventListener('mousedown', e => {\n    if (e.button === 0) return;\n    if (!e){\n        var e = window.event;\n    }\n    if (e.target){\n        var clickedElement = e.target;\n    }\n    if (clickedElement.tagName === \"A\"){\n\tvar _paq = _paq || [];\n    var button_title = 'Click on SERP';\n    var URL = clickedElement.getAttribute(\"name\");\n    var cellar = clickedElement.getAttribute(\"id\");\n      var URLdate = clickedElement.getAttribute(\"href\");\n    var CELEX = URL.match('.*?uri=CELEX:([^\\/]*)');\n    if(CELEX){\n  \t\tvar docID = CELEX[1];\n    }\n    var pageURL = {{ Page Url }};//\n    var pageNumber;\n    \n    // Get rid parameter (compatible with IE). Start\n    var pos_firt_var = URLdate.split(\"?\");\n    var pos_all_vars = pos_firt_var[1].split(\"&\");\n    for (var i = 0; i < pos_all_vars.length; i++) {\n      var pos_pair = pos_all_vars[i].split(\"=\");\n      var pos_key = decodeURIComponent(pos_pair[0]);\n      var pos_value = decodeURIComponent(pos_pair[1]);\n      if (pos_key == \"rid\")\n        position = pos_value;      \n    }\n  \n// Get URL parameters (compatible with IE). Start\n   var vars = pageURL.split(\"&\");\n   var query_string = {};\n   for (var i = 0; i < vars.length; i++) {\n   \tvar pair = vars[i].split(\"=\");\n    var key = decodeURIComponent(pair[0]);\n    var value = decodeURIComponent(pair[1]);\n    if (typeof query_string[key] === \"undefined\") {\n      query_string[key] = decodeURIComponent(value);\n    } else if (typeof query_string[key] === \"string\") {\n      var arr = [query_string[key], decodeURIComponent(value)];\n      query_string[key] = arr;\n    } else {\n      query_string[key].push(decodeURIComponent(value));\n    }\n   }\n// End. \n  \n// Obtain data from URL parameter\n   var page = query_string.page;\n   var type = query_string.type;\n   var lang = query_string.lang;\n   var text = '';\n   if (query_string.text)\n   {\n  \t text = (query_string.text);\n   } \n   if (query_string.andText0)\n   {\n     if (text != '') \n     {\n       \t text += ' | ';\n     }\n      text +=  (query_string.andText0);\n   } \n   if (query_string.andText1)\n   {\n     if (text != '') \n     {\n       \t text += ' | ';\n     }\n \t\ttext += (query_string.andText1);\n   } \n   if (text == '')\n   {\n       text = 'No data';\n   }\n  \n  \n   if (page) {\n    pageNumber = page;\n   } else {\n     pageNumber = '1';\n   }\n  if (e.button == 1)\n    var eventText = \"OP.serpClickMiddleButton\"\n  else var eventText = \"OP.serpClickRightButton\"\n \n//Create dataLayer event\n  dataLayer.push({\n        event: eventText,\n        event_type: \"PUB_Link\",\n        documentID:  docID, \n        searchPage: pageNumber, \n        searchType: type, \n        searchLang: lang,\n        searchKeyword: text,\n    \tposition: position,\n      });\n\t\n\t\n}});\n</script>","consentType":"not_require_consent","template":"custom_tag","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":true,"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["afb85a04-e4f9-446b-8e39-2ddf682d1bd7"]},"06140e86-a692-4836-a010-46c895717853":{"id":"06140e86-a692-4836-a010-46c895717853","name":"Event - Broken Link External","code":"        <script type=\"text/javascript\">\n    var _paq = _paq || [];\n\n        _paq.push(['trackEvent', 'Broken Link External', {{ Document - Referrer }}, {{ Page Url }}]);\n</script>\n","consentType":"not_require_consent","template":"piwik_event","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":true,"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["a825d8b2-1848-4403-928f-3f1122b1184f","a74a21fd-dd57-48d3-8d29-ac82dc5b2040","2c62442b-dd2c-4fb0-b34c-70eef2d9a4d6"]},"c92c2afc-b6da-4f0c-9520-b5bdb0b19086":{"id":"c92c2afc-b6da-4f0c-9520-b5bdb0b19086","name":"Event - Broken Link Internal","code":"        <script type=\"text/javascript\">\n    var _paq = _paq || [];\n\n        _paq.push(['trackEvent', 'Broken Link Internal', {{ Document - Referrer }}, {{ Page Url }}]);\n</script>\n","consentType":"not_require_consent","template":"piwik_event","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":true,"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["a5bab6c4-6d19-4c1d-a93c-a63cb7231b53","2abd7056-1084-4270-9d08-540f78f2934e","e3d55544-45c1-42d8-b483-e19440f44c0a"]},"5ba12795-bfe9-4c4c-9743-05873ee1c6d4":{"id":"5ba12795-bfe9-4c4c-9743-05873ee1c6d4","name":"Click on SERP","code":"<script type=\"text/javascript\">\n    var _paq = _paq || [];\n    _paq.push([\"setCustomDimensionValue\",4, {{ DataLayer documentID }}]);\n    _paq.push([\"setCustomDimensionValue\",21, {{ DataLayer searchPage }}]);\n    _paq.push([\"setCustomDimensionValue\",22, {{ DataLayer searchKeyword }}]);\n    _paq.push([\"setCustomDimensionValue\",23, {{ DataLayer searchLang }}]);\n    _paq.push([\"setCustomDimensionValue\",24, {{ DataLayer searchType }}]);\n    _paq.push([\"setCustomDimensionValue\",25, {{ DataLayer scope }}]);\n  \n    _paq.push(['trackEvent', {{ Event }}, {{ DataLayer event_type }}, {{ DataLayer position }}]);\n  \n//Clearing dimensions so they are not populated for next events on the page   \n    _paq.push([\"setCustomDimensionValue\",4,\"\"]);\n    _paq.push([\"setCustomDimensionValue\",21,\"\"]);\n    _paq.push([\"setCustomDimensionValue\",22,\"\"]);\n    _paq.push([\"setCustomDimensionValue\",23,\"\"]);\n    _paq.push([\"setCustomDimensionValue\",24,\"\"]);\n    _paq.push([\"setCustomDimensionValue\",25,\"\"]);\n</script>","consentType":"not_require_consent","template":"custom_tag","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":true,"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["cbcb392c-3476-43d3-9716-0449765aa919"]},"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e":{"id":"8f8a1989-6cca-4f21-a69f-ca50f6d2dd7e","name":"ECB ","code":"<script type=\"text/javascript\">\n    var _paq = _paq || [];\n    var clicked_button = {{ Click Element }};\n    var clicked_form = {{ Form ID }};\n    var title = clicked_button.getAttribute(\"title\");\n    var id = clicked_button.getAttribute(\"id\");\n    var clas = clicked_button.getAttribute(\"class\");\n    var url = clicked_button.getAttribute(\"href\");\n    var category;\n    var button_title;\n    if (clas == 'gotoResultsLinkFontawsome')\n    {\n      category = 'Browse by topic';\n      start_substring = url.indexOf(\"CODED=c\") + 6 ;\n      end_substring = url.indexOf(\"&DTS_DOM\")\n      button_title = url.substr(start_substring, end_substring-start_substring);\n      text_lang = title;\n    }\n    if (clicked_form == 'searchWidgetDocumentNumber')\n    {\n      category = 'Find a document';\n      var year = document.getElementById('naturalYear').value;\n      var number = document.getElementById('QSNumber').value;\n      var type = document.getElementById('QSType').value;\n      button_title = 'Year: ' + year + ' |  Number: ' +  number + ' | Type:' + type;\n    }\n    if (clicked_form == 'searchWidgetCourtCase')\n    {\n      category = 'Find a court case';\n      var year = document.getElementById('courtDocYear').value;\n      var number = document.getElementById('courtNumber').value;\n      var type = document.getElementById('naturalNumberType').value;\n      switch(type) {\n        case 'naturalNumber.all.ecb.court.search':\n          type = 'All';\n          break;\n        case 'naturalNumber.courtOfJustice':\n          type = 'Court of Justice'; \n          break;\n        case 'naturalNumber.court':\n          type = 'General Court';\n          break;\n        case 'naturalNumber.civilServiceTribunal':\n          type = 'Civil Service Tribunal';\n          break;\n       }\n      button_title = 'Year: ' + year + ' |  Number: ' +  number + ' | Type:' + type;\n    }\n    if (clas == 'title')\n    {\n      category = 'Recently published';\n      text_lang = title;\n      start_substring = -1;\n      end_substring = -1;\n      //console.log (\"URL : \"+ url.toLowerCase());\n      start_substring = url.toLowerCase().indexOf(\"celex:\") + 6 ;\n      //console.log (\"Start Celex : \"+ start_substring);\n      if (start_substring < 6){\n      \tstart_substring = url.toLowerCase().indexOf(\"immc:\") + 5 ;\n      \t//console.log (\"Start IMMC: \"+ start_substring);\n      }\n      if (start_substring < 5){\n        start_substring = url.toLowerCase().indexOf(\"oj:\") + 3 ;      \n      \t//console.log (\"Start OJ: \"+ start_substring);\n      }\n      end_substring = url.substring(start_substring, url.length).indexOf(\"&\");\n      //console.log (\"End : \"+ end_substring);\n      if (end_substring == -1){\n      \tend_substring = url.length;\n      \t//console.log (\"End : \"+ end_substring);\n      }\n      button_title = url.substr(start_substring, end_substring);\n    }\n    if (url !== null && url.indexOf('browse/institutions/bank/banking-supervision.html') !== -1)\n    {\n      category = 'European banking supervision';\n      button_title = 'Banking supervision';\n    }\n    if (id) {\n    \tif(id.indexOf('img-ecb') !==-1)\n  \t\t  {\n    \t\t  category = 'Visual navigation';\n    \t\t  button_title = 'Click on the chart';\n  \t\t  }\n        else if (id.indexOf('quick-search-image-editorial') !==-1)\n          {\n              category = 'Quick search';\n    \t\t  button_title = document.getElementById('freetextEditorial').value;\n          }\n        else if (id.indexOf('Ecb-adv-search-btn-in-qs') !==-1)\n          {\n              category = 'Advanced search';\n    \t\t  button_title = \"N/A\"\n          }\n    }\n    //console.log('Category: ' + category);\n    //console.log('Button title: ' + button_title);        \n    _paq.push(['trackEvent', 'ECB', category , button_title]);\n  \n</script>","consentType":"not_require_consent","template":"custom_tag","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":true,"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["5cd12acc-e1e8-4de6-9b46-7c586822203a","1f3ef955-274a-4f5a-9359-d24dbdaec92a","6727af8a-e7eb-4ee6-999f-2e169db93031","ab092934-9f4a-4769-9e0f-b1d3bc947659","6284fd67-dc92-4d93-9983-b36f99e0fd9f","f1d55a3c-8bac-4fdd-968b-810f92138a10","3e26ac0b-fb5a-40ae-abae-92e5815113d4","d457bbf1-1c1a-4074-91ca-fca2db11a42f"]},"988b26ad-ebe2-42fa-a695-371ce5259459":{"id":"988b26ad-ebe2-42fa-a695-371ce5259459","name":"Click: Agree to all","code":"<script>\n    var _paq = _paq || [];\n    _paq.push([\"trackEvent\", 'consent_form_click', 'agree_to_all']);\n</script>\n","consentType":"not_require_consent","template":"consent_insights","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":false,"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["22a9cea3-0423-4643-aaf6-7ede28772b14"]},"a82c335e-4896-48c6-9885-4e4f7ead04f8":{"id":"a82c335e-4896-48c6-9885-4e4f7ead04f8","name":"Click: Close","code":"<script>\n    var _paq = _paq || [];\n    _paq.push([\"trackEvent\", 'consent_form_click', 'close']);\n</script>\n","consentType":"not_require_consent","template":"consent_insights","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":false,"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["3a673c4f-0a28-48d9-96ed-dc8d4956fd4c"]},"86f2ed31-9782-49b6-9c2e-989e78a51ed8":{"id":"86f2ed31-9782-49b6-9c2e-989e78a51ed8","name":"Click: Reject all","code":"<script>\n    var _paq = _paq || [];\n    _paq.push([\"trackEvent\", 'consent_form_click', 'reject_all']);\n</script>\n","consentType":"not_require_consent","template":"consent_insights","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":false,"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["40e7b5d6-c8cd-4f92-9b5e-82fd6136fefe"]},"d10463e1-0e75-4ebb-a922-f8ccdbf886b6":{"id":"d10463e1-0e75-4ebb-a922-f8ccdbf886b6","name":"Click: Save choices","code":"<script>\n    var _paq = _paq || [];\n    _paq.push([\"trackEvent\", 'consent_form_click', 'save_choices']);\n</script>\n","consentType":"not_require_consent","template":"consent_insights","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":false,"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["79efb39f-71f3-4f50-80ec-fc2c9fd9a60f"]},"6579f6d9-1455-495c-9405-254e7f170101":{"id":"6579f6d9-1455-495c-9405-254e7f170101","name":"Consent decision","code":"<script>\n    var _paq = window._paq || [];\n\n    (function() {\n        var consents = {{ Consents }};\n        var previousConsents = consents.previous_state;\n        var previousConsentDecisions = [];\n        var currentConsents = consents.current_state;\n        var currentConsentDecisions = [];\n        var consentType;\n\n        function includes(array, value) {\n            for (var i = 0; i < array.length; i++) {\n                if (array[i] === value) {\n                    return true;\n                }\n            }\n            return false;\n        }\n\n        function every(array, value) {\n            for (var i = 0; i < array.length; i++) {\n                if (array[i] !== value) {\n                    return false;\n                }\n            }\n            return true;\n        }\n\n        function getConsentScope(consentDecisions) {\n            if (every(consentDecisions, 1)) {\n                return 'full_consent';\n            }\n\n            if (every(consentDecisions, 0)) {\n                return 'no_consent';\n            }\n\n            return 'any_consent';\n        }\n\n        function getConsentDecision(consents, consentType) {\n            var consentDecision = consents[consentType];\n            if (typeof consentDecision !== 'undefined') {\n                return consentDecision;\n            }\n\n            return 'null';\n        }\n\n        for (consentType in previousConsents) {\n            previousConsentDecisions.push(previousConsents[consentType]);\n        }\n\n        for (consentType in currentConsents) {\n            currentConsentDecisions.push(currentConsents[consentType]);\n        }\n\n        var consentAction = includes(previousConsentDecisions, -1) ? 'first_consent' : 'changed_consent';\n        var consentScope = getConsentScope(currentConsentDecisions);\n\n        _paq.push(['setCustomVariable', 1, getConsentDecision(currentConsents, 'analytics'), getConsentDecision(currentConsents, 'ab_testing_and_personalization'), 'page']);\n        _paq.push(['setCustomVariable', 2, getConsentDecision(currentConsents, 'conversion_tracking'), getConsentDecision(currentConsents, 'marketing_automation'), 'page']);\n        _paq.push(['setCustomVariable', 3, getConsentDecision(currentConsents, 'remarketing'), getConsentDecision(currentConsents, 'user_feedback'), 'page']);\n        _paq.push(['setCustomVariable', 4, getConsentDecision(currentConsents, 'custom_consent'), 'null', 'page']);\n        _paq.push(['trackEvent', 'consent_decision', consentScope, consentAction]);\n\n        for (var i = 1; i <= 5; i++) {\n            _paq.push(['deleteCustomVariable', i, 'page']);\n        }\n    })()\n</script>\n","consentType":"not_require_consent","template":"consent_insights","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":false,"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["e7f66ed3-43fe-4662-8d75-db6f50f2383e"]},"a7d16374-4f6b-4ef2-95d7-25d2e37201aa":{"id":"a7d16374-4f6b-4ef2-95d7-25d2e37201aa","name":"Impression: Popup","code":"<script>\n    var _paq = _paq || [];\n    _paq.push([\"trackEvent\", 'consent_form_impression', 'popup']);\n</script>\n","consentType":"not_require_consent","template":"consent_insights","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":false,"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["fa8aaf82-4bcc-4f13-ba4a-e75302a854e2"]},"552983e4-6071-4903-8bfa-f5fd5202bb1a":{"id":"552983e4-6071-4903-8bfa-f5fd5202bb1a","name":"Impression: Privacy settings","code":"<script>\n    var _paq = _paq || [];\n    _paq.push([\"trackEvent\", 'consent_form_impression', 'privacy_settings']);\n</script>\n","consentType":"not_require_consent","template":"consent_insights","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":false,"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["ebee0d87-e383-4857-b09b-e7470e4a8645"]},"e63bdacb-1746-4be7-a62c-12db6b3f12f4":{"id":"e63bdacb-1746-4be7-a62c-12db6b3f12f4","name":"Impression: Reminder","code":"<script>\n    var _paq = _paq || [];\n    _paq.push([\"trackEvent\", 'consent_form_impression', 'reminder']);\n</script>\n","consentType":"not_require_consent","template":"consent_insights","documentWrite":false,"disableInDebugMode":false,"respectVisitorsPrivacy":false,"scheduler":{"date_ranges":[],"times_of_day":[]},"priority":0,"triggerIds":["b8359280-76ee-47cf-995e-bf08a91afc53"]}}}));
/*! For license information please see container.js.LICENSE.txt */
!function(){var e={808:function(e){var t;t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";var r,i=(r=n(1))&&r.__esModule?r:{default:r};e.exports=i.default},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=h;var i,o=(i=n(2))&&i.__esModule?i:{default:i},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(4));function s(){}var c={afterAsync:s,afterDequeue:s,afterStreamStart:s,afterWrite:s,autoFix:!0,beforeEnqueue:s,beforeWriteToken:function(e){return e},beforeWrite:function(e){return e},done:s,error:function(e){throw new Error(e.msg)},releaseAsync:!1},u=0,l=[],d=null;function p(){var e=l.shift();if(e){var t=a.last(e);t.afterDequeue(),e.stream=f.apply(void 0,e),t.afterStreamStart()}}function f(e,t,n){(d=new o.default(e,n)).id=u++,d.name=n.name||d.id,h.streams[d.name]=d;var i=e.ownerDocument,a={close:i.close,open:i.open,write:i.write,writeln:i.writeln};function c(e){e=n.beforeWrite(e),d.write(e),n.afterWrite(e)}r(i,{close:s,open:s,write:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return c(t.join(""))},writeln:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return c(t.join("")+"\n")}});var l=d.win.onerror||s;return d.win.onerror=function(e,t,r){n.error({msg:e+" - "+t+": "+r}),l.apply(d.win,[e,t,r])},d.write(t,(function(){r(i,a),d.win.onerror=l,n.done(),d=null,p()})),d}function h(e,t,n){if(a.isFunction(n))n={done:n};else if("clear"===n)return l=[],d=null,void(u=0);n=a.defaults(n,c);var r=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,n];return e.postscribe={cancel:function(){r.stream?r.stream.abort():r[1]=s}},n.beforeEnqueue(r),l.push(r),d||p(),e.postscribe}r(h,{streams:{},queue:l,WriteStream:o.default})},function(e,t,n){"use strict";t.__esModule=!0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=(r=n(3))&&r.__esModule?r:{default:r},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(4));function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c="data-ps-",u="ps-style",l="ps-script";function d(e,t){var n=c+t,r=e.getAttribute(n);return a.existy(r)?String(r):r}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=c+t;a.existy(n)&&""!==n?e.setAttribute(r,n):e.removeAttribute(r)}var f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,e),this.root=t,this.options=n,this.doc=t.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new o.default("",{autoFix:n.autoFix}),this.actuals=[t],this.proxyHistory="",this.proxyRoot=this.doc.createElement(t.nodeName),this.scriptStack=[],this.writeQueue=[],p(this.proxyRoot,"proxyof",0)}return e.prototype.write=function(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();a.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},e.prototype._callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},e.prototype._writeImpl=function(e){this.parser.append(e);for(var t=void 0,n=void 0,r=void 0,i=[];(t=this.parser.readToken())&&!(n=a.isScript(t))&&!(r=a.isStyle(t));)(t=this.options.beforeWriteToken(t))&&i.push(t);i.length>0&&this._writeStaticTokens(i),n&&this._handleScriptToken(t),r&&this._handleStyleToken(t)},e.prototype._writeStaticTokens=function(e){var t=this._buildChunk(e);return t.actual?(t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,this._walkChunk(),t):null},e.prototype._buildChunk=function(e){for(var t=this.actuals.length,n=[],r=[],i=[],o=e.length,a=0;a<o;a++){var s=e[a],c=s.toString();if(n.push(c),s.attrs){if(!/^noscript$/i.test(s.tagName)){var d=t++;r.push(c.replace(/(\/?>)/," data-ps-id="+d+" $1")),s.attrs.id!==l&&s.attrs.id!==u&&i.push("atomicTag"===s.type?"":"<"+s.tagName+" data-ps-proxyof="+d+(s.unary?" />":">"))}}else r.push(c),i.push("endTag"===s.type?c:"")}return{tokens:e,raw:n.join(""),actual:r.join(""),proxy:i.join("")}},e.prototype._walkChunk=function(){for(var e=void 0,t=[this.proxyRoot];a.existy(e=t.shift());){var n=1===e.nodeType;if(!n||!d(e,"proxyof")){n&&(this.actuals[d(e,"id")]=e,p(e,"id"));var r=e.parentNode&&d(e.parentNode,"proxyof");r&&this.actuals[r].appendChild(e)}t.unshift.apply(t,a.toArray(e.childNodes))}},e.prototype._handleScriptToken=function(e){var t=this,n=this.parser.clear();n&&this.writeQueue.unshift(n),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,(function(){t._onScriptDone(e)})))},e.prototype._handleStyleToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},e.prototype._writeStyleToken=function(e){var t=this._buildStyle(e);this._insertCursor(t,u),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},e.prototype._buildStyle=function(e){var t=this.doc.createElement(e.tagName);return t.setAttribute("type",e.type),a.eachKey(e.attrs,(function(e,n){t.setAttribute(e,n)})),t},e.prototype._insertCursor=function(e,t){this._writeImpl('<span id="'+t+'"/>');var n=this.doc.getElementById(t);n&&n.parentNode.replaceChild(e,n)},e.prototype._onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},e.prototype._onScriptDone=function(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},e.prototype._writeScriptToken=function(e,t){var n=this._buildScript(e),r=this._shouldRelease(n),i=this.options.afterAsync;e.src&&(n.src=e.src,this._scriptLoadHandler(n,r?i:function(){t(),i()}));try{this._insertCursor(n,l),n.src&&!r||t()}catch(e){this.options.error(e),t()}},e.prototype._buildScript=function(e){var t=this.doc.createElement(e.tagName);return a.eachKey(e.attrs,(function(e,n){t.setAttribute(e,n)})),e.content&&(t.text=e.content),t},e.prototype._scriptLoadHandler=function(e,t){function n(){e=e.onload=e.onreadystatechange=e.onerror=null}var r=this.options.error;function o(){n(),null!=t&&t(),t=null}function a(e){n(),r(e),null!=t&&t(),t=null}function s(e,t){var n=e["on"+t];null!=n&&(e["_on"+t]=n)}s(e,"load"),s(e,"error"),i(e,{onload:function(){if(e._onload)try{e._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){a({msg:"onload handler failed "+t+" @ "+e.src})}o()},onerror:function(){if(e._onerror)try{e._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){return void a({msg:"onerror handler failed "+t+" @ "+e.src})}a({msg:"remote script failed "+e.src})},onreadystatechange:function(){/^(loaded|complete)$/.test(e.readyState)&&o()}})},e.prototype._shouldRelease=function(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},e}();t.default=f},function(e,t,n){var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";var r,i=(r=n(1))&&r.__esModule?r:{default:r};e.exports=i.default},function(e,t,n){"use strict";t.__esModule=!0;var r,i=c(n(2)),o=c(n(3)),a=(r=n(6))&&r.__esModule?r:{default:r},s=n(5);function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},d=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u(this,e),this.stream=n;var o=!1,s={};for(var c in i)i.hasOwnProperty(c)&&(r.autoFix&&(s[c+"Fix"]=!0),o=o||s[c+"Fix"]);o?(this._readToken=(0,a.default)(this,s,(function(){return t._readTokenImpl()})),this._peekToken=(0,a.default)(this,s,(function(){return t._peekTokenImpl()}))):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return e.prototype.append=function(e){this.stream+=e},e.prototype.prepend=function(e){this.stream=e+this.stream},e.prototype._readTokenImpl=function(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},e.prototype._peekTokenImpl=function(){for(var e in l)if(l.hasOwnProperty(e)&&l[e].test(this.stream)){var t=o[e](this.stream);if(t)return"startTag"===t.type&&/script|style/i.test(t.tagName)?null:(t.text=this.stream.substr(0,t.length),t)}},e.prototype.peekToken=function(){return this._peekToken()},e.prototype.readToken=function(){return this._readToken()},e.prototype.readTokens=function(e){for(var t=void 0;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},e.prototype.clear=function(){var e=this.stream;return this.stream="",e},e.prototype.rest=function(){return this.stream},e}();for(var p in t.default=d,d.tokenToString=function(e){return e.toString()},d.escapeAttributes=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=(0,s.escapeQuotes)(e[n],null));return t},d.supports=i,i)i.hasOwnProperty(p)&&(d.browserHasFlaw=d.browserHasFlaw||!i[p]&&p)},function(e,t){"use strict";t.__esModule=!0;var n=!1,r=!1,i=window.document.createElement("div");try{var o="<P><I></P></I>";i.innerHTML=o,t.tagSoup=n=i.innerHTML!==o}catch(e){t.tagSoup=n=!1}try{i.innerHTML="<P><i><P></P></i></P>",t.selfClose=r=2===i.childNodes.length}catch(e){t.selfClose=r=!1}i=null,t.tagSoup=n,t.selfClose=r},function(e,t,n){"use strict";t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.comment=function(e){var t=e.indexOf("--\x3e");if(t>=0)return new i.CommentToken(e.substr(4,t-1),t+3)},t.chars=function(e){var t=e.indexOf("<");return new i.CharsToken(t>=0?t:e.length)},t.startTag=a,t.atomicTag=function(e){var t=a(e);if(t){var n=e.slice(t.length);if(n.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var r=n.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(r)return new i.AtomicTagToken(t.tagName,r[0].length+t.length,t.attrs,t.booleanAttrs,r[1])}}},t.endTag=function(e){var t=e.match(o.endTag);if(t)return new i.EndTagToken(t[1],t[0].length)};var i=n(4),o={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i};function a(e){var t,n,a;if(-1!==e.indexOf(">")){var s=e.match(o.startTag);if(s){var c=(t={},n={},a=s[2],s[2].replace(o.attr,(function(e,r){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(t[arguments[5]]="",n[arguments[5]]=!0):t[r]=arguments[2]||arguments[3]||arguments[4]||o.fillAttr.test(r)&&r||"":t[r]="",a=a.replace(e,"")})),{v:new i.StartTagToken(s[1],s[0].length,t,n,!!s[3],a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===(void 0===c?"undefined":r(c)))return c.v}}}},function(e,t,n){"use strict";t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=void 0;var r=n(5);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.Token=function e(t,n){i(this,e),this.type=t,this.length=n,this.text=""},t.CommentToken=function(){function e(t,n){i(this,e),this.type="comment",this.length=n||(t?t.length:0),this.text="",this.content=t}return e.prototype.toString=function(){return"\x3c!--"+this.content},e}(),t.CharsToken=function(){function e(t){i(this,e),this.type="chars",this.length=t,this.text=""}return e.prototype.toString=function(){return this.text},e}();var o=t.TagToken=function(){function e(t,n,r,o,a){i(this,e),this.type=t,this.length=r,this.text="",this.tagName=n,this.attrs=o,this.booleanAttrs=a,this.unary=!1,this.html5Unary=!1}return e.formatTag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="<"+e.tagName;for(var i in e.attrs)if(e.attrs.hasOwnProperty(i)){n+=" "+i;var o=e.attrs[i];void 0!==e.booleanAttrs&&void 0!==e.booleanAttrs[i]||(n+='="'+(0,r.escapeQuotes)(o)+'"')}return e.rest&&(n+=" "+e.rest),e.unary&&!e.html5Unary?n+="/>":n+=">",null!=t&&(n+=t+"</"+e.tagName+">"),n},e}();t.StartTagToken=function(){function e(t,n,r,o,a,s){i(this,e),this.type="startTag",this.length=n,this.text="",this.tagName=t,this.attrs=r,this.booleanAttrs=o,this.html5Unary=!1,this.unary=a,this.rest=s}return e.prototype.toString=function(){return o.formatTag(this)},e}(),t.AtomicTagToken=function(){function e(t,n,r,o,a){i(this,e),this.type="atomicTag",this.length=n,this.text="",this.tagName=t,this.attrs=r,this.booleanAttrs=o,this.unary=!1,this.html5Unary=!1,this.content=a}return e.prototype.toString=function(){return o.formatTag(this,this.content)},e}(),t.EndTagToken=function(){function e(t,n){i(this,e),this.type="endTag",this.length=n,this.text="",this.tagName=t}return e.prototype.toString=function(){return"</"+this.tagName+">"},e}()},function(e,t){"use strict";t.__esModule=!0,t.escapeQuotes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?e.replace(/([^"]*)"/g,(function(e,t){return/\\/.test(t)?t+'"':t+'\\"'})):t}},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t,n){var a=function(){var e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,n=0;t=this[n];n++)if(t.tagName===e)return!0;return!1},e}(),s={startTag:function(n){var i=n.tagName;"TR"===i.toUpperCase()&&a.lastTagNameEq("TABLE")?(e.prepend("<TBODY>"),c()):t.selfCloseFix&&r.test(i)&&a.containsTagName(i)?a.lastTagNameEq(i)?o(e,a):(e.prepend("</"+n.tagName+">"),c()):n.unary||a.push(n)},endTag:function(r){a.last()?t.tagSoupFix&&!a.lastTagNameEq(r.tagName)?o(e,a):a.pop():t.tagSoupFix&&(n(),c())}};function c(){var t=function(e,t){var n=e.stream,r=i(t());return e.stream=n,r}(e,n);t&&s[t.type]&&s[t.type](t)}return function(){return c(),i(n())}};var n=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,r=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i;function i(e){return e&&"startTag"===e.type&&(e.unary=n.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function o(e,t){var n=t.pop();e.prepend("</"+n.tagName+">")}}])},e.exports=r()},function(e,t){"use strict";t.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e){return null!=e}function i(e,t,n){var r=void 0,i=e&&e.length||0;for(r=0;r<i;r++)t.call(n,e[r],r)}function o(e,t,n){for(var r in e)e.hasOwnProperty(r)&&t.call(n,r,e[r])}function a(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(t))}t.existy=r,t.isFunction=function(e){return"function"==typeof e},t.each=i,t.eachKey=o,t.defaults=function(e,t){return e=e||{},o(t,(function(t,n){r(e[t])||(e[t]=n)})),e},t.toArray=function(e){try{return Array.prototype.slice.call(e)}catch(o){var t=(r=[],i(e,(function(e){r.push(e)})),{v:r});if("object"===(void 0===t?"undefined":n(t)))return t.v}var r},t.last=function(e){return e[e.length-1]},t.isTag=a,t.isScript=function(e){return a(e,"script")},t.isStyle=function(e){return a(e,"style")}}])},e.exports=t()},932:function(e,t,n){(function(){"use strict";var t=this;function n(e){return"string"==typeof e}function r(e,t,n){return e.call.apply(e.bind,arguments)}function i(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function o(e,t,n){return(o=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?r:i).apply(null,arguments)}function a(e){var t=se;function n(){}n.prototype=t.prototype,e.G=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.F=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}var s=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function c(e,t){return-1!=e.indexOf(t)}function u(e,t){return e<t?-1:e>t?1:0}var l,d=Array.prototype.indexOf?function(e,t,n){return Array.prototype.indexOf.call(e,t,n)}:function(e,t,r){if(r=null==r?0:0>r?Math.max(0,e.length+r):r,n(e))return n(t)&&1==t.length?e.indexOf(t,r):-1;for(;r<e.length;r++)if(r in e&&e[r]===t)return r;return-1},p=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,r){for(var i=e.length,o=n(e)?e.split(""):e,a=0;a<i;a++)a in o&&t.call(r,o[a],a,e)},f=Array.prototype.filter?function(e,t,n){return Array.prototype.filter.call(e,t,n)}:function(e,t,r){for(var i=e.length,o=[],a=0,s=n(e)?e.split(""):e,c=0;c<i;c++)if(c in s){var u=s[c];t.call(r,u,c,e)&&(o[a++]=u)}return o},h=Array.prototype.reduce?function(e,t,n,r){return r&&(t=o(t,r)),Array.prototype.reduce.call(e,t,n)}:function(e,t,n,r){var i=n;return p(e,(function(n,o){i=t.call(r,i,n,o,e)})),i},g=Array.prototype.some?function(e,t,n){return Array.prototype.some.call(e,t,n)}:function(e,t,r){for(var i=e.length,o=n(e)?e.split(""):e,a=0;a<i;a++)if(a in o&&t.call(r,o[a],a,e))return!0;return!1};function m(e,t,n){return 2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,n)}e:{var v=t.navigator;if(v){var y=v.userAgent;if(y){l=y;break e}}l=""}var b,w,C=c(l,"Opera")||c(l,"OPR"),S=c(l,"Trident")||c(l,"MSIE"),E=c(l,"Edge"),_=c(l,"Gecko")&&!(c(l.toLowerCase(),"webkit")&&!c(l,"Edge"))&&!(c(l,"Trident")||c(l,"MSIE"))&&!c(l,"Edge"),k=c(l.toLowerCase(),"webkit")&&!c(l,"Edge");function T(){var e=t.document;return e?e.documentMode:void 0}e:{var O="",A=(w=l,_?/rv\:([^\);]+)(\)|;)/.exec(w):E?/Edge\/([\d\.]+)/.exec(w):S?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(w):k?/WebKit\/(\S+)/.exec(w):C?/(?:Version)[ \/]?(\S+)/.exec(w):void 0);if(A&&(O=A?A[1]:""),S){var x=T();if(null!=x&&x>parseFloat(O)){b=String(x);break e}}b=O}var R={};function D(e){if(!R[e]){for(var t=0,n=s(String(b)).split("."),r=s(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",c=r[o]||"",l=/(\d*)(\D*)/g,d=/(\d*)(\D*)/g;do{var p=l.exec(a)||["","",""],f=d.exec(c)||["","",""];if(0==p[0].length&&0==f[0].length)break;t=u(0==p[1].length?0:parseInt(p[1],10),0==f[1].length?0:parseInt(f[1],10))||u(0==p[2].length,0==f[2].length)||u(p[2],f[2])}while(0==t)}R[e]=0<=t}}var L=t.document,P=L&&S?T()||("CSS1Compat"==L.compatMode?parseInt(b,10):5):void 0,N=S&&!(9<=Number(P)),F=S&&!(8<=Number(P));function I(e,t,n,r){this.a=e,this.nodeName=n,this.nodeValue=r,this.nodeType=2,this.parentNode=this.ownerElement=t}function V(e,t){var n=F&&"href"==t.nodeName?e.getAttribute(t.nodeName,2):t.nodeValue;return new I(t,e,t.nodeName,n)}function j(e){var t=null;if(1==(n=e.nodeType)&&(t=null==(t=null==(t=e.textContent)||null==t?e.innerText:t)||null==t?"":t),"string"!=typeof t)if(N&&"title"==e.nodeName.toLowerCase()&&1==n)t=e.text;else if(9==n||1==n){e=9==n?e.documentElement:e.firstChild;var n=0,r=[];for(t="";e;){do{1!=e.nodeType&&(t+=e.nodeValue),N&&"title"==e.nodeName.toLowerCase()&&(t+=e.text),r[n++]=e}while(e=e.firstChild);for(;n&&!(e=r[--n].nextSibling););}}else t=e.nodeValue;return""+t}function M(e,t,n){if(null===t)return!0;try{if(!e.getAttribute)return!1}catch(e){return!1}return F&&"class"==t&&(t="className"),null==n?!!e.getAttribute(t):e.getAttribute(t,2)==n}function B(e,t,r,i,o){return(N?H:W).call(null,e,t,n(r)?r:null,n(i)?i:null,o||new J)}function H(e,t,n,r,i){if(e instanceof Fe||8==e.b||n&&null===e.b){var o=t.all;if(!o)return i;if("*"!=(e=K(e))&&!(o=t.getElementsByTagName(e)))return i;if(n){for(var a=[],s=0;t=o[s++];)M(t,n,r)&&a.push(t);o=a}for(s=0;t=o[s++];)"*"==e&&"!"==t.tagName||te(i,t);return i}return z(e,t,n,r,i),i}function W(e,t,n,r,i){return t.getElementsByName&&r&&"name"==n&&!S?(t=t.getElementsByName(r),p(t,(function(t){e.a(t)&&te(i,t)}))):t.getElementsByClassName&&r&&"class"==n?(t=t.getElementsByClassName(r),p(t,(function(t){t.className==r&&e.a(t)&&te(i,t)}))):e instanceof Te?z(e,t,n,r,i):t.getElementsByTagName&&(t=t.getElementsByTagName(e.f()),p(t,(function(e){M(e,n,r)&&te(i,e)}))),i}function U(e,t,n,r,i){var o;if((e instanceof Fe||8==e.b||n&&null===e.b)&&(o=t.childNodes)){var a=K(e);return"*"==a||(o=f(o,(function(e){return e.tagName&&e.tagName.toLowerCase()==a})),o)?(n&&(o=f(o,(function(e){return M(e,n,r)}))),p(o,(function(e){"*"==a&&("!"==e.tagName||"*"==a&&1!=e.nodeType)||te(i,e)})),i):i}return q(e,t,n,r,i)}function q(e,t,n,r,i){for(t=t.firstChild;t;t=t.nextSibling)M(t,n,r)&&e.a(t)&&te(i,t);return i}function z(e,t,n,r,i){for(t=t.firstChild;t;t=t.nextSibling)M(t,n,r)&&e.a(t)&&te(i,t),z(e,t,n,r,i)}function K(e){if(e instanceof Te){if(8==e.b)return"!";if(null===e.b)return"*"}return e.f()}function $(e,t){if(!e||!t)return!1;if(e.contains&&1==t.nodeType)return e==t||e.contains(t);if(void 0!==e.compareDocumentPosition)return e==t||!!(16&e.compareDocumentPosition(t));for(;t&&e!=t;)t=t.parentNode;return t==e}function Y(e,n){if(e==n)return 0;if(e.compareDocumentPosition)return 2&e.compareDocumentPosition(n)?1:-1;if(S&&!(9<=Number(P))){if(9==e.nodeType)return-1;if(9==n.nodeType)return 1}if("sourceIndex"in e||e.parentNode&&"sourceIndex"in e.parentNode){var r=1==e.nodeType,i=1==n.nodeType;if(r&&i)return e.sourceIndex-n.sourceIndex;var o=e.parentNode,a=n.parentNode;return o==a?Q(e,n):!r&&$(o,n)?-1*G(e,n):!i&&$(a,e)?G(n,e):(r?e.sourceIndex:o.sourceIndex)-(i?n.sourceIndex:a.sourceIndex)}return(r=(i=9==e.nodeType?e:e.ownerDocument||e.document).createRange()).selectNode(e),r.collapse(!0),(i=i.createRange()).selectNode(n),i.collapse(!0),r.compareBoundaryPoints(t.Range.START_TO_END,i)}function G(e,t){var n=e.parentNode;if(n==t)return-1;for(var r=t;r.parentNode!=n;)r=r.parentNode;return Q(r,e)}function Q(e,t){for(var n=t;n=n.previousSibling;)if(n==e)return-1;return 1}function J(){this.b=this.a=null,this.l=0}function X(e){this.node=e,this.a=this.b=null}function Z(e,t){if(!e.a)return t;if(!t.a)return e;for(var n=e.a,r=t.a,i=null,o=null,a=0;n&&r;){o=n.node;var s=r.node;o==s||o instanceof I&&s instanceof I&&o.a==s.a?(o=n,n=n.a,r=r.a):0<Y(n.node,r.node)?(o=r,r=r.a):(o=n,n=n.a),(o.b=i)?i.a=o:e.a=o,i=o,a++}for(o=n||r;o;)o.b=i,i=i.a=o,a++,o=o.a;return e.b=i,e.l=a,e}function ee(e,t){var n=new X(t);n.a=e.a,e.b?e.a.b=n:e.a=e.b=n,e.a=n,e.l++}function te(e,t){var n=new X(t);n.b=e.b,e.a?e.b.a=n:e.a=e.b=n,e.b=n,e.l++}function ne(e){return(e=e.a)?e.node:null}function re(e){return(e=ne(e))?j(e):""}function ie(e,t){return new oe(e,!!t)}function oe(e,t){this.f=e,this.b=(this.c=t)?e.b:e.a,this.a=null}function ae(e){var t=e.b;if(null==t)return null;var n=e.a=t;return e.b=e.c?t.b:t.a,n.node}function se(e){this.i=e,this.b=this.g=!1,this.f=null}function ce(e){return"\n  "+e.toString().split("\n").join("\n  ")}function ue(e,t){e.g=t}function le(e,t){e.b=t}function de(e,t){var n=e.a(t);return n instanceof J?+re(n):+n}function pe(e,t){var n=e.a(t);return n instanceof J?re(n):""+n}function fe(e,t){var n=e.a(t);return n instanceof J?!!n.l:!!n}function he(e,t,n){se.call(this,e.i),this.c=e,this.h=t,this.o=n,this.g=t.g||n.g,this.b=t.b||n.b,this.c==be&&(n.b||n.g||4==n.i||0==n.i||!t.f?t.b||t.g||4==t.i||0==t.i||!n.f||(this.f={name:n.f.name,s:t}):this.f={name:t.f.name,s:n})}function ge(e,t,n,r,i){var o;if(t=t.a(r),n=n.a(r),t instanceof J&&n instanceof J){for(r=ae(t=ie(t));r;r=ae(t))for(o=ae(i=ie(n));o;o=ae(i))if(e(j(r),j(o)))return!0;return!1}if(t instanceof J||n instanceof J){t instanceof J?(i=t,r=n):(i=n,r=t);for(var a=typeof r,s=ae(o=ie(i));s;s=ae(o)){switch(a){case"number":s=+j(s);break;case"boolean":s=!!j(s);break;case"string":s=j(s);break;default:throw Error("Illegal primitive type for comparison.")}if(i==t&&e(s,r)||i==n&&e(r,s))return!0}return!1}return i?"boolean"==typeof t||"boolean"==typeof n?e(!!t,!!n):"number"==typeof t||"number"==typeof n?e(+t,+n):e(t,n):e(+t,+n)}function me(e,t,n,r){this.a=e,this.w=t,this.i=n,this.m=r}!_&&!S||S&&9<=Number(P)||_&&D("1.9.1"),S&&D("9"),a(he),he.prototype.a=function(e){return this.c.m(this.h,this.o,e)},he.prototype.toString=function(){return"Binary Expression: "+this.c+ce(this.h)+ce(this.o)},me.prototype.toString=function(){return this.a};var ve={};function ye(e,t,n,r){if(ve.hasOwnProperty(e))throw Error("Binary operator already created: "+e);return e=new me(e,t,n,r),ve[e.toString()]=e}ye("div",6,1,(function(e,t,n){return de(e,n)/de(t,n)})),ye("mod",6,1,(function(e,t,n){return de(e,n)%de(t,n)})),ye("*",6,1,(function(e,t,n){return de(e,n)*de(t,n)})),ye("+",5,1,(function(e,t,n){return de(e,n)+de(t,n)})),ye("-",5,1,(function(e,t,n){return de(e,n)-de(t,n)})),ye("<",4,2,(function(e,t,n){return ge((function(e,t){return e<t}),e,t,n)})),ye(">",4,2,(function(e,t,n){return ge((function(e,t){return e>t}),e,t,n)})),ye("<=",4,2,(function(e,t,n){return ge((function(e,t){return e<=t}),e,t,n)})),ye(">=",4,2,(function(e,t,n){return ge((function(e,t){return e>=t}),e,t,n)}));var be=ye("=",3,2,(function(e,t,n){return ge((function(e,t){return e==t}),e,t,n,!0)}));function we(e,t,n){this.a=e,this.b=t||1,this.f=n||1}function Ce(e,t){if(t.a.length&&4!=e.i)throw Error("Primary expression must evaluate to nodeset if filter has predicate(s).");se.call(this,e.i),this.c=e,this.h=t,this.g=e.g,this.b=e.b}function Se(e,t){if(t.length<e.A)throw Error("Function "+e.j+" expects at least"+e.A+" arguments, "+t.length+" given");if(null!==e.v&&t.length>e.v)throw Error("Function "+e.j+" expects at most "+e.v+" arguments, "+t.length+" given");e.B&&p(t,(function(t,n){if(4!=t.i)throw Error("Argument "+n+" to function "+e.j+" is not of type Nodeset: "+t)})),se.call(this,e.i),this.h=e,this.c=t,ue(this,e.g||g(t,(function(e){return e.g}))),le(this,e.D&&!t.length||e.C&&!!t.length||g(t,(function(e){return e.b})))}function Ee(e,t,n,r,i,o,a,s,c){this.j=e,this.i=t,this.g=n,this.D=r,this.C=i,this.m=o,this.A=a,this.v=void 0!==s?s:a,this.B=!!c}ye("!=",3,2,(function(e,t,n){return ge((function(e,t){return e!=t}),e,t,n,!0)})),ye("and",2,2,(function(e,t,n){return fe(e,n)&&fe(t,n)})),ye("or",1,2,(function(e,t,n){return fe(e,n)||fe(t,n)})),a(Ce),Ce.prototype.a=function(e){return e=this.c.a(e),We(this.h,e)},Ce.prototype.toString=function(){return"Filter:"+ce(this.c)+ce(this.h)},a(Se),Se.prototype.a=function(e){return this.h.m.apply(null,function(e){return Array.prototype.concat.apply(Array.prototype,arguments)}(e,this.c))},Se.prototype.toString=function(){var e="Function: "+this.h;if(this.c.length){var t=h(this.c,(function(e,t){return e+ce(t)}),"Arguments:");e+=ce(t)}return e},Ee.prototype.toString=function(){return this.j};var _e={};function ke(e,t,n,r,i,o,a,s){if(_e.hasOwnProperty(e))throw Error("Function already created: "+e+".");_e[e]=new Ee(e,t,n,r,!1,i,o,a,s)}function Te(e,t){switch(this.h=e,this.c=void 0!==t?t:null,this.b=null,e){case"comment":this.b=8;break;case"text":this.b=3;break;case"processing-instruction":this.b=7;break;case"node":break;default:throw Error("Unexpected argument")}}function Oe(e){return"comment"==e||"text"==e||"processing-instruction"==e||"node"==e}function Ae(e){this.b=e,this.a=0}ke("boolean",2,!1,!1,(function(e,t){return fe(t,e)}),1),ke("ceiling",1,!1,!1,(function(e,t){return Math.ceil(de(t,e))}),1),ke("concat",3,!1,!1,(function(e,t){return h(m(arguments,1),(function(t,n){return t+pe(n,e)}),"")}),2,null),ke("contains",2,!1,!1,(function(e,t,n){return c(pe(t,e),pe(n,e))}),2),ke("count",1,!1,!1,(function(e,t){return t.a(e).l}),1,1,!0),ke("false",2,!1,!1,(function(){return!1}),0),ke("floor",1,!1,!1,(function(e,t){return Math.floor(de(t,e))}),1),ke("id",4,!1,!1,(function(e,t){var r=9==(i=e.a).nodeType?i:i.ownerDocument,i=pe(t,e).split(/\s+/),o=[];p(i,(function(e){!(e=function(e){if(N){var t=r.all[e];if(t){if(t.nodeType&&e==t.id)return t;if(t.length)return function(e,t){var r;e:{r=e.length;for(var i=n(e)?e.split(""):e,o=0;o<r;o++)if(o in i&&t.call(void 0,i[o],o,e)){r=o;break e}r=-1}return 0>r?null:n(e)?e.charAt(r):e[r]}(t,(function(t){return e==t.id}))}return null}return r.getElementById(e)}(e))||0<=d(o,e)||o.push(e)})),o.sort(Y);var a=new J;return p(o,(function(e){te(a,e)})),a}),1),ke("lang",2,!1,!1,(function(){return!1}),1),ke("last",1,!0,!1,(function(e){if(1!=arguments.length)throw Error("Function last expects ()");return e.f}),0),ke("local-name",3,!1,!0,(function(e,t){var n=t?ne(t.a(e)):e.a;return n?n.localName||n.nodeName.toLowerCase():""}),0,1,!0),ke("name",3,!1,!0,(function(e,t){var n=t?ne(t.a(e)):e.a;return n?n.nodeName.toLowerCase():""}),0,1,!0),ke("namespace-uri",3,!0,!1,(function(){return""}),0,1,!0),ke("normalize-space",3,!1,!0,(function(e,t){return(t?pe(t,e):j(e.a)).replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")}),0,1),ke("not",2,!1,!1,(function(e,t){return!fe(t,e)}),1),ke("number",1,!1,!0,(function(e,t){return t?de(t,e):+j(e.a)}),0,1),ke("position",1,!0,!1,(function(e){return e.b}),0),ke("round",1,!1,!1,(function(e,t){return Math.round(de(t,e))}),1),ke("starts-with",2,!1,!1,(function(e,t,n){return t=pe(t,e),e=pe(n,e),0==t.lastIndexOf(e,0)}),2),ke("string",3,!1,!0,(function(e,t){return t?pe(t,e):j(e.a)}),0,1),ke("string-length",1,!1,!0,(function(e,t){return(t?pe(t,e):j(e.a)).length}),0,1),ke("substring",3,!1,!1,(function(e,t,n,r){if(n=de(n,e),isNaN(n)||1/0==n||-1/0==n)return"";if(r=r?de(r,e):1/0,isNaN(r)||-1/0===r)return"";n=Math.round(n)-1;var i=Math.max(n,0);return e=pe(t,e),1/0==r?e.substring(i):e.substring(i,n+Math.round(r))}),2,3),ke("substring-after",3,!1,!1,(function(e,t,n){return t=pe(t,e),e=pe(n,e),-1==(n=t.indexOf(e))?"":t.substring(n+e.length)}),2),ke("substring-before",3,!1,!1,(function(e,t,n){return t=pe(t,e),e=pe(n,e),-1==(e=t.indexOf(e))?"":t.substring(0,e)}),2),ke("sum",1,!1,!1,(function(e,t){for(var n=ie(t.a(e)),r=0,i=ae(n);i;i=ae(n))r+=+j(i);return r}),1,1,!0),ke("translate",3,!1,!1,(function(e,t,n,r){t=pe(t,e),n=pe(n,e);var i=pe(r,e);for(e={},r=0;r<n.length;r++){var o=n.charAt(r);o in e||(e[o]=i.charAt(r))}for(n="",r=0;r<t.length;r++)n+=(o=t.charAt(r))in e?e[o]:o;return n}),3),ke("true",2,!1,!1,(function(){return!0}),0),Te.prototype.a=function(e){return null===this.b||this.b==e.nodeType},Te.prototype.f=function(){return this.h},Te.prototype.toString=function(){var e="Kind Test: "+this.h;return null===this.c||(e+=ce(this.c)),e};var xe=/\$?(?:(?![0-9-\.])(?:\*|[\w-\.]+):)?(?![0-9-\.])(?:\*|[\w-\.]+)|\/\/|\.\.|::|\d+(?:\.\d*)?|\.\d+|"[^"]*"|'[^']*'|[!<>]=|\s+|./g,Re=/^\s/;function De(e,t){return e.b[e.a+(t||0)]}function Le(e){return e.b[e.a++]}function Pe(e){return e.b.length<=e.a}function Ne(e){se.call(this,3),this.c=e.substring(1,e.length-1)}function Fe(e,t){var n;this.j=e.toLowerCase(),n="*"==this.j?"*":"http://www.w3.org/1999/xhtml",this.c=t?t.toLowerCase():n}function Ie(e,t){if(se.call(this,e.i),this.h=e,this.c=t,this.g=e.g,this.b=e.b,1==this.c.length){var n=this.c[0];n.u||n.c!=$e||"*"!=(n=n.o).f()&&(this.f={name:n.f(),s:null})}}function Ve(){se.call(this,4)}function je(){se.call(this,4)}function Me(e){return"/"==e||"//"==e}function Be(e){se.call(this,4),this.c=e,ue(this,g(this.c,(function(e){return e.g}))),le(this,g(this.c,(function(e){return e.b})))}function He(e,t){this.a=e,this.b=!!t}function We(e,t,n){for(n=n||0;n<e.a.length;n++)for(var r,i=e.a[n],o=ie(t),a=t.l,s=0;r=ae(o);s++){var c=e.b?a-s:s+1;if("number"==typeof(r=i.a(new we(r,c,a))))c=c==r;else if("string"==typeof r||"boolean"==typeof r)c=!!r;else{if(!(r instanceof J))throw Error("Predicate.evaluate returned an unexpected type.");c=0<r.l}if(!c){if(r=(c=o).f,!(l=c.a))throw Error("Next must be called at least once before remove.");var u=l.b,l=l.a;u?u.a=l:r.a=l,l?l.b=u:r.b=u,r.l--,c.a=null}}return t}function Ue(e,t,n,r){se.call(this,4),this.c=e,this.o=t,this.h=n||new He([]),this.u=!!r,t=0<(t=this.h).a.length?t.a[0].f:null,e.b&&t&&(e=t.name,e=N?e.toLowerCase():e,this.f={name:e,s:t.s});e:{for(e=this.h,t=0;t<e.a.length;t++)if((n=e.a[t]).g||1==n.i||0==n.i){e=!0;break e}e=!1}this.g=e}function qe(e,t,n,r){this.j=e,this.f=t,this.a=n,this.b=r}a(Ne),Ne.prototype.a=function(){return this.c},Ne.prototype.toString=function(){return"Literal: "+this.c},Fe.prototype.a=function(e){var t=e.nodeType;return!(1!=t&&2!=t||(t=void 0!==e.localName?e.localName:e.nodeName,"*"!=this.j&&this.j!=t.toLowerCase()||"*"!=this.c&&this.c!=(e.namespaceURI?e.namespaceURI.toLowerCase():"http://www.w3.org/1999/xhtml")))},Fe.prototype.f=function(){return this.j},Fe.prototype.toString=function(){return"Name Test: "+("http://www.w3.org/1999/xhtml"==this.c?"":this.c+":")+this.j},a(Ie),a(Ve),Ve.prototype.a=function(e){var t=new J;return 9==(e=e.a).nodeType?te(t,e):te(t,e.ownerDocument),t},Ve.prototype.toString=function(){return"Root Helper Expression"},a(je),je.prototype.a=function(e){var t=new J;return te(t,e.a),t},je.prototype.toString=function(){return"Context Helper Expression"},Ie.prototype.a=function(e){var t=this.h.a(e);if(!(t instanceof J))throw Error("Filter expression must evaluate to nodeset.");for(var n=0,r=(e=this.c).length;n<r&&t.l;n++){var i,o=e[n],a=ie(t,o.c.a);if(o.g||o.c!=Qe)if(o.g||o.c!=Xe)for(i=ae(a),t=o.a(new we(i));null!=(i=ae(a));)t=Z(t,i=o.a(new we(i)));else i=ae(a),t=o.a(new we(i));else{for(i=ae(a);(t=ae(a))&&(!i.contains||i.contains(t))&&8&t.compareDocumentPosition(i);i=t);t=o.a(new we(i))}}return t},Ie.prototype.toString=function(){var e;if(e="Path Expression:"+ce(this.h),this.c.length){var t=h(this.c,(function(e,t){return e+ce(t)}),"Steps:");e+=ce(t)}return e},a(Be),Be.prototype.a=function(e){var t=new J;return p(this.c,(function(n){if(!((n=n.a(e))instanceof J))throw Error("Path expression must evaluate to NodeSet.");t=Z(t,n)})),t},Be.prototype.toString=function(){return h(this.c,(function(e,t){return e+ce(t)}),"Union Expression:")},He.prototype.toString=function(){return h(this.a,(function(e,t){return e+ce(t)}),"Predicates:")},a(Ue),Ue.prototype.a=function(e){var t=e.a,n=null,r=null,i=null,o=0;if((n=this.f)&&(r=n.name,i=n.s?pe(n.s,e):null,o=1),this.u)if(this.g||this.c!=Ye)if(t=ae(e=ie(new Ue(Ge,new Te("node")).a(e))))for(n=this.m(t,r,i,o);null!=(t=ae(e));)n=Z(n,this.m(t,r,i,o));else n=new J;else n=B(this.o,t,r,i),n=We(this.h,n,o);else n=this.m(e.a,r,i,o);return n},Ue.prototype.m=function(e,t,n,r){return e=this.c.f(this.o,e,t,n),We(this.h,e,r)},Ue.prototype.toString=function(){var e;if(e="Step:"+ce("Operator: "+(this.u?"//":"/")),this.c.j&&(e+=ce("Axis: "+this.c)),e+=ce(this.o),this.h.a.length){var t=h(this.h.a,(function(e,t){return e+ce(t)}),"Predicates:");e+=ce(t)}return e},qe.prototype.toString=function(){return this.j};var ze={};function Ke(e,t,n,r){if(ze.hasOwnProperty(e))throw Error("Axis already created: "+e);return t=new qe(e,t,n,!!r),ze[e]=t}Ke("ancestor",(function(e,t){for(var n=new J,r=t;r=r.parentNode;)e.a(r)&&ee(n,r);return n}),!0),Ke("ancestor-or-self",(function(e,t){var n=new J,r=t;do{e.a(r)&&ee(n,r)}while(r=r.parentNode);return n}),!0);var $e=Ke("attribute",(function(e,t){var n=new J;if("style"==(o=e.f())&&N&&t.style)return te(n,new I(t.style,t,"style",t.style.cssText)),n;var r=t.attributes;if(r)if(e instanceof Te&&null===e.b||"*"==o)for(var i,o=0;i=r[o];o++)N?i.nodeValue&&te(n,V(t,i)):te(n,i);else(i=r.getNamedItem(o))&&(N?i.nodeValue&&te(n,V(t,i)):te(n,i));return n}),!1),Ye=Ke("child",(function(e,t,r,i,o){return(N?U:q).call(null,e,t,n(r)?r:null,n(i)?i:null,o||new J)}),!1,!0);Ke("descendant",B,!1,!0);var Ge=Ke("descendant-or-self",(function(e,t,n,r){var i=new J;return M(t,n,r)&&e.a(t)&&te(i,t),B(e,t,n,r,i)}),!1,!0),Qe=Ke("following",(function(e,t,n,r){var i=new J;do{for(var o=t;o=o.nextSibling;)M(o,n,r)&&e.a(o)&&te(i,o),i=B(e,o,n,r,i)}while(t=t.parentNode);return i}),!1,!0);Ke("following-sibling",(function(e,t){for(var n=new J,r=t;r=r.nextSibling;)e.a(r)&&te(n,r);return n}),!1),Ke("namespace",(function(){return new J}),!1);var Je=Ke("parent",(function(e,t){var n=new J;if(9==t.nodeType)return n;if(2==t.nodeType)return te(n,t.ownerElement),n;var r=t.parentNode;return e.a(r)&&te(n,r),n}),!1),Xe=Ke("preceding",(function(e,t,n,r){var i=new J,o=[];do{o.unshift(t)}while(t=t.parentNode);for(var a=1,s=o.length;a<s;a++){var c=[];for(t=o[a];t=t.previousSibling;)c.unshift(t);for(var u=0,l=c.length;u<l;u++)M(t=c[u],n,r)&&e.a(t)&&te(i,t),i=B(e,t,n,r,i)}return i}),!0,!0);Ke("preceding-sibling",(function(e,t){for(var n=new J,r=t;r=r.previousSibling;)e.a(r)&&ee(n,r);return n}),!0);var Ze=Ke("self",(function(e,t){var n=new J;return e.a(t)&&te(n,t),n}),!1);function et(e){se.call(this,1),this.c=e,this.g=e.g,this.b=e.b}function tt(e){se.call(this,1),this.c=e}function nt(e,t){this.a=e,this.b=t}function rt(e){for(var t,n=[];;){it(e,"Missing right hand side of binary expression."),t=dt(e);var r=Le(e.a);if(!r)break;var i=(r=ve[r]||null)&&r.w;if(!i){e.a.a--;break}for(;n.length&&i<=n[n.length-1].w;)t=new he(n.pop(),n.pop(),t);n.push(t,r)}for(;n.length;)t=new he(n.pop(),n.pop(),t);return t}function it(e,t){if(Pe(e.a))throw Error(t)}function ot(e,t){var n=Le(e.a);if(n!=t)throw Error("Bad token, expected: "+t+" got: "+n)}function at(e){if(")"!=(e=Le(e.a)))throw Error("Bad token: "+e)}function st(e){if(2>(e=Le(e.a)).length)throw Error("Unclosed literal string");return new Ne(e)}function ct(e){var t,n,r=[];if(Me(De(e.a))){if(t=Le(e.a),n=De(e.a),"/"==t&&(Pe(e.a)||"."!=n&&".."!=n&&"@"!=n&&"*"!=n&&!/(?![0-9])[\w]/.test(n)))return new Ve;n=new Ve,it(e,"Missing next location step."),t=ut(e,t),r.push(t)}else{e:{switch(n=(t=De(e.a)).charAt(0)){case"$":throw Error("Variable reference not allowed in HTML XPath");case"(":Le(e.a),t=rt(e),it(e,'unclosed "("'),ot(e,")");break;case'"':case"'":t=st(e);break;default:if(isNaN(+t)){if(Oe(t)||!/(?![0-9])[\w]/.test(n)||"("!=De(e.a,1)){t=null;break e}for(t=Le(e.a),t=_e[t]||null,Le(e.a),n=[];")"!=De(e.a)&&(it(e,"Missing function argument list."),n.push(rt(e)),","==De(e.a));)Le(e.a);it(e,"Unclosed function argument list."),at(e),t=new Se(t,n)}else t=new tt(+Le(e.a))}"["==De(e.a)&&(t=new Ce(t,n=new He(lt(e))))}if(t){if(!Me(De(e.a)))return t;n=t}else t=ut(e,"/"),n=new je,r.push(t)}for(;Me(De(e.a));)t=Le(e.a),it(e,"Missing next location step."),t=ut(e,t),r.push(t);return new Ie(n,r)}function ut(e,t){var n,r,i,o;if("/"!=t&&"//"!=t)throw Error('Step op should be "/" or "//"');if("."==De(e.a))return r=new Ue(Ze,new Te("node")),Le(e.a),r;if(".."==De(e.a))return r=new Ue(Je,new Te("node")),Le(e.a),r;if("@"==De(e.a))o=$e,Le(e.a),it(e,"Missing attribute name");else if("::"==De(e.a,1)){if(!/(?![0-9])[\w]/.test(De(e.a).charAt(0)))throw Error("Bad token: "+Le(e.a));if(n=Le(e.a),!(o=ze[n]||null))throw Error("No axis with name: "+n);Le(e.a),it(e,"Missing node name")}else o=Ye;if(n=De(e.a),!/(?![0-9])[\w\*]/.test(n.charAt(0)))throw Error("Bad token: "+Le(e.a));if("("==De(e.a,1)){if(!Oe(n))throw Error("Invalid node type: "+n);if(!Oe(n=Le(e.a)))throw Error("Invalid type name: "+n);ot(e,"("),it(e,"Bad nodetype");var a=null;'"'!=(i=De(e.a).charAt(0))&&"'"!=i||(a=st(e)),it(e,"Bad nodetype"),at(e),n=new Te(n,a)}else if(-1==(i=(n=Le(e.a)).indexOf(":")))n=new Fe(n);else{var s;if("*"==(a=n.substring(0,i)))s="*";else if(!(s=e.b(a)))throw Error("Namespace prefix not declared: "+a);n=new Fe(n=n.substr(i+1),s)}return i=new He(lt(e),o.a),r||new Ue(o,n,i,"//"==t)}function lt(e){for(var t=[];"["==De(e.a);){Le(e.a),it(e,"Missing predicate expression.");var n=rt(e);t.push(n),it(e,"Unclosed predicate expression."),ot(e,"]")}return t}function dt(e){if("-"==De(e.a))return Le(e.a),new et(dt(e));var t=ct(e);if("|"!=De(e.a))e=t;else{for(t=[t];"|"==Le(e.a);)it(e,"Missing next union location path."),t.push(ct(e));e.a.a--,e=new Be(t)}return e}function pt(e){switch(e.nodeType){case 1:return function(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}(ht,e);case 9:return pt(e.documentElement);case 11:case 10:case 6:case 12:return ft;default:return e.parentNode?pt(e.parentNode):ft}}function ft(){return null}function ht(e,t){if(e.prefix==t)return e.namespaceURI||"http://www.w3.org/1999/xhtml";var n=e.getAttributeNode("xmlns:"+t);return n&&n.specified?n.value||null:e.parentNode&&9!=e.parentNode.nodeType?ht(e.parentNode,t):null}function gt(e,t){if(!e.length)throw Error("Empty XPath expression.");var n=function(e){e=e.match(xe);for(var t=0;t<e.length;t++)Re.test(e[t])&&e.splice(t,1);return new Ae(e)}(e);if(Pe(n))throw Error("Invalid XPath expression.");t?"function"==function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}(t)||(t=o(t.lookupNamespaceURI,t)):t=function(){return null};var r=rt(new nt(n,t));if(!Pe(n))throw Error("Bad token: "+Le(n));this.evaluate=function(e,t){return new mt(r.a(new we(e)),t)}}function mt(e,t){if(0==t)if(e instanceof J)t=4;else if("string"==typeof e)t=2;else if("number"==typeof e)t=1;else{if("boolean"!=typeof e)throw Error("Unexpected evaluation result.");t=3}if(2!=t&&1!=t&&3!=t&&!(e instanceof J))throw Error("value could not be converted to the specified type");var n;switch(this.resultType=t,t){case 2:this.stringValue=e instanceof J?re(e):""+e;break;case 1:this.numberValue=e instanceof J?+re(e):+e;break;case 3:this.booleanValue=e instanceof J?0<e.l:!!e;break;case 4:case 5:case 6:case 7:var r=ie(e);n=[];for(var i=ae(r);i;i=ae(r))n.push(i instanceof I?i.a:i);this.snapshotLength=e.l,this.invalidIteratorState=!1;break;case 8:case 9:r=ne(e),this.singleNodeValue=r instanceof I?r.a:r;break;default:throw Error("Unknown XPathResult type.")}var o=0;this.iterateNext=function(){if(4!=t&&5!=t)throw Error("iterateNext called with wrong result type");return o>=n.length?null:n[o++]},this.snapshotItem=function(e){if(6!=t&&7!=t)throw Error("snapshotItem called with wrong result type");return e>=n.length||0>e?null:n[e]}}function vt(e){this.lookupNamespaceURI=pt(e)}function yt(e,n){var r=e||t,i=r.Document&&r.Document.prototype||r.document;i.evaluate&&!n||(r.XPathResult=mt,i.evaluate=function(e,t,n,r){return new gt(e,n).evaluate(t,r)},i.createExpression=function(e,t){return new gt(e,t)},i.createNSResolver=function(e){return new vt(e)})}a(et),et.prototype.a=function(e){return-de(this.c,e)},et.prototype.toString=function(){return"Unary Expression: -"+ce(this.c)},a(tt),tt.prototype.a=function(){return this.c},tt.prototype.toString=function(){return"Number: "+this.c},mt.ANY_TYPE=0,mt.NUMBER_TYPE=1,mt.STRING_TYPE=2,mt.BOOLEAN_TYPE=3,mt.UNORDERED_NODE_ITERATOR_TYPE=4,mt.ORDERED_NODE_ITERATOR_TYPE=5,mt.UNORDERED_NODE_SNAPSHOT_TYPE=6,mt.ORDERED_NODE_SNAPSHOT_TYPE=7,mt.ANY_UNORDERED_NODE_TYPE=8,mt.FIRST_ORDERED_NODE_TYPE=9;var bt,wt=["wgxpath","install"],Ct=t;wt[0]in Ct||!Ct.execScript||Ct.execScript("var "+wt[0]);for(;wt.length&&(bt=wt.shift());)wt.length||void 0===yt?Ct=Ct[bt]?Ct[bt]:Ct[bt]={}:Ct[bt]=yt;e.exports.install=yt,e.exports.XPathResultType={ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,UNORDERED_NODE_ITERATOR_TYPE:4,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6,ORDERED_NODE_SNAPSHOT_TYPE:7,ANY_UNORDERED_NODE_TYPE:8,FIRST_ORDERED_NODE_TYPE:9}}).call(n.g)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e,t=n(932),r=".",i="function",o="string",a="__global__",s="Provider",c=0,u=Array.prototype.slice,l=function(t,n){var r=t[n];if(void 0===r&&e.config.strict)throw new Error("Bottle was unable to resolve a service.  `"+n+"` is undefined.");return r},d=function(t){var n;return this.nested[t]||(n=e.pop(),this.nested[t]=n,this.factory(t,(function(){return n.container}))),this.nested[t]},p=function(e){return e.split(r).reduce(l,this)},f=function(e,t){return t(e)},h=function(e,t){return(e[t]||[]).concat(e.__global__||[])},g=function(e,t){var n,r,i,o,a;return this.id,i=this.container,o=this.decorators,a=this.middlewares,n=e+s,(r=Object.create(null))[n]={configurable:!0,enumerable:!0,get:function(){var e=new t;return delete i[n],i[n]=e,e}},r[e]={configurable:!0,enumerable:!0,get:function(){var t,r=i[n];return r&&(t=h(o,e).reduce(f,r.$get(i)),delete i[n],delete i[e]),void 0===t?t:function(e,t,n,r){var i={configurable:!0,enumerable:!0};return e.length?i.get=function(){var t=0,r=function(i){if(i)throw i;e[t]&&e[t++](n,r)};return r(),n}:(i.value=n,i.writable=!0),Object.defineProperty(r,t,i),r[t]}(h(a,e),e,t,i)}},Object.defineProperties(i,r),this},m=function(e,t){var n,i;return n=e.split(r),this.providerMap[e]&&1===n.length&&!this.container[e+s]?console.error(e+" provider already instantiated."):(this.originalProviders[e]=t,this.providerMap[e]=!0,i=n.shift(),n.length?(d.call(this,i).provider(n.join(r),t),this):g.call(this,i,t))},v=function(e,t){return m.call(this,e,(function(){this.$get=t}))},y=function(e,t,n){var r=arguments.length>3?u.call(arguments,3):[],i=this;return v.call(this,e,(function(){var e=t,o=r.map(p,i.container);return n?new(t.bind.apply(t,[null].concat(o))):e.apply(null,o)}))},b=function(e,t){Object.defineProperty(this,e,{configurable:!0,enumerable:!0,value:t,writable:!0})},w=function(e,t){var n=e[t];return n||b.call(e,t,n={}),n},C=function(e,t){Object.defineProperty(this,e,{configurable:!1,enumerable:!0,value:t,writable:!1})},S=function(e,t){var n,o;return typeof e===i&&(t=e,e=a),o=(n=e.split(r)).shift(),n.length?d.call(this,o).decorator(n.join(r),t):(this.decorators[o]||(this.decorators[o]=[]),this.decorators[o].push(t)),this},E=function(e){return!/^\$(?:decorator|register|list)$|Provider$/.test(e)},_=function(e){return Object.keys(e||this.container||{}).filter(E)},k={},T=function(e){var t=void 0===e.$value?e:e.$value;return this[e.$type||"service"].apply(this,[e.$name,t].concat(e.$inject||[]))},O=function(e){delete this.providerMap[e],delete this.container[e],delete this.container[e+s]};(e=function e(t){if(!(this instanceof e))return e.pop(t);this.id=c++,this.decorators={},this.middlewares={},this.nested={},this.providerMap={},this.originalProviders={},this.deferred=[],this.container={$decorator:S.bind(this),$register:T.bind(this),$list:_.bind(this)}}).prototype={constant:function(e,t){var n=e.split(r);return e=n.pop(),C.call(n.reduce(w,this.container),e,t),this},decorator:S,defer:function(e){return this.deferred.push(e),this},digest:function(e){return(e||[]).map(p,this.container)},factory:v,instanceFactory:function(e,t){return v.call(this,e,(function(e){return{instance:t.bind(t,e)}}))},list:_,middleware:function(e,t){var n,o;return typeof e===i&&(t=e,e=a),o=(n=e.split(r)).shift(),n.length?d.call(this,o).middleware(n.join(r),t):(this.middlewares[o]||(this.middlewares[o]=[]),this.middlewares[o].push(t)),this},provider:m,resetProviders:function(e){var t=this.originalProviders,n=Array.isArray(e);Object.keys(this.originalProviders).forEach((function(i){if(!n||-1!==e.indexOf(i)){var o=i.split(r);o.length>1&&o.forEach(O,d.call(this,o[0])),O.call(this,i),this.provider(i,t[i])}}),this)},register:T,resolve:function(e){return this.deferred.forEach((function(t){t(e)})),this},service:function(e,t){return y.apply(this,[e,t,!0].concat(u.call(arguments,2)))},serviceFactory:function(e,t){return y.apply(this,[e,t,!1].concat(u.call(arguments,2)))},value:function(e,t){var n;return n=e.split(r),e=n.pop(),b.call(n.reduce(w,this.container),e,t),this}},e.pop=function(t){var n;return typeof t===o?((n=k[t])||(k[t]=n=new e,n.constant("BOTTLE_NAME",t)),n):new e},e.clear=function(e){typeof e===o?delete k[e]:k={}},e.list=_,e.config={strict:!1};var A=e;A.config={strict:!0};var x,R,D=new A,L=function(e,t){D.value(e,t)},P=function(e,t){var n,r=null!==(n=t.dependencies)&&void 0!==n?n:[];D.service.apply(D,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([e,t],r,!1))},N=function(e){return D.container[e]},F=[5,10,30,60],I=function(){function e(e,t,n){var r=this;this.window=e,this.audienceRequest=t,this.dataLayerEventConsumer=n,this.currentIntervalIndex=0,this.init=function(e){var t;r.window._paq=null!==(t=r.window._paq)&&void 0!==t?t:[],r.onUpdate=e,r.dataLayerEventConsumer.addListener((function(e){r.isConsentDecisionMadeEvent(e)&&setTimeout((function(){r.pushJstcCallback()}),1e3)})),r.window._paq.push([r.onJstcReady])},this.onJstcReady=function(){r.pushJstcCallback(),r.enqueueNextCall()},this.isConsentDecisionMadeEvent=function(e){return"object"==typeof e&&null!==e&&"event"in e&&"stg.consentDecisionMade"===e.event},this.enqueueNextCall=function(){var e=1e3*F[r.currentIntervalIndex];setTimeout((function(){r.pushJstcCallback(),r.currentIntervalIndex<F.length-1&&(r.currentIntervalIndex+=1),r.enqueueNextCall()}),e)},this.pushJstcCallback=function(){var e,t,n;r.assertOnUpdate(r.onUpdate),r.window._paq=null!==(e=r.window._paq)&&void 0!==e?e:[],r.window._paq.push([(t=r.audienceRequest.send,n=r.onUpdate,function(){var e=this.getVisitorId();""!==e&&t(e,n,(function(e){throw e}))})])},this.assertOnUpdate=function(e){if(void 0===e)throw new Error("AudienceMembershipProvider update function was not set. Was init method called?");return e}}return e.dependencies=["Window","AudiencesRequest","DataLayerEventConsumer"],e}(),V=function(){function e(e,t){var n=this;this.globalObject=e,this.httpClient=t,this.send=function(e,t,r){n.httpClient.sendRequest({url:n.globalObject.configuration.cdp_api_fetch_audiences_url.replace("{visitor_id}",e),method:"GET",json:!0},(function(e){n.isArrayOfStrings(e)?t(e):r(new Error("Invalid audience membership data"))}),(function(e,n){404!==n?r(new Error("Cannot fetch audience membership data")):t(void 0)}))},this.isArrayOfStrings=function(e){return Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))}}return e.dependencies=["globalObject","HttpClient"],e}(),j=function(e,t){var n=e.substring(1);if(!n)return"";for(var r=0,i=n.split("&");r<i.length;r++){var o=i[r].split("="),a=o[0],s=o[1];if(a===t&&void 0!==s)return s}return""},M=[{name:"utm_campaign",cookieName:"stg_utm_campaign"},{name:"pk_campaign",cookieName:"stg_pk_campaign"}],B=function(){function e(e,t,n){var r=this;this.window=e,this.cookieStorage=t,this.variablesCookiesHandler=n,this.setCampaignCookie=function(){if(!r.anyCampaignCookieExists()&&r.shouldCreateCampaignCookie())for(var e=0,t=M;e<t.length;e++){var n=t[e],i=r.getCampaignFromQueryString(n.name);if(null!==i)return void r.cookieStorage.set(n.cookieName,i)}},this.shouldCreateCampaignCookie=function(){return r.variablesCookiesHandler.shouldCreateCookie("stg_utm_campaign")&&r.variablesCookiesHandler.shouldCreateCookie("stg_pk_campaign")},this.anyCampaignCookieExists=function(){return M.map((function(e){return e.cookieName})).map((function(e){return r.cookieStorage.get(e)})).filter((function(e){return null!==e})).length>0},this.getCampaignFromQueryString=function(e){var t=j(r.window.location.search,e);return""===t?null:t}}return e.dependencies=["Window","CookieStorage","VariablesCookiesHandler"],e}(),H="a3f51ab7-ea76-4adc-a839-a32d392df37c",W="db5a673e-dabe-4dfa-908c-d08b369d08c9",U="977a1f9d-4fdb-43bf-9549-bdf68a7b69a6",q="6fa9617f-00b8-4bed-8112-ccbb32033c74",z="7dead2a9-5804-4cdd-8d73-b04d338952e9",K="d76335ca-0ae1-4540-8b7e-5ff7acb0d14f",$="78fec807-3991-4fbc-ad57-238a6960d0b7",Y="18c827bd-43e2-409a-a25d-cd8b0f6b95f7",G=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Q=function(){function e(e){var t=this;this.globalObject=e,this.areAudienceConditionsPresent=function(){return t.globalObject.triggers.map((function(e){return e.conditions})).reduce((function(e,t){return G(G([],e,!0),t,!0)}),[]).filter((function(e){return t.isAudiencesFetchedCondition(e)||t.isAudienceMembershipCondition(e)})).length>0},this.isAudiencesFetchedCondition=function(e){return e.variable===U&&"equals"===e.action&&"stg.audiencesFetched"===e.value},this.isAudienceMembershipCondition=function(e){return"visitor_belongs_to"===e.action||"visitor_not_belongs_to"===e.action}}return e.dependencies=["globalObject"],e}(),J=function(){return J=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},J.apply(this,arguments)},X=function(){function e(e,t){var n=this;this.variablesDatabase=e,this.conditionsResolverCollection=t,this.resolve=function(e,t){return J(J({},e),{resolved:n.isFulfilled(e,t)})},this.isFulfilled=function(e,t){for(var r,i=n.variablesDatabase.getById(e.variable,t),o=n.variablesDatabase.getByName("Event",t),a=0,s=n.conditionsResolverCollection.getResolvers();a<s.length;a++){var c=s[a];if(c.accepts(e,o)){r=c;break}}return void 0!==r&&r.isFulfilled(e,i)}}return e.dependencies=["VariablesDatabase","ConditionResolverCollection"],e}(),Z=function(){function e(e,t,n,r,i,o,a,s,c,u,l,d,p,f,h,g,m,v,y,b,w,C,S,E,_){var k=this;this.resolvers=[],this.getResolvers=function(){return k.resolvers},this.resolvers.push(e,t,n,r,i,o,a,s,c,u,l,d,p,f,h,g,m,v,y,b,w,C,S,E,_)}return e.dependencies=["ContainsConditionActionResolver","DoesNotContainConditionActionResolver","EqualsConditionActionResolver","DoesNotEqualConditionActionResolver","IsTrueConditionActionResolver","IsFalseConditionActionResolver","IsSetConditionActionResolver","IsNotSetConditionActionResolver","IsEmptyConditionActionResolver","IsNotEmptyConditionActionResolver","StartsWithConditionActionResolver","EndsWithConditionActionResolver","DoesNotStartWithConditionActionResolver","DoesNotEndWithConditionActionResolver","RegexpConditionActionResolver","DoesNotRegexpConditionActionResolver","MatchesClickTriggerConditionsResolver","PageLeaveTriggerConditionsResolver","PageViewTriggerConditionsResolver","PageScrollTriggerConditionsResolver","TimerTriggerConditionsResolver","ElementPresenceTriggerResolver","IsAChildOfClickTriggerConditionsResolver","AudienceMembershipConditionsResolver","AudiencesFetchedConditionsResolver"],e}(),ee=function(){this.isFulfilled=function(e,t){if(!Array.isArray(t))return!1;var n=-1!==t.indexOf(e.value);return"visitor_belongs_to"===e.action?n:"visitor_not_belongs_to"===e.action&&!n},this.accepts=function(e){var t="46505189-34d1-4d98-8418-bd827c3a7c57"===e.variable,n="visitor_belongs_to"===e.action||"visitor_not_belongs_to"===e.action;return t&&n}},te=function(){this.isFulfilled=function(){return!0},this.accepts=function(e,t){var n="stg.audiencesFetched"===t,r=e.variable===U,i="once_per_session"===e.action||"once_per_page_view"===e.action||"each_time"===e.action;return n&&r&&i}},ne=function(){this.isFulfilled=function(e,t){return("string"==typeof t||"number"==typeof t||"bigint"==typeof t||"boolean"==typeof t)&&-1!==String(t).indexOf(e.value)},this.accepts=function(e){return"contains"===e.action}},re=function(){this.isFulfilled=function(e,t){return("string"==typeof t||"number"==typeof t||"bigint"==typeof t||"boolean"==typeof t)&&-1===String(t).indexOf(e.value)},this.accepts=function(e){return"does_not_contain"===e.action}},ie=function(){this.isFulfilled=function(e,t){if("string"!=typeof t&&"number"!=typeof t&&"bigint"!=typeof t&&"boolean"!=typeof t)return!1;var n=String(t);return-1===n.indexOf(e.value,n.length-e.value.length)},this.accepts=function(e){return"does_not_end_with"===e.action}},oe=function(){this.isFulfilled=function(e,t){return("string"==typeof t||"number"==typeof t||"bigint"==typeof t||"boolean"==typeof t)&&e.value!==String(t)},this.accepts=function(e){return"does_not_equal"===e.action}},ae=function(){this.isFulfilled=function(e,t){if("string"!=typeof t&&"number"!=typeof t&&"bigint"!=typeof t&&"boolean"!=typeof t)return!1;try{return!new RegExp(e.value).test(String(t))}catch(e){return!1}},this.accepts=function(e){return"does_not_regexp"===e.action}},se=function(){this.isFulfilled=function(e,t){return("string"==typeof t||"number"==typeof t||"bigint"==typeof t||"boolean"==typeof t)&&0!==String(t).lastIndexOf(e.value,0)},this.accepts=function(e){return"does_not_start_with"===e.action}},ce=function(){this.accepts=function(e){var t=e.variable===z,n="once_per_session"===e.action||"once_per_page_view"===e.action||"each_time"===e.action;return t&&n},this.isFulfilled=function(e,t){if("string"!=typeof t)return!1;var n=t===e.value;switch(e.action){case"each_time":case"once_per_page_view":case"once_per_session":return n;default:return!1}}},ue=function(){this.isFulfilled=function(e,t){if("string"!=typeof t&&"number"!=typeof t&&"bigint"!=typeof t&&"boolean"!=typeof t)return!1;var n=String(t);return-1!==n.indexOf(e.value,n.length-e.value.length)},this.accepts=function(e){return"ends_with"===e.action}},le=function(){this.isFulfilled=function(e,t){return("string"==typeof t||"number"==typeof t||"bigint"==typeof t||"boolean"==typeof t)&&e.value===String(t)},this.accepts=function(e){return"equals"===e.action}},de=function(e){return function(t){var n;try{n=e.querySelectorAll(t)}catch(e){return null}return n}},pe=function(e){return function(t){var n,r=[];try{n=e.evaluate(t,e,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null)}catch(e){return null}for(var i=0;i<n.snapshotLength;i+=1){var o=n.snapshotItem(i);null!==o&&r.push(o)}return r}},fe=function(){function e(e){var t=this;this.document=e,this.isFulfilled=function(e,n){if("object"!=typeof n||null===n)return!1;var r=e.options&&"selector_type"in e.options?e.options.selector_type:void 0;if(void 0===r)return!1;var i=e.value,o=t.getElementsBySelector(i,r);if(null===o)return!1;var a=t.hasAParentMatchingSelector(o,n);return"is_a_child_of"===e.action?a:"is_not_a_child_of"===e.action&&!a},this.accepts=function(e){var t=e.variable===W,n="is_a_child_of"===e.action||"is_not_a_child_of"===e.action;return t&&n},this.getElementsBySelector=function(e,n){return"css"===n?de(t.document)(e):pe(t.document)(e)},this.isElementMatchingSelector=function(e,t){for(var n=0,r=Array.prototype.slice.call(e);n<r.length;n++)if(r[n]===t)return!0;return!1},this.hasAParentMatchingSelector=function(e,n){if(!t.isNode(n))return!1;for(var r=n,i=0;i<100;i+=1)if(r){if(t.isElementMatchingSelector(e,r))return!0;r=r.parentElement}return!1},this.isNode=function(e){return e instanceof HTMLElement}}return e.dependencies=["Document"],e}(),he=function(){this.isFulfilled=function(e,t){return null==t||(Array.isArray(t)?0===t.length:"object"==typeof t?0===Object.keys(t).length:"string"==typeof t&&0===t.length)},this.accepts=function(e){return"is_empty"===e.action}},ge=function(){this.isFulfilled=function(e,t){return!1===t},this.accepts=function(e){return"is_false"===e.action}},me=function(){this.isFulfilled=function(e,t){return null!=t&&(Array.isArray(t)?t.length>0:"object"==typeof t?Object.keys(t).length>0:"string"!=typeof t||t.length>0)},this.accepts=function(e){return"is_not_empty"===e.action}},ve=function(){this.isFulfilled=function(e,t){return null==t},this.accepts=function(e){return"is_not_set"===e.action}},ye=function(){this.isFulfilled=function(e,t){return null!=t},this.accepts=function(e){return"is_set"===e.action}},be=function(){this.isFulfilled=function(e,t){return!0===t},this.accepts=function(e){return"is_true"===e.action}},we=function(){function e(e){var t=this;this.document=e,this.isFulfilled=function(e,n){if("object"!=typeof n||null===n)return!1;var r=e.options&&"selector_type"in e.options?e.options.selector_type:void 0;if(void 0===r)return!1;var i=e.value,o=t.getElementsBySelector(i,r);if(null===o)return!1;var a=t.isElementMatchingSelector(o,n);return"matches"===e.action?a:"does_not_match"===e.action&&!a},this.accepts=function(e){var t=e.variable===W,n="matches"===e.action||"does_not_match"===e.action;return t&&n},this.getElementsBySelector=function(e,n){return"css"===n?de(t.document)(e):pe(t.document)(e)},this.isElementMatchingSelector=function(e,t){for(var n=0,r=Array.prototype.slice.call(e);n<r.length;n++)if(r[n]===t)return!0;return!1}}return e.dependencies=["Document"],e}(),Ce=function(){this.isFulfilled=function(e,t){return"any"===e.value||e.value===t},this.accepts=function(e){var t="c2fe42d6-2cbc-45d0-b4df-af92fdbdc2fc"===e.variable,n="once_per_session"===e.action||"once_per_page_view"===e.action||"each_time"===e.action;return t&&n}},Se=function(){var e=this;this.scrollConditionsFired={},this.isFulfilled=function(t,n){if(!e.isPageScrollVariable(n))return!1;var r="".concat(t.triggerId,"_").concat(t.id),i=e.hasScrolledTo(t,n);return"each_time"===t.action?i?!e.scrollConditionsFired[r]&&(e.scrollConditionsFired[r]=!0,!0):(e.scrollConditionsFired[r]=!1,!1):!("once_per_page_view"!==t.action||!i)||!("once_per_session"!==t.action||!i)},this.accepts=function(e,t){var n="stg.scroll"===t,r="a9a87b7d-d565-433d-8090-df9d80bf91f5"===e.variable,i="once_per_session"===e.action||"once_per_page_view"===e.action||"each_time"===e.action;return n&&r&&i},this.hasScrolledTo=function(e,t){return e.options&&"unit"in e.options&&"percentage"!==e.options.unit?t.px>=parseInt(e.value,10):t["%"]>=parseInt(e.value,10)},this.isPageScrollVariable=function(e){return"object"==typeof e&&null!==e&&"px"in e&&"%"in e}},Ee=function(){function e(e){var t=this;this.lastInteractionState=e,this.isFulfilled=function(e){var n=parseInt(e.value,10),r=t.lastInteractionState.isFirstVisit(n);return"is_first_visit"===e.action?r:"is_not_first_visit"===e.action&&!r},this.accepts=function(e){var t=e.variable===Y,n="is_first_visit"===e.action||"is_not_first_visit"===e.action;return t&&n}}return e.dependencies=["LastInteractionState"],e}(),_e=function(){this.isFulfilled=function(e,t){if("string"!=typeof t&&"number"!=typeof t&&"bigint"!=typeof t&&"boolean"!=typeof t)return!1;try{return new RegExp(e.value).test(String(t))}catch(e){return!1}},this.accepts=function(e){return"regexp"===e.action}},ke=function(){this.isFulfilled=function(e,t){return("string"==typeof t||"number"==typeof t||"bigint"==typeof t||"boolean"==typeof t)&&0===String(t).lastIndexOf(e.value,0)},this.accepts=function(e){return"starts_with"===e.action}},Te=function(){this.isFulfilled=function(e,t){if("string"!=typeof t)return!1;var n=t.split(" ")[0];return parseInt(n,10)===parseInt(e.value,10)},this.accepts=function(e){var t="4a3cbab8-e239-44ca-b1c9-6c1bc5cc3fbd"===e.variable,n="once_per_session"===e.action;return t&&n}},Oe=/^[a-z_$][a-z0-9_$-]*[a-z0-9_$]$/i,Ae=function(){function e(e){var t=this;this.containerScriptFinder=e,this.getDataLayerName=function(){return t.dataLayerName},this.getUseSecureCookies=function(){return t.useSecureCookies},this.findDataLayerName=function(){var e=t.containerScriptFinder.getContainerScript();return null===e?"dataLayer":t.retrieveDataLayerNameFromQueryParam(e.src)},this.findUseSecureCookiesValue=function(){var e=t.containerScriptFinder.getContainerScript();return null!==e&&t.retrieveUseSecureCookiesValueFromQueryParam(e.src)},this.retrieveDataLayerNameFromQueryParam=function(e){var n=e.split("?")[1];if(!n)return"dataLayer";for(var r=0,i=n.split("&");r<i.length;r++){var o=i[r].split("="),a=o[0],s=o[1];if("data_layer_name"===a&&void 0!==s){var c=Oe.test(s);return t.reportDataLayerNameIssues(s,c),c?s:"dataLayer"}}return"dataLayer"},this.reportDataLayerNameIssues=function(e,t){t?-1!==e.indexOf("-")&&console.warn("Custom data layer name ".concat(e," contains a hyphen. ")+"Recommended name should meet valid JavaScript variable name requirements."):console.warn("Custom data layer name ".concat(e," is not a valid JavaScript variable name. ")+"Falling back to the default data layer name: dataLayer.")},this.retrieveUseSecureCookiesValueFromQueryParam=function(e){var t=e.split("?")[1];if(!t)return!1;for(var n=0,r=t.split("&");n<r.length;n++)if("use_secure_cookies"===r[n].split("=")[0])return!0;return!1},this.dataLayerName=this.findDataLayerName(),this.useSecureCookies=this.findUseSecureCookiesValue()}return e.dependencies=["ContainerScriptFinder"],e}(),xe=function(){function e(e){var t=this;this.document=e,this.getContainerScript=function(){return t.containerScript},this.findContainerScript=function(){for(var e=t.document.getElementsByTagName("script"),n=0,r=Array.prototype.slice.call(e);n<r.length;n++){var i=r[n];if(t.containsCustomContainerQueryParams(i.src))return i}return null},this.containsQueryParams=function(e){return-1!==e.indexOf("?")},this.containsDataLayerNameQueryParam=function(e){return-1!==e.indexOf("data_layer_name=")},this.containsUseSecureCookiesQueryParam=function(e){return-1!==e.indexOf("use_secure_cookies")},this.containsCustomContainerQueryParams=function(e){return"string"==typeof e&&t.containsQueryParams(e)&&(t.containsDataLayerNameQueryParam(e)||t.containsUseSecureCookiesQueryParam(e))},this.containerScript=this.findContainerScript()}return e.dependencies=["Document"],e}(),Re=function(){function e(e){var t=this;this.document=e,this.token=null,this.getToken=function(){if(null!==t.token)return t.token;for(var e=t.document.getElementsByTagName("script"),n=0,r=Array.prototype.slice.call(e);n<r.length;n++){var i=r[n],o=t.retrieveNonceValue(i);if(null!==o)return t.token=o,t.token}return null},this.retrieveNonceValue=function(e){var t=e.nonce,n=e.getAttribute("nonce");return"string"==typeof t&&""!==t?t:"string"==typeof n&&""!==n?n:null}}return e.dependencies=["Document"],e}(),De=function(){function e(e){var t=this;this.builtinEventsEmitterCollection=e,this.start=function(){t.builtinEventsEmitterCollection.getEmitters().forEach((function(e){e.start()}))}}return e.dependencies=["BuiltinEventsEmitterCollection"],e}(),Le=function(){function e(e,t,n,r,i,o,a,s,c,u,l,d,p,f){var h=this;this.emitters=[],this.getEmitters=function(){return h.emitters};var g=e.getMetadata().hasAudienceConditions;this.emitters.push(t,n,r,i,o,a,s,c,u,l,d,p),g&&this.emitters.push(f)}return e.dependencies=["MetadataProvider","CapturingClickEventEmitter","ClickEventEmitter","PageViewEventEmitter","PageLoadEventEmitter","DomReadyEventEmitter","TimerEventEmitter","LeaveContentEventEmitter","FormSubmitEventEmitter","PageScrollEventEmitter","ElementPresenceEventEmitter","HistoryEventEmitter","DebouncedHistoryEventEmitter","AudiencesFetchedEventEmitter"],e}(),Pe=function(){function e(e,t){var n=this;this.dataLayer=e,this.audienceMembershipProvider=t,this.start=function(){n.audienceMembershipProvider.init(n.onResponseReceived)},this.onResponseReceived=function(e){n.dataLayer.push({event:"stg.audiencesFetched",audiences:e})}}return e.dependencies=["dataLayer","AudienceMembershipProvider"],e}(),Ne=function(){function e(e,t){var n=this;this.document=e,this.dataLayer=t,this.MIDDLE_MOUSE_BUTTON=1,this.start=function(){n.document.addEventListener("click",n.listener,{capture:!0}),n.document.addEventListener("mousedown",(function(e){e.button===n.MIDDLE_MOUSE_BUTTON&&n.listener(e)}),{capture:!0})},this.listener=function(e){if(null===e.target||!n.isHtmlElement(e.target)&&!n.isSvgElement(e.target))throw new Error("Event target is not a valid element");n.dataLayer.push(n.createDataLayerEvent(e,e.target))},this.createDataLayerEvent=function(e,t){var r,i,o=n.isAnchorElement(t)||n.isAreaElement(t);return{event:"stg.capturingClick",element:t,elementId:null!==(r=t.getAttribute("id"))&&void 0!==r?r:"",elementClasses:null!==(i=t.getAttribute("class"))&&void 0!==i?i:"",elementUrl:o?t.href:void 0}},this.isHtmlElement=function(e){return e instanceof HTMLElement},this.isSvgElement=function(e){return e instanceof SVGElement},this.isAnchorElement=function(e){return e instanceof HTMLAnchorElement},this.isAreaElement=function(e){return e instanceof HTMLAreaElement}}return e.dependencies=["Document","dataLayer"],e}(),Fe=function(e){return"href"in e?"string"==typeof e.href?e.href:"object"==typeof e.href&&null!==e.href&&"baseVal"in e.href&&"string"==typeof e.href.baseVal?e.href.baseVal:null:null},Ie=function(){function e(e,t,n,r){var i=this;this.document=e,this.dataLayer=t,this.globalObject=n,this.clickCallbackFactory=r,this.MIDDLE_MOUSE_BUTTON=1,this.start=function(){i.document.addEventListener("click",i.listener),i.document.addEventListener("mousedown",(function(e){e.button===i.MIDDLE_MOUSE_BUTTON&&i.listener(e)}))},this.listener=function(e){if(!(e.target instanceof HTMLElement||e.target instanceof SVGElement))throw new Error("Event target is not a valid element");var t=i.findClickedElement(e.target);i.dataLayer.push(i.createDataLayerEvent(e,t))},this.findClickedElement=function(e){for(var t=e,n=0;n<20;n+=1){if(i.isAnchorOrAreaElement(t))return t;if(null===t.parentElement)break;t=t.parentElement}return e},this.createDataLayerEvent=function(e,t){var n,r,o,a=!e.defaultPrevented;return{event:"stg.click",simulateDefault:a,element:t,elementId:null!==(n=t.getAttribute("id"))&&void 0!==n?n:"",elementClasses:null!==(r=t.getAttribute("class"))&&void 0!==r?r:"",elementUrl:null!==(o=Fe(t))&&void 0!==o?o:void 0,eventCallbackTimeout:i.globalObject.configuration.delay,eventCallback:i.clickCallbackFactory.create(e,t,a)}},this.isAnchorOrAreaElement=function(e){return"a"===e.tagName.toLowerCase()||"area"===e.tagName.toLowerCase()}}return e.dependencies=["Document","dataLayer","globalObject","ClickCallbackFactory"],e}(),Ve=function(){function e(e,t,n){var r=this;this.dataLayer=e,this.historyEventFactory=t,this.historyChange=n,this.lastEvent=null,this.currentEvent=null,this.currentTimeoutHandler=void 0,this.start=function(){r.historyChange.listen((function(e){return r.handleEvent(e)}))},this.handleEvent=function(e){clearTimeout(r.currentTimeoutHandler),r.currentEvent=r.historyEventFactory.getEvent("stg.debouncedHistory",r.lastEvent,e),r.currentTimeoutHandler=setTimeout((function(){if(null===r.currentEvent)throw new Error("History event is null");r.currentEvent.oldUrl!==r.currentEvent.newUrl&&r.dataLayer.push(r.currentEvent),r.lastEvent=r.currentEvent,r.currentEvent=null}),1e3)}}return e.dependencies=["dataLayer","HistoryEventFactory","HistoryChange"],e}(),je=function(){function e(e,t,n){var r=this;this.document=e,this.dataLayer=t,this.emittedPageViewEventsRegistry=n,this.start=function(){var e=r.document.readyState;"interactive"===e||"complete"===e?r.emit():r.document.addEventListener("DOMContentLoaded",r.emit)},this.emit=function(){r.dataLayer.push({event:"stg.domReady"}),r.emittedPageViewEventsRegistry.registerEvent("stg.domReady")}}return e.dependencies=["Document","dataLayer","EmittedPageViewEventsRegistry"],e}(),Me=function(e){return e.filter((function(e,t,n){return n.indexOf(e)===t}))},Be=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},He=function(){function e(e,t,n){var r=this;this.globalObject=e,this.document=t,this.dataLayer=n,this.start=function(){var e=r.getSelectors();0!==e.length&&(r.checkElementPresence(e),new MutationObserver((function(){r.checkElementPresence(e)})).observe(r.document.body,{childList:!0,subtree:!0}))},this.checkElementPresence=function(e){e.forEach((function(e){r.document.querySelectorAll("".concat(e,":not([data-pp-element-found])")).length>0&&r.pushElementPresenceEvent(e)}))},this.pushElementPresenceEvent=function(e){r.dataLayer.push({event:"stg.elementPresence",foundElements:e})},this.getSelectors=function(){return Me(r.globalObject.triggers.map((function(e){return e.conditions})).reduce((function(e,t){return Be(Be([],e,!0),t,!0)}),[]).filter((function(e){return e.variable===z})).map((function(e){return e.value})))}}return e.dependencies=["globalObject","Document","dataLayer"],e}(),We=function(){function e(e,t,n,r){var i=this;this.document=e,this.dataLayer=t,this.globalObject=n,this.formSubmitCallbackFactory=r,this.submitter=null,this.start=function(){i.document.addEventListener("click",i.clickListener),i.document.addEventListener("submit",i.submitListener)},this.clickListener=function(e){var t=e.target;i.isSubmitElement(t)&&(i.submitter={element:t,x:e.pageX-t.offsetLeft,y:e.pageY-t.offsetTop})},this.submitListener=function(e){if(!i.hasFormTarget(e))throw new Error("Target is not a form element");var t=!e.defaultPrevented;i.dataLayer.push({event:"stg.formSubmit",simulateDefault:t,element:e.target,elementId:e.target.id,elementClasses:e.target.className,elementUrl:e.target.action,elementName:e.target.getAttribute("name"),eventCallbackTimeout:i.globalObject.configuration.delay,eventCallback:i.formSubmitCallbackFactory.create(e,t,i.submitter)}),i.submitter=null},this.hasFormTarget=function(e){return e.target instanceof HTMLFormElement},this.isSubmitElement=function(e){var t=e.tagName.toLowerCase(),n=e.getAttribute("type");return"submit"===n||"input"===t&&"image"===n}}return e.dependencies=["Document","dataLayer","globalObject","FormSubmitCallbackFactory"],e}(),Ue=function(){function e(e,t,n){var r=this;this.dataLayer=e,this.historyEventFactory=t,this.historyChange=n,this.lastEvent=null,this.start=function(){r.historyChange.listen((function(e){return r.handleEvent(e)}))},this.handleEvent=function(e){var t=r.historyEventFactory.getEvent("stg.history",r.lastEvent,e);r.dataLayer.push(t),r.lastEvent=t}}return e.dependencies=["dataLayer","HistoryEventFactory","HistoryChange"],e}(),qe=function(){function e(e,t){var n=this;this.document=e,this.dataLayer=t,this.start=function(){n.document.addEventListener("mouseout",n.listener)},this.listener=function(e){e.relatedTarget||n.dataLayer.push({event:"stg.leaveContent",edge:e.clientY<10?"top":"any"})}}return e.dependencies=["Document","dataLayer"],e}(),ze=function(){function e(e,t,n,r){var i=this;this.document=e,this.window=t,this.dataLayer=n,this.emittedPageViewEventsRegistry=r,this.start=function(){"complete"===i.document.readyState?i.emit():i.window.addEventListener("load",i.emit)},this.emit=function(){i.dataLayer.push({event:"stg.pageLoad"}),i.emittedPageViewEventsRegistry.registerEvent("stg.pageLoad")}}return e.dependencies=["Document","Window","dataLayer","EmittedPageViewEventsRegistry"],e}(),Ke=function(){function e(e,t){var n=this;this.document=e,this.dataLayer=t,this.start=function(){n.document.documentElement.scrollTop>0&&n.emit(),n.document.addEventListener("scroll",n.throttle(n.emit,200))},this.emit=function(){n.dataLayer.push({event:"stg.scroll"})},this.throttle=function(e,t){var n,r=null,i=0;return function(){var o=(new Date).getTime();i||(i=o);var a=t-(o-i);return a<=0||a>t?(r&&(clearTimeout(r),r=null),i=o,n=e()):r||(r=setTimeout((function(){i=0,r=null,n=e()}),a)),n}}}return e.dependencies=["Document","dataLayer"],e}(),$e=function(){function e(e,t){var n=this;this.dataLayer=e,this.emittedPageViewEventsRegistry=t,this.start=function(){n.dataLayer.push({event:"stg.pageView"}),n.emittedPageViewEventsRegistry.registerEvent("stg.pageView")}}return e.dependencies=["dataLayer","EmittedPageViewEventsRegistry"],e}(),Ye=function(){function e(e){var t=this;this.dataLayer=e,this.intervals=[3,5,15,30,60,120,180,300],this.start=function(){t.intervals.forEach(t.addListener)},this.addListener=function(e){setTimeout((function(){t.dataLayer.push({event:"stg.timer",timeOnWebsite:"".concat(e," sec"),skipExtendSession:!0})}),1e3*e)}}return e.dependencies=["dataLayer"],e}(),Ge=function(){function e(e,t,n,r,i){var o=this;this.functionEventConsumer=e,this.arrayEventConsumer=t,this.objectEventConsumer=n,this.variablesDatabase=r,this.gtagArgumentsEventTransformer=i,this.eventId=0,this.listeners=[],this.consume=function(e){o.eventId+=1,o.variablesDatabase.prepareNewEventScope(o.eventId);try{o.handleEvent(e)}catch(e){console.error(e)}},this.handleEvent=function(e){if("function"==typeof e)o.functionEventConsumer.consume(e,o.eventId);else if(o.isGtagArgumentsEvent(e)){var t=o.gtagArgumentsEventTransformer.transform(e);o.objectEventConsumer.consume(t,o.eventId)}else if(Array.isArray(e))o.arrayEventConsumer.consume(e,o.eventId);else{if(!o.isObjectEvent(e))throw new Error("Unsupported event");o.objectEventConsumer.consume(e,o.eventId)}o.listeners.forEach((function(t){t(e)}))},this.addListener=function(e){o.listeners.push(e)},this.isGtagArgumentsEvent=function(e){return"object"==typeof e&&null!==e&&"[object Arguments]"===Object.prototype.toString.apply(e)&&"0"in e&&"1"in e&&"event"===e[0]&&"string"==typeof e[1]},this.isObjectEvent=function(e){return"object"==typeof e&&null!==e}}return e.dependencies=["FunctionEventConsumer","ArrayEventConsumer","ObjectEventConsumer","VariablesDatabase","GtagArgumentsEventTransformer"],e}(),Qe=function(e,t){for(var n=e,r=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([],t,!0);r.length>0;){var i=r.shift();if(void 0===n[i])return;n=n[i]}return n},Je=function(){function e(e){var t=this;this.variablesDatabase=e,this.consume=function(e,n){var r=e[0],i=e.slice(1);if("string"!=typeof r||""===r)throw new Error("Invalid property path - must be a non-empty string");var o=r.split(".");t.callFunctionFromVariables(o,i,n)},this.callFunctionFromVariables=function(e,n,r){var i=t.variablesDatabase.getAll(r),o=Qe(i,e);"function"==typeof o&&o.call.apply(o,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([void 0],n,!1))}}return e.dependencies=["VariablesDatabase"],e}(),Xe=function(){function e(e){var t=this;this.variablesDatabase=e,this.consume=function(e,n){var r=t.variablesDatabase.getAll(n);e.apply(r)}}return e.dependencies=["VariablesDatabase"],e}(),Ze=function(){function e(e,t,n,r,i,o,a,s,c){var u=this;this.triggerTagResolver=e,this.tagRenderer=t,this.eventVariableSetter=n,this.lastInteractionState=r,this.campaignCookieSetter=i,this.returningVisitor=o,this.trafficSourceCookieSetter=a,this.cookieStorage=s,this.containerDebugger=c,this.consume=function(e,t){u.cookieStorage.update(),u.campaignCookieSetter.setCampaignCookie(),u.trafficSourceCookieSetter.setTrafficSourceCookie(),u.eventVariableSetter.setFromDataLayerEvent(e,t);var n=u.triggerTagResolver.resolve(t),r=n.filter((function(e){return 0===e.preventedBy.length}));r.sort((function(e,t){return e.priority>t.priority?-1:e.priority<t.priority?1:0}));var i=r.length>0;r.forEach((function(e){u.tagRenderer.render(e,t)})),u.handleEventCallback(e,i),u.containerDebugger.isEnabled()&&u.containerDebugger.notify(e,t,n),!0!==e.skipExtendSession&&"stg.start"!==e.event&&(u.lastInteractionState.commitInteraction(),u.returningVisitor.setReturningVisitorCookie(),u.trafficSourceCookieSetter.extendTrafficSourceCookie())},this.handleEventCallback=function(e,t){if(void 0!==e.eventCallback){if("function"!=typeof e.eventCallback)throw new Error("Event callback must be a function");var n=u.containerDebugger.isPreventPageReloadEnabled();e.eventCallback(t,n)}}}return e.dependencies=["TriggerTagResolver","TagRenderer","EventVariableSetter","LastInteractionState","CampaignCookieSetter","ReturningVisitor","TrafficSourceCookieSetter","CookieStorage","Debugger"],e}(),et=function(){function e(e,t){var n=this;this.dataLayerEventConsumer=e,this.dataLayer=t,this.override=function(){var e=function(e){for(var t=0,r=e;t<r.length;t++){var i=r[t];n.dataLayerEventConsumer.consume(i)}},t=n.dataLayer.push;n.dataLayer.push=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];for(var o=t.apply(n.dataLayer,r);n.dataLayer.length>300;)n.dataLayer.shift();return e(r),o},n.processEventsPushedBeforeOverride()},this.processEventsPushedBeforeOverride=function(){for(var e=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([],n.dataLayer,!0);e.length>0;){var t=e.shift();n.dataLayerEventConsumer.consume(t)}}}return e.dependencies=["DataLayerEventConsumer","dataLayer"],e}(),tt=function(){var e=this;this.registeredEvents=[],this.registerEvent=function(t){e.registeredEvents.push(t)},this.getAllEmittedEvents=function(){return e.registeredEvents}},nt=function(){return nt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},nt.apply(this,arguments)},rt=function(){var e=this;this.transform=function(t){var n=t[1],r=t[2],i=e.isObject(r)?r:void 0;return nt({event:"arguments.".concat(n)},i)},this.isObject=function(e){return"object"==typeof e&&null!==e}},it=function(){function e(e,t,n){var r=this;this.window=e,this.globalObject=t,this.containerDebugger=n,this.MIDDLE_MOUSE_BUTTON=1,this.DISABLE_DELAY_ATTRIBUTE="data-disable-delay",this.create=function(e,t,n){return function(i,o){if(r.isAnchorOrAreaElement(t))if(o)e.preventDefault();else{var a=""===Fe(t)?null:Fe(t);if(n&&!r.openLinkInNewPage(e)&&null!==a&&!r.hasRelAr(t)&&!r.hasDataDisableDelay(t)&&i){var s=r.getTargetAttribute(t),c=r.getTargetWindow(s);c&&(e.preventDefault(),r.window.setTimeout((function(){c.location.href=a}),r.globalObject.configuration.delay))}}}},this.hasRelAr=function(e){var t;return"ar"===(null!==(t=e.getAttribute("rel"))&&void 0!==t?t:"").toLowerCase()},this.hasDataDisableDelay=function(e){var t=e.hasAttribute(r.DISABLE_DELAY_ATTRIBUTE),n=r.containerDebugger.isEnabled();return t&&n&&console.warn("Disabling delay via 'data-disable-delay' attribute is deprecated. Turn off the 'Wait for tags before loading the next page' option in your trigger configuration to achieve the same result."),t},this.openLinkInNewPage=function(e){return e.button===r.MIDDLE_MOUSE_BUTTON||e.shiftKey||e.ctrlKey||e.metaKey},this.getTargetWindow=function(e){switch(e){case"_self":return r.window.self;case"_parent":return r.window.parent;case"_top":return r.window.top;default:return null}},this.getTargetAttribute=function(e){return"target"in e&&"string"==typeof e.target&&""!==e.target?e.target:"_self"},this.isAnchorOrAreaElement=function(e){return"a"===e.tagName.toLowerCase()||"area"===e.tagName.toLowerCase()}}return e.dependencies=["Window","globalObject","Debugger"],e}(),ot=function(){function e(e,t){var n=this;this.globalObject=e,this.document=t,this.create=function(e,t,r){return function(i,o){o?e.preventDefault():t&&i&&(e.preventDefault(),null!==r&&(n.removeSubmitterFields(),n.addSubmitterFields(e.target,r)),n.submitFormWithDelay(e.target))}},this.submitFormWithDelay=function(e){setTimeout((function(){Object.getPrototypeOf(e).submit.apply(e)}),n.globalObject.configuration.delay)},this.removeSubmitterFields=function(){n.document.querySelectorAll("input[data-pp-synthetic-input]").forEach((function(e){var t;null===(t=e.parentElement)||void 0===t||t.removeChild(e)}))},this.addSubmitterFieldsForImage=function(e,t){var r=t.element.getAttribute("name"),i=n.document.createElement("input");i.type="hidden",i.name=r?"".concat(r,".x"):"x",i.value=t.x.toString(),i.setAttribute("data-pp-synthetic-input","");var o=n.document.createElement("input");o.type="hidden",o.name=r?"".concat(r,".y"):"y",o.value=t.y.toString(),o.setAttribute("data-pp-synthetic-input",""),e.appendChild(i),e.appendChild(o)},this.addSubmitterFieldsForButton=function(e,t){var r,i,o=t.element.getAttribute("name");if(null!==o){var a=n.document.createElement("input");a.type="hidden",a.id=null!==(r=t.element.getAttribute("id"))&&void 0!==r?r:"",a.name=o,a.value=null!==(i=t.element.getAttribute("value"))&&void 0!==i?i:"Submit",a.setAttribute("data-pp-synthetic-input",""),e.appendChild(a)}},this.addSubmitterFields=function(e,t){var r;switch(null===(r=t.element.getAttribute("type"))||void 0===r?void 0:r.toLowerCase()){case"image":n.addSubmitterFieldsForImage(e,t);break;case"submit":n.addSubmitterFieldsForButton(e,t)}}}return e.dependencies=["globalObject","Document"],e}(),at=function(){function e(e){var t=this;this.window=e,this.getEvent=function(e,n,r){return{event:e,historySource:r,oldUrl:null!==n?n.newUrl:null,newUrl:t.window.location.href,oldHistoryFragment:null!==n?n.newHistoryFragment:void 0,newHistoryFragment:t.getHistoryFragment(),oldHistoryState:null!==n?n.newHistoryState:null,newHistoryState:t.getHistoryState()}}}return e.prototype.getHistoryState=function(){try{return this.window.history.state}catch(e){return null}},e.prototype.getHistoryFragment=function(){return this.window.location.hash.split("#")[1]},e.dependencies=["Window"],e}(),st=function(){function e(e,t,n,r,i,o,a,s){var c=this;this.globalObject=e,this.debuggerMessenger=t,this.containerVersionLocalStorageItem=n,this.debuggerWidgetRenderer=r,this.debuggerEventMessageFactory=i,this.debuggerConnectionStatus=o,this.window=a,this.historyChange=s,this.pageViewTime=Date.now(),this.debugSessionId=null,this.connectionTimeout=null,this.pingInterval=null,this.preventPageReload=!1,this.isEnabled=function(){return"PiwikPRO-TagManager-ContainerDebugger"===c.window.name},this.isPreventPageReloadEnabled=function(){return c.preventPageReload},this.init=function(){return new Promise((function(e){c.historyChange.listen((function(){c.pageViewTime=Date.now()})),c.debuggerConnectionStatus.setStatus("connecting"),c.connectionTimeout=c.window.setTimeout((function(){c.onConnectionLost()}),500),c.debuggerWidgetRenderer.render(c.onDisconnect),c.debuggerMessenger.listen(c.onMessageFromUI(e)),c.debuggerMessenger.send({type:"debugger",name:"my body is ready"})}))},this.notify=function(e,t,n){if(null!==c.window.opener){if(!c.debugSessionId)throw new Error("An event was emitted but debug session ID is not set.");c.debuggerMessenger.send(c.debuggerEventMessageFactory.createEventMessage(t,e,n,c.pageViewTime,c.window.document.title,c.debugSessionId))}else c.onConnectionLost()},this.onDisconnect=function(){"connected"===c.debuggerConnectionStatus.getStatus()&&c.debugSessionId?c.debuggerMessenger.send({type:"debugger",name:"disconnect",payload:{debugSessionId:c.debugSessionId}}):(c.window.name="",c.window.location.reload())},this.onConnectionLost=function(){c.debuggerConnectionStatus.setStatus("lost"),c.debuggerMessenger.stop(),c.stopPinging()},this.onDebuggerReadyToListen=function(e,t,n){null!==c.connectionTimeout&&c.window.clearTimeout(c.connectionTimeout),c.debuggerConnectionStatus.setStatus("connected");var r=e.tags,i=e.triggers,o=e.variables;c.globalObject.tags=r,c.globalObject.triggers=i,c.globalObject.variables=o,c.debuggerMessenger.send({type:"debugger",name:"i have metadata",payload:{debugSessionId:t}}),n(),c.containerVersionLocalStorageItem.set(r,i,o,t),c.startPinging()},this.onPreventPageReloadChanged=function(e){c.preventPageReload=e},this.onMessageFromUI=function(e){return function(t){switch(t.name){case"start debug":if(c.globalObject.configuration.id!==t.payload.appId)return void c.onConnectionLost();c.debugSessionId=t.payload.debugSessionId;var n=c.containerVersionLocalStorageItem.get(c.debugSessionId);return n?void c.onDebuggerReadyToListen(n,c.debugSessionId,e):(c.containerVersionLocalStorageItem.remove(),void c.debuggerMessenger.send({type:"debugger",name:"give metadata",payload:{debugSessionId:c.debugSessionId}}));case"metadata":if(null===c.debugSessionId)throw new Error("Metadata received but debug session ID is not set");return void c.onDebuggerReadyToListen(t.payload,c.debugSessionId,e);case"no session":return void c.onConnectionLost();case"prevent page reload":return void c.onPreventPageReloadChanged(t.payload.preventPageReload);default:throw new Error("Unknown message ".concat(t.name," received."))}}},this.startPinging=function(){c.pingInterval=c.window.setInterval((function(){c.debuggerMessenger.send({type:"debugger",name:"ping"})}),1e3)},this.stopPinging=function(){null!==c.pingInterval&&c.window.clearInterval(c.pingInterval)}}return e.dependencies=["globalObject","DebuggerMessenger","ContainerVersionLocalStorageItem","DebuggerWidgetRenderer","DebuggerEventMessageFactory","DebuggerConnectionStatus","Window","HistoryChange"],e}(),ct='\n<div\n  id="piwikpro-legacy-debug-mode-popup-overlay"\n  style="\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    background-color: rgba(0, 0, 0, 0.7);\n    z-index: 2147483646;\n    pointer-events: none;\n  "\n>\n  <div\n    style="\n      position: fixed;\n      top: 30%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      width: 600px;\n      background-color: #fff;\n      border: 1px solid #ddd\n      border-radius: 1px;\n      box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2);\n      z-index: 2147483647;\n      pointer-events: auto;\n    "\n  >\n    <div\n      style="\n        display: flex;\n        padding: 8px 0 8px 16px;\n        background-color: #fafafa;\n        border-bottom: 1px solid #ddd;\n        align-items: center;\n      "\n    >\n      <div\n        style="\n          display: flex;\n          flex-grow: 1;\n          color: #131313;\n          font-size: 14px;\n          font-weight: 600;\n          line-height: 20px;\n        "\n      >\n        '.concat("Debug mode update",'\n      </div>\n      <div\n        id="piwikpro-legacy-debug-mode-close-icon"\n        style="\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          margin-right: 8px;\n          cursor: pointer\n        "\n      >\n        ').concat('\n<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path fill-rule="evenodd" fill="#131313" clip-rule="evenodd" d="M12.2426 5.1716L10.8284 3.75738L8 6.58581L5.17157 3.75738L3.75736 5.1716L6.58579 8.00002L3.75736 10.8284L5.17157 12.2427L8 9.41424L10.8284 12.2427L12.2426 10.8284L9.41421 8.00002L12.2426 5.1716Z"/>\n</svg>\n','\n      </div>      \n    </div>\n    <div style="color: #131313; padding: 16px;">\n      <p style="margin: 0;  font-size: 14px; font-weight: 400; line-height: 20px;">\n        ').concat("This connection method is no longer available. To access the debug mode, go to Tag Manager &gt; Debug mode.",'\n      </p>\n      <div style="display: flex; justify-content: center; margin-top: 16px;">\n        <div\n          style="\n            display: flex;\n            align-items: center;\n            border: 1px solid #eee;\n            border-radius: 24px;\n            padding: 8px 12px 8px 8px;\n            font-size: 12px;\n            font-weight: 400;\n            line-height: 16px;\n          "\n        >\n          ').concat('\n<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\n    <path fill="#107ef1" d="M8,0C3.6,0,0,3.6,0,8s3.6,8,8,8s8-3.6,8-8S12.4,0,8,0z M7.7,3.4C8,3.1,8.3,3,8.8,3c0.4,0,0.6,0.1,0.8,0.3\n  \tC9.8,3.5,9.9,3.7,9.9,4c0,0.3-0.1,0.6-0.4,0.9c-0.3,0.3-0.6,0.4-1,0.4C8.1,5.2,7.8,5.1,7.7,5S7.4,4.6,7.4,4.2C7.4,4,7.5,3.7,7.7,3.4\n  \tz M9,12.1c-0.3,0.2-0.7,0.4-1,0.5c-0.3,0.1-0.6,0.2-0.8,0.3C6.9,13,6.7,13,6.6,13c-0.3,0-0.5-0.1-0.7-0.3C5.8,12.4,5.8,12,6,11.2\n  \tl0.7-2.5c0.1-0.2,0.1-0.3,0.1-0.4c0-0.1,0-0.1-0.1-0.1c-0.1,0-0.3,0.1-0.6,0.2C5.8,8.4,5.5,8.5,5.3,8.7L5,8.2C5.4,8,5.7,7.7,6.1,7.5\n  \ts0.7-0.4,1-0.5C7.4,6.8,7.7,6.7,8,6.6c0.3-0.1,0.5-0.1,0.7-0.1c0.3,0,0.5,0.1,0.5,0.4s0,0.7-0.1,1.2l-0.8,2.7\n  \tc-0.1,0.2-0.1,0.4-0.1,0.5c0,0.1,0.1,0.1,0.1,0.1c0.1,0,0.3-0.1,0.5-0.2c0.3-0.1,0.5-0.3,0.8-0.5l0.3,0.4C9.7,11.6,9.3,11.8,9,12.1z\n  \t"/>\n</svg>\n','\n          <div style="margin-left: 8px; margin-right: 4px;">Read more:</div>\n          <a\n            href="https://help.piwik.pro/support/tag-manager/debug-mode/"\n            target="_blank"\n            style="color: #107ef1;"\n          >\n            ').concat("About debug mode","\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"),ut="stg_debug",lt=function(){function e(e,t,n){var r=this;this.document=e,this.cookieStorage=t,this.window=n,this.handle=function(){r.legacyDebugModeDetected()&&r.render()},this.legacyDebugModeDetected=function(){var e=r.cookieStorage.get(ut),t=r.window.name;return"1"===e&&"PiwikPRO-TagManager-ContainerDebugger"!==t},this.render=function(){r.document.body.insertAdjacentHTML("beforeend",ct),r.getHtmlElement("#piwikpro-legacy-debug-mode-close-icon").addEventListener("click",r.onClose)},this.onClose=function(){r.getHtmlElement("#piwikpro-legacy-debug-mode-popup-overlay").remove(),r.cookieStorage.remove(ut)},this.getHtmlElement=function(e){var t=r.document.querySelector(e);if(!(t instanceof HTMLElement))throw new Error("Element ".concat(e," not found"));return t}}return e.dependencies=["Document","CookieStorage","Window"],e}(),dt=function(){function e(e,t){var n=this;this.variablesDatabase=e,this.debuggerSerializer=t,this.createEventMessage=function(e,t,r,i,o,a){return{name:"data layer event",type:"debugger",payload:{debugSessionId:a,event:{dataLayerIndex:e,dataLayerEvent:n.debuggerSerializer.serialize(t),pageViewTime:i,pageViewTitle:o,tags:n.copyWithoutUnnecessaryProperties(r),variables:n.createVariablesArray(e)}}}},this.copyWithoutUnnecessaryProperties=function(e){return e.map((function(e){return{id:e.id,preventedBy:e.preventedBy,relatedTrigger:{id:e.relatedTrigger.id,resolved:e.relatedTrigger.resolved,conditions:e.relatedTrigger.conditions.map((function(e){return{id:e.id,resolved:e.resolved}}))}}}))},this.createVariablesArray=function(e){var t=n.variablesDatabase.getAll(e),r=[];for(var i in t)r.push({name:i,originalValueType:typeof t[i],serializedValue:n.debuggerSerializer.serialize(t[i])});return r}}return e.dependencies=["VariablesDatabase","DebuggerSerializer"],e}(),pt=function(){function e(e,t){var n=this;this.window=e,this.globalObject=t,this.listeners=[],this.isStopped=!1,this.send=function(e){if(!n.isStopped){var t=n.window.opener;if(null===t)throw new Error("There is no window.opener. Message could not be sent.");var r=n.globalObject.configuration.ui_apis_url;t.postMessage(e,r)}},this.listen=function(e){if(n.isStopped)throw new Error("Cannot register event listener: DebuggerMessenger is stopped.");var t=function(t){if(t.origin===n.globalObject.configuration.ui_apis_url){var r=t.data;if(!n.isDebuggerMessage(r))throw new Error("Invalid message");e(r)}};n.listeners.push(t),n.window.addEventListener("message",t)},this.stop=function(){n.isStopped=!0,n.listeners.forEach((function(e){n.window.removeEventListener("message",e)}))},this.isDebuggerMessage=function(e){return"object"==typeof e&&null!==e&&"type"in e&&"debugger"===e.type}}return e.dependencies=["Window","globalObject"],e}(),ft=function(){var e=this;this.serialize=function(t){return"object"!=typeof t||null===t||t instanceof Element||t instanceof RegExp?{isJson:!1,value:e.convertStandalone(t)}:{isJson:!0,value:JSON.stringify(t,(function(t,n){return e.convertInObject(n)}))}},this.convertStandalone=function(t){return"bigint"==typeof t?String(t):"symbol"==typeof t?"Symbol()":"function"==typeof t?String(t):t instanceof Element?e.getElementPath(t):t instanceof RegExp?String(t):t},this.convertInObject=function(t){return void 0===t||"bigint"==typeof t?String(t):"symbol"==typeof t?"Symbol()":"function"==typeof t?String(t):t instanceof Element?e.getElementPath(t):t instanceof RegExp?String(t):t},this.getElementPath=function(e){for(var t=[];null!==e.parentElement;){var n=e.tagName.toLowerCase();e.id&&(n+="#".concat(e.id)),t.unshift(n),e=e.parentElement}return t.join(" > ")}},ht=function(){function e(e,t){var n=this;this.localStorage=t,this.exists=function(){return null!==n.localStorage.getItem(n.itemName)},this.set=function(e,t,r,i){var o=JSON.stringify({tags:e,triggers:t,variables:r,debugSessionId:i});n.localStorage.setItem(n.itemName,o)},this.get=function(e){var t=n.localStorage.getItem(n.itemName);if(null===t)return null;var r=JSON.parse(t);return r.debugSessionId!==e?null:{tags:r.tags,triggers:r.triggers,variables:r.variables}},this.remove=function(){n.localStorage.removeItem(n.itemName)},this.itemName="piwikpro_debug_setup_".concat(e.configuration.id)}return e.dependencies=["globalObject","LocalStorage"],e}(),gt=function(){var e=this;this.status="unknown",this.listeners=[],this.getStatus=function(){return e.status},this.setStatus=function(t){e.status=t,e.listeners.forEach((function(e){return e(t)}))},this.onStatusChange=function(t){e.listeners.push(t)}},mt=function(){function e(e){var t=this;this.document=e,this.enableDragging=function(e){var n=t.document.getElementsByTagName("html")[0];e.addEventListener("mousedown",(function(r){r.preventDefault(),e.style.cursor="grabbing";var i=e.getBoundingClientRect(),o=r.clientX-i.right,a=r.clientY-i.bottom,s=function(r){var s=t.minmax(n.clientWidth-r.clientX+o,0,n.clientWidth-i.width),c=t.minmax(n.clientHeight-r.clientY+a,0,n.clientHeight-i.height);e.style.right="".concat(s,"px"),e.style.bottom="".concat(c,"px")};t.document.addEventListener("mousemove",s),t.document.addEventListener("mouseup",(function(){t.document.removeEventListener("mousemove",s),e.style.cursor="grab"}),{once:!0})})),t.addResizeListener(e,n)},this.minmax=function(e,t,n){return Math.min(Math.max(e,t),n)},this.addResizeListener=function(e,n){window.addEventListener("resize",(function(){var r=e.getBoundingClientRect(),i=t.minmax(parseInt(e.style.right,10),0,n.clientWidth-r.width),o=t.minmax(parseInt(e.style.bottom,10),0,n.clientHeight-r.height);e.style.right="".concat(i,"px"),e.style.bottom="".concat(o,"px")}))}}return e.dependencies=["Document"],e}(),vt=function(){function e(e,t,n){var r=this;this.document=e,this.debuggerConnectionStatus=t,this.debuggerDraggingEnabler=n,this.render=function(e){r.document.body.insertAdjacentHTML("beforeend",'\n<div\n  id="piwikpro-debugger-widget"\n  style="\n    position: fixed;\n    bottom: 40px;\n    right: 40px;\n    background-color: #131313;\n    align-content: center;\n    cursor: grab;\n    color: #fff;\n    width: 460px;\n    font-size: 14px;\n    line-height: 20px;\n    font-weight: 400;\n    border-radius: 1px;\n    z-index: 2147483647;\n    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2);\n  "\n>\n  <div style="display: flex; border-bottom: 1px solid #333; font-weight: 600; padding: 8px 16px;">\n    <div style="flex-grow: 1; display: flex; align-items: center;">\n      <div style="margin-right: 12px; display: flex;">\n        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 7 15">\n          <g fill="#999999" fill-rule="evenodd">\n            <circle cx="1.5" cy="1.5" r="1.5"/>\n            <circle cx="1.5" cy="5.5" r="1.5"/>\n            <circle cx="1.5" cy="9.5" r="1.5"/>\n            <circle cx="5.5" cy="1.5" r="1.5"/>\n            <circle cx="5.5" cy="5.5" r="1.5"/>\n            <circle cx="5.5" cy="9.5" r="1.5"/>\n            <circle cx="1.5" cy="13.5" r="1.5"/>\n            <circle cx="5.5" cy="13.5" r="1.5"/>\n          </g>\n        </svg>\n      </div>\n      <div>\n        Debug mode\n      </div>\n    </div>\n    <div style="font-size: 12px; display: flex; align-items: center;">\n      <div id="piwikpro-debugger-widget-status-text">\n        Unknown status\n      </div>\n      <svg\n        width="10"\n        height="10"\n        xmlns="http://www.w3.org/2000/svg" \n        style="margin-left: 8px;"\n        id="piwikpro-debugger-widget-status-icon"\n       >\n        <circle cx="5" cy="5" r="5" fill="white" />\n      </svg>\n    </div>\n  </div>\n  <div style="display: flex; padding: 16px; align-items: center;">\n    <div style="flex-grow: 1;" id="piwikpro-debugger-widget-description"></div>\n    <div>\n      <button \n        id="piwikpro-debugger-widget-button"\n        style="\n          padding: 8px;\n          background-color: #fff;\n          border: 1px solid #ccc;\n          border-radius: 1px;\n          font-weight: 600;\n          cursor: pointer;\n        "\n      >\n        Disconnect\n      </button>\n    </div>\n  </div>\n</div>\n'),r.getHtmlElement("#piwikpro-debugger-widget button").addEventListener("click",e),r.debuggerDraggingEnabler.enableDragging(r.getHtmlElement("#piwikpro-debugger-widget")),r.updateWidget(r.debuggerConnectionStatus.getStatus()),r.debuggerConnectionStatus.onStatusChange((function(e){return r.updateWidget(e)}))},this.updateWidget=function(e){switch(e){case"connecting":return r.setStatusText("Connecting"),r.setDescription("Connecting...<br>Please wait."),r.setStatusColor("#ffd000"),r.setButtonText("Disconnect"),void r.disableButton();case"connected":return r.setStatusText("Connected"),r.setDescription("View the debugging results in Tag Manager &gt;<br>Debug mode. Finish debugging? Disconnect."),r.setStatusColor("#1aa023"),r.setButtonText("Disconnect"),void r.enableButton();case"lost":r.setStatusText("Connection lost"),r.setDescription("Debug mode disconnected. To continue debugging, go to Tag Manager &gt; Debug mode."),r.setStatusColor("#e3301b"),r.setButtonText("Close"),r.enableButton()}},this.getHtmlElement=function(e){var t=r.document.querySelector(e);if(!(t instanceof HTMLElement))throw new Error("Element ".concat(e," not found"));return t},this.setStatusText=function(e){r.getHtmlElement("#piwikpro-debugger-widget-status-text").innerHTML=e},this.setButtonText=function(e){r.getHtmlElement("#piwikpro-debugger-widget-button").innerHTML=e},this.setDescription=function(e){r.getHtmlElement("#piwikpro-debugger-widget-description").innerHTML=e},this.setStatusColor=function(e){var t=r.document.querySelector("#piwikpro-debugger-widget-status-icon circle");if(!(t instanceof SVGElement))throw new Error("Debugger status icon element not found");t.setAttribute("fill",e)},this.disableButton=function(){var e=r.getHtmlElement("#piwikpro-debugger-widget button");e.setAttribute("disabled","true"),e.style.cursor="not-allowed"},this.enableButton=function(){var e=r.getHtmlElement("#piwikpro-debugger-widget button");e.removeAttribute("disabled"),e.style.cursor="pointer"}}return e.dependencies=["Document","DebuggerConnectionStatus","DebuggerDraggingEnabler"],e}(),yt=function(){this.sendRequest=function(e,t,n){var r=e.method,i=e.url,o=e.json,a=e.body,s=new XMLHttpRequest;s.open(r,i,!0),"post"===r.toLowerCase()&&o&&s.setRequestHeader("Content-Type","application/json"),s.onload=function(e){200===s.status?t(o?JSON.parse(s.response):s.response):n(e,s.status)},s.onerror=function(e){return n(e,s.status)},s.ontimeout=function(e){return n(e,s.status)},s.send(a)}},bt=(x=function(e,t){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},x(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}x(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),wt=function(e){function t(t){var n=e.call(this,t)||this;return n.name="ApiCommandError",n}return bt(t,e),t}(Error),Ct=function(e){var t=this;this.window=e,this.dependencies=["Window"],this.assertOnSuccess=function(e){if("function"!=typeof e){var n="You have to specify onSuccess callback: ".concat(t.getSignature());throw new wt(n)}},this.handleError=function(e,n){if(!(n instanceof Error))throw new Error("error is not an instance of Error");if("function"!=typeof e)if("ApiCommandError"!==n.name){var r=n.message;n.message="Failed to execute ".concat(t.getCommandName()," onSuccess callback: ").concat(r),t.reportError(n)}else t.reportError(n);else e(n)},this.reportError=function(e){var n;t.window._paq=null!==(n=t.window._paq)&&void 0!==n?n:[],console.error(e),t.window._paq.push(["trackError",e])}},St=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Et=function(e){function t(t,n){var r=e.call(this,n)||this;return r.consentStorage=t,r.window=n,r.create=function(){return function(e,t){try{r.consentStorage.clear(),"function"==typeof e&&e()}catch(e){r.handleError(t,e)}}},r.getCommandName=function(){return"clearConsentSettings"},r.getSignature=function(){return"ppms.cm.api('".concat(r.getCommandName(),"', onSuccess, onFailure)")},r}return St(t,e),t.dependencies=["ConsentStorage","Window"],t}(Ct),_t=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kt=function(e){function t(t,n){var r=e.call(this,n)||this;return r.consentStorage=t,r.window=n,r.create=function(){return function(e,t){try{r.assertOnSuccess(e),e({consents:r.consentStorage.getConsents()})}catch(e){r.handleError(t,e)}}},r.getCommandName=function(){return"getComplianceSettings"},r.getSignature=function(){return"ppms.cm.api('".concat(r.getCommandName(),"', onSuccess, onFailure)")},r}return _t(t,e),t.dependencies=["ConsentStorage","Window"],t}(Ct),Tt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ot=function(e){function t(t,n){var r=e.call(this,n)||this;return r.consentTypesProvider=t,r.window=n,r.create=function(){return function(e,t){try{r.assertOnSuccess(e),e(r.consentTypesProvider.getAll())}catch(e){r.handleError(t,e)}}},r.getCommandName=function(){return"getComplianceTypes"},r.getSignature=function(){return"ppms.cm.api('".concat(r.getCommandName(),"', onSuccess, onFailure)")},r}return Tt(t,e),t.dependencies=["ConsentTypesProvider","Window"],t}(Ct),At=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xt=function(e){function t(t,n){var r=e.call(this,n)||this;return r.consentTypesProvider=t,r.window=n,r.create=function(){return function(e,t){try{r.assertOnSuccess(e),e(r.consentTypesProvider.getNew())}catch(e){r.handleError(t,e)}}},r.getCommandName=function(){return"getNewComplianceTypes"},r.getSignature=function(){return"ppms.cm.api('".concat(r.getCommandName(),"', onSuccess, onFailure)")},r}return At(t,e),t.dependencies=["ConsentTypesProvider","Window"],t}(Ct),Rt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dt=function(e){function t(t,n,r,i,o,a){var s=e.call(this,t)||this;return s.window=t,s.document=n,s.appId=r,s.consentTypesProvider=i,s.consentForm=o,s.consentSettings=a,s.create=function(){return function(e,t){try{if(null!==s.document.getElementById("ppms_cm_consent_popup_".concat(s.appId)))return;try{var n=s.consentTypesProvider.getAll();n.length>0&&!s.consentSettings.user_mode_enabled&&s.consentForm.render(n)}catch(e){s.handleRenderError(e)}"function"==typeof e&&e("ppms_cm_consent_popup_".concat(s.appId),s.consentTypesProvider.getAll(),s.consentTypesProvider.getAgreedTypes())}catch(e){s.handleError(t,e)}}},s.handleRenderError=function(e){if(e instanceof Error)throw new wt("Failed to render consent popup: ".concat(e.message))},s.getCommandName=function(){return"openConsentForm"},s.getSignature=function(){return"ppms.cm.api('".concat(s.getCommandName(),"', onSuccess, onFailure)")},s}return Rt(t,e),t.dependencies=["Window","Document","appId","ConsentTypesProvider","ConsentForm","consentSettings"],t}(Ct),Lt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pt=function(e){function t(t,n,r,i,o,a){var s=e.call(this,a)||this;return s.appId=t,s.containerConfiguration=n,s.httpClient=r,s.document=i,s.visitorIdStorage=o,s.window=a,s.create=function(){return function(e,t,n){try{s.validateRequestDataPresence(e),s.validateRequestData(e),s.assertOnSuccess(t);var r=s.createPayload(e);s.send(r,t,n)}catch(e){s.handleError(n,e)}}},s.validateRequestDataPresence=function(e){if("object"!=typeof e||null===e)throw new wt("Invalid data subject request")},s.validateRequestData=function(e){if(!("content"in e)||!("email"in e)||!("type"in e))throw new wt("Invalid data subject request")},s.createPayload=function(e){return{visitorId:s.visitorIdStorage.getVisitorId(),websiteId:s.appId,hostname:s.window.location.hostname,event:e.type,email:e.email,userRequestedInfo:e.content,cookies:s.document.cookie}},s.handleCollectSuccess=function(e,t){try{e()}catch(e){s.handleError(t,e)}},s.handleCollectError=function(e,t){try{if(e.target instanceof XMLHttpRequest){var n=e.target.status,r=e.target.statusText;throw new wt("Failed to send data subject request: ".concat(r?"".concat(n," ").concat(r):n))}throw new wt("Failed to send data subject request: unknown error")}catch(e){s.handleError(t,e)}},s.send=function(e,t,n){s.httpClient.sendRequest({url:s.containerConfiguration.consent_request_tracker_url,method:"POST",json:!0,body:JSON.stringify(e)},(function(){return s.handleCollectSuccess(t,n)}),(function(e){return s.handleCollectError(e,n)}))},s.getCommandName=function(){return"sendDataRequest"},s.getSignature=function(){return"ppms.cm.api('".concat(s.getCommandName(),"', request, onSuccess, onFailure)")},s}return Lt(t,e),t.dependencies=["appId","containerConfiguration","HttpClient","Document","VisitorIdStorage","Window"],t}(Ct),Nt=new Uint8Array(16);function Ft(){if(!R&&!(R="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return R(Nt)}for(var It=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Vt=function(e){return"string"==typeof e&&It.test(e)},jt=[],Mt=0;Mt<256;++Mt)jt.push((Mt+256).toString(16).substr(1));var Bt=function(e,t,n){var r=(e=e||{}).random||(e.rng||Ft)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(jt[e[t+0]]+jt[e[t+1]]+jt[e[t+2]]+jt[e[t+3]]+"-"+jt[e[t+4]]+jt[e[t+5]]+"-"+jt[e[t+6]]+jt[e[t+7]]+"-"+jt[e[t+8]]+jt[e[t+9]]+"-"+jt[e[t+10]]+jt[e[t+11]]+jt[e[t+12]]+jt[e[t+13]]+jt[e[t+14]]+jt[e[t+15]]).toLowerCase();if(!Vt(n))throw TypeError("Stringified UUID is invalid");return n}(r)},Ht=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wt=function(e){function t(t,n,r,i,o){var a=e.call(this,o)||this;return a.consentStorage=t,a.visitorIdStorage=n,a.emittedPageViewEventsRegistry=r,a.dataLayer=i,a.window=o,a.create=function(){return function(e,t,n){try{a.validateSettingsPresence(e),a.validateConsentSettingsPresence(e),a.validateConsentSettings(e),a.assertOnSuccess(t),a.consentStorage.setConsents(e.consents),a.pushConsentsWereSentEvent(),a.pushConsentDecisionMadeEvent(),a.pushPageViewEventsAgain(),a.setVisitorId(),t()}catch(e){a.handleError(n,e)}}},a.validateSettingsPresence=function(e){if("object"!=typeof e||null===e||!("consents"in e))throw new wt("Cannot retrieve consent settings property")},a.validateConsentSettingsPresence=function(e){var t=e.consents;if("object"!=typeof t||null===t||0===Object.keys(t).length)throw new wt("Consent settings object is empty")},a.validateConsentStatusPresence=function(e){if("object"!=typeof e||null===e||!("status"in e))throw new wt("Consent status should be specified")},a.validateConsentStatusValue=function(e){if(0!==e.status&&1!==e.status)throw new wt("Unknown consent value: ".concat(String(e.status)))},a.validateConsentSettings=function(e){for(var t in e.consents){var n=e.consents[t];a.validateConsentStatusPresence(n),a.validateConsentStatusValue(n)}},a.pushConsentsWereSentEvent=function(){a.dataLayer.push({event:"stg.consentsWereSent"})},a.pushConsentDecisionMadeEvent=function(){a.dataLayer.push({event:"stg.consentDecisionMade"})},a.pushPageViewEventsAgain=function(){a.emittedPageViewEventsRegistry.getAllEmittedEvents().forEach((function(e){a.dataLayer.push({event:e})}))},a.setVisitorId=function(){null===a.visitorIdStorage.getVisitorId()&&a.visitorIdStorage.setVisitorId(Bt())},a.getCommandName=function(){return"setComplianceSettings"},a.getSignature=function(){return"ppms.cm.api('".concat(a.getCommandName(),"', settings, onSuccess, onFailure)")},a}return Ht(t,e),t.dependencies=["ConsentStorage","VisitorIdStorage","EmittedPageViewEventsRegistry","dataLayer","Window"],t}(Ct),Ut=function(){return Ut=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ut.apply(this,arguments)},qt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},zt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kt="No consents provided",$t=function(e){function t(t,n,r,i){var o=e.call(this,i)||this;return o.consentStorage=t,o.visitorIdStorage=n,o.consentTypesProvider=r,o.window=i,o.create=function(){return function(e,t,n){try{if(o.isArray(e))o.handleSettingsArray(e,t);else{if(!o.isObject(e))throw new wt(Kt);o.handleSettingsObject(e,t)}}catch(e){o.handleError(n,e)}}},o.setInitialConsents=function(e){var t=e.map((function(e){return{consentType:e,status:-1}})).map((function(e){var t=e.consentType,n=qt(e,["consentType"]);return Ut({consentType:t},n)})).reduce((function(e,t){var n,r=t.consentType,i=qt(t,["consentType"]);return Ut(Ut({},e),((n={})[r]=Ut({},i),n))}),{});o.consentStorage.setConsents(t)},o.handleSettingsArray=function(e,t){o.validateSettingsArray(e),o.assertOnSuccess(t),o.setVisitorId(),o.setInitialConsents(e),t(e)},o.handleSettingsObject=function(e,t){o.validateSettingsObject(e),o.assertOnSuccess(t),o.setVisitorId(),o.setInitialConsents(e.consents),t(e.consents)},o.validateConsentType=function(e,t){if("string"!=typeof t||-1===e.indexOf(t))throw new wt("Unknown consent type - ".concat(String(t)))},o.validateSettingsArray=function(e){if(0===e.length)throw new wt(Kt);var t=o.consentTypesProvider.getAll();e.forEach((function(e){o.validateConsentType(t,e)}))},o.validateSettingsObject=function(e){if(!e.consents||!o.isArray(e.consents))throw new wt(Kt);o.validateSettingsArray(e.consents)},o.isArray=function(e){return Array.isArray(e)},o.isObject=function(e){return"object"==typeof e},o.setVisitorId=function(){null===o.visitorIdStorage.getVisitorId()&&o.visitorIdStorage.setVisitorId(Bt())},o.getCommandName=function(){return"setInitialComplianceSettings"},o.getSignature=function(){return"ppms.cm.api('".concat(o.getCommandName(),"', settings, onSuccess, onFailure)")},o}return zt(t,e),t.dependencies=["ConsentStorage","VisitorIdStorage","ConsentTypesProvider","Window"],t}(Ct),Yt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gt=function(e){function t(t,n){var r=e.call(this,n)||this;return r.dataLayer=t,r.window=n,r.create=function(){return function(e,t){try{r.dataLayer.push({event:"stg.agreeToAllClicked"}),"function"==typeof e&&e()}catch(e){r.handleError(t,e)}}},r.getCommandName=function(){return"trackAgreeToAllClick"},r.getSignature=function(){return"ppms.cm.api('".concat(r.getCommandName(),"', onSuccess, onFailure)")},r}return Yt(t,e),t.dependencies=["dataLayer","Window"],t}(Ct),Qt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jt=function(e){function t(t,n){var r=e.call(this,n)||this;return r.dataLayer=t,r.window=n,r.create=function(){return function(e,t){try{r.dataLayer.push({event:"stg.closeButtonClicked"}),"function"==typeof e&&e()}catch(e){r.handleError(t,e)}}},r.getCommandName=function(){return"trackCloseButtonClick"},r.getSignature=function(){return"ppms.cm.api('".concat(r.getCommandName(),"', onSuccess, onFailure)")},r}return Qt(t,e),t.dependencies=["dataLayer","Window"],t}(Ct),Xt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zt=function(e){function t(t,n){var r=e.call(this,n)||this;return r.dataLayer=t,r.window=n,r.create=function(){return function(e,t){try{r.dataLayer.push({event:"stg.consentFormViewMain"}),"function"==typeof e&&e()}catch(e){r.handleError(t,e)}}},r.getCommandName=function(){return"trackMainFormView"},r.getSignature=function(){return"ppms.cm.api('".concat(r.getCommandName(),"', onSuccess, onFailure)")},r}return Xt(t,e),t.dependencies=["dataLayer","Window"],t}(Ct),en=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tn=function(e){function t(t,n){var r=e.call(this,n)||this;return r.dataLayer=t,r.window=n,r.create=function(){return function(e,t){try{r.dataLayer.push({event:"stg.consentFormViewPrivacyPolicy"}),"function"==typeof e&&e()}catch(e){r.handleError(t,e)}}},r.getCommandName=function(){return"trackPrivacyPolicyLinkView"},r.getSignature=function(){return"ppms.cm.api('".concat(r.getCommandName(),"', onSuccess, onFailure)")},r}return en(t,e),t.dependencies=["dataLayer","Window"],t}(Ct),nn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rn=function(e){function t(t,n){var r=e.call(this,n)||this;return r.dataLayer=t,r.window=n,r.create=function(){return function(e,t){try{r.dataLayer.push({event:"stg.rejectAllClicked"}),"function"==typeof e&&e()}catch(e){r.handleError(t,e)}}},r.getCommandName=function(){return"trackRejectAllClick"},r.getSignature=function(){return"ppms.cm.api('".concat(r.getCommandName(),"', onSuccess, onFailure)")},r}return nn(t,e),t.dependencies=["dataLayer","Window"],t}(Ct),on=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),an=function(e){function t(t,n){var r=e.call(this,n)||this;return r.dataLayer=t,r.window=n,r.create=function(){return function(e,t){try{r.dataLayer.push({event:"stg.consentFormViewReminder"}),"function"==typeof e&&e()}catch(e){r.handleError(t,e)}}},r.getCommandName=function(){return"trackReminderWidgetView"},r.getSignature=function(){return"ppms.cm.api('".concat(r.getCommandName(),"', onSuccess, onFailure)")},r}return on(t,e),t.dependencies=["dataLayer","Window"],t}(Ct),sn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cn=function(e){function t(t,n){var r=e.call(this,n)||this;return r.dataLayer=t,r.window=n,r.create=function(){return function(e,t){try{r.dataLayer.push({event:"stg.saveChoicesClicked"}),"function"==typeof e&&e()}catch(e){r.handleError(t,e)}}},r.getCommandName=function(){return"trackSaveChoicesClick"},r.getSignature=function(){return"ppms.cm.api('".concat(r.getCommandName(),"', onSuccess, onFailure)")},r}return sn(t,e),t.dependencies=["dataLayer","Window"],t}(Ct),un=function(){return un=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},un.apply(this,arguments)},ln="ppms.cm:",dn=function(){function e(e){var t=this;this.dataLayer=e,this.dequeue=function(e){t.dataLayer.filter(t.isObject).filter(t.isConsentManagerApiEvent).map(t.removePrefix).forEach((function(t){var n=t.event,r=t.parameters;e.apply(void 0,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([n],r,!1))}))},this.isObject=function(e){return"object"==typeof e&&null!==e},this.isConsentManagerApiEvent=function(e){if("event"in e){var t=e.event;if("string"==typeof t)return 0===t.indexOf(ln)}return!1},this.removePrefix=function(e){return un(un({},e),{event:e.event.replace(ln,"")})}}return e.dependencies=["dataLayer"],e}(),pn=function(){function e(e){var t=this;this.window=e,this.openConsentForm=function(e,n){t.window.ppms.cm.api("openConsentForm",e,n)},this.getNewComplianceTypes=function(e,n){t.window.ppms.cm.api("getNewComplianceTypes",e,n)},this.setInitialComplianceSettings=function(e,n){t.window.ppms.cm.api("setInitialComplianceSettings",e,n)},this.setComplianceSettings=function(e,n,r){t.window.ppms.cm.api("setComplianceSettings",e,n,r)},this.getComplianceTypes=function(e,n){t.window.ppms.cm.api("getComplianceTypes",e,n)},this.getComplianceSettings=function(e,n){t.window.ppms.cm.api("getComplianceSettings",e,n)},this.sendDataRequest=function(e,n,r){t.window.ppms.cm.api("sendDataRequest",e,n,r)},this.clearConsentSettings=function(){t.window.ppms.cm.api("clearConsentSettings")},this.trackAgreeToAllClick=function(){t.window.ppms.cm.api("trackAgreeToAllClick")},this.trackCloseButtonClick=function(){t.window.ppms.cm.api("trackCloseButtonClick")},this.trackMainFormView=function(){t.window.ppms.cm.api("trackMainFormView")},this.trackPrivacyPolicyLinkView=function(){t.window.ppms.cm.api("trackPrivacyPolicyLinkView")},this.trackRejectAllClick=function(){t.window.ppms.cm.api("trackRejectAllClick")},this.trackReminderWidgetView=function(){t.window.ppms.cm.api("trackReminderWidgetView")},this.trackSaveChoicesClick=function(){t.window.ppms.cm.api("trackSaveChoicesClick")}}return e.dependencies=["Window"],e}(),fn=function(){function e(e,t,n,r,i,o,a,s,c,u,l,d,p,f,h,g,m){var v=this;this.window=e,this.getComplianceSettingsFactory=t,this.getComplianceTypesFactory=n,this.getNewComplianceTypesFactory=r,this.openConsentFormFactory=i,this.sendDataRequestFactory=o,this.setComplianceSettingsFactory=a,this.setInitialComplianceSettingsFactory=s,this.clearConsentSettingsFactory=c,this.trackAgreeToAllClickFactory=u,this.trackCloseButtonClickFactory=l,this.trackMainFormViewFactory=d,this.trackPrivacyPolicyLinkViewFactory=p,this.trackRejectAllClickFactory=f,this.trackReminderWidgetViewFactory=h,this.trackSaveChoicesClickFactory=g,this.dequeuer=m,this.commands={},this.initialize=function(){v.isApiAlreadyDeclared(v.window)?v.window.ppms.cm.api=v.execute:v.declareApi(v.window),v.registerAllCommands(),v.dequeuer.dequeue(v.execute)},this.registerAllCommands=function(){v.register("getComplianceSettings",v.getComplianceSettingsFactory.create()),v.register("getComplianceTypes",v.getComplianceTypesFactory.create()),v.register("getNewComplianceTypes",v.getNewComplianceTypesFactory.create()),v.register("openConsentForm",v.openConsentFormFactory.create()),v.register("sendDataRequest",v.sendDataRequestFactory.create()),v.register("setComplianceSettings",v.setComplianceSettingsFactory.create()),v.register("setInitialComplianceSettings",v.setInitialComplianceSettingsFactory.create()),v.register("clearConsentSettings",v.clearConsentSettingsFactory.create()),v.register("trackAgreeToAllClick",v.trackAgreeToAllClickFactory.create()),v.register("trackCloseButtonClick",v.trackCloseButtonClickFactory.create()),v.register("trackMainFormView",v.trackMainFormViewFactory.create()),v.register("trackPrivacyPolicyLinkView",v.trackPrivacyPolicyLinkViewFactory.create()),v.register("trackRejectAllClick",v.trackRejectAllClickFactory.create()),v.register("trackReminderWidgetView",v.trackReminderWidgetViewFactory.create()),v.register("trackSaveChoicesClick",v.trackSaveChoicesClickFactory.create())},this.register=function(e,t){v.commands[e]=t},this.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];try{var r=v.commands[e];if(void 0===r)return void console.error(new Error("".concat(e,": not implemented")));r.apply(void 0,t)}catch(e){console.error(e)}},this.declareApi=function(e){Object.defineProperty(e,"ppms",{enumerable:!0,value:{cm:{api:v.execute}}})},this.isApiAlreadyDeclared=function(e){return"ppms"in e&&"cm"in e.ppms&&"api"in e.ppms.cm}}return e.dependencies=["Window","GetComplianceSettingsFactory","GetComplianceTypesFactory","GetNewComplianceTypesFactory","OpenConsentFormFactory","SendDataRequestFactory","SetComplianceSettingsFactory","SetInitialComplianceSettingsFactory","ClearConsentSettingsFactory","TrackAgreeToAllClickFactory","TrackCloseButtonClickFactory","TrackMainFormViewFactory","TrackPrivacyPolicyLinkViewFactory","TrackRejectAllClickFactory","TrackReminderWidgetViewFactory","TrackSaveChoicesClickFactory","Dequeuer"],e}(),hn=function(){function e(e,t,n){var r=this;this.appId=e,this.document=t,this.consentTemplatesSettings=n,this.preventClosing=function(){var e=r.consentTemplatesSettings.consent_form_variant;"bottom_bar"===e&&r.addStyleToConsentForm("\n#ppms_cm_consent_popup_#appId# {\n  height: 100vh !important;\n  width: 100% !important;\n  background-color: rgba(0, 0, 0, .8) !important;\n  position: fixed !important;\n  top: 0 !important;\n  left: 0 !important;\n  z-index: 2147483647 !important;\n}".replace("#appId#",r.appId)),"modal"===e&&r.addStyleToConsentForm("#ppms_cm_popup_overlay { z-index: 2147483647 !important; }"),r.addStyleToConsentForm("#ppms_cm_close-popup { display: none !important; }"),r.addStyleToConsentForm("body { overflow: hidden !important; }")},this.addStyleToConsentForm=function(e){var t="ppms_cm_consent_popup_".concat(r.appId,"_styles"),n=r.document.getElementById(t);n&&(n.innerHTML=n.innerHTML+" ".concat(e))}}return e.dependencies=["appId","Document","consentTemplatesSettings"],e}(),gn=function(){function e(e,t){var n=this;this.staleCheckpointStorage=e,this.consentSettings=t,this.isConsentStale=function(){var e=n.staleCheckpointStorage.getStaleCheckpoint();if(null===e)return!1;var t=n.consentSettings.cookie_stale_period;if(-1===t)return!1;var r=1e3*t,i=new Date(e.getTime()+r);return new Date>=i}}return e.dependencies=["StaleCheckpointStorage","consentSettings"],e}(),mn=function(){return mn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},mn.apply(this,arguments)},vn=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},yn=function(){function e(e,t){var n=this;this.consentTypes=e,this.consentStorage=t,this.getAll=function(){return n.unique(vn(vn([],n.getConsentTypesFromCookie(),!0),n.getConsentTypesFromSetup(),!0)).filter((function(e){return"not_require_consent"!==e}))},this.getNew=function(){return n.getAll().filter((function(e){return-1===n.getConsentTypesFromCookie().indexOf(e)}))},this.getAgreedTypes=function(){return n.getEntriesFromCookie().filter((function(e){return 1===e.status})).map((function(e){return e.consentType}))},this.getRejectedTypes=function(){return n.getEntriesFromCookie().filter((function(e){return 0===e.status})).map((function(e){return e.consentType}))},this.getUndecidedTypes=function(){return n.getEntriesFromCookie().filter((function(e){return-1===e.status})).map((function(e){return e.consentType}))},this.getConsentTypesFromCookie=function(){var e=n.consentStorage.getConsents();return Object.keys(e)},this.getConsentTypesFromSetup=function(){return n.consentTypes},this.getEntriesFromCookie=function(){return function(e){var t=[];for(var n in e){var r=e[n];if(void 0===r)throw new Error("Invalid consent value");t.push(mn({consentType:n},r))}return t}(n.consentStorage.getConsents())},this.unique=function(e){return e.filter((function(e,t,n){return n.indexOf(e)===t}))}}return e.dependencies=["consentTypes","ConsentStorage"],e}();A.config={strict:!0};var bn,wn=new A,Cn=function(e,t){wn.value(e,t)},Sn=function(e,t){var n,r=null!==(n=t.dependencies)&&void 0!==n?n:[];wn.service.apply(wn,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([e,t],r,!1))},En=function(){function e(e,t){var n=this;this.window=e,this.consentSettings=t,this.resolve=function(){var e=n.window.location.hostname,t=n.getDomains();if(n.hasExactMatch(t))return{domain:e,isWildcard:!1};var r=t.filter((function(e){return 0===e.indexOf("*.")})).filter((function(t){var r=e===t.substring(2),i=n.endsWith(e,".".concat(t.substring(2)));return r||i}));return 0===r.length?{domain:e,isWildcard:!1}:{domain:n.findLongestString(r).substring(2),isWildcard:!0}},this.hasExactMatch=function(e){return-1!==e.indexOf(n.window.location.hostname)},this.findLongestString=function(e){if(0===e.length)throw new Error("Provided list is empty. Cannot find shortest element.");return e.sort((function(e,t){return t.length-e.length}))[0]},this.endsWith=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},this.getDomains=function(){return n.consentSettings.cookie_domains}}return e.dependencies=["Window","consentSettings"],e}(),_n=function(){function e(e,t){var n=this;this.document=e,this.styleElementManipulator=t,this.handleClose=function(e){n.removeElementById(e),n.styleElementManipulator.removeStyleElement("".concat(e,"_styles"))},this.removeElementById=function(e){var t,r=n.document.getElementById(e);null===(t=null==r?void 0:r.parentNode)||void 0===t||t.removeChild(r)}}return e.dependencies=["Document","StyleElementManipulator"],e}(),kn=function(){function e(e,t,n,r,i,o){var a=this;this.templateKeeper=e,this.publicApiCommandExecutor=t,this.templateWrapper=n,this.appId=r,this.closeHandler=i,this.reminderCookie=o,this.render=function(){var e=a.templateKeeper.getTemplate("reminder_widget");a.templateWrapper.render(e,"ppms_cm_consent_bar_".concat(a.appId),"ppms_cm_bar-close-icon"),a.addOpenPopupButtonListener(),a.addCloseButtonListener()},this.addCloseButtonListener=function(){var e=document.getElementById("ppms_cm_bar-close-icon");e&&e.addEventListener("click",a.saveClosedState)},this.saveClosedState=function(){a.reminderCookie.setCookie(!0)},this.addOpenPopupButtonListener=function(){var e=document.querySelector("#ppms_cm_open-popup");e&&e.addEventListener("click",(function(){a.publicApiCommandExecutor.openConsentForm(a.publicApiCommandExecutor.trackReminderWidgetView),a.closeHandler.handleClose("ppms_cm_consent_bar_".concat(a.appId))}))}}return e.dependencies=["TemplateKeeper","PublicApiCommandExecutor","TemplateWrapper","appId","CloseHandler","ReminderCookie"],e}();!function(e){e.agreeToAll="agree-to-all",e.rejectAll="reject-to-all",e.save="save"}(bn||(bn={}));var Tn=function(){function e(e,t,n,r,i,o,a,s,c,u,l,d){var p=this;this.appId=e,this.simpleConsentFormRenderer=t,this.extendedConsentFormRenderer=n,this.consentTypesProvider=r,this.publicApiCommandExecutor=i,this.closeHandler=o,this.simpleConsentFormRecognizer=a,this.successNoteRecognizer=s,this.successNoteRenderer=c,this.staleCheckpointStorage=u,this.consentTemplatesSettings=l,this.consentFormBlocker=d,this.render=function(e){var t=p.simpleConsentFormRecognizer.recognize();if(t.applies)p.simpleConsentFormRenderer.render(t.consentType,p.onSave,p.onClose);else{var n=p.consentTypesProvider.getAgreedTypes();p.extendedConsentFormRenderer.render(e,n,p.onSave,p.onClose)}p.staleCheckpointStorage.setStaleCheckpoint(),p.consentTemplatesSettings.reminder_enabled&&"consent_form_with_blocked_content"===p.consentTemplatesSettings.reminder_widget_variant&&p.consentFormBlocker.preventClosing()},this.onSave=function(e,t){p.publicApiCommandExecutor.setComplianceSettings({consents:t},(function(){switch(p.closeHandler.handleClose("ppms_cm_consent_popup_".concat(p.appId)),p.successNoteRecognizer.recognize().applies&&p.successNoteRenderer.render(),e){case bn.save:return void p.publicApiCommandExecutor.trackSaveChoicesClick();case bn.agreeToAll:return void p.publicApiCommandExecutor.trackAgreeToAllClick();case bn.rejectAll:return void p.publicApiCommandExecutor.trackRejectAllClick()}}),(function(){p.closeHandler.handleClose("ppms_cm_consent_popup_".concat(p.appId))}))},this.onClose=function(){p.publicApiCommandExecutor.trackCloseButtonClick()}}return e.dependencies=["appId","SimpleConsentFormRenderer","ExtendedConsentFormRenderer","ConsentTypesProvider","PublicApiCommandExecutor","CloseHandler","SimpleConsentFormRecognizer","SuccessNoteRecognizer","SuccessNoteRenderer","StaleCheckpointStorage","consentTemplatesSettings","ConsentFormBlocker"],e}(),On=function(){function e(e){var t=this;this.consentBarRenderer=e,this.render=function(){t.consentBarRenderer.render()}}return e.dependencies=["ConsentBarRenderer"],e}(),An="ppms_cm_data_subject",xn="ppms_cm_data_subject_widget_styles",Rn="ppms_cm_data_subject_widget__hidden",Dn="ppms_cm_data_subject_widget__wrapper",Ln="ppms_cm_data_subject_failed_styles",Pn="ppms_cm_data_subject_success_styles",Nn="ppms_cm_data_subject_note",Fn=function(){function e(e,t,n,r,i){var o=this;this.window=e,this.document=t,this.templateKeeper=n,this.styleElementManipulator=r,this.publicApiCommandExecutor=i,this.render=function(){o.setupNewWidget(),o.setupMutationObserver(o.setupNewWidget)},this.setupNewWidget=function(){var e=o.document.getElementById(An);if(null===e)return o.removeStaleStyleElement(),void delete o.window.sendUserDataSubjectRequest;if(!e.getAttribute("data-listener-attached")){e.setAttribute("data-listener-attached","true");var t=o.templateKeeper.getTemplate("data_subject_request");o.styleElementManipulator.addStyleElement(t.styles,xn),Object.defineProperty(o.window,"sendUserDataSubjectRequest",{configurable:!0,value:function(e){if(!o.isSubmittedDataValid(e))return!1;var t={content:e.message.value,email:e.email.value,type:e.event.value};return o.publicApiCommandExecutor.sendDataRequest(t,o.onSuccess,o.onError),!1}})}},this.setupMutationObserver=function(e){new MutationObserver(e).observe(o.document.body,{childList:!0,attributes:!1,subtree:!0})},this.showDataSubjectRequestWidget=function(){var e=o.document.getElementById(An);e&&(e.classList.remove(Rn),e.classList.add(Dn))},this.hideDataSubjectRequestWidget=function(){var e=o.document.getElementById(An);e&&(e.classList.add(Rn),e.classList.remove(Dn))},this.resetForm=function(){var e=o.document.getElementById("ppms_cm_data_subject_form");e&&e instanceof HTMLFormElement&&e.reset()},this.showSuccessNote=function(){var e,t=o.templateKeeper.getTemplate("data_subject_request_confirmation_note"),n=o.document.getElementById(An),r=o.document.createElement("div");r.setAttribute("id",Nn),r.innerHTML=t.html,null===(e=null==n?void 0:n.parentNode)||void 0===e||e.insertBefore(r,n),o.styleElementManipulator.addStyleElement(t.styles,Pn)},this.showFailureNote=function(){var e,t=o.templateKeeper.getTemplate("data_subject_request_failure_note"),n=o.document.getElementById(An),r=o.document.createElement("div");r.setAttribute("id",Nn),r.innerHTML=t.html,null===(e=null==n?void 0:n.parentNode)||void 0===e||e.insertBefore(r,n),o.styleElementManipulator.addStyleElement(t.styles,Ln)},this.removeSuccessNote=function(){var e,t=o.document.getElementById(Nn);t&&(null===(e=t.parentNode)||void 0===e||e.removeChild(t)),o.styleElementManipulator.removeStyleElement(Pn)},this.removeFailureNote=function(){var e,t=o.document.getElementById(Nn);t&&(null===(e=t.parentNode)||void 0===e||e.removeChild(t)),o.styleElementManipulator.removeStyleElement(Ln)},this.onSuccess=function(){o.hideDataSubjectRequestWidget(),o.showSuccessNote();var e=o.document.querySelector(".".concat("show-data-subject"));e&&e.addEventListener("click",(function(){o.removeSuccessNote(),o.showDataSubjectRequestWidget(),o.resetForm()}))},this.onError=function(){o.hideDataSubjectRequestWidget(),o.showFailureNote();var e=o.document.querySelector(".".concat("try-again-data-subject"));e&&e.addEventListener("click",(function(){o.removeFailureNote(),o.showDataSubjectRequestWidget()}))},this.isSubmittedDataValid=function(e){return"event"in e&&"email"in e&&"message"in e},this.removeStaleStyleElement=function(){null!==o.document.getElementById(xn)&&o.styleElementManipulator.removeStyleElement(xn)}}return e.dependencies=["Window","Document","TemplateKeeper","StyleElementManipulator","PublicApiCommandExecutor"],e}(),In="expanded",Vn=function(){var e=this;this.addExpander=function(t){var n=t.querySelector("#ppms_cm_popup_wrapper");if(null===n)throw new Error("CM popup not found");var r=t.querySelectorAll("[data-content-expander]");0!==r.length&&e.addClickListenerToAllExpandableItems(r,n)},this.addClickListenerToAllExpandableItems=function(t,n){t.forEach((function(r){r.addEventListener("click",e.itemOnClick(t,n))}))},this.itemOnClick=function(e,t){return function(){e.forEach((function(e){e.classList.toggle(In)})),t.classList.toggle(In)}}},jn="bottom",Mn=".ppms_cm_consent_switcher",Bn=".ppms_cm_card_section",Hn="checked",Wn=function(){function e(e,t,n,r,i){var o=this;this.appId=e,this.templateKeeper=t,this.expandableHandler=n,this.languagePicker=r,this.templateWrapper=i,this.render=function(e,t,n,r){var i=o.getTemplate();o.templateWrapper.render(i,"ppms_cm_consent_popup_".concat(o.appId),"ppms_cm_close-popup",r);var a=document.getElementById("ppms_cm_consent_popup_".concat(o.appId));if(!a)throw new Error("CM popup not found");o.languagePicker.start(document.body),o.expandableHandler.addExpander(a),o.removeUnusedConsents(a,e,Bn),o.removeUnusedConsents(a,e,".ppms_cm_consent_item"),o.setAgreedConsents(a,t),o.addSwitcherListeners(a),o.addButtonListener(a,n,"#ppms_cm_save-choices",bn.save),o.addButtonListener(a,n,"#ppms_cm_agree-to-all",bn.agreeToAll),o.addButtonListener(a,n,"#ppms_cm_reject-all",bn.rejectAll),function(e){var t=e.querySelector("#ppms_cm_popup_wrapper");if(!t)throw new Error("CM popup wrapper not found");t.addEventListener("scroll",(function(){0===t.scrollTop?t.classList.add("top"):t.classList.remove("top"),t.scrollHeight-t.scrollTop<=t.clientHeight?t.classList.add(jn):t.classList.remove(jn)}))}(a)},this.getTemplate=function(){return o.templateKeeper.getTemplate("extended_consent_form")},this.addClickListenerToSwitcher=function(e){e.addEventListener("click",(function(){e.classList.toggle(Hn)}))},this.addSwitcherListeners=function(e){e.querySelectorAll(Mn).forEach(o.addClickListenerToSwitcher)},this.setAllSwitchersTo=function(e,t){e.querySelectorAll(Mn).forEach((function(e){t?e.classList.add(Hn):e.classList.remove(Hn)}))},this.setAgreedConsents=function(e,t){e.querySelectorAll(Bn).forEach((function(e){var n=e.getAttribute("data-consent-type");if(null===n)throw new Error("Missing consent type data");if(-1!==t.indexOf(n)){var r=e.querySelector(Mn);r&&r.classList.add(Hn)}}))},this.removeUnusedConsents=function(e,t,n){e.querySelectorAll(n).forEach((function(e){var n,r=e.getAttribute("data-consent-type");if(null===r)throw new Error("Missing consent type data");-1===t.indexOf(r)&&(null===(n=e.parentNode)||void 0===n||n.removeChild(e))}))},this.getConsents=function(e){var t={};return e.querySelectorAll(Bn).forEach((function(e){var n=e.getAttribute("data-consent-type");if(null===n)throw new Error("Missing consent type data");var r=e.querySelector(Mn);if(null===r)throw new Error("Unable to read consent status");t[n]={status:r.classList.contains(Hn)?1:0,updatedAt:(new Date).toISOString()}})),t},this.addButtonListener=function(e,t,n,r){e.querySelectorAll(n).forEach((function(n){n.addEventListener("click",(function(){n.classList.contains("disabled")||(r===bn.agreeToAll&&o.setAllSwitchersTo(e,!0),r===bn.rejectAll&&o.setAllSwitchersTo(e,!1),t(r,o.getConsents(e)))}))}))}}return e.dependencies=["appId","TemplateKeeper","ExpandableHandler","LanguagePicker","TemplateWrapper"],e}(),Un="ppms_cm_privacy_settings_styles",qn=function(){function e(e,t,n,r){var i=this;this.templateKeeper=e,this.document=t,this.publicApiCommandExecutor=n,this.styleElementManipulator=r,this.render=function(){i.setupNewWidget(),i.setupMutationObserver(i.setupNewWidget)},this.setupNewWidget=function(){var e=i.document.getElementById("ppms_cm_privacy_settings");null!==e?null===e.getAttribute("data-listener-attached")&&(e.setAttribute("data-listener-attached","true"),i.addWidgetStyles(),i.addButtonListener()):i.removeStaleStyleElement()},this.setupMutationObserver=function(e){new MutationObserver(e).observe(i.document.body,{childList:!0,attributes:!1,subtree:!0})},this.addButtonListener=function(){var e=i.document.getElementById("ppms_cm_privacy_settings_button");if(!e)throw new Error("Open consent form button not found");e.addEventListener("click",(function(){i.publicApiCommandExecutor.openConsentForm(i.publicApiCommandExecutor.trackPrivacyPolicyLinkView)}))},this.addWidgetStyles=function(){var e=i.templateKeeper.getTemplate("consent_form_link").styles;i.styleElementManipulator.addStyleElement(e,Un)},this.removeStaleStyleElement=function(){null!==i.document.getElementById(Un)&&i.styleElementManipulator.removeStyleElement(Un)}}return e.dependencies=["TemplateKeeper","Document","PublicApiCommandExecutor","StyleElementManipulator"],e}(),zn=function(){function e(e,t){var n=this;this.templateKeeper=e,this.consentTypesProvider=t,this.recognize=function(){var e=n.getSimpleTemplateConfiguration();if(!e.enabled)return{applies:!1};var t=n.consentTypesProvider.getAll();return 1!==t.length||t[0]!==e.consentType?{applies:!1}:{applies:!0,consentType:e.consentType}},this.getSimpleTemplateConfiguration=function(){var e=n.templateKeeper.getTemplate("simple_consent_form").configuration;return Array.isArray(e)?{enabled:!1}:"enabled"in e&&"consentType"in e?{enabled:e.enabled,consentType:e.consentType}:{enabled:!1}}}return e.dependencies=["TemplateKeeper","ConsentTypesProvider"],e}(),Kn=function(){function e(e,t,n,r){var i=this;this.appId=e,this.templateKeeper=t,this.languagePicker=n,this.templateWrapper=r,this.render=function(e,t,n){var r=i.getTemplate();i.templateWrapper.render(r,"ppms_cm_consent_popup_".concat(i.appId),"ppms_cm_close-popup",n);var o=document.getElementById("ppms_cm_consent_popup_".concat(i.appId));if(!o)throw new Error("CM popup not found");i.languagePicker.start(document.body),i.addAgreeButtonListener(o,t,e),i.addDisagreeButtonListener(o,t,e)},this.getTemplate=function(){return i.templateKeeper.getTemplate("simple_consent_form")},this.createConsents=function(e,t){var n;return(n={})[e]={status:t,updatedAt:(new Date).toISOString()},n},this.addAgreeButtonListener=function(e,t,n){var r=e.querySelector("#ppms_cm_agree-to-all");r&&r.addEventListener("click",(function(){t(bn.agreeToAll,i.createConsents(n,1))}))},this.addDisagreeButtonListener=function(e,t,n){var r=e.querySelector("#ppms_cm_disagree");r&&r.addEventListener("click",(function(){t(bn.rejectAll,i.createConsents(n,0))}))}}return e.dependencies=["appId","TemplateKeeper","LanguagePicker","TemplateWrapper"],e}(),$n=function(){function e(e){var t=this;this.templateKeeper=e,this.recognize=function(){if(!t.templateKeeper.hasTemplate("extended_consent_form_success_note"))return{applies:!1};var e=t.templateKeeper.getTemplate("extended_consent_form_success_note");return{applies:"enabled"in e.configuration&&Boolean(e.configuration.enabled)}}}return e.dependencies=["TemplateKeeper"],e}(),Yn=function(){function e(e,t,n,r){var i=this;this.appId=e,this.templateKeeper=t,this.templateWrapper=n,this.closeHandler=r,this.render=function(){var e=i.templateKeeper.getTemplate("extended_consent_form_success_note");i.templateWrapper.render(e,"ppms_cm_consent_popup_".concat(i.appId),"ppms_cm_close_popup_id");var t=document.getElementById("ppms_cm_consent_popup_".concat(i.appId));if(!t)throw new Error("CM popup not found");i.addCloseButtonListener(t)},this.addCloseButtonListener=function(e){var t=e.querySelector("#ppms_consent_form_success_note_button");t&&t.addEventListener("click",i.close)},this.close=function(){i.closeHandler.handleClose("ppms_cm_consent_popup_".concat(i.appId))}}return e.dependencies=["appId","TemplateKeeper","TemplateWrapper","CloseHandler"],e}(),Gn=function(){function e(e,t,n,r,i,o){var a=this;this.window=e,this.document=t,this.consentTemplatesSettings=n,this.closeHandler=r,this.mobileDetector=i,this.styleElementManipulator=o,this.render=function(e,t,n,r){var i=a.document.createElement("div");i.innerHTML=e.html,i.id=t,a.document.body.appendChild(i),a.styleElementManipulator.addStyleElement(e.styles,"".concat(t,"_styles")),a.isIE()&&a.addIEClasses(i),a.mobileDetector.isMobile()&&a.addMobileClasses(i),a.isPoweredByEnabled()||a.hidePoweredBy(i);var o=i.querySelector("#".concat(n));o&&o.addEventListener("click",(function(){a.closeHandler.handleClose(t),"function"==typeof r&&r()}))},this.addIEClasses=function(e){e.classList.add("ie11")},this.isIE=function(){var e=a.window.navigator,t=e.userAgent,n=e.appVersion;return-1!==t.indexOf("MSIE")||!(!n||-1===n.indexOf("Trident/"))},this.addMobileClasses=function(e){var t=a.mobileDetector.isSmallMobile()?"mobile-sm":"mobile-lg",n=e.querySelector('[id*="overlay"]');n&&n.classList.add(t)},this.isPoweredByEnabled=function(){return a.consentTemplatesSettings.powered_by_enabled},this.hidePoweredBy=function(e){var t,n=e.querySelector(".ppms_cm_footer");null===(t=null==n?void 0:n.parentNode)||void 0===t||t.removeChild(n)}}return e.dependencies=["Window","Document","consentTemplatesSettings","CloseHandler","MobileDetector","StyleElementManipulator"],e}(),Qn=function(){function e(e,t,n,r){var i=this;this.closeHandler=e,this.languageStorage=t,this.appId=n,this.publicApiCommandExecutor=r,this.setNewLanguage=function(e){i.closeHandler.handleClose("ppms_cm_consent_popup_".concat(i.appId)),i.languageStorage.setLanguage(e),i.publicApiCommandExecutor.openConsentForm()}}return e.dependencies=["CloseHandler","LanguageStorage","appId","PublicApiCommandExecutor"],e}(),Jn=function(){function e(e,t,n){var r=this;this.window=e,this.consentTemplatesSettings=t,this.languageStorage=n,this.getLanguage=function(){var e=r.languageStorage.getLanguage(),t=r.getAvailableLanguages();if(null!==e&&r.findExactMatch(e,t))return e;var n=r.getBrowserLanguages();return 0===n.length?r.getDefaultLanguage():r.findBrowserLanguageMatch(n,t)||r.getDefaultLanguage()},this.findBrowserLanguageMatch=function(e,t){for(var n=0,i=e;n<i.length;n++){var o=i[n];if(r.findExactMatch(o,t))return o;var a=o.substring(0,2),s=r.findDialects(a,t);if(s.length>0)return s[0]}},this.findExactMatch=function(e,t){return-1!==t.indexOf(e)},this.findDialects=function(e,t){return t.filter((function(t){return t.substring(0,2)===e}))},this.getDefaultLanguage=function(){return r.consentTemplatesSettings.default_language},this.getAvailableLanguages=function(){var e=r.consentTemplatesSettings.languages;return Object.keys(e)},this.getNormalizedBrowserLanguages=function(){if(r.window.navigator.languages)return r.window.navigator.languages;var e=r.window.navigator.userLanguage;return e?[e]:[r.window.navigator.language]},this.getBrowserLanguages=function(){return r.getNormalizedBrowserLanguages().map((function(e){return e.replace("-","_")}))}}return e.dependencies=["Window","consentTemplatesSettings","LanguageStorage"],e}(),Xn="ppms_cm_language_select_extendable_item",Zn="ppms_cm_language_select_extendable_id",er="expanded",tr=function(){function e(e,t,n){var r=this;this.consentTemplatesSettings=e,this.languageDetector=t,this.changeLanguageHandler=n,this.start=function(e){var t,n=e.querySelector("#".concat("ppms_cm_language_select_btn_id"));if(!n||!r.isHtmlElement(n))throw new Error("Language picker not found");r.getLanguagesCount()<2?null===(t=n.parentElement)||void 0===t||t.removeChild(n):(r.replaceButtonText(n),r.replaceLanguages(e),r.addButtonListeners(e,n),r.addOptionsListeners(e,n),r.addNativeSelect(n))},this.getCurrentLanguageName=function(){var e=r.languageDetector.getLanguage();return r.consentTemplatesSettings.languages[e][e]},this.replaceButtonText=function(e){var t=r.getCurrentLanguageName();e.childNodes.item(0).textContent=t},this.replaceLanguages=function(e){var t=e.querySelector("#".concat(Zn));if(null===t||!r.isHtmlElement(t))throw new Error("Element #".concat(Zn," not found"));var n=t.children[0].cloneNode(!0);t.innerHTML="";for(var i=r.getAvailableLanguages(),o=0;o<i.length;o+=1){var a=n.cloneNode(!0),s=a.id;a.setAttribute("id",s.replace(/_\d+$/,"_".concat(o))),a.setAttribute("data-value",i[o].id),a.innerText=i[o].name,t.appendChild(a)}},this.addButtonListeners=function(e,t){t.addEventListener("blur",r.blur(t)),t.addEventListener("mousedown",(function(){return r.toggle(t)})),t.addEventListener("focus",(function(){return r.open(t)})),t.addEventListener("keydown",r.buttonKeydownListener(e,t))},this.isHtmlElement=function(e){return e instanceof HTMLElement},this.isOpened=function(e){return e.classList.contains(er)},this.open=function(e){e.classList.add(er)},this.close=function(e){e.classList.remove(er)},this.toggle=function(e){e.classList.toggle(er)},this.blur=function(e){return function(t){var n=t.relatedTarget;if(n){if(!r.isHtmlElement(n))throw new Error("relatedTarget is not an HTML element");n.className&&"ppms_cm_language_select_extendable_item"!==n.className&&r.close(e)}else r.close(e)}},this.addOptionsListeners=function(e,t){r.getOptions(e).forEach((function(n){return r.addOptionListeners(e,t,n)}))},this.addNativeSelect=function(e){var t=e.parentElement;if(!t)throw new Error("Parent of #".concat(e.id," not found"));var n=document.createElement("select");n.setAttribute("aria-hidden","true"),r.getAvailableLanguages().forEach((function(e){var t=document.createElement("option");t.value=e.id,t.innerText=e.name,e.id===r.languageDetector.getLanguage()&&t.setAttribute("selected","true"),n.appendChild(t)})),t.appendChild(n),n.addEventListener("change",r.choose)},this.buttonKeydownListener=function(e,t){return function(n){switch(n.code||n.key||n.keyCode){case"ArrowDown":case"Down":case 40:n.preventDefault(),r.open(t),r.focusFirstOption(e);break;case"Tab":case 9:n.shiftKey?r.close(t):r.isOpened(t)&&(n.preventDefault(),r.focusFirstOption(e));break;case"Enter":case 13:case"Space":case"Spacebar":case" ":case 32:n.preventDefault(),r.toggle(t)}}},this.getAvailableLanguages=function(){var e=r.languageDetector.getLanguage(),t=r.consentTemplatesSettings.languages[e],n=[];for(var i in t)n.push({id:i,name:t[i]});return n},this.focusFirstOption=function(e){var t=e.querySelector(".".concat(Xn));if(null===t||!r.isHtmlElement(t))throw new Error("Language picker options not found");t.focus()},this.focusLastOption=function(e){var t=e.getElementsByClassName(Xn);if(0===t.length)throw new Error("Language picker options not found");var n=t[t.length-1];r.isHtmlElement(n)&&n.focus()},this.getOptions=function(e){return e.querySelectorAll(".".concat(Xn))},this.setLanguage=function(e){r.changeLanguageHandler.setNewLanguage(e)},this.choose=function(e){var t=e.target;if(null===t)throw new Error("Event target is null");if(r.isHtmlElement(t)){var n=t.getAttribute("data-value");n&&r.setLanguage(n)}"value"in t&&r.setLanguage(t.value)},this.optionKeydownListener=function(e,t){return function(n){switch(n.code||n.key||n.keyCode){case"Enter":case 13:case"Space":case"Spacebar":case" ":case 32:n.preventDefault(),r.choose(n);break;case"ArrowUp":case"Up":case 38:n.preventDefault(),r.focusPreviousOption(e,t);break;case"ArrowDown":case"Down":case 40:n.preventDefault(),r.focusNextOption(e,t)}}},this.addOptionListeners=function(e,t,n){if(!r.isHtmlElement(n))throw new Error("Option is not an HTML element");n.addEventListener("blur",r.blur(t)),n.addEventListener("mousedown",r.choose),n.addEventListener("keydown",r.optionKeydownListener(e,n))},this.focusPreviousOption=function(e,t){var n=t.previousElementSibling;n?n.focus():r.focusLastOption(e)},this.focusNextOption=function(e,t){var n=t.nextElementSibling;n?n.focus():r.focusFirstOption(e)},this.getLanguagesCount=function(){return Object.keys(r.consentTemplatesSettings.languages).length}}return e.dependencies=["consentTemplatesSettings","LanguageDetector","ChangeLanguageHandler"],e}(),nr=function(){function e(e){var t=this;this.window=e,this.isSmallMobile=function(){return t.isScreenNarrowerThanOrEqual(320)},this.isLargeMobile=function(){return t.isScreenNarrowerThanOrEqual(480)&&!t.isScreenNarrowerThanOrEqual(320)},this.isMobile=function(){return t.isSmallMobile()||t.isLargeMobile()},this.isScreenNarrowerThanOrEqual=function(e){return t.window.matchMedia("only screen and (max-width: ".concat(e,"px)")).matches}}return e.dependencies=["Window"],e}(),rr=function(){function e(e,t,n,r,i){var o=this;this.consentTemplatesSettings=e,this.api=t,this.consentBarRenderer=n,this.cornerButtonRenderer=r,this.reminderCookie=i,this.handleReminder=function(){if(o.consentTemplatesSettings.reminder_enabled)switch(o.consentTemplatesSettings.reminder_widget_variant){case"consent_form":return void o.handleConsentForm();case"consent_form_with_blocked_content":return void o.handleConsentFormWithBlockedContent();case"consent_bar":return void o.handleConsentBar();case"corner_button":return void o.handleCornerButton()}},this.handleConsentForm=function(){o.api.openConsentForm(o.api.trackReminderWidgetView)},this.handleConsentFormWithBlockedContent=function(){o.api.openConsentForm(o.api.trackReminderWidgetView)},this.handleConsentBar=function(){o.wasReminderClosed()||o.consentBarRenderer.render()},this.handleCornerButton=function(){o.wasReminderClosed()||o.cornerButtonRenderer.render()},this.wasReminderClosed=function(){var e=o.reminderCookie.getParsedCookie();return null!==e&&e.status}}return e.dependencies=["consentTemplatesSettings","PublicApiCommandExecutor","ConsentBarRenderer","CornerButtonRenderer","ReminderCookie"],e}(),ir=function(){return ir=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ir.apply(this,arguments)},or=function(){function e(e,t,n,r){var i=this;this.appId=e,this.cookieReader=t,this.cookieWriter=n,this.consentSettings=r,this.getParsedCookie=function(){return i.cookieReader.read("ppms_privacy_".concat(i.appId))},this.setCookie=function(e){var t=i.getParsedCookie(),n=ir(ir({},null!==t?t:{}),e);i.cookieWriter.write(i.getCookieName(),n,i.getMaxAge())},this.deleteCookie=function(){i.cookieWriter.write(i.getCookieName(),{},new Date(0))},this.getMaxAge=function(){return new Date(Date.now()+1e3*i.consentSettings.cookie_expiration_period)},this.getCookieName=function(){return"ppms_privacy_".concat(i.appId)}}return e.dependencies=["appId","CookieReader","CookieWriter","consentSettings"],e}(),ar=function(){return ar=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ar.apply(this,arguments)},sr=function(){function e(e,t){var n=this;this.consentCookie=e,this.variableUpdater=t,this.getConsents=function(){var e,t,r=null!==(t=null===(e=n.consentCookie.getParsedCookie())||void 0===e?void 0:e.consents)&&void 0!==t?t:{};return delete r.intro,r},this.setConsents=function(e){var t=n.getConsents();n.consentCookie.setCookie({consents:ar(ar({},t),e)});var r=n.getConsents();n.variableUpdater.update(t,r)},this.clear=function(){var e=n.getConsents();n.consentCookie.deleteCookie(),n.variableUpdater.update(e,{})}}return e.dependencies=["ConsentCookie","VariableUpdater"],e}(),cr=function(){function e(e,t){var n=this;this.cookieStorage=e,this.domainResolver=t,this.read=function(e){var t=n.getCookiesOfName(e).map((function(e){return n.decode(e.value)})).filter((function(e){return null!==e})).filter((function(e){return n.isDomainScopeCookie(e)})).filter((function(e){return n.domainMatches(e)}));return t.length>0?t[0]:null},this.domainMatches=function(e){return e.domain.pattern===(n.domainResolver.resolve().isWildcard?"*.".concat(n.domainResolver.resolve().domain):n.domainResolver.resolve().domain)},this.isDomainScopeCookie=function(e){return"object"==typeof e&&null!==e&&"domain"in e},this.decode=function(e){try{return JSON.parse(decodeURIComponent(e))}catch(e){return null}},this.getCookiesOfName=function(e){return n.cookieStorage.getCookieString().split("; ").map((function(e){var t=e.split("=");return{key:t[0],value:t[1]}})).filter((function(t){return t.key===e}))}}return e.dependencies=["CookieStorage","DomainResolver"],e}(),ur=function(){return ur=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ur.apply(this,arguments)},lr=function(){function e(e,t){var n=this;this.cookieStorage=e,this.domainResolver=t,this.write=function(e,t,r){var i=n.domainResolver.resolve(),o=ur(ur({},t),{domain:{normalized:i.domain,isWildcard:i.isWildcard,pattern:i.isWildcard?"*.".concat(i.domain):i.domain}});n.cookieStorage.set(e,JSON.stringify(o),{expires:r,domain:i.isWildcard?i.domain:void 0})}}return e.dependencies=["CookieStorage","DomainResolver"],e}(),dr=function(){function e(e){var t=this;this.consentCookie=e,this.getLanguage=function(){var e,n;return null!==(n=null===(e=t.consentCookie.getParsedCookie())||void 0===e?void 0:e.language)&&void 0!==n?n:null},this.setLanguage=function(e){return t.consentCookie.setCookie({language:e})}}return e.dependencies=["ConsentCookie"],e}(),pr=function(){function e(e,t,n){var r=this;this.appId=e,this.cookieReader=t,this.cookieWriter=n,this.getParsedCookie=function(){return r.cookieReader.read(r.getCookieName())},this.setCookie=function(e){r.cookieWriter.write(r.getCookieName(),{status:e})},this.getCookieName=function(){return"ppms_privacy_bar_".concat(r.appId)}}return e.dependencies=["appId","CookieReader","CookieWriter"],e}(),fr=function(){function e(e){var t=this;this.consentCookie=e,this.setStaleCheckpoint=function(){t.consentCookie.setCookie({staleCheckpoint:(new Date).toISOString()})},this.getStaleCheckpoint=function(){var e,n=null===(e=t.consentCookie.getParsedCookie())||void 0===e?void 0:e.staleCheckpoint;return n?new Date(n):null}}return e.dependencies=["ConsentCookie"],e}(),hr=function(){function e(e){var t=this;this.consentCookie=e,this.getVisitorId=function(){var e,n;return null!==(n=null===(e=t.consentCookie.getParsedCookie())||void 0===e?void 0:e.visitorId)&&void 0!==n?n:null},this.setVisitorId=function(e){return t.consentCookie.setCookie({visitorId:e})}}return e.dependencies=["ConsentCookie"],e}(),gr=function(){function e(e,t){var n=this;this.document=e,this.nonceToken=t,this.addStyleElement=function(e,t){if(n.document.getElementById(t))throw new Error("Element #".concat(t," already exists"));var r=e.replace("<style>","").replace("</style>",""),i=n.document.createElement("style");i.id=t,i.innerHTML=r,n.nonceToken&&(i.nonce=n.nonceToken),n.document.body.appendChild(i)},this.removeStyleElement=function(e){var t,r=n.document.getElementById(e);r&&(null===(t=r.parentNode)||void 0===t||t.removeChild(r))}}return e.dependencies=["Document","nonceToken"],e}(),mr=function(){function e(e,t,n){var r=this;this.consentSettings=e,this.containerConfiguration=t,this.httpClient=n,this.download=function(e){r.httpClient.sendRequest({url:r.getUrl(),method:"GET",json:!0},(function(t){return r.onSuccess(t,e)}),r.onError)},this.onSuccess=function(e,t){if(!r.isValidTemplatesResponse(e))throw new Error("Consent templates are invalid");t(e)},this.isValidTemplatesResponse=function(e){if(!r.isObject(e))return!1;for(var t in e){var n=e[t];if(!r.isObject(n))return!1;for(var i in n){var o=n[i];if(!r.isObject(o))return!1;if(!("html"in o)||!("styles"in o))return!1}}return!0},this.isObject=function(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)},this.onError=function(e){if(e.target instanceof XMLHttpRequest){var t=e.target.status,n=e.target.statusText;if(0===t)throw new wt("Cannot fetch templates: request blocked by the browser\nPossible reasons:\n- request blocking browser extension\n- request URL is blocked in browser's developer tools");throw new wt("Cannot fetch templates: ".concat(n?"".concat(t," ").concat(n):t))}throw new wt("Cannot fetch templates: unknown error")},this.getUrl=function(){return r.consentSettings.user_mode_enabled?r.containerConfiguration.consent_manager_privacy_widgets_url:r.containerConfiguration.consent_manager_privacy_templates_url}}return e.dependencies=["consentSettings","containerConfiguration","HttpClient"],e}(),vr=function(){function e(e){var t=this;this.languageDetector=e,this.templates=void 0,this.getTemplate=function(e){if(void 0===t.templates)throw new Error("No templates");var n=t.languageDetector.getLanguage(),r=t.templates[n];if(void 0===r)throw new Error("No templates for language ".concat(n));var i=r[e];if(void 0===i)throw new Error("Template ".concat(e," not found"));return i},this.hasTemplate=function(e){try{return t.getTemplate(e),!0}catch(e){return!1}},this.setTemplates=function(e){t.templates=e}}return e.dependencies=["LanguageDetector"],e}(),yr=function(e){var t={};for(var n in e){var r=e[n];void 0!==r&&void 0!==r.status&&(t[n]=r.status)}return t},br=function(){function e(e,t){var n=this;this.dataLayer=e,this.languageDetector=t,this.init=function(e){n.dataLayer.unshift(n.getValue({},e))},this.update=function(e,t){n.dataLayer.push(n.getValue(e,t))},this.getValue=function(e,t){return{Consents:{previous_state:yr(e),current_state:yr(t),consent_form_language:n.languageDetector.getLanguage()},"Piwik PRO Anonymization":function(e){var n;return 1!==(null===(n=t[e])||void 0===n?void 0:n.status)}}}}return e.dependencies=["dataLayer","LanguageDetector"],e}(),wr=function(){function e(e,t){var n=this;this.privacyHandler=e,this.consentTypesProvider=t,this.handlePrivacy=function(){n.privacyHandler.handle()},this.preventTagFromBeingResolved=function(e){return"not_require_consent"!==e.consentType&&-1===n.consentTypesProvider.getAgreedTypes().indexOf(e.consentType)}}return e.dependencies=["PrivacyHandler","ConsentTypesProvider"],e}(),Cr=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Sr=function(){function e(e,t,n,r,i,o,a,s,c,u,l,d,p,f){var h=this;this.consentSettings=e,this.api=t,this.templateDownloader=n,this.templateKeeper=r,this.privacyPolicyWidgetRenderer=i,this.dataSubjectRequestRenderer=o,this.publicApiCommandExecutor=a,this.consentTypesProvider=s,this.reminderHandler=c,this.consentStorage=u,this.visitorIdStorage=l,this.variableUpdater=d,this.staleConsentsDetector=p,this.consentForm=f,this.handle=function(){h.variableUpdater.init(h.consentStorage.getConsents()),h.api.initialize(),h.templateDownloader.download(h.onDownloaded)},this.setVisitorId=function(){null===h.visitorIdStorage.getVisitorId()&&h.visitorIdStorage.setVisitorId(Bt())},this.onDownloaded=function(e){h.templateKeeper.setTemplates(e),h.privacyPolicyWidgetRenderer.render(),h.dataSubjectRequestRenderer.render(),h.consentSettings.user_mode_enabled||h.handleDefaultMode()},this.handleDefaultMode=function(){h.setVisitorId(),h.publicApiCommandExecutor.getNewComplianceTypes((function(e){if(e.length>0)h.handleNewTypes(e);else{var t=h.staleConsentsDetector.isConsentStale(),n=h.consentTypesProvider.getUndecidedTypes(),r=n.length>0,i=h.consentTypesProvider.getRejectedTypes(),o=i.length>0;t&&(r||o)?h.consentForm.render(Cr(Cr([],n,!0),i,!0)):r&&h.reminderHandler.handleReminder()}}))},this.handleNewTypes=function(e){h.publicApiCommandExecutor.setInitialComplianceSettings(e,(function(){h.consentForm.render(e),h.publicApiCommandExecutor.trackMainFormView()}))}}return e.dependencies=["consentSettings","PublicApiExposer","TemplateDownloader","TemplateKeeper","PrivacyPolicyWidgetRenderer","DataSubjectRequestRenderer","PublicApiCommandExecutor","ConsentTypesProvider","ReminderHandler","ConsentStorage","VisitorIdStorage","VariableUpdater","StaleConsentsDetector","ConsentForm"],e}(),Er=function(e){Cn("Window",window),Cn("Document",window.document),Cn("consentTypes",e.consentTypes),Cn("dataLayer",e.dataLayer),Cn("appId",e.appId),Cn("containerConfiguration",e.containerConfiguration),Cn("consentSettings",e.consentSettings),Cn("consentTemplatesSettings",e.consentTemplatesSettings),Cn("CookieStorage",e.cookieStorage),Cn("nonceToken",e.nonceToken),Cn("HttpClient",e.httpClient),Cn("EmittedPageViewEventsRegistry",e.emittedPageViewEventsRegistry),Sn("ContainerAwareConsentManagerPlugin",wr),Sn("ConsentStorage",sr),Sn("PrivacyHandler",Sr),Sn("PublicApiExposer",fn),Sn("GetComplianceSettingsFactory",kt),Sn("GetComplianceTypesFactory",Ot),Sn("GetNewComplianceTypesFactory",xt),Sn("OpenConsentFormFactory",Dt),Sn("SendDataRequestFactory",Pt),Sn("SetComplianceSettingsFactory",Wt),Sn("SetInitialComplianceSettingsFactory",$t),Sn("ClearConsentSettingsFactory",Et),Sn("TrackAgreeToAllClickFactory",Gt),Sn("TrackCloseButtonClickFactory",Jt),Sn("TrackMainFormViewFactory",Zt),Sn("TrackPrivacyPolicyLinkViewFactory",tn),Sn("TrackRejectAllClickFactory",rn),Sn("TrackReminderWidgetViewFactory",an),Sn("TrackSaveChoicesClickFactory",cn),Sn("ExtendedConsentFormRenderer",Wn),Sn("SimpleConsentFormRenderer",Kn),Sn("TemplateKeeper",vr),Sn("LanguageDetector",Jn),Sn("LanguagePicker",tr),Sn("TemplateDownloader",mr),Sn("ConsentTypesProvider",yn),Sn("CloseHandler",_n),Sn("ExpandableHandler",Vn),Sn("PrivacyPolicyWidgetRenderer",qn),Sn("DataSubjectRequestRenderer",Fn),Sn("StyleElementManipulator",gr),Sn("ChangeLanguageHandler",Qn),Sn("PublicApiCommandExecutor",pn),Sn("ReminderHandler",rr),Sn("ConsentBarRenderer",kn),Sn("CornerButtonRenderer",On),Sn("TemplateWrapper",Gn),Sn("MobileDetector",nr),Sn("SimpleConsentFormRecognizer",zn),Sn("ConsentForm",Tn),Sn("DomainResolver",En),Sn("ConsentCookie",or),Sn("ReminderCookie",pr),Sn("CookieReader",cr),Sn("CookieWriter",lr),Sn("SuccessNoteRenderer",Yn),Sn("SuccessNoteRecognizer",$n),Sn("VariableUpdater",br),Sn("LanguageStorage",dr),Sn("VisitorIdStorage",hr),Sn("StaleCheckpointStorage",fr),Sn("StaleConsentsDetector",gn),Sn("Dequeuer",dn),Sn("ConsentFormBlocker",hn);var t,n=(t="ContainerAwareConsentManagerPlugin",wn.container[t]);return n.handlePrivacy(),{preventTagFromBeingResolved:function(e){return n.preventTagFromBeingResolved(e)},getName:function(){return"consent-manager"}}},_r=function(e){return function(t){return{preventTagFromBeingResolved:function(t){return!!t.disableInDebugMode&&"PiwikPRO-TagManager-ContainerDebugger"===e.name},getName:function(){return"do-not-fire-in-debug-mode"}}}}(window),kr=function(e){return function(t){return{preventTagFromBeingResolved:function(t){return!!t.respectVisitorsPrivacy&&!(!e.navigator.doNotTrack||"1"!==e.navigator.doNotTrack)},getName:function(){return"do-not-track"}}}}(window),Tr=function(e){return{preventTagFromBeingResolved:function(t){return!!t.respectVisitorsPrivacy&&"true"===e.cookieStorage.get("_stg_optout")},getName:function(){return"opt-out"}}},Or=function(e,t){var n=e.getTime(),r=t.startDatetime.getTime(),i=t.endDatetime.getTime();return r<=n&&n<=i},Ar=864e5,xr=function(e){return new Date(e.getTime()+Ar)},Rr=function(e){var t=e.split(":").map((function(e){return parseInt(e,10)})),n=t[0],r=t[1],i=t[2],o=new Date;return o.setHours(n,r,i,0),o},Dr=function(e){return Or(new Date,{startDatetime:new Date(e.from),endDatetime:new Date(e.to)})},Lr=function(e){return function(e,t){var n,r=Rr(t.startTime),i=Rr(t.endTime),o=Rr(e);return r<=i?Or(o,{startDatetime:r,endDatetime:i}):Or(o,{startDatetime:(n=r,new Date(n.getTime()-Ar)),endDatetime:i})||Or(o,{startDatetime:r,endDatetime:xr(i)})}((new Date).toISOString().slice(11,19),{startTime:e.from,endTime:e.to})},Pr=function(){return{preventTagFromBeingResolved:function(e){var t=e.scheduler.date_ranges.map(Dr).some((function(e){return!0===e})),n=e.scheduler.times_of_day.map(Lr).some((function(e){return!0===e})),r=0===e.scheduler.date_ranges.length||e.scheduler.date_ranges.length>0&&t,i=0===e.scheduler.times_of_day.length||e.scheduler.times_of_day.length>0&&n;return!r||!i},getName:function(){return"scheduler"}}},Nr=function(){function e(e,t,n,r,i,o,a,s,c,u,l,d){var p=this;this.dataLayer=e,this.dataLayerPushOverrider=t,this.builtinEventsEmitter=n,this.containerDebugger=r,this.pluginsRegistry=i,this.globalObject=o,this.variablesDatabase=a,this.lastInteractionState=s,this.variablesCookiesHandler=c,this.cookieStorage=u,this.historyChange=l,this.legacyDebugModeHandler=d,this.init=function(){return e=p,t=void 0,r=function(){return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(e){switch(e.label){case 0:return this.historyChange.start(),this.cookieStorage.update(),this.legacyDebugModeHandler.handle(),this.containerDebugger.isEnabled()?[4,this.containerDebugger.init()]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.variablesDatabase.start(),this.variablesDatabase.createVariablesIdNameMap(),this.variablesCookiesHandler.createCookieAllowanceMap(),this.exposeVariableAccess(),this.lastInteractionState.createCookieSnapshot(),this.pluginsRegistry.register(kr),this.pluginsRegistry.register(Tr),this.pluginsRegistry.register(_r),this.pluginsRegistry.register(Pr),this.isConsentManagerEnabled()?this.pluginsRegistry.register(Er):this.pushAnonymizationVariable(),this.builtinEventsEmitter.start(),this.dataLayerPushOverrider.override(),[2]}}))},new((n=void 0)||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}));var e,t,n,r},this.isConsentManagerEnabled=function(){return p.globalObject.consentSettings.consent_enabled},this.exposeVariableAccess=function(){Object.defineProperty(p.globalObject,"getVariableValue",{value:function(e,t){return p.variablesDatabase.getByName(e,t)},enumerable:!0})},this.pushAnonymizationVariable=function(){p.dataLayer.unshift({"Piwik PRO Anonymization":function(){return!1}})}}return e.dependencies=["dataLayer","DataLayerPushOverrider","BuiltinEventsEmitter","Debugger","PluginsRegistry","globalObject","VariablesDatabase","LastInteractionState","VariablesCookiesHandler","CookieStorage","HistoryChange","LegacyDebugModeHandler"],e}(),Fr=function(){function e(e){var t=this;this.audienceConditionsFinder=e,this.generate=function(){return{hasAudienceConditions:t.audienceConditionsFinder.areAudienceConditionsPresent()}}}return e.dependencies=["AudienceConditionsFinder"],e}(),Ir=function(){function e(e){var t=this;this.metadataGenerator=e,this.metadata=null,this.getMetadata=function(){return null===t.metadata&&(t.metadata=t.metadataGenerator.generate()),t.metadata}}return e.dependencies=["MetadataGenerator"],e}(),Vr="stg_fired_",jr=function(){function e(e){var t=this;this.cookieStorage=e,this.setFired=function(e){t.cookieStorage.set("".concat(Vr).concat(e),(new Date).toUTCString())},this.wasFired=function(e){return null!==t.cookieStorage.get("".concat(Vr).concat(e))}}return e.dependencies=["CookieStorage"],e}(),Mr=function(){var e=this;this.record={},this.setFired=function(t){e.record[t]=!0},this.wasFired=function(t){return t in e.record}},Br="stg_last_interaction",Hr=function(){function e(e,t){var n=this;this.cookieStorage=e,this.variablesCookiesHandler=t,this.lastInteractionCookieSnapshot=null,this.createCookieSnapshot=function(){var e=n.cookieStorage.get(Br);n.lastInteractionCookieSnapshot=null===e?null:new Date(e)},this.isFirstVisit=function(e){if(null===n.lastInteractionCookieSnapshot)return!0;var t=60*e;return!!(n.getSecondsSinceLastInteractionSnapshot()>t)},this.getSecondsSinceLastInteraction=function(){var e=n.getLastInteractionDate();return null===e?-1:((new Date).getTime()-e.getTime())/1e3},this.commitInteraction=function(){n.shouldCreateLastInteractionCookie()&&n.cookieStorage.set(Br,(new Date).toUTCString(),{expires:new Date(Date.now()+31536e6)})},this.getLastInteractionDate=function(){var e=n.cookieStorage.get(Br);return e?new Date(e):null},this.getSecondsSinceLastInteractionSnapshot=function(){return null===n.lastInteractionCookieSnapshot?-1:((new Date).getTime()-n.lastInteractionCookieSnapshot.getTime())/1e3},this.shouldCreateLastInteractionCookie=function(){return n.variablesCookiesHandler.shouldCreateCookie(Br)}}return e.dependencies=["CookieStorage","VariablesCookiesHandler"],e}(),Wr=function(e){var t=[];for(var n in e)t.push(e[n]);return t},Ur=function(){function e(e,t,n,r,i,o){var a=this;this.globalObject=e,this.dataLayer=t,this.cookieStorage=n,this.nonceTokenProvider=r,this.httpClient=i,this.emittedPageViewEventsRegistry=o,this.initializedPlugins=[],this.register=function(e){var t=e(a.getContext());a.initializedPlugins.push(t)},this.getPlugins=function(){return a.initializedPlugins},this.getContext=function(){return{consentTypes:Me(Wr(a.globalObject.tags).map((function(e){return e.consentType}))),consentSettings:a.globalObject.consentSettings,consentTemplatesSettings:a.globalObject.consentTemplatesSettings,containerConfiguration:a.globalObject.configuration,appId:a.globalObject.configuration.id,dataLayer:a.dataLayer,cookieStorage:a.cookieStorage,nonceToken:a.nonceTokenProvider.getToken(),httpClient:a.httpClient,emittedPageViewEventsRegistry:a.emittedPageViewEventsRegistry}}}return e.dependencies=["globalObject","dataLayer","CookieStorage","NonceTokenProvider","HttpClient","EmittedPageViewEventsRegistry"],e}(),qr="stg_returning_visitor",zr=function(){function e(e,t){var n=this;this.cookieStorage=e,this.variablesCookiesHandler=t,this.isVisitorReturning=function(){return n.returningVisitorCookieExists()&&n.lastInteractionWasMoreThan30MinutesAgo()},this.setReturningVisitorCookie=function(){!n.isVisitorReturning()&&n.shouldCreateReturningVisitorCookie()&&n.cookieStorage.set(qr,(new Date).toUTCString(),{expires:new Date(Date.now()+31536e6)})},this.shouldCreateReturningVisitorCookie=function(){return n.variablesCookiesHandler.shouldCreateCookie(qr)},this.returningVisitorCookieExists=function(){return null!==n.cookieStorage.get(qr)},this.lastInteractionWasMoreThan30MinutesAgo=function(){var e=n.cookieStorage.get(qr);if(null===e)throw new Error("Cookie ".concat(qr," does not exist"));var t=new Date,r=new Date(e);return(t.getTime()-r.getTime())/1e3>1800}}return e.dependencies=["CookieStorage","VariablesCookiesHandler"],e}(),Kr=function(){function e(e){var t=this;this.window=e,this.listeners=[],this.lastHistorySource=null,this.lastUrl=null,this.listen=function(e){t.listeners.push(e)},this.start=function(){t.listenForPushState(t.notifyListeners),t.listenForReplaceState(t.notifyListeners),t.listenForPopState(t.notifyListeners),t.listenForHashChange(t.notifyListeners)},this.listenForPushState=function(e){var n=t.window.history.pushState.bind(t.window.history);t.window.history.pushState=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=n.apply(void 0,t);return e("pushState"),i}},this.listenForReplaceState=function(e){var n=t.window.history.replaceState.bind(t.window.history);t.window.history.replaceState=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=n.apply(void 0,t);return e("replaceState"),i}},this.listenForPopState=function(e){t.window.addEventListener("popstate",(function(){e("popstate")}))},this.listenForHashChange=function(e){t.window.addEventListener("hashchange",(function(){"popstate"===t.lastHistorySource&&t.lastUrl===t.window.location.href||e("hashchange")}))},this.notifyListeners=function(e){t.listeners.forEach((function(n){n(e),t.lastHistorySource=e,t.lastUrl=t.window.location.href}))}}return e.dependencies=["Window"],e}(),$r=function(){return $r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},$r.apply(this,arguments)};function Yr(e,t){if(!t)return"";var n="; "+e;return!0===t?n:n+"="+t}function Gr(){return function(e){for(var t={},n=0,r=e?e.split("; "):[];n<r.length;n++){var i=r[n].split("="),o=i.slice(1).join("=");'"'===o[0]&&(o=o.slice(1,-1));try{t[decodeURIComponent(i[0])]=o.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)}catch(e){}}return t}(document.cookie)}function Qr(e,t,n){document.cookie=function(e,t,n){return encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)+function(e){if("number"==typeof e.expires){var t=new Date;t.setMilliseconds(t.getMilliseconds()+864e5*e.expires),e.expires=t}return Yr("Expires",e.expires?e.expires.toUTCString():"")+Yr("Domain",e.domain)+Yr("Path",e.path)+Yr("Secure",e.secure)+Yr("SameSite",e.sameSite)}(n)}(e,t,$r({path:"/"},n))}var Jr,Xr=function(){return Xr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Xr.apply(this,arguments)},Zr=function(){function e(e,t){var n=this;this.document=e,this.containerScriptDataProvider=t,this.cachedCookies={},this.cachedCookieString="",this.update=function(){n.cachedCookieString=n.document.cookie,n.cachedCookies={},n.cachedCookies=Gr()},this.get=function(e){var t=n.cachedCookies[e];return void 0!==t?t:null},this.getCookieString=function(){return n.cachedCookieString},this.set=function(e,t,r){Qr(e,t,Xr(Xr({},r),{sameSite:"strict",secure:n.containerScriptDataProvider.getUseSecureCookies()})),n.cachedCookies[e]=t,n.cachedCookieString=n.document.cookie},this.remove=function(e,t){Qr(e,"",$r($r({},t),{expires:-1}))}}return e.dependencies=["Document","ContainerScriptDataProvider"],e}(),ei=n(808),ti=n.n(ei),ni=function(){function e(e,t,n){var r=this;this.variableReplacer=e,this.htmlDocument=t,this.nonceTokenProvider=n,this.render=function(e,t){var n=r.getCodeWithReplacedVariables(e,t);if(e.documentWrite)ti()(r.htmlDocument.body,n);else{var i=r.htmlDocument.createElement("div");i.innerHTML=n,Array.prototype.slice.call(i.childNodes).forEach(r.renderNode)}},this.renderNode=function(e){r.isElementNode(e)?r.isScriptElement(e)?r.renderScriptElement(e):r.isStyleElement(e)?r.renderStyleElement(e):r.htmlDocument.body.appendChild(r.rewriteNestedScriptElements(e)):r.renderNotElementNode(e)},this.rewriteNestedScriptElements=function(e){var t=e.getElementsByTagName("script");return Array.prototype.slice.call(t).forEach((function(e){e.parentElement&&e.parentElement.replaceChild(r.rewriteScriptElement(e),e)})),e},this.renderNotElementNode=function(e){r.htmlDocument.body.appendChild(e)},this.renderScriptElement=function(e){r.htmlDocument.body.appendChild(r.rewriteScriptElement(e))},this.renderStyleElement=function(e){var t=r.nonceTokenProvider.getToken();null!==t&&e.setAttribute("nonce",t),r.htmlDocument.body.appendChild(e)},this.getCodeWithReplacedVariables=function(e,t){return r.variableReplacer.replaceInHtml(e.code,t)},this.isScriptElement=function(e){return"script"===e.tagName.toLowerCase()},this.isStyleElement=function(e){return"style"===e.tagName.toLowerCase()},this.rewriteScriptElement=function(e){for(var t=r.htmlDocument.createElement("script"),n=0;n<e.attributes.length;n+=1)t.setAttribute(e.attributes[n].name,e.attributes[n].value);t.text=e.innerHTML;var i=r.nonceTokenProvider.getToken();return i&&(t.nonce=i),t},this.isElementNode=function(e){return 1===e.nodeType}}return e.dependencies=["VariableReplacer","Document","NonceTokenProvider"],e}(),ri=function(){return ri=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ri.apply(this,arguments)},ii=function(){function e(e){var t=this;this.pluginsRegistry=e,this.resolve=function(e){return ri(ri({},e),{preventingPlugins:t.pluginsRegistry.getPlugins().filter((function(t){var n;return null===(n=t.preventTagFromBeingResolved)||void 0===n?void 0:n.call(t,e)})).map((function(e){return e.getName()}))})}}return e.dependencies=["PluginsRegistry"],e}(),oi=function(){return oi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},oi.apply(this,arguments)},ai=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},si=function(){function e(e,t,n,r,i){var o=this;this.memoryFiredState=e,this.cookieFiredState=t,this.tagResolver=n,this.triggerResolver=r,this.globalObject=i,this.resolve=function(e){return o.globalObject.triggers.map((function(t){return o.triggerResolver.resolve(t,e)})).map((function(e){return o.getTagsWithResolutionForTrigger(e)})).reduce((function(e,t){return ai(ai([],e,!0),t,!0)}),[])},this.getTagsWithResolutionForTrigger=function(e){return e.tagIds.map((function(e){return o.globalObject.tags[e]})).map((function(e){return o.tagResolver.resolve(e)})).map((function(t){return o.resolveTagTrigger(t,e)})).map((function(t){return oi(oi({},t),{relatedTrigger:e})}))},this.resolveTagTrigger=function(e,t){var n=e.preventingPlugins,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["preventingPlugins"]),i=ai([],n,!0);return t.resolved||i.push("trigger"),0===i.length&&(o.isOncePerPageViewTrigger(t)&&(o.isOncePerPageViewPreventing(e,t)?i.push("multiplicity-once-per-page-view"):o.memoryFiredState.setFired("".concat(e.id,"_").concat(t.id))),o.isOncePerSessionTrigger(t)&&(o.isOncePerSessionPreventing(e,t)?i.push("multiplicity-once-per-session"):o.cookieFiredState.setFired("".concat(e.id,"_").concat(t.id)))),oi(oi({},r),{preventedBy:i})},this.isOncePerPageViewPreventing=function(e,t){var n="".concat(e.id,"_").concat(t.id);return o.memoryFiredState.wasFired(n)},this.isOncePerSessionPreventing=function(e,t){var n="".concat(e.id,"_").concat(t.id);return o.cookieFiredState.wasFired(n)},this.isOncePerPageViewTrigger=function(e){var t=e.conditions.filter((function(e){return e.variable===U&&"equals"===e.action&&-1!==["stg.pageView","stg.pageLoad","stg.domReady"].indexOf(e.value)})).length>0,n=e.conditions.filter((function(e){return"once_per_page_view"===e.action})).length>0;return t||n},this.isOncePerSessionTrigger=function(e){return e.conditions.filter((function(e){return"once_per_session"===e.action})).length>0}}return e.dependencies=["MemoryFiredState","CookieFiredState","TagResolver","TriggerResolver","globalObject"],e}(),ci="stg_traffic_source_priority",ui=18e5,li=function(){function e(e){var t=this;this.cookieStorage=e,this.set=function(e){var n=0===e?"undefined":e.toString();t.cookieStorage.set(ci,n,{expires:new Date(Date.now()+ui)})},this.extend=function(){var e=t.cookieStorage.get(ci);null!==e&&t.cookieStorage.set(ci,e,{expires:new Date(Date.now()+ui)})},this.get=function(){var e=t.cookieStorage.get(ci);return"undefined"===e||null===e?0:parseInt(e,10)}}return e.dependencies=["CookieStorage"],e}(),di=function(){function e(e,t,n){var r=this;this.trafficSourceRecognizer=e,this.trafficSourceCookie=t,this.variablesCookiesHandler=n,this.setTrafficSourceCookie=function(){if(r.shouldCreateTrafficSourceCookie()){var e=r.trafficSourceRecognizer.recognize();e>r.trafficSourceCookie.get()&&r.trafficSourceCookie.set(e)}},this.extendTrafficSourceCookie=function(){r.shouldCreateTrafficSourceCookie()&&r.trafficSourceCookie.extend()},this.shouldCreateTrafficSourceCookie=function(){return r.variablesCookiesHandler.shouldCreateCookie("stg_traffic_source_priority")}}return e.dependencies=["TrafficSourceRecognizer","TrafficSourceCookie","VariablesCookiesHandler"],e}(),pi=function(e){var t=e.replace(/(https?:\/\/)?(\/\/)?/i,""),n=t.indexOf(":");if(-1!==n)return t.substring(0,n);var r=t.indexOf("?"),i=-1!==r?t.substring(0,r):t;return-1!==i.indexOf("/")?i.split("/")[0]:i},fi=function(){function e(e,t,n){var r=this;this.document=e,this.window=t,this.campaignVariableResolver=n,this.recognize=function(){return r.isCampaign()?5:r.isOrganicSearch()?4:r.isSocial()?3:r.isWebsite()?2:r.isDirect()?1:0},this.isCampaign=function(){return void 0!==r.campaignVariableResolver.resolve()},this.isOrganicSearch=function(){if(!r.document.referrer)return!1;for(var e=pi(r.document.referrer),t=0,n=["google.","yahoo.","bing."];t<n.length;t++)if(new RegExp(n[t]).test(e))return!0;return!1},this.isSocial=function(){if(!r.document.referrer)return!1;for(var e=pi(r.document.referrer),t=0,n=["facebook.","twitter.","linkedin.","youtube."];t<n.length;t++)if(new RegExp(n[t]).test(e))return!0;return!1},this.isWebsite=function(){return!!r.document.referrer&&pi(r.document.referrer)!==r.window.location.hostname},this.isDirect=function(){return""===r.document.referrer}}return e.dependencies=["Document","Window","CampaignVariableResolver"],e}(),hi=function(){return hi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},hi.apply(this,arguments)},gi=function(){function e(e,t){var n=this;this.conditionResolver=e,this.document=t,this.resolve=function(e,t){var r=e.conditions.map((function(r){return n.conditionResolver.resolve(hi(hi({},r),{triggerId:e.id}),t)})),i=r.every((function(e){return e.resolved}));return i&&n.isElementPresenceTrigger(e)&&n.addElementPresenceDataAttributes(e),hi(hi({},e),{conditions:r,resolved:i})},this.isElementPresenceTrigger=function(e){return e.conditions.filter((function(e){return e.variable===U&&"stg.elementPresence"===e.value})).length>0},this.addElementPresenceDataAttributes=function(e){var t=e.conditions.filter((function(e){return e.variable===z}));if(1!==t.length)throw new Error('Element presence trigger "'.concat(e.name,'" has invalid number of conditions')+"related to Found Elements variable. "+"Actual: ".concat(t.length,", expected: 1."));var r=t[0].value;n.document.querySelectorAll(r).forEach((function(e){e.setAttribute("data-pp-element-found","")}))}}return e.dependencies=["ConditionResolver","Document"],e}(),mi=function(){function e(e){var t=this;this.cookieStorage=e,this.resolve=function(){for(var e=0,n=M;e<n.length;e++){var r=n[e],i=t.cookieStorage.get(r.cookieName);if(null!==i)return i}}}return e.dependencies=["CookieStorage"],e}(),vi=["Consents","Piwik PRO Anonymization"],yi=function(){function e(e,t,n,r){var i=this;this.globalObject=e,this.variableCollector=t,this.variablesDatabase=n,this.variablesGraphResolver=r,this.setFromDataLayerEvent=function(e,t){i.isBuiltinEvent(e)||i.setVariablesFromEvent(e,t),i.setVariablesFromSetup(e,t)},this.isBuiltinEvent=function(e){return"string"==typeof e.event&&0===e.event.indexOf("stg.")},this.setVariablesFromSetup=function(e,t){i.variablesGraphResolver.resolve(i.globalObject.variables.filter((function(e){return-1===vi.indexOf(e.name)}))).forEach((function(n){var r=i.variableCollector.resolve(n,e,t);r.resolved&&i.variablesDatabase.set(n.name,r.value,t)}))},this.setVariablesFromEvent=function(e,t){var n=e;for(var r in n){var o=[r,n[r]],a=o[0],s=o[1];"event"!==a&&i.variablesDatabase.set(a,s,t)}}}return e.dependencies=["globalObject","VariableCollector","VariablesDatabase","VariablesGraphResolver"],e}(),bi="stg_externalReferrer",wi=function(){function e(e,t,n,r){var i=this;this.window=e,this.document=t,this.cookieStorage=n,this.variablesCookiesHandler=r,this.resolve=function(){var e;if(i.hasReferrer())return i.isReferrerExternal()&&i.shouldCreateExternalReferrerCookie()&&i.cookieStorage.set(bi,i.document.referrer),null!==(e=i.cookieStorage.get(bi))&&void 0!==e?e:void 0;i.cookieStorage.remove(bi)},this.isReferrerExternal=function(){return pi(i.document.referrer)!==i.window.location.hostname},this.shouldCreateExternalReferrerCookie=function(){return i.variablesCookiesHandler.shouldCreateCookie(bi)},this.hasReferrer=function(){return""!==i.document.referrer}}return e.dependencies=["Window","Document","CookieStorage","VariablesCookiesHandler"],e}(),Ci=function(){function e(e){var t=this;this.document=e,this.resolve=function(){return{px:t.getScrollPositionPx(),"%":t.getPageScrollPercentage()}},this.getScrollPositionPx=function(){return t.document.documentElement.scrollTop},this.getPageScrollPercentage=function(){var e=t.document.documentElement.clientHeight,n=t.document.documentElement.scrollHeight,r=Math.max(n-e,1),i=t.getScrollPositionPx()/r*100;return Math.min(Math.ceil(i),100)}}return e.dependencies=["Document"],e}(),Si=function(){function e(e){var t=this;this.trafficSourceCookie=e,this.resolve=function(){switch(t.trafficSourceCookie.get()){case 5:return"campaign";case 4:return"organic_search";case 3:return"social";case 2:return"website";case 1:return"direct";default:return}}}return e.dependencies=["TrafficSourceCookie"],e}(),Ei=function(){function e(e,t){var n=this;this.window=e,this.variableCollectorCollection=t,this.resolve=function(e,t,r){var i=n.variableCollectorCollection.getCollectors().filter((function(t){return t.accepts(e)}))[0];try{if(void 0===i)throw new Error("No collector found for variable");return i.resolve(e,t,r)}catch(t){return n.reportError(e.name,t),{resolved:!1}}},this.reportError=function(e,t){var r,i=n.hasMessage(t)?t.message:"Unknown reason";console.error("Failed to evaluate variable - ".concat(e,": ").concat(i)),n.window._paq=null!==(r=n.window._paq)&&void 0!==r?r:[],n.window._paq.push(["trackError",t])},this.hasMessage=function(e){return"object"==typeof e&&null!==e&&"message"in e}}return e.dependencies=["Window","VariableCollectorCollection"],e}();!function(e){e.anonymization="piwik_anonymization",e.cdpAudience="cdp_audience",e.consents="consents",e.constant="constant",e.cookie="cookie",e.customJavaScript="custom_javascript",e.dataLayer="data_layer",e.document="document",e.domElement="dom_element",e.lookupTable="lookup_table",e.random="random",e.url="url"}(Jr||(Jr={}));var _i,ki=function(){this.accepts=function(e){return e.type.collector_name===Jr.cdpAudience},this.resolve=function(e,t){return"stg.audiencesFetched"!==t.event?{resolved:!1}:{resolved:!0,value:t.audiences}}},Ti=/^[+-]?(\d*\.\d+|\d+\.\d*|\d+e[+-]?\d+|\d+\.\d*e[+-]?\d+|\d*\.\d+e[+-]?\d+)$/i,Oi=/^[+-]?\d+$/i,Ai=/^(true|false)$/i,xi=function(){function e(e){var t=this;this.variableReplacer=e,this.accepts=function(e){return e.type.collector_name===Jr.constant},this.resolve=function(e,n,r){var i=t.variableReplacer.replaceInVariable(e.value,r);return t.isFloatString(i)?t.resolveFloatString(i):t.isIntegerString(i)?t.resolveIntegerString(i):t.isBooleanString(i)?t.resolveBooleanString(i):{resolved:!0,value:i}},this.resolveFloatString=function(e){var t=parseFloat(e);return t!==Number.POSITIVE_INFINITY&&t!==Number.NEGATIVE_INFINITY||(t=e),{resolved:!0,value:t}},this.resolveIntegerString=function(e){var t=parseInt(e,10);return(t>9007199254740991||t<-9007199254740991)&&(t=e),{resolved:!0,value:t}},this.resolveBooleanString=function(e){return{resolved:!0,value:"true"===e.toLowerCase()}},this.isIntegerString=function(e){return Oi.test(e)},this.isFloatString=function(e){return Ti.test(e)},this.isBooleanString=function(e){return Ai.test(e)}}return e.dependencies=["VariableReplacer"],e}(),Ri=function(){function e(e,t,n,r){var i=this;this.cookieStorage=e,this.lastInteractionState=t,this.returningVisitor=n,this.variableReplacer=r,this.accepts=function(e){return e.type.collector_name===Jr.cookie},this.resolve=function(e,t,n){return e.value?{resolved:!0,value:i.resolveCookieVariable(e,n)}:{resolved:!1}},this.resolveCookieVariable=function(e,t){return"View within session"===e.name&&"firstVisit"===e.value?i.resolveViewWithinSession():"Returning Visitor"===e.name&&"returningVisitor"===e.value?i.resolveReturningVisitor():i.resolveCustomCookieVariable(i.variableReplacer.replaceInVariable(e.value,t))},this.resolveViewWithinSession=function(){return i.lastInteractionState.getSecondsSinceLastInteraction()},this.resolveReturningVisitor=function(){return i.returningVisitor.isVisitorReturning()},this.resolveCustomCookieVariable=function(e){var t;return null!==(t=i.cookieStorage.get(e))&&void 0!==t?t:void 0}}return e.dependencies=["CookieStorage","LastInteractionState","ReturningVisitor","VariableReplacer"],e}(),Di=/(function[\s]*\(\)[\s]*{(.|\s)*})|(\(\)[\s]*=>[\s]*{(.|\s)*})/,Li=function(){function e(e,t,n){var r=this;this.variableReplacer=e,this.nonceTokenProvider=t,this.window=n,this.resolve=function(e,t,n){return{resolved:!0,value:r.getValue(e.value,n)}},this.getValue=function(e,t){var n=r.nonceTokenProvider.getToken();return n?r.getValueWithScriptElement(e,t,n):r.getValueWithEval(e,t)},this.getValueWithScriptElement=function(e,t,n){var i,o=r.getVariableCode(e,t),a=document.createElement("script"),s="window.sevenTagVariableResult = (".concat(o,")()");return a.text=s,a.nonce=n,document.head.appendChild(a),null===(i=a.parentNode)||void 0===i||i.removeChild(a),r.window.sevenTagVariableResult},this.getValueWithEval=function(e,t){var n=r.getVariableCode(e,t),i=(0,eval)("(".concat(n,")"));return"function"==typeof i?i.call(void 0):i},this.accepts=function(e){return e.type.collector_name===Jr.customJavaScript},this.getVariableCode=function(e,t){var n=e.match(Di);if(null===n)throw new Error("Function declaration not found in custom variable body");return r.variableReplacer.replaceInScript(n[0],t)}}return e.dependencies=["VariableReplacer","NonceTokenProvider","Window"],e}(),Pi=function(){function e(e){var t=this;this.variableReplacer=e,this.resolve=function(e,n,r){var i,o,a,s,c;return null!==(c=null!==(s=null!==(a=null!==(o=null!==(i=t.resolveOtherVariables(e,n))&&void 0!==i?i:t.resolveFormVariables(e,n))&&void 0!==o?o:t.resolveClickVariables(e,n))&&void 0!==a?a:t.resolveHistoryVariables(e,n))&&void 0!==s?s:t.resolveCustomDataLayerVariable(e,n,r))&&void 0!==c?c:{resolved:!1}},this.accepts=function(e){return e.type.collector_name===Jr.dataLayer},this.resolveOtherVariables=function(e,t){if("event"===e.value||"timeOnWebsite"===e.value||"edge"===e.value||"foundElements"===e.value)return{resolved:!0,value:t[e.value]}},this.resolveFormVariables=function(e,t){if("Form ID"===e.name||"Form Url"===e.name||"Form Classes"===e.name||"Form Name"===e.name)return{resolved:"stg.formSubmit"===t.event,value:t[e.value]}},this.resolveHistoryVariables=function(e,t){if("History source"===e.name||"Old history fragment"===e.name||"History state"===e.name||"Old history state"===e.name)return{resolved:"stg.history"===t.event||"stg.debouncedHistory"===t.event,value:t[e.value]}},this.resolveClickVariables=function(e,t){return"Click ID"===e.name||"Click Url"===e.name||"Click Classes"===e.name?{resolved:"stg.click"===t.event||"stg.capturingClick"===t.event,value:t[e.value]}:"Click Element"===e.name?{resolved:"stg.click"===t.event||"stg.capturingClick"===t.event,value:t.element}:void 0},this.resolveCustomDataLayerVariable=function(e,n,r){var i=t.variableReplacer.replaceInVariable(e.value,r);if(!t.isValueNested(i,n))return t.resolveRootKeyValue(i,n);var o=i.split(".");return t.resolveNestedKeyValue(o,n)},this.isValueNested=function(e,t){var n=e,r=e.split(".").length>1;return!(n in t)&&r},this.resolveRootKeyValue=function(e,t){if(e in t)return{resolved:!0,value:t[e]}},this.resolveNestedKeyValue=function(e,n){var r=t.readNestedKeyValue(e,n),i=r.result,o=r.unreadKeysLeft;return null!==i||o?null===i&&o?{resolved:!0,value:void 0}:void 0!==i?{resolved:!0,value:i}:void 0:{resolved:!0,value:null}},this.readNestedKeyValue=function(e,n){var r=n,i=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([],e,!0);if(0===i.length)return{result:r,unreadKeysLeft:!1};if(!t.isObject(r))return{result:r,unreadKeysLeft:!0};var o=i[0];return i.shift(),t.readNestedKeyValue(i,r[o])},this.isObject=function(e){return"object"==typeof e&&null!==e}}return e.dependencies=["VariableReplacer"],e}(),Ni=function(){function e(e,t,n){var r=this;this.document=e,this.pageScrollVariableResolver=t,this.variableReplacer=n,this.resolve=function(e,t,n){var i;if("Page Scroll"===e.name)return{resolved:!0,value:r.pageScrollVariableResolver.resolve()};var o=r.variableReplacer.replaceInVariable(e.value,n).split(".");return{resolved:!0,value:null!==(i=Qe(r.document,o))&&void 0!==i?i:""}},this.accepts=function(e){return e.type.collector_name===Jr.document}}return e.dependencies=["Document","PageScrollVariableResolver","VariableReplacer"],e}(),Fi=function(){function e(e,t){var n=this;this.document=e,this.variableReplacer=t,this.accepts=function(e){return e.type.collector_name===Jr.domElement},this.resolve=function(e,t,r){var i=n.variableReplacer.replaceInVariable(e.value,r),o="selector_type"in e.options?e.options.selector_type:void 0;if(!o||!i)return{resolved:!1};var a="extract_text_content"in e.options&&e.options.extract_text_content,s=n.getElementsBySelector(i,o);return{resolved:!0,value:a?n.extractText(s):n.hasFoundAtLeastOneElement(s)}},this.hasFoundAtLeastOneElement=function(e){return!!e&&e.length>0},this.extractText=function(e){if(!e)return"";var t=[];return e.forEach((function(e){t.push.apply(t,n.getNodeText(e))})),t.length?t.join(" "):""},this.getNodeText=function(e){var t=[];if(e.nodeType===Node.TEXT_NODE){var r=e.nodeValue?e.nodeValue.trim():"";r.length>0&&t.push(r)}return e.childNodes.forEach((function(e){t.push.apply(t,n.getNodeText(e))})),t},this.getElementsBySelector=function(e,t){switch(t){case"element_id":return function(e){return function(t){var n=e.getElementById(t);return n?[n]:null}}(n.document)(e);case"css":return de(n.document)(e);case"xpath":return pe(n.document)(e);default:throw new Error("Incorrect selector type")}}}return e.dependencies=["Document","VariableReplacer"],e}(),Ii=/^{{((?:.(?!}}))*.)}}$/,Vi=function(){function e(e,t){var n=this;this.variablesDatabase=e,this.variableReplacer=t,this.accepts=function(e){return e.type.collector_name===Jr.lookupTable},this.resolve=function(e,t,r){return{resolved:!0,value:n.resolveLookupTable(e,r)}},this.getVariableName=function(e){return e.replace("{{","").replace("}}","").trim()},this.getVariableValueByReference=function(e,t){var r=n.getVariableName(e);return n.variablesDatabase.getByName(r,t)},this.sourceStringIsVariableReference=function(e){return Ii.test(e)},this.evaluateSourceString=function(e,t){return n.sourceStringIsVariableReference(e)?n.getVariableValueByReference(e,t):n.variableReplacer.replaceInVariable(e,t)},this.replaceVariablesInInputs=function(e,t){return e.map((function(e){return n.variableReplacer.replaceInVariable(e.input,t)}))},this.findMatch=function(e,t,r){var i=n.getVariableValueByReference(e,r),o=String(i),a=!1,s=-1;return n.replaceVariablesInInputs(t,r).forEach((function(e,t){o===e&&(a=!0,s=t)})),{matchFound:a,indexOfFoundMatch:s}},this.resolveLookupTable=function(e,t){var r="mapping"in e.options?e.options.mapping:[],i="default_value"in e.options?e.options.default_value:null;if(0!==r.length||null!==i){if(0===r.length&&null!==i)return n.evaluateSourceString(i,t);var o=n.findMatch(e.value,r,t),a=o.matchFound,s=o.indexOfFoundMatch;if(a){var c=r[s].output;return n.evaluateSourceString(c,t)}return null!==i?n.evaluateSourceString(i,t):void 0}}}return e.dependencies=["VariablesDatabase","VariableReplacer"],e}(),ji=function(){this.accepts=function(e){return e.type.collector_name===Jr.random},this.resolve=function(){return{resolved:!0,value:Math.random()}}},Mi=function(){function e(e,t,n,r,i){var o=this;this.window=e,this.externalReferrerVariableResolver=t,this.campaignVariableResolver=n,this.trafficSourceVariableResolver=r,this.variableReplacer=i,this.accepts=function(e){return e.type.collector_name===Jr.url},this.resolve=function(e,t,n){return{resolved:!0,value:o.resolveUrlVariable(e,n)}},this.resolveUrlVariable=function(e,t){switch(e.value){case"href":return o.resolvePageUrl();case"hostname":return o.resolvePageHostname();case"pathname":return o.resolvePagePath();case"trafficSource":return o.resolveTrafficSource();case"externalReferrer":return o.resolveExternalReferrer();case"campaign":return o.resolveCampaign();case"hash":return o.resolveHistoryFragment();case"parameter":return o.resolveParameter(e,t);case"query":return o.resolveQuery();case"protocol":return o.resolveProtocol();default:return e.value}},this.resolvePageUrl=function(){return o.window.location.href},this.resolvePageHostname=function(){return o.window.location.hostname},this.resolvePagePath=function(){return o.window.location.pathname},this.resolveTrafficSource=function(){return o.trafficSourceVariableResolver.resolve()},this.resolveExternalReferrer=function(){return o.externalReferrerVariableResolver.resolve()},this.resolveCampaign=function(){return o.campaignVariableResolver.resolve()},this.resolveHistoryFragment=function(){return o.window.location.hash.split("#")[1]},this.resolveParameter=function(e,t){if(!("parameter_name"in e.options)||"string"!=typeof e.options.parameter_name)return"";var n=o.variableReplacer.replaceInVariable(e.options.parameter_name,t);return j(o.window.location.search,n)},this.resolveQuery=function(){return o.window.location.search.substring(1)},this.resolveProtocol=function(){return o.window.location.protocol.substring(0,o.window.location.protocol.length-1)}}return e.dependencies=["Window","ExternalReferrerVariableResolver","CampaignVariableResolver","TrafficSourceVariableResolver","VariableReplacer"],e}(),Bi=function(){function e(e,t,n,r,i,o,a,s,c,u){var l=this;this.collectors=[],this.getCollectors=function(){return l.collectors},this.collectors.push(e,t,n,r,i,o,a,s,c,u)}return e.dependencies=["DataLayerVariableCollector","DocumentVariableCollector","DomElementVariableCollector","CustomJsVariableCollector","CookieVariableCollector","ConstantVariableCollector","RandomNumberVariableCollector","UrlVariableCollector","LookupTableVariableCollector","CdpAudienceVariableCollector"],e}(),Hi=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Wi=/{{((?:.(?!}}))*.)}}/g,Ui=function(){var e=this;this.getDependencies=function(t){if(!t.value)return[];var n=e.getDependenciesFromSourceString(t.value),r="parameter_name"in t.options?e.getDependenciesFromSourceString(t.options.parameter_name):[],i="mapping"in t.options?e.getDependenciesFromLookupTableMapping(t.options.mapping):[],o="default_value"in t.options&&null!==t.options.default_value?e.getDependenciesFromSourceString(t.options.default_value):[];return Me(Hi(Hi(Hi(Hi([],n,!0),r,!0),i,!0),o,!0)).map(e.strip)},this.getDependenciesFromSourceString=function(e){var t;return null!==(t=e.match(Wi))&&void 0!==t?t:[]},this.getDependenciesFromLookupTableMapping=function(t){return t.map((function(t){var n=e.getDependenciesFromSourceString(t.input),r=e.getDependenciesFromSourceString(t.output);return Hi(Hi([],n,!0),r,!0)})).reduce((function(e,t){return Hi(Hi([],e,!0),t,!0)}),[])},this.strip=function(e){return e.replace("{{","").replace("}}","").trim()}},qi=/{{((?:.(?!}}))*.)}}/g,zi=/"[^"\\]*(?:\\.[^"\\]*)*"/g,Ki=/'[^'\\]*(?:\\.[^'\\]*)*'/g,$i=/(<script[\s\S]*?>)([\s\S]*?)(<\/script>)/gi,Yi=function(){function e(e,t){var n=this;this.globalObjectName=e,this.variablesDatabase=t,this.replaceInScript=function(e,t){return e.replace(zi,n.replacerVariable(t)).replace(Ki,n.replacerVariable(t)).replace(qi,n.replacerScriptCode(t,!1))},this.replaceInHtml=function(e,t){return e.replace($i,n.replacerScriptTag(t)).replace(qi,n.replacerHtml(t))},this.replaceInVariable=function(e,t){return e.replace(qi,n.replacerHtml(t))},this.replacerScriptTag=function(e){return function(t,r,i,o){var a=i.replace(zi,n.replacerVariable(e)).replace(Ki,n.replacerVariable(e)).replace(qi,n.replacerScriptCode(e,!1));return"".concat(r).concat(a).concat(o)}},this.replacerVariable=function(e){return function(t,r){return t.replace(qi,n.replacerScriptCode(e,!0))}},this.replacerScriptCode=function(e,t){return function(r,i){var o=n.variablesDatabase.getAll(e),a=i.trim(),s=a.replace(/'/g,"\\'"),c=o[a];if(n.isObjectOrFunction(c))return"(function() { return window.".concat(n.globalObjectName,".getVariableValue('").concat(s,"', ").concat(e,") })()");if("string"!=typeof c)return String(c);var u=n.sanitizeJsValue(c);return t?u:"'".concat(u,"'")}},this.replacerHtml=function(e){return function(t,r){var i=n.variablesDatabase.getAll(e),o=r.trim(),a=i[o];if("object"==typeof a)return JSON.stringify(a);var s=String(i[o]);return n.sanitizeHtmlValue(s)}},this.sanitizeJsValue=function(e){return e.replace(/\\/g,"\\\\").replace(/\//g,"\\/").replace(/"/g,"\\x22").replace(/'/g,"\\x27").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/</g,"\\x3c").replace(/>/g,"\\x3e")},this.sanitizeHtmlValue=function(e){return e.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;").replace(/>/g,"&#62;")},this.isObjectOrFunction=function(e){return"object"==typeof e&&null!==e||"function"==typeof e}}return e.dependencies=["GlobalObjectName","VariablesDatabase"],e}(),Gi=function(){function e(e,t){var n=this;this.globalObject=e,this.variablesUsageDetector=t,this.cookieAllowanceMap={stg_returning_visitor:null,stg_externalReferrer:null,stg_utm_campaign:null,stg_pk_campaign:null,stg_traffic_source_priority:null,stg_last_interaction:null},this.createCookieAllowanceMap=function(){var e=n.globalObject.configuration.app_cookies_enabled,t=n.globalObject.configuration.cookies_enabled;!n.globalObject.consentSettings.consent_enabled&&t&&e?n.allowAllVariablesCookies():n.allowVariablesCookiesUsedInTriggers()},this.shouldCreateCookie=function(e){return n.cookieAllowanceMap[e]},this.allowAllVariablesCookies=function(){Object.keys(n.cookieAllowanceMap).forEach((function(e){n.cookieAllowanceMap[e]=!0}))},this.allowVariablesCookiesUsedInTriggers=function(){n.variablesUsageDetector.detect(),n.cookieAllowanceMap.stg_returning_visitor=n.variablesUsageDetector.isVariableUsedInAnyTrigger(K),n.cookieAllowanceMap.stg_externalReferrer=n.variablesUsageDetector.isVariableUsedInAnyTrigger(q),n.cookieAllowanceMap.stg_utm_campaign=n.variablesUsageDetector.isVariableUsedInAnyTrigger(H),n.cookieAllowanceMap.stg_pk_campaign=n.variablesUsageDetector.isVariableUsedInAnyTrigger(H),n.cookieAllowanceMap.stg_traffic_source_priority=n.variablesUsageDetector.isVariableUsedInAnyTrigger($),n.cookieAllowanceMap.stg_last_interaction=n.variablesUsageDetector.isVariableUsedInAnyTrigger(Y)}}return e.dependencies=["globalObject","VariablesUsageDetector"],e}(),Qi=function(){return Qi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Qi.apply(this,arguments)},Ji=function(){function e(e){var t=this;this.globalObject=e,this.variables={},this.variablesIdNameMap={},this.start=function(){t.variables[0]=t.globalObject.variables.reduce((function(e,t){var n,r=t.name;return Qi(Qi({},e),((n={})[r]=void 0,n))}),{})},this.prepareNewEventScope=function(e){t.variables[e]=Qi({},t.variables[e-1])},this.set=function(e,n,r){t.variables[r][e]=n},this.getByName=function(e,n){if(n in t.variables)return t.variables[n][e]},this.getById=function(e,n){var r=t.variablesIdNameMap[e];if(r)return t.getByName(r,n)},this.getAll=function(e){return t.variables[e]},this.createVariablesIdNameMap=function(){t.globalObject.variables.map((function(e){e.id&&(t.variablesIdNameMap[e.id]=e.name)}))}}return e.dependencies=["globalObject"],e}(),Xi=function(){function e(e){var t=this;this.variableDependencyFinder=e,this.resolve=function(e){for(var n=[],r=t.mapToNamesWithDependencies(e),i=0;n.length<r.length;){if((i+=1)>50){var o=t.getFirstUnsortedVariable(r,n).name;throw new Error('Circular variable reference detected. Variable "'.concat(o,'" contains a circular dependency.'))}t.pushResolvableVariables(r,n)}return n.map((function(n){return t.findVariableByName(e,n)}))},this.pushResolvableVariables=function(e,n){e.forEach((function(e){var r=e.name,i=e.deps;t.alreadySorted(n,r)||t.hasUnresolvedDependencies(n,i)||n.push(r)}))},this.mapToNamesWithDependencies=function(e){return e.map((function(n){return{name:n.name,deps:t.getDependenciesWithoutUnknown(n,e)}}))},this.findVariableByName=function(e,t){return e.filter((function(e){return e.name===t}))[0]},this.getDependenciesWithoutUnknown=function(e,n){var r=n.map((function(e){return e.name}));return t.variableDependencyFinder.getDependencies(e).filter((function(e){return-1!==r.indexOf(e)}))},this.hasUnresolvedDependencies=function(e,t){return t.some((function(t){return-1===e.indexOf(t)}))},this.alreadySorted=function(e,t){return-1!==e.indexOf(t)},this.getUnsorted=function(e,n){return e.filter((function(e){var r=e.name;return!t.alreadySorted(n,r)}))},this.getFirstUnsortedVariable=function(e,n){return t.getUnsorted(e,n)[0]}}return e.dependencies=["VariableDependencyFinder"],e}(),Zi=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},eo=function(){function e(e){var t,n=this;this.globalObject=e,this.variablesUsageMap=((t={})[K]=!1,t[q]=!1,t[H]=!1,t[$]=!1,t[Y]=!1,t),this.detect=function(){var e=Object.keys(n.variablesUsageMap),t=n.globalObject.triggers.map((function(e){return e.conditions})).reduce((function(e,t){return Zi(Zi([],e,!0),t,!0)}),[]).map((function(e){return e.variable})).filter((function(t){return-1!==e.indexOf(t)}));e.forEach((function(e){n.variablesUsageMap[e]=-1!==t.indexOf(e)}))},this.isVariableUsedInAnyTrigger=function(e){return n.variablesUsageMap[e]}}return e.dependencies=["globalObject"],e}();_i=function(){t.install(),function(){if("ppasContainerRegistered"in window&&!0===window.ppasContainerRegistered)throw new Error("Attempting to initialize a second container. Multiple PPAS containers on one page are not supported. Make sure container code is added to the site only once.");Object.defineProperty(window,"ppasContainerRegistered",{value:!0,configurable:!0}),L("Window",window),L("Document",window.document),L("LocalStorage",window.localStorage),L("GlobalObjectName","sevenTag");var e=N("GlobalObjectName");L("globalObject",window[e]);var t=N("globalObject");e in window&&!("version"in t)&&Object.defineProperty(t,"version",{value:"2.0.2",enumerable:!0,configurable:!1}),L("tags",t.tags),L("triggers",t.triggers),L("consentSettings",t.consentSettings),L("consentTemplatesSettings",t.consentTemplatesSettings),P("ContainerScriptFinder",xe),P("ContainerScriptDataProvider",Ae);var n=N("ContainerScriptDataProvider").getDataLayerName();n in window||Object.defineProperty(window,n,{value:[],enumerable:!0,writable:!0}),L("dataLayer",window[n]),P("ArrayEventConsumer",Je),P("AudienceConditionsFinder",Q),P("AudienceMembershipConditionsResolver",ee),P("AudienceMembershipProvider",I),P("AudiencesFetchedConditionsResolver",te),P("AudiencesFetchedEventEmitter",Pe),P("AudiencesRequest",V),P("BuiltinEventsEmitter",De),P("BuiltinEventsEmitterCollection",Le),P("CampaignCookieSetter",B),P("CampaignVariableResolver",mi),P("CapturingClickEventEmitter",Ne),P("CdpAudienceVariableCollector",ki),P("ClickCallbackFactory",it),P("ClickEventEmitter",Ie),P("ConditionResolver",X),P("ConditionResolverCollection",Z),P("ConstantVariableCollector",xi),P("ContainsConditionActionResolver",ne),P("CookieFiredState",jr),P("CookieStorage",Zr),P("CookieVariableCollector",Ri),P("CustomJsVariableCollector",Li),P("DataLayerEventConsumer",Ge),P("DataLayerPushOverrider",et),P("DataLayerVariableCollector",Pi),P("DebouncedHistoryEventEmitter",Ve),P("Debugger",st),P("DocumentVariableCollector",Ni),P("DoesNotContainConditionActionResolver",re),P("DoesNotEndWithConditionActionResolver",ie),P("DoesNotEqualConditionActionResolver",oe),P("DoesNotRegexpConditionActionResolver",ae),P("DoesNotStartWithConditionActionResolver",se),P("DomElementVariableCollector",Fi),P("DomReadyEventEmitter",je),P("ElementPresenceEventEmitter",He),P("ElementPresenceTriggerResolver",ce),P("EmittedPageViewEventsRegistry",tt),P("EndsWithConditionActionResolver",ue),P("EqualsConditionActionResolver",le),P("EventVariableSetter",yi),P("ExternalReferrerVariableResolver",wi),P("FormSubmitCallbackFactory",ot),P("FormSubmitEventEmitter",We),P("FunctionEventConsumer",Xe),P("GtagArgumentsEventTransformer",rt),P("HistoryEventEmitter",Ue),P("HistoryEventFactory",at),P("HttpClient",yt),P("Initializer",Nr),P("IsAChildOfClickTriggerConditionsResolver",fe),P("IsEmptyConditionActionResolver",he),P("IsFalseConditionActionResolver",ge),P("IsNotEmptyConditionActionResolver",me),P("IsNotSetConditionActionResolver",ve),P("IsSetConditionActionResolver",ye),P("IsTrueConditionActionResolver",be),P("LastInteractionState",Hr),P("LeaveContentEventEmitter",qe),P("LookupTableVariableCollector",Vi),P("MatchesClickTriggerConditionsResolver",we),P("MemoryFiredState",Mr),P("MetadataGenerator",Fr),P("MetadataProvider",Ir),P("NonceTokenProvider",Re),P("ObjectEventConsumer",Ze),P("PageLeaveTriggerConditionsResolver",Ce),P("PageLoadEventEmitter",ze),P("PageScrollEventEmitter",Ke),P("PageScrollTriggerConditionsResolver",Se),P("PageScrollVariableResolver",Ci),P("PageViewEventEmitter",$e),P("PageViewTriggerConditionsResolver",Ee),P("PluginsRegistry",Ur),P("RandomNumberVariableCollector",ji),P("RegexpConditionActionResolver",_e),P("ReturningVisitor",zr),P("StartsWithConditionActionResolver",ke),P("TagRenderer",ni),P("TagResolver",ii),P("TimerEventEmitter",Ye),P("TimerTriggerConditionsResolver",Te),P("TrafficSourceCookie",li),P("TrafficSourceCookieSetter",di),P("TrafficSourceRecognizer",fi),P("TrafficSourceVariableResolver",Si),P("TriggerResolver",gi),P("TriggerTagResolver",si),P("UrlVariableCollector",Mi),P("VariableCollector",Ei),P("VariableCollectorCollection",Bi),P("VariableDependencyFinder",Ui),P("VariableReplacer",Yi),P("VariablesCookiesHandler",Gi),P("VariablesDatabase",Ji),P("VariablesGraphResolver",Xi),P("VariablesUsageDetector",eo),P("ContainerVersionLocalStorageItem",ht),P("Debugger",st),P("DebuggerMessenger",pt),P("DebuggerWidgetRenderer",vt),P("DebuggerSerializer",ft),P("DebuggerConnectionStatus",gt),P("DebuggerEventMessageFactory",dt),P("DebuggerDraggingEnabler",mt),P("HistoryChange",Kr),P("LegacyDebugModeHandler",lt)}(),N("Initializer").init()},document.body?_i():document.addEventListener("DOMContentLoaded",(function(){_i()}))}()}();