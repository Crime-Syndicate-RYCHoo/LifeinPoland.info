!function n(o,a,i){function u(t,e){if(!a[t]){if(!o[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(s)return s(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}r=a[t]={exports:{}},o[t][0].call(r.exports,function(e){return u(o[t][1][e]||e)},r,r.exports,n,o,a,i)}return a[t].exports}for(var s="function"==typeof require&&require,e=0;e<i.length;e++)u(i[e]);return u}({1:[function(e,t,r){function o(e){return!(!(t=e)||"object"!=typeof t||(t=e,"[object RegExp]"===(e=Object.prototype.toString.call(t)))||"[object Date]"===e||(e=>e.$$typeof===n)(t));var t}var n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function u(e,t){return!1!==t.clone&&t.isMergeableObject(e)?l(Array.isArray(e)?[]:{},e,t):e}function a(e,t,r){return e.concat(t).map(function(e){return u(e,r)})}function s(e){return Object.keys(e).concat((t=e,Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]));var t}function c(e,t){try{return t in e}catch(e){return!1}}function i(n,o,a){var i={};return a.isMergeableObject(n)&&s(n).forEach(function(e){i[e]=u(n[e],a)}),s(o).forEach(function(e){var t,r;(!c(t=n,r=e)||Object.hasOwnProperty.call(t,r)&&Object.propertyIsEnumerable.call(t,r))&&(c(n,e)&&a.isMergeableObject(o[e])?i[e]=(t=e,((r=a).customMerge&&"function"==typeof(r=r.customMerge(t))?r:l)(n[e],o[e],a)):i[e]=u(o[e],a))}),i}function l(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||a,r.isMergeableObject=r.isMergeableObject||o,r.cloneUnlessOtherwiseSpecified=u;var n=Array.isArray(t);return n===Array.isArray(e)?n?r.arrayMerge(e,t,r):i(e,t,r):u(t,r)}l.all=function(e,r){if(Array.isArray(e))return e.reduce(function(e,t){return l(e,t,r)},{});throw new Error("first argument should be an array")},t.exports=l},{}],2:[function(e,t,r){t.exports=e("./").polyfill()},{"./":3}],3:[function(B,r,n){!function(V,z){!function(){var e,t;e=this,t=function(){function s(e){return"function"==typeof e}var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=0,t=void 0,o=void 0,i=function(e,t){f[n]=e,f[n+1]=t,2===(n+=2)&&(o?o(d):x())};var e="undefined"!=typeof window?window:void 0,a=e||{},a=a.MutationObserver||a.WebKitMutationObserver,u="undefined"==typeof self&&void 0!==V&&"[object process]"==={}.toString.call(V),c="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function l(){var e=setTimeout;return function(){return e(d,1)}}var f=new Array(1e3);function d(){for(var e=0;e<n;e+=2)(0,f[e])(f[e+1]),f[e]=void 0,f[e+1]=void 0;n=0}function m(){try{var e=Function("return this")().require("vertx");return void 0!==(t=e.runOnLoop||e.runOnContext)?function(){t(d)}:l()}catch(e){return l()}}var p,h,v,x=void 0;function y(e,t){var r,n=this,o=new this.constructor(_),a=(void 0===o[b]&&C(o),n._state);return a?(r=arguments[a-1],i(function(){return R(a,o,r,n._result)})):S(n,o,e,t),o}function g(e){var t;return e&&"object"==typeof e&&e.constructor===this?e:(P(t=new this(_),e),t)}var x=u?function(){return V.nextTick(d)}:a?(h=0,u=new a(d),v=document.createTextNode(""),u.observe(v,{characterData:!0}),function(){v.data=h=++h%2}):c?((p=new MessageChannel).port1.onmessage=d,function(){return p.port2.postMessage(0)}):(void 0===e&&"function"==typeof B?m:l)(),b=Math.random().toString(36).substring(2);function _(){}var w=void 0,O=1,E=2;function L(e,n,o){i(function(t){var r=!1,e=((e,t,r,n)=>{try{e.call(t,r,n)}catch(e){return e}})(o,n,function(e){r||(r=!0,(n!==e?P:A)(t,e))},function(e){r||(r=!0,j(t,e))},t._label);!r&&e&&(r=!0,j(t,e))},e)}function F(e,t,r){var n,o;t.constructor===e.constructor&&r===y&&t.constructor.resolve===g?(n=e,(o=t)._state===O?A(n,o._result):o._state===E?j(n,o._result):S(o,void 0,function(e){return P(n,e)},function(e){return j(n,e)})):void 0!==r&&s(r)?L(e,t,r):A(e,t)}function P(t,e){if(t===e)j(t,new TypeError("You cannot resolve a promise with itself"));else if(r=typeof e,null===e||"object"!=r&&"function"!=r)A(t,e);else{r=void 0;try{r=e.then}catch(e){return void j(t,e)}F(t,e,r)}var r}function D(e){e._onerror&&e._onerror(e._result),k(e)}function A(e,t){e._state===w&&(e._result=t,e._state=O,0!==e._subscribers.length)&&i(k,e)}function j(e,t){e._state===w&&(e._state=E,e._result=t,i(D,e))}function S(e,t,r,n){var o=e._subscribers,a=o.length;e._onerror=null,o[a]=t,o[a+O]=r,o[a+E]=n,0===a&&e._state&&i(k,e)}function k(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n,o=void 0,a=e._result,i=0;i<t.length;i+=3)n=t[i],o=t[i+r],n?R(r,n,o,a):o(a);e._subscribers.length=0}}function R(e,t,r,n){var o=s(r),a=void 0,i=void 0,u=!0;if(o){try{a=r(n)}catch(e){u=!1,i=e}if(t===a)return void j(t,new TypeError("A promises callback cannot return that same promise."))}else a=n;t._state===w&&(o&&u?P(t,a):!1===u?j(t,i):e===O?A(t,a):e===E&&j(t,a))}var I=0;function C(e){e[b]=I++,e._state=void 0,e._result=void 0,e._subscribers=[]}M.prototype._enumerate=function(e){for(var t=0;this._state===w&&t<e.length;t++)this._eachEntry(e[t],t)},M.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,n=r.resolve;if(n===g){var o,a=void 0,i=void 0,u=!1;try{a=t.then}catch(e){u=!0,i=e}a===y&&t._state!==w?this._settledAt(t._state,e,t._result):"function"!=typeof a?(this._remaining--,this._result[e]=t):r===T?(o=new r(_),u?j(o,i):F(o,t,a),this._willSettleAt(o,e)):this._willSettleAt(new r(function(e){return e(t)}),e)}else this._willSettleAt(n(t),e)},M.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===w&&(this._remaining--,e===E?j(n,r):this._result[t]=r),0===this._remaining&&A(n,this._result)},M.prototype._willSettleAt=function(e,t){var r=this;S(e,void 0,function(e){return r._settledAt(O,t,e)},function(e){return r._settledAt(E,t,e)})};var U=M;function M(e,t){this._instanceConstructor=e,this.promise=new e(_),this.promise[b]||C(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0!==this.length&&(this.length=this.length||0,this._enumerate(t),0!==this._remaining)||A(this.promise,this._result)):j(this.promise,new Error("Array Methods must be provided an Array"))}N.prototype.catch=function(e){return this.then(null,e)},N.prototype.finally=function(t){var r=this.constructor;return s(t)?this.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){throw e})}):this.then(t,t)};var T=N;function N(e){if(this[b]=I++,this._result=this._state=void 0,this._subscribers=[],_!==e){if("function"!=typeof e)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof N))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var t=this;try{e(function(e){P(t,e)},function(e){j(t,e)})}catch(e){j(t,e)}}}return T.prototype.then=y,T.all=function(e){return new U(this,e).promise},T.race=function(o){var a=this;return r(o)?new a(function(e,t){for(var r=o.length,n=0;n<r;n++)a.resolve(o[n]).then(e,t)}):new a(function(e,t){return t(new TypeError("You must pass an array to race."))})},T.resolve=g,T.reject=function(e){var t=new this(_);return j(t,e),t},T._setScheduler=function(e){o=e},T._setAsap=function(e){i=e},T._asap=i,T.polyfill=function(){var e=void 0;if(void 0!==z)e=z;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=T},T.Promise=T},"object"==typeof n&&void 0!==r?r.exports=t():"function"==typeof define&&define.amd?define(t):e.ES6Promise=t()}.call(this)}.call(this,B("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:4}],4:[function(e,t,r){var n,o,t=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{o="function"==typeof clearTimeout?clearTimeout:i}catch(e){o=i}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===a||!n)&&setTimeout)return(n=setTimeout)(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}var s,c=[],l=!1,f=-1;function d(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length)&&m()}function m(){if(!l){for(var e=u(d),t=(l=!0,c.length);t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,l=!1,!function(t){if(o===clearTimeout)return clearTimeout(t);if((o===i||!o)&&clearTimeout)return(o=clearTimeout)(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function h(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||l||u(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=h,t.addListener=h,t.once=h,t.off=h,t.removeListener=h,t.removeAllListeners=h,t.emit=h,t.prependListener=h,t.prependOnceListener=h,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],5:[function(e,t,r){!function(c){!function(){function n(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function o(e){return encodeURIComponent(e).replace(/%20/g,"+")}function a(e){return decodeURIComponent(String(e).replace(/\+/g," "))}function e(){function i(e){Object.defineProperty(this,"_entries",{writable:!0,value:{}});var t=typeof e;if("undefined"!=t)if("string"==t)""!==e&&this._fromString(e);else if(e instanceof i){var r=this;e.forEach(function(e,t){r.append(t,e)})}else{if(null===e||"object"!=t)throw new TypeError("Unsupported input's type for URLSearchParams");if("[object Array]"===Object.prototype.toString.call(e))for(var n=0;n<e.length;n++){var o=e[n];if("[object Array]"!==Object.prototype.toString.call(o)&&2===o.length)throw new TypeError("Expected [string, any] as entry at index "+n+" of URLSearchParams's input");this.append(o[0],o[1])}else for(var a in e)e.hasOwnProperty(a)&&this.append(a,e[a])}}var e=i.prototype;e.append=function(e,t){e in this._entries?this._entries[e].push(String(t)):this._entries[e]=[String(t)]},e.delete=function(e){delete this._entries[e]},e.get=function(e){return e in this._entries?this._entries[e][0]:null},e.getAll=function(e){return e in this._entries?this._entries[e].slice(0):[]},e.has=function(e){return e in this._entries},e.set=function(e,t){this._entries[e]=[String(t)]},e.forEach=function(e,t){for(var r in this._entries)if(this._entries.hasOwnProperty(r))for(var n=this._entries[r],o=0;o<n.length;o++)e.call(t,n[o],r,this)},e.keys=function(){var r=[];return this.forEach(function(e,t){r.push(t)}),n(r)},e.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),n(t)},e.entries=function(){var r=[];return this.forEach(function(e,t){r.push([t,e])}),n(r)},r&&(e[Symbol.iterator]=e.entries),e.toString=function(){var r=[];return this.forEach(function(e,t){r.push(o(t)+"="+o(e))}),r.join("&")},t.URLSearchParams=i}t=void 0!==c?c:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,r=(()=>{try{return!!Symbol.iterator}catch(e){return!1}})(),(()=>{try{var e=t.URLSearchParams;return"a=1"===new e("?a=1").toString()&&"function"==typeof e.prototype.set&&"function"==typeof e.prototype.entries}catch(e){return!1}})()||e(),"function"!=typeof(i=t.URLSearchParams.prototype).sort&&(i.sort=function(){var r=this,n=[];this.forEach(function(e,t){n.push([t,e]),r._entries||r.delete(t)}),n.sort(function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0}),r._entries&&(r._entries={});for(var e=0;e<n.length;e++)this.append(n[e][0],n[e][1])}),"function"!=typeof i._fromString&&Object.defineProperty(i,"_fromString",{enumerable:!1,configurable:!1,writable:!1,value:function(e){if(this._entries)this._entries={};else{var r=[];this.forEach(function(e,t){r.push(t)});for(var t=0;t<r.length;t++)this.delete(r[t])}for(var n,o=(e=e.replace(/^\?/,"")).split("&"),t=0;t<o.length;t++)n=o[t].split("="),this.append(a(n[0]),1<n.length?a(n[1]):"")}});var t,r,i,l=void 0!==c?c:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this;function u(){function e(e,t){"string"!=typeof e&&(e=String(e)),t&&"string"!=typeof t&&(t=String(t));var r=document;if(t&&(void 0===l.location||t!==l.location.href)){t=t.toLowerCase(),(o=(r=document.implementation.createHTMLDocument("")).createElement("base")).href=t,r.head.appendChild(o);try{if(0!==o.href.indexOf(t))throw new Error(o.href)}catch(e){throw new Error("URL unable to set base "+t+" due to "+e)}}var n=r.createElement("a"),o=(n.href=e,o&&(r.body.appendChild(n),n.href=n.href),r.createElement("input"));if(o.type="url",o.value=e,":"===n.protocol||!/:/.test(n.href)||!o.checkValidity()&&!t)throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:n});var a=new l.URLSearchParams(this.search),i=!0,u=!0,s=this,c=(["append","delete","set"].forEach(function(e){var t=a[e];a[e]=function(){t.apply(a,arguments),i&&(u=!1,s.search=a.toString(),u=!0)}}),Object.defineProperty(this,"searchParams",{value:a,enumerable:!0}),void 0);Object.defineProperty(this,"_updateSearchParams",{enumerable:!1,configurable:!1,writable:!1,value:function(){this.search!==c&&(c=this.search,u)&&(i=!1,this.searchParams._fromString(this.search),i=!0)}})}var t=l.URL,r=e.prototype;["hash","host","hostname","port","protocol"].forEach(function(e){var t;t=e,Object.defineProperty(r,t,{get:function(){return this._anchorElement[t]},set:function(e){this._anchorElement[t]=e},enumerable:!0})}),Object.defineProperty(r,"search",{get:function(){return this._anchorElement.search},set:function(e){this._anchorElement.search=e,this._updateSearchParams()},enumerable:!0}),Object.defineProperties(r,{toString:{get:function(){var e=this;return function(){return e.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(e){this._anchorElement.href=e,this._updateSearchParams()},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(e){this._anchorElement.pathname=e},enumerable:!0},origin:{get:function(){var e={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol],e=this._anchorElement.port!=e&&""!==this._anchorElement.port;return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(e?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(e){},enumerable:!0},username:{get:function(){return""},set:function(e){},enumerable:!0}}),e.createObjectURL=function(e){return t.createObjectURL.apply(t,arguments)},e.revokeObjectURL=function(e){return t.revokeObjectURL.apply(t,arguments)},l.URL=e}if((()=>{try{var e=new l.URL("b","http://a");return e.pathname="c d","http://a/c%20d"===e.href&&e.searchParams}catch(e){return!1}})()||u(),void 0!==l.location&&!("origin"in l.location)){var s=function(){return l.location.protocol+"//"+l.location.hostname+(l.location.port?":"+l.location.port:"")};try{Object.defineProperty(l.location,"origin",{get:s,enumerable:!0})}catch(e){setInterval(function(){l.location.origin=s()},100)}}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(e,r,n){!function(F){!function(){var e,t;e=this,t=function(s){var t,r,c="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==F&&F||{},n="URLSearchParams"in c,o="Symbol"in c&&"iterator"in Symbol,l="FileReader"in c&&"Blob"in c&&(()=>{try{return new Blob,!0}catch(e){return!1}})(),a="FormData"in c,f="ArrayBuffer"in c;function d(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function m(e){return e="string"!=typeof e?String(e):e}function e(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return o&&(e[Symbol.iterator]=function(){return e}),e}function p(t){this.map={},t instanceof p?t.forEach(function(e,t){this.append(t,e)},this):Array.isArray(t)?t.forEach(function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function i(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function u(r){return new Promise(function(e,t){r.onload=function(){e(r.result)},r.onerror=function(){t(r.error)}})}function h(e){var t=new FileReader,r=u(t);return t.readAsArrayBuffer(e),r}function v(e){var t;return e.slice?e.slice(0):((t=new Uint8Array(e.byteLength)).set(new Uint8Array(e)),t.buffer)}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,(this._bodyInit=e)?"string"==typeof e?this._bodyText=e:l&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():f&&l&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=v(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):f&&(ArrayBuffer.prototype.isPrototypeOf(e)||r(e))?this._bodyArrayBuffer=v(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l&&(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return i(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(l)return this.blob().then(h);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e,t,r,n=i(this);if(n)return n;if(this._bodyBlob)return n=this._bodyBlob,e=new FileReader,t=u(e),r=(r=/charset=([A-Za-z0-9_-]+)/.exec(n.type))?r[1]:"utf-8",e.readAsText(n,r),t;if(this._bodyArrayBuffer)return Promise.resolve((e=>{for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")})(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}f&&(t=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=ArrayBuffer.isView||function(e){return e&&-1<t.indexOf(Object.prototype.toString.call(e))}),p.prototype.append=function(e,t){e=d(e),t=m(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},p.prototype.delete=function(e){delete this.map[d(e)]},p.prototype.get=function(e){return e=d(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(d(e))},p.prototype.set=function(e,t){this.map[d(e)]=m(t)},p.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},p.prototype.keys=function(){var r=[];return this.forEach(function(e,t){r.push(t)}),e(r)},p.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),e(t)},p.prototype.entries=function(){var r=[];return this.forEach(function(e,t){r.push([t,e])}),e(r)},o&&(p.prototype[Symbol.iterator]=p.prototype.entries);var g=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function b(e,t){if(!(this instanceof b))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,n=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(e=t.method||this.method||"GET",r=e.toUpperCase(),-1<g.indexOf(r)?r:e),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||(()=>{if("AbortController"in c)return(new AbortController).signal})(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n),"GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache||((r=/([?&])_=[^&]*/).test(this.url)?this.url=this.url.replace(r,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime())}function _(e){var r=new FormData;return e.trim().split("&").forEach(function(e){var t;e&&(t=(e=e.split("=")).shift().replace(/\+/g," "),e=e.join("=").replace(/\+/g," "),r.append(decodeURIComponent(t),decodeURIComponent(e)))}),r}function w(e,t){if(!(this instanceof w))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||599<this.status)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=200<=this.status&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},y.call(b.prototype),y.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var O=[301,302,303,307,308];w.redirect=function(e,t){if(-1===O.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},s.DOMException=c.DOMException;try{new s.DOMException}catch(e){s.DOMException=function(e,t){this.message=e,this.name=t;t=Error(e);this.stack=t.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function E(n,u){return new Promise(function(o,e){var a=new b(n,u);if(a.signal&&a.signal.aborted)return e(new s.DOMException("Aborted","AbortError"));var r,i=new XMLHttpRequest;function t(){i.abort()}i.onload=function(){var e,r,t={statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",r=new p,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var e=e.split(":"),t=e.shift().trim();if(t){e=e.join(":").trim();try{r.append(t,e)}catch(e){console.warn("Response "+e.message)}}}),r)},n=(0===a.url.indexOf("file://")&&(i.status<200||599<i.status)?t.status=200:t.status=i.status,t.url="responseURL"in i?i.responseURL:t.headers.get("X-Request-URL"),"response"in i?i.response:i.responseText);setTimeout(function(){o(new w(n,t))},0)},i.onerror=function(){setTimeout(function(){e(new TypeError("Network request failed"))},0)},i.ontimeout=function(){setTimeout(function(){e(new TypeError("Network request timed out"))},0)},i.onabort=function(){setTimeout(function(){e(new s.DOMException("Aborted","AbortError"))},0)},i.open(a.method,(t=>{try{return""===t&&c.location.href?c.location.href:t}catch(e){return t}})(a.url),!0),"include"===a.credentials?i.withCredentials=!0:"omit"===a.credentials&&(i.withCredentials=!1),"responseType"in i&&(l?i.responseType="blob":f&&(i.responseType="arraybuffer")),u&&"object"==typeof u.headers&&!(u.headers instanceof p||c.Headers&&u.headers instanceof c.Headers)?(r=[],Object.getOwnPropertyNames(u.headers).forEach(function(e){r.push(d(e)),i.setRequestHeader(e,m(u.headers[e]))}),a.headers.forEach(function(e,t){-1===r.indexOf(t)&&i.setRequestHeader(t,e)})):a.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),a.signal&&(a.signal.addEventListener("abort",t),i.onreadystatechange=function(){4===i.readyState&&a.signal.removeEventListener("abort",t)}),i.send(void 0===a._bodyInit?null:a._bodyInit)})}E.polyfill=!0,c.fetch||(c.fetch=E,c.Headers=p,c.Request=b,c.Response=w),s.Headers=p,s.Request=b,s.Response=w,s.fetch=E,Object.defineProperty(s,"__esModule",{value:!0})},"object"==typeof n&&void 0!==r?t(n):"function"==typeof define&&define.amd?define(["exports"],t):t(e.WHATWGFetch={})}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.eventsService=void 0;r.eventsService=function(e){for(var n=e.events,o=e.publicEvents,a={},t=0,r=n;t<r.length;t++){var i=r[t];a[i]=[]}function u(e,t){if(e)throw new Error(t);console.warn(t)}return{addEvent:function(e,t,r){void 0===r&&(r=!1),!n.includes(e)||r&&!o.includes(e)?u(r,"event.unknown"):"function"!=typeof t?u(r,"event.callback.not.function"):a[e].push({fn:t})},fireEvent:function(e,t){n.includes(e)?a[e].forEach(function(e){e.fn(t)}):console.warn("event.unknown [".concat(e,"]"))}}}},{}],8:[function(e,t,r){var n=function(e){return e&&e.__esModule?e:{default:e}},o=(Object.defineProperty(r,"__esModule",{value:!0}),e("./util/ie"),e("es6-promise/auto"),e("url-polyfill"),e("whatwg-fetch"),n(e("./payu/payu"))),a=n(e("./marketplace/Verification")),i=e("./marketplace/PayuRegulationsForm"),u=e("./marketplace/PayuDocumentForm");window.PayU=window.PayU||function(e,t){return(0,o.default)(e,t=void 0===t?{dev:!1}:t)},window.MarketplaceVerification=window.MarketplaceVerification||function(e,t){return new a.default(e,t=void 0===t?{dev:!1}:t)},window.PayuDocumentForm=window.PayuDocumentForm||function(e,t){return(0,u.payuDocumentForm)(e,t=void 0===t?{dev:!1}:t)},window.PayuRegulationsForm=window.PayuRegulationsForm||function(e,t){return(0,i.payuRegulationsForm)(e,t=void 0===t?{dev:!1}:t)}},{"./marketplace/PayuDocumentForm":12,"./marketplace/PayuRegulationsForm":13,"./marketplace/Verification":15,"./payu/payu":50,"./util/ie":59,"es6-promise/auto":2,"url-polyfill":5,"whatwg-fetch":6}],9:[function(e,t,r){var a=function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},n=function(e){return e&&e.__esModule?e:{default:e}},i=(Object.defineProperty(r,"__esModule",{value:!0}),n(e("../util/config")));r.default=function(e,t,r,n,o){e=a({sender:"js-sdk",sid:e,from:t,level:r,event:n},o),t={method:"POST",headers:{"Content-Type":"application/vnd.payu+json"},body:JSON.stringify(e)};fetch(i.default.loggerUrl,t).then(function(){}).catch(function(){})}},{"../util/config":55}],10:[function(e,t,r){var n=Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&("get"in o?t.__esModule:!o.writable&&!o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]},o=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},i=function(e){return e&&e.__esModule?e:{default:e}},u=(Object.defineProperty(r,"__esModule",{value:!0}),i(e("../../util/config"))),s=e("../../events/events-service"),c=a(e("../Events/events-config")),l=i(e("../../logger/logger"));r.default=function(e,o){function a(e){var t,r=e.data,e=e.origin;if(String(e)===String(u.default.secureFormOrigin)){try{t=JSON.parse(r)}catch(e){return}if(t.id===o||t.sid===o)switch(t.action){case"duf-frame-loaded":n.fireEvent(c.default.READY),(0,l.default)(o,"DocumentForm","INFO","duf-frame-loaded");break;case"duf-file-select":n.fireEvent(c.default.SELECT,t.payload),(0,l.default)(o,"DocumentForm","INFO","duf-file-select");break;case"duf-file-upload":n.fireEvent(c.default.UPLOAD,t.payload),(0,l.default)(o,"DocumentForm","INFO","duf-file-upload")}}}var i=e.verificationId,t=!1,n=((0,l.default)(o,"DocumentForm","INFO","initialized"),(0,s.eventsService)(c.eventsConfig));return n.addEvent(c.default.READY,function(){return t=!0}),{loaded:function(){return t},render:function(e,t){window.addEventListener("message",a);var r=document.createElement("iframe"),n=(r.setAttribute("frameborder","0"),r.setAttribute("allowTransparency","true"),r.setAttribute("scrolling","no"),r.setAttribute("name",o),r.setAttribute("src",(e=>((e=new URL(e)).searchParams.append("verificationId",i),e.searchParams.append("id",o),e.searchParams.append("sid",o),e.href))(u.default.marketplaceDocumentIframeUrl)),r.setAttribute("style","border: medium none !important; margin: 0px !important; padding: 0px !important; width: 100% !important; height: 100% !important; display: block !important;"),document.createElement("div")),t=(n.innerText=t.title||"Dodaj plik",n.setAttribute("style","width: 100% !important; height: 100% !important; position: absolute !important; z-index: 99; display: flex !important; align-items: center !important; justify-content: center !important;"),n.setAttribute("class","PAYU__DocumentFormContainer__title"),document.createElement("div")),r=(t.setAttribute("style","width: 100% !important; height: 100% !important; position: absolute !important; z-index: 100;"),t.setAttribute("class","PAYU__DocumentFormContainer__iframe"),t.appendChild(r),document.createElement("div"));r.setAttribute("style","width: 100% !important; height: 100% !important; position: relative !important;"),r.setAttribute("class","PAYU__DocumentFormContainer"),r.appendChild(t),r.appendChild(n),e.appendChild(r)},addEvent:function(e,t,r){n.addEvent(e,t,r)}}}},{"../../events/events-service":7,"../../logger/logger":9,"../../util/config":55,"../Events/events-config":11}],11:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.eventsConfig=void 0;var n={READY:"ready",SELECT:"select",UPLOAD:"upload",ACCEPT:"accept",CHANGE:"change"},o={events:Object.values(n),publicEvents:[n.READY,n.SELECT,n.UPLOAD,n.ACCEPT,n.CHANGE]};r.eventsConfig=o,r.default=n},{}],12:[function(e,t,r){var n=function(e){return e&&e.__esModule?e:{default:e}},a=(Object.defineProperty(r,"__esModule",{value:!0}),r.payuDocumentForm=void 0,n(e("../logger/logger"))),i=e("../util/ids"),u=n(e("./DocumentForm/DocumentForm")),s=n(e("../util/extractElement")),c=n(e("../util/config")),l=n(e("../util/checkProtocolAndHostname")),f=e("../util/frames");r.payuDocumentForm=function(e,t){var r,e=e.verificationId,t=t.dev,n=(0,i.generateSid)(),o="file:"===document.location.protocol?"file":document.location.href;if(!0===t&&console.warn("dev.integration.info [You used development mode. Please change before production deployment.]"),(0,a.default)(n,"DocumentForm","INFO","initialized",{referrer:o}),(0,l.default)(n,t,"DocumentForm"),e)return r=(0,u.default)({verificationId:e},n),{on:function(e,t){(0,a.default)(n,"DocumentForm","INFO","on",{eventName:e}),r.addEvent(e,t,!0)},render:function(e,t){void 0===t&&(t={}),(0,a.default)(n,"DocumentForm","INFO","documentForm"),r.loaded()?((0,a.default)(n,"DocumentForm","WARN","documentForm.already.rendered"),console.warn("documentForm.already.rendered")):r.render((0,s.default)(e),t)},upload:function(){if((0,a.default)(n,"DocumentForm","INFO","upload"),!r)throw(0,a.default)(n,"DocumentForm","WARN","documentForm.not.rendered"),new Error("documentForm.not.rendered");var e=(0,f.getFrameByName)(n);e&&e.postMessage(JSON.stringify({action:"duf-upload"}),c.default.secureFormOrigin)}};throw(0,a.default)(n,"DocumentForm","ERROR","verificationId.is.empty"),new Error("verificationId.is.empty")}},{"../logger/logger":9,"../util/checkProtocolAndHostname":54,"../util/config":55,"../util/extractElement":56,"../util/frames":57,"../util/ids":58,"./DocumentForm/DocumentForm":10}],13:[function(e,t,r){var n=function(e){return e&&e.__esModule?e:{default:e}},u=(Object.defineProperty(r,"__esModule",{value:!0}),r.payuRegulationsForm=void 0,n(e("../logger/logger"))),s=e("../util/ids"),c=n(e("./RegulationsForm/RegulationsForm")),l=n(e("../util/extractElement")),f=n(e("../util/config")),d=n(e("../util/checkProtocolAndHostname")),m=e("../util/frames");r.payuRegulationsForm=function(e,t){var r,n=e.verificationId,o=e.shopId,e=e.extCustomerId,t=t.dev,a=(0,s.generateSid)(),i="file:"===document.location.protocol?"file":document.location.href;if(t&&console.warn("dev.integration.info [You used development mode. Please change before production deployment.]"),(0,u.default)(a,"RegulationsForm","INFO","initialized",{referrer:i}),(0,d.default)(a,t,"RegulationsForm"),n||o&&e)return r=(0,c.default)({verificationId:n,shopId:o,extCustomerId:e},a),{on:function(e,t){(0,u.default)(a,"RegulationsForm","INFO","on",{eventName:e}),r.addEvent(e,t,!0)},render:function(e,t){void 0===t&&(t={}),(0,u.default)(a,"RegulationsForm","INFO","regulationsForm"),r.loaded()?((0,u.default)(a,"RegulationsForm","WARN","regulationsForm.already.rendered"),console.warn("regulationsForm.already.rendered")):r.render((0,l.default)(e),t)},acceptRegulations:function(){if((0,u.default)(a,"RegulationsForm","INFO","acceptRegulations"),!r)throw(0,u.default)(a,"RegulationsForm","WARN","regulationsForm.not.rendered"),new Error("regulationsForm.not.rendered");var e;r&&(e=(0,m.getFrameByName)(a))&&e.postMessage(JSON.stringify({action:"drf-accept"}),f.default.secureFormOrigin)}};throw(0,u.default)(a,"RegulationsForm","ERROR","invalid.params"),new Error("invalid.params")}},{"../logger/logger":9,"../util/checkProtocolAndHostname":54,"../util/config":55,"../util/extractElement":56,"../util/frames":57,"../util/ids":58,"./RegulationsForm/RegulationsForm":14}],14:[function(e,t,r){var n=Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&("get"in o?t.__esModule:!o.writable&&!o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]},o=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},i=function(e){return e&&e.__esModule?e:{default:e}},f=(Object.defineProperty(r,"__esModule",{value:!0}),i(e("../../util/config"))),d=e("../../events/events-service"),m=a(e("../Events/events-config")),p=i(e("../../logger/logger")),h=e("../../payu/frames/iframe-height-calculator");r.default=function(e,i){function u(e){var t,r=e.data,e=e.origin;if(String(e)===String(f.default.secureFormOrigin)){try{t=JSON.parse(r)}catch(e){return}if(t.sid===i)switch(t.action){case"drf-frame-loaded":n.fireEvent(m.default.READY),(0,p.default)(i,"RegulationsForm","INFO","drf-frame-loaded");break;case"drf-change":n.fireEvent(m.default.CHANGE,t.payload.body.checked),(0,p.default)(i,"RegulationsForm","INFO","drf-change");break;case"drf-regulations-accept":n.fireEvent(m.default.ACCEPT,t.payload),(0,p.default)(i,"RegulationsForm","INFO","drf-regulations-accept")}}}var s=e.verificationId,c=e.shopId,l=e.extCustomerId,t=!1,n=((0,p.default)(i,"RegulationsForm","INFO","initialized"),(0,d.eventsService)(m.eventsConfig));return n.addEvent(m.default.READY,function(){return t=!0}),{loaded:function(){return t},render:function(e,t){window.addEventListener("message",u);var r,n,o,a=document.createElement("iframe");a.setAttribute("frameborder","0"),a.setAttribute("allowTransparency","true"),a.setAttribute("scrolling","no"),a.setAttribute("name",i),a.setAttribute("src",(r=f.default.marketplaceRegulationsIframeUrl,void 0===(n=t)&&(n={}),o=new URL(r),Object.keys(n).map(function(e){return o.searchParams.append(e,"object"==typeof n[e]?JSON.stringify(n[e]):n[e])}),s?o.searchParams.append("verificationId",s):(o.searchParams.append("shopId",c),o.searchParams.append("extCustomerId",l)),o.searchParams.append("sid",i),o.href)),a.setAttribute("style","border: medium none !important; margin: 0px !important; padding: 0px !important; width: 100% !important; height: 100% !important; display: block !important;"),a.style.height=(0,h.calculateIframeHeight)(null==(t=null==(r=t.style)?void 0:r.label)?void 0:t.fontSize,"1.3em"),e.appendChild(a)},addEvent:function(e,t,r){n.addEvent(e,t,r)}}}},{"../../events/events-service":7,"../../logger/logger":9,"../../payu/frames/iframe-height-calculator":21,"../../util/config":55,"../Events/events-config":11}],15:[function(e,t,r){var n=function(e){return e&&e.__esModule?e:{default:e}},o=(Object.defineProperty(r,"__esModule",{value:!0}),n(e("../util/config"))),a=n(e("./DocumentForm/DocumentForm")),i=n(e("../util/extractElement")),u=e("../util/ids"),s=n(e("../logger/logger")),c=n(e("./RegulationsForm/RegulationsForm")),l=n(e("../util/checkProtocolAndHostname")),f=e("../util/frames");r.default=function(e,t){void 0===t&&(t={});var r=this,n=(this._requests={},this.sid=(0,u.generateSid)(),this._sendMessage=function(e){var t;r._documentForm&&(t=(0,f.getFrameByName)(r.sid))&&t.postMessage(JSON.stringify(e),o.default.secureFormOrigin)},this.documentForm=function(e,t){void 0===t&&(t={}),(0,s.default)(r.sid,"Verification","INFO","documentForm"),r.isAnythingLoaded()?((0,s.default)(r.sid,"Verification","WARN","documentForm.already.rendered"),console.warn("documentForm.already.rendered")):r._documentForm.render((0,i.default)(e),t)},this.regulationsForm=function(e,t){void 0===t&&(t={}),(0,s.default)(r.sid,"Verification","INFO","regulationsForm"),r.isAnythingLoaded()?((0,s.default)(r.sid,"Verification","WARN","regulationsForm.already.rendered"),console.warn("regulationsForm.already.rendered")):r._regulationsForm.render((0,i.default)(e),t)},this.isAnythingLoaded=function(){return r._documentForm.loaded()||r._regulationsForm.loaded()},this.upload=function(){if((0,s.default)(r.sid,"Verification","INFO","upload"),!r._documentForm)throw(0,s.default)(r.sid,"Verification","WARN","documentForm.not.rendered"),new Error("documentForm.not.rendered");r._sendMessage({action:"duf-upload"})},this.acceptRegulations=function(){if((0,s.default)(r.sid,"Verification","INFO","acceptRegulations"),!r._regulationsForm)throw(0,s.default)(r.sid,"Verification","WARN","regulationsForm.not.rendered"),new Error("regulationsForm.not.rendered");r._sendMessage({action:"drf-accept"})},this.on=function(e,t){return(0,s.default)(r.sid,"Verification","INFO","on",{eventName:e}),r._documentForm.addEvent(e,t,!0),r._regulationsForm.addEvent(e,t,!0),r},"file:"===document.location.protocol?"file":document.location.href),t=t.dev;if(this.dev=!0===t,t&&console.warn("dev.integration.info [You used development mode. Please change before production deployment.]"),(0,s.default)(this.sid,"Verification","INFO","initialized",{referrer:n}),(0,l.default)(this.sid,t),!e)throw(0,s.default)(this.sid,"Verification","ERROR","verificationId.is.empty"),new Error("verificationId.is.empty");this.verificationId=e,this._documentForm=(0,a.default)({verificationId:this.verificationId},this.sid),this._regulationsForm=(0,c.default)({verificationId:this.verificationId},this.sid)}},{"../logger/logger":9,"../util/checkProtocolAndHostname":54,"../util/config":55,"../util/extractElement":56,"../util/frames":57,"../util/ids":58,"./DocumentForm/DocumentForm":10,"./RegulationsForm/RegulationsForm":14}],16:[function(e,t,r){var n,o;Object.defineProperty(r,"__esModule",{value:!0}),(o=n=n||{}).SINGLE="SINGLE",o.SINGLE_LONGTERM="SINGLE_LONGTERM",o.MULTI="MULTI",r.default=n},{}],17:[function(e,t,r){n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)};var n,a,o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=function(e){return e&&e.__esModule?e:{default:e}},u=(Object.defineProperty(r,"__esModule",{value:!0}),i(e("deepmerge"))),s=e("./iframe-height-calculator"),c=i(e("../../util/normalizeOptions")),l=i(e("../../util/extractElement")),f=i(e("../../util/config")),d=i(e("./FrameAbstract")),m=i(e("../secureForms/events-config")),p=i(e("../../logger/logger")),h=e("./className"),v=e("../intl/format-message"),i=(a=d.default,o(y,a),y._iframeCounter=0,y);function y(e,t,r){var o=this,n=t.type;return(o=a.call(this,e,n,"_PayuFormIframe_",++y._iframeCounter)||this).render=function(e){return o.loaded?((0,p.default)(o.sid,"SecureForm","WARN","secureform.already.rendered",{iframe:o._iFrameName}),console.warn("secureform.already.rendered [Render method cannot be used on already rendered SecureForm]")):(o._element=(0,l.default)(e),o._render()),o},o.remove=function(){return o.loaded?(o.loaded=!1,o._remove(),o.events.fireEvent(m.default.REMOVE)):((0,p.default)(o.sid,"SecureForm","WARN","secureform.not.rendered",{iframe:o._iFrameName}),console.warn("secureform.not.rendered [Cannot remove unrendered SecureForm]")),o},o.update=function(e){return o.loaded?(o._params=(0,u.default)(o._params,(0,c.default)(e,o.type)),o._setIframeHeight(),o._sendMessage({frameId:o._iFrameName,action:"payu-frame-update-options",payload:{options:o._params}})):console.warn("secureform.not.rendered [Cannot update unrendered SecureForm]"),o},o.clear=function(){return o.loaded?o._sendMessage({frameId:o._iFrameName,action:"payu-frame-clear"}):console.warn("secureform.not.rendered [Cannot clean unrendered SecureForm]"),o},o.focus=function(){return o.loaded?o._sendMessage({frameId:o._iFrameName,action:"payu-frame-focus"}):console.warn("secureform.not.rendered [Cannot focus unrendered SecureForm]"),o},o.on=function(e,t){return o.events.addEvent(e,t,!0),o},o._extractFontSize=function(){var e=o._params.style;return e&&e.basic&&e.basic.fontSize&&/^(\d+|\d*\.\d+)(px|em|%)$/.test(e.basic.fontSize)?e.basic.fontSize:null},o._render=function(){var e=o._params,t=e.lang,e=e.type,r=document.createElement("iframe"),n=null!=(n=null==(n=o._localParams)?void 0:n.title)?n:(0,v.formatMessage)("iframe.".concat(e),t);r.setAttribute("frameborder","0"),r.setAttribute("allowTransparency","true"),r.setAttribute("scrolling","no"),r.setAttribute("name",o._getIframeName()),r.setAttribute("class","payu-secure-form-iframe"),r.setAttribute("src",o._getIframeUrl(f.default.secureFormIframeUrl,o._params)),r.setAttribute("style","border: medium none !important; margin: 0px !important; padding: 0px !important; width: 1px !important; min-width: 100% !important; overflow: hidden !important; display: block !important;"),r.setAttribute("title",n),o._iframe=r,o._setIframeHeight(),o._element.appendChild(o._iframe),o._addListenerToLabel()},o._setIframeHeight=function(){o._setStyle({height:(0,s.calculateIframeHeight)(o._extractFontSize())})},o._setStyle=function(t){Object.keys(t).forEach(function(e){o._iframe.style[e]=t[e]})},o._onFocusEvent=function(){o._element.classList.add((0,h.getParentElementClassName)(h.classType.FOCUS))},o._onBlurEvent=function(){o._element.classList.remove((0,h.getParentElementClassName)(h.classType.FOCUS))},o._onChangeEvent=function(e){e.empty?o._element.classList.add((0,h.getParentElementClassName)(h.classType.EMPTY)):o._element.classList.remove((0,h.getParentElementClassName)(h.classType.EMPTY)),!1===e.error||e.empty?o._element.classList.remove((0,h.getParentElementClassName)(h.classType.INVALID)):o._element.classList.add((0,h.getParentElementClassName)(h.classType.INVALID))},o._onLoaded=function(){var e,t=[(0,h.getParentElementClassName)(),(0,h.getParentElementClassName)(h.classType.EMPTY)];(e=o._element.classList).add.apply(e,t),o.events.addEvent(m.default.FOCUS,o._onFocusEvent),o.events.addEvent(m.default.BLUR,o._onBlurEvent),o.events.addEvent(m.default.CHANGE,o._onChangeEvent)},o._remove=function(){var e,t=[(0,h.getParentElementClassName)(),(0,h.getParentElementClassName)(h.classType.EMPTY),(0,h.getParentElementClassName)(h.classType.FOCUS),(0,h.getParentElementClassName)(h.classType.INVALID)];(e=o._element.classList).remove.apply(e,t),o._label&&o._label.removeEventListener("click",o._focusByLabel),o._element.removeChild(o._iframe),o._iframe=null,o._label=null},o._addListenerToLabel=function(){var e=o._element.getAttribute("id");e&&(o._label=document.querySelector('label[for="'.concat(e,'"]')))&&o._label.addEventListener("click",o._focusByLabel)},o._focusByLabel=function(){o.focus()},o._params=t,o._localParams=r,o}r.default=i},{"../../logger/logger":9,"../../util/config":55,"../../util/extractElement":56,"../../util/normalizeOptions":61,"../intl/format-message":49,"../secureForms/events-config":51,"./FrameAbstract":18,"./className":20,"./iframe-height-calculator":21,deepmerge:1}],18:[function(e,t,r){var n=Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&("get"in o?t.__esModule:!o.writable&&!o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]},o=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},i=function(e){return e&&e.__esModule?e:{default:e}},u=(Object.defineProperty(r,"__esModule",{value:!0}),a(e("../secureForms/events-config"))),s=i(e("../../util/config")),c=e("../../util/frames"),l=e("../../events/events-service");r.default=function(e,t,r,n){var o=this;this.loaded=!1,this._iframe=null,this._messages=[],this._onLoadEvent=function(){o.loaded=!0,o._messages.forEach(function(e){o._sendMessage(e)})},this._sendOrStore=function(e){o._messages.push(e),o.loaded&&o._sendMessage(e)},this._sendMessage=function(e){var t=(0,c.getFrameByName)(o._iFrameName);t&&t.postMessage(JSON.stringify(e),s.default.secureFormOrigin)},this._getIframeName=function(){return o._iFrameName},this._getIframeUrl=function(e,t){void 0===t&&(t={});var r=new URL(e);return Object.keys(t).map(function(e){return r.searchParams.append(e,"object"==typeof t[e]?JSON.stringify(t[e]):t[e])}),r.searchParams.append("sid",o.sid),r.href},this.sid=e,this.type=t,this.events=(0,l.eventsService)(u.eventsConfig),this._iFrameName="".concat(r).concat(n),this.events.addEvent(u.default.LOAD,this._onLoadEvent)}},{"../../events/events-service":7,"../../util/config":55,"../../util/frames":57,"../secureForms/events-config":51}],19:[function(e,t,r){n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)};var n,o,a=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=function(e){return e&&e.__esModule?e:{default:e}},u=(Object.defineProperty(r,"__esModule",{value:!0}),i(e("../../util/config"))),i=i(e("./FrameAbstract")),e=(o=i.default,a(s,o),s._iframeCounter=0,s);function s(e){var t=o.call(this,e,"ring","_PayuRingIframe_",++s._iframeCounter)||this;return t._renderRing=function(){var e=document.createElement("iframe");e.setAttribute("frameborder","0"),e.setAttribute("allowTransparency","true"),e.setAttribute("tabIndex","-1"),e.setAttribute("scrolling","no"),e.setAttribute("name",t._getIframeName()),e.setAttribute("src",t._getIframeUrl(u.default.ringIframeUrl)),e.setAttribute("aria-hidden","true"),e.setAttribute("style","border: none !important; margin: 0px !important; padding: 0px !important; width: 1px !important; overflow: hidden !important; display: block !important; visibility: hidden !important; position: fixed !important; height: 1px !important; pointer-events: none !important; user-select: none !important;"),t._iframe=e,document.body.appendChild(t._iframe)},t._renderRing(),t}r.default=e},{"../../util/config":55,"./FrameAbstract":18}],20:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getParentElementClassName=r.classType=void 0,r.classType={FOCUS:"focus",EMPTY:"empty",INVALID:"invalid"};var n="payu-secure-form";r.getParentElementClassName=function(e){return e?"".concat(n,"-").concat(e):n}},{}],21:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.calculateIframeHeight=void 0;r.calculateIframeHeight=function(e,t){e="string"==typeof(e=void 0===e?null:e)?e:"14px",t="string"==typeof(t=void 0===t?null:t)?t:"1.2em";if(/^[0-9.]+px$/.test(t))return t;var r,n=parseFloat(e.toString().replace(/[^0-9.]/g,"")),t=parseFloat(t.toString().replace(/[^0-9.]/g,""));if(/^(\d+|\d*\.\d+)px$/.test(e))r=n;else if(/^(\d+|\d*\.\d+)em$/.test(e))r=14*n;else if(/^(\d+|\d*\.\d+)%$/.test(e))r=n/100*14;else{if(!/^(\d+|\d*\.\d+)(px|em|%)$/.test(e))return"100%";r=14}n=r*t;return isNaN(n)?"100%":"".concat(n,"px")}},{}],22:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default={"iframe.number":"Защитна рамка за номера на картата","iframe.date":"Защитна рамка за датата на валидност","iframe.cvv":"Защитна рамка за CVV","iframe.card":"Защитна рамка за карта"}},{}],23:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default={"iframe.number":"Zabezpečené pole pro číslo karty","iframe.date":"Zabezpečené pole pro datum expirace","iframe.cvv":"Zabezpečené pole pro CVV","iframe.card":"Zabezpečené pole pro karty"}},{}],24:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default={"iframe.number":"Sikker ramme til kortnummer","iframe.date":"Sikker ramme til udløbsdato","iframe.cvv":"Sikker ramme til CVV","iframe.card":"Sikker ramme til kort"}},{}],25:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default={"iframe.number":"Secure Frame für Kartennummer","iframe.date":"Secure Frame für Ablaufdatum","iframe.cvv":"Secure Frame für CVV","iframe.card":"Secure Frame für Karte"}},{}],26:[function(e,t,r){var n=function(e){return e&&e.__esModule?e:{default:e}},o=(Object.defineProperty(r,"__esModule",{value:!0}),r.defaultLanguage=r.allowedLanguages=void 0,n(e("./bg"))),a=n(e("./cs")),i=n(e("./da")),u=n(e("./de")),s=n(e("./el")),c=n(e("./en")),l=n(e("./es")),f=n(e("./et")),d=n(e("./fi")),m=n(e("./fr")),p=n(e("./hr")),h=n(e("./hu")),v=n(e("./it")),y=n(e("./lt")),g=n(e("./lv")),b=n(e("./nl")),_=n(e("./pl")),w=n(e("./pt")),O=n(e("./ro")),E=n(e("./ru")),F=n(e("./sk")),P=n(e("./sl")),A=n(e("./sr")),j=n(e("./sv")),S=n(e("./tr")),n=n(e("./uk")),e=(r.allowedLanguages=["bg","cs","da","de","el","en","es","et","fi","fr","hr","hu","it","lt","lv","nl","pl","pt","ro","ru","sk","sl","sr","sv","tr","uk"],r.defaultLanguage="en",{bg:o.default,cs:a.default,da:i.default,de:u.default,el:s.default,en:c.default,es:l.default,et:f.default,fi:d.default,fr:m.default,hr:p.default,hu:h.default,it:v.default,lt:y.default,lv:g.default,nl:b.default,pl:_.default,pt:w.default,ro:O.default,ru:E.default,sk:F.default,sl:P.default,sr:A.default,sv:j.default,tr:S.default,uk:n.default});r.default=e},{"./bg":22,"./cs":23,"./da":24,"./de":25,"./el":27,"./en":28,"./es":29,"./et":30,"./fi":31,"./fr":32,"./hr":33,"./hu":34,"./it":35,"./lt":36,"./lv":37,"./nl":38,"./pl":39,"./pt":40,"./ro":41,"./ru":42,"./sk":43,"./sl":44,"./sr":45,"./sv":46,"./tr":47,"./uk":48}],27:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default={"iframe.number":"Ασφαλές πλαίσιο για τον αριθμό κάρτας","iframe.date":"Ασφαλές πλαίσιο για την ημερομηνία λήξης","iframe.cvv":"Ασφαλές πλαίσιο για τον κωδικό CVV","iframe.card":"Ασφαλές πλαίσιο για την κάρτα"}},{}],28:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default={"iframe.number":"Secure frame for card number","iframe.date":"Secure frame for expiration date","iframe.cvv":"Secure frame for CVV","iframe.card":"Secure frame for card"}},{}],29:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default={"iframe.number":"Marco de seguridad para el número de tarjeta","iframe.date":"Marco de seguridad para la fecha de expiración","iframe.cvv":"Marco de seguridad para el CVV","iframe.card":"Marco de seguridad para la tarjera"}},{}],30:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default={"iframe.number":"Turvafreim kaardinumbri jaoks","iframe.date":"Turvafreim aegumiskuupäeva jaoks","iframe.cvv":"Turvafreim CVV jaoks","iframe.card":"Turvafreim kaardi jaoks"}},{}],31:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default={"iframe.number":"Korttinumeron turvallinen kenttä","iframe.date":"Voimassaolon turvallinen kenttä","iframe.cvv":"CVV-koodin turvallinen kenttä","iframe.card":"Kortin turvallinen kenttä"}},{}],32:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default={"iframe.number":"Cadre sécurisé pour le numéro de carte","iframe.date":"Cadre sécurisé pour la date de validité","iframe.cvv":"Cadre sécurisé pour le code CVV","iframe.card":"Cadre sécurisé pour la carte"}},{}],33:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default={"iframe.number":"Siguran okvir za broj kartice","iframe.date":"Siguran okvir za datum isteka valjanosti","iframe.cvv":"Siguran okvir za CVV","iframe.card":"Siguran okvir za karticu"}},{}],34:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default={"iframe.number":"Biztonságos keret a kártyaszámhoz","iframe.date":"Biztonságos keret a lejárati dátumhoz","iframe.cvv":"Biztonságos keret a CVV-hez","iframe.card":"Biztonságos keret a kártyához"}},{}],35:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default={"iframe.number":"Cornice di sicurezza per il numero di carta","iframe.date":"Cornice di sicurezza per la data di scadenza","iframe.cvv":"Cornice di sicurezza per il n. CVV","iframe.card":"Cornice di sicurezza per la carta"}},{}],36:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default={"iframe.number":"Saugus kortelės numerio laukas","iframe.date":"Saugus galiojimo datos laukas","iframe.cvv":"Saugus CVV laukas","iframe.card":"Saugus kortelės laukas"}},{}],37:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default={"iframe.number":"Drošs kartes numura iframe","iframe.date":"Drošs derīguma termiņa iframe","iframe.cvv":"Drošs CVV iframe","iframe.card":"Drošs kartes iframe"}},{}],38:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default={"iframe.number":"Beveiligd kaartnummerveld","iframe.date":"Beveiligd vervaldatumveld","iframe.cvv":"Beveiligd CVV-code veld","iframe.card":"Beveiligd kaartveld"}},{}],39:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default={"iframe.number":"Bezpieczne pole do wprowadzania numeru karty","iframe.date":"Bezpieczne pole do wprowadzania ważności karty","iframe.cvv":"Bezpieczne pole do wprowadzania CVV","iframe.card":"Bezpieczne pole do wprowadzania danych karty"}},{}],40:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default={"iframe.number":"Quadro de segurança para número de cartão","iframe.date":"Quadro de segurança para data de validade","iframe.cvv":"Quadro de segurança para CVV","iframe.card":"Quadro de segurança para cartão"}},{}],41:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default={"iframe.number":"Cadru securizat pentru numărul cardului","iframe.date":"Cadru securizat pentru data expirării","iframe.cvv":"Cadru securizat pentru CVV","iframe.card":"Cadru securizat pentru card"}},{}],42:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default={"iframe.number":"Безопасное поле номера карты","iframe.date":"Безопасное поле срока действия","iframe.cvv":"Безопасное поле CVV-кода","iframe.card":"Безопасное поле карты"}},{}],43:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default={"iframe.number":"Bezpečné pole pre číslo karty","iframe.date":"Bezpečné pole pre dátum expirácie","iframe.cvv":"Bezpečné pole pre CVV","iframe.card":"Bezpečné pole pre karty"}},{}],44:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default={"iframe.number":"Varno okence za številko kartice","iframe.date":"Varno okence za datum poteka veljavnosti","iframe.cvv":"Varno okence za številko CVV","iframe.card":"Varno okence za kartico"}},{}],45:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default={"iframe.number":"Siguran okvir za broj kartice","iframe.date":"Siguran okvir za datum isticanja","iframe.cvv":"Siguran okvir za CVV","iframe.card":"Siguran okvir za karticu"}},{}],46:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default={"iframe.number":"Säker ruta för kortnummer","iframe.date":"Säker ruta för giltighetsdatum","iframe.cvv":"Säker ruta för CVV-kod","iframe.card":"Säker ruta för kort"}},{}],47:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default={"iframe.number":"Kart numarası için Secure Frame","iframe.date":"Son geçerlilik tarihi için Secure Frame","iframe.cvv":"CVV için Secure Frame","iframe.card":"Kart için Secure Frame"}},{}],48:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default={"iframe.number":"Безпечне поле номера карти","iframe.date":"Безпечне поле дати дії","iframe.cvv":"Безпечне поле коду CVV","iframe.card":"Безпечне поле карти"}},{}],49:[function(e,t,r){var n=function(e){return e&&e.__esModule?e:{default:e}},o=(Object.defineProperty(r,"__esModule",{value:!0}),r.formatMessage=void 0,n(e("./dictionary/dictionary")));r.formatMessage=function(e,t){return o.default[t]&&o.default[t][e]?o.default[t][e]:e}},{"./dictionary/dictionary":26}],50:[function(e,t,r){function a(e){return(e=e&&e.match(/refReqId=(\w*)/))?e[1]:""}var i=function(e,i,u,s){return new(u=u||Promise)(function(r,t){function n(e){try{a(s.next(e))}catch(e){t(e)}}function o(e){try{a(s.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?r(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(n,o)}a((s=s.apply(e,i||[])).next())})},u=function(n,o){var a,i,u,s={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(r){return function(e){var t=[r,e];if(a)throw new TypeError("Generator is already executing.");for(;s=c&&t[c=0]?0:s;)try{if(a=1,i&&(u=2&t[0]?i.return:t[0]?i.throw||((u=i.return)&&u.call(i),0):i.next)&&!(u=u.call(i,t[1])).done)return u;switch(i=0,(t=u?[2&t[0],u.value]:t)[0]){case 0:case 1:u=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,i=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(u=0<(u=s.trys).length&&u[u.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!u||t[1]>u[0]&&t[1]<u[3]))s.label=t[1];else if(6===t[0]&&s.label<u[1])s.label=u[1],u=t;else{if(!(u&&s.label<u[2])){u[2]&&s.ops.pop(),s.trys.pop();continue}s.label=u[2],s.ops.push(t)}}t=o.call(n,s)}catch(e){t=[6,e],i=0}finally{a=u=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},n=function(e){return e&&e.__esModule?e:{default:e}},s=(Object.defineProperty(r,"__esModule",{value:!0}),e("../util/ids")),c=n(e("../logger/logger")),l=n(e("../util/checkProtocolAndHostname")),f=n(e("./TokenTypes")),d=n(e("./secureForms/secure-forms"));r.default=function(r,e){var n,e=e.dev,o=(0,s.generateSid)(),t="file:"===document.location.protocol?"file":document.location.href;if(e&&console.warn("dev.integration.info [You used development mode. Please change before production deployment.]"),(0,c.default)(o,"PayU","INFO","initialized",{referrer:t}),(0,l.default)(o,e,"PayU"),r)return{secureForms:function(e){if(n)throw(0,c.default)(o,"PayU","WARN","secure.forms.already.exists"),new Error("secure.forms.already.exists");return n=(0,d.default)(o,e)},tokenize:function(t){return void 0===t&&(t=f.default.SINGLE),i(void 0,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:if(!n)throw new Error("secure.forms.not.exists");if(Object.values(f.default).includes(t))return[4,n.tokenize(r,t)];throw(0,c.default)(o,"PayU","ERROR","incorrect.token.type"),new Error("incorrect.token.type");case 1:return[2,e.sent()]}})})},sendCvv:function(t){return i(void 0,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:if(!n)throw new Error("secure.forms.not.exists");if(t)return[4,n.sendCvv(t)];throw(0,c.default)(o,"PayU","ERROR","refReqId.is.empty"),new Error("refReqId.is.empty");case 1:return[2,e.sent()]}})})},extractRefReqId:a};throw(0,c.default)(o,"PayU","ERROR","posid.is.empty"),new Error("posid.is.empty")}},{"../logger/logger":9,"../util/checkProtocolAndHostname":54,"../util/ids":58,"./TokenTypes":16,"./secureForms/secure-forms":53}],51:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.eventsConfig=void 0;var n={LOAD:"load",READY:"ready",REMOVE:"remove",FOCUS:"focus",BLUR:"blur",CHANGE:"change"},o={events:Object.values(n),publicEvents:[n.READY,n.FOCUS,n.BLUR,n.CHANGE]};r.eventsConfig=o,r.default=n},{}],52:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});r.default={CARD:"card",NUMBER:"number",DATE:"date",CVV:"cvv"}},{}],53:[function(e,t,r){var u=function(){return(u=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},n=function(e){return e&&e.__esModule?e:{default:e}},h=(Object.defineProperty(r,"__esModule",{value:!0}),n(e("../../logger/logger"))),o=n(e("../frames/RingFrame")),s=n(e("../frames/FormFrame")),c=n(e("../../util/normalizeOptions")),v=n(e("./events-config")),y=n(e("../../util/config")),g=n(e("./secure-form-types")),b=e("../../util/lang");r.default=function(l,a){function f(e,t){console.warn("Unknown frame: ".concat(e)),(0,h.default)(l,"SecureForms","WARN","frame-unknown",{action:t,frameId:e})}var e,t=0,d={},m={},i=null!=(e=null==a?void 0:a.fonts)?e:[],p=new o.default(l);window.addEventListener("message",function(e){var t,r=e.data,e=e.origin;if(String(e)===String(y.default.secureFormOrigin)){try{t=JSON.parse(r)}catch(e){return}var n,o,a=t.action,i=t.requestId,u=t.ringId,s=(t.sid,t.frameId),c=t.payload;if(u===p._getIframeName())switch(a){case"payu-ring-loaded":p.loaded=!0,p.events.fireEvent(v.default.LOAD),(0,h.default)(l,"SecureForms","INFO","ring-loaded",{ringId:u});break;case"payu-frame-loaded":m[s]?(m[s].loaded=!0,m[s].events.fireEvent(v.default.LOAD),m[s].events.fireEvent(v.default.READY),(0,h.default)(l,"SecureForms","INFO","frame-loaded",{frameId:s})):f(s,a);break;case"payu-on-focus":m[s]?m[s].events.fireEvent(v.default.FOCUS):f(s,a);break;case"payu-on-blur":m[s]?m[s].events.fireEvent(v.default.BLUR):f(s,a);break;case"payu-on-change":m[s]?m[s].events.fireEvent(v.default.CHANGE,c):f(s,a);break;case"payu-on-shift-tab":m[s]?(n=s,o=[],document.querySelectorAll('a, button, input, textarea, select, details, *[tabindex]:not([tabindex="-1"]), .payu-secure-form-iframe').forEach(function(e){e.hasAttribute("disabled")||o.push(e)}),o.forEach(function(e,t){e.getAttribute("name")===(null==(e=m[n]._iframe)?void 0:e.name)&&0<t&&o[t-1].focus()})):f(s,a);break;case"payu-tokenize-response":case"payu-send-cvv-response":i&&d[i]?d[i].resolve(c):(console.warn("Unknown requestId: ".concat(i)),(0,h.default)(l,"SecureForms","WARN","unknown-request-id",{action:a,ringId:u,requestId:i}))}}});return{add:function(t,e){void 0===t&&(t=g.default.CARD),void 0===e&&(e={});var r=p._getIframeName(),n=(0,b.getLang)((!e.lang&&null!=a&&a.lang?a:e).lang);if(-1===Object.values(g.default).indexOf(t))throw(0,h.default)(l,"SecureForms","ERROR","secure.form.incorrect.type",{type:t}),new Error("secure.form.incorrect.type");Object.keys(m).forEach(function(e){if(m[e].type===t)throw(0,h.default)(l,"SecureForms","ERROR","secure.form.exist.type",{type:t}),new Error('secure.form.exist.type [Form with type "'.concat(t,'" already exists]'));if(t!==g.default.CARD&&m[e].type===g.default.CARD||t===g.default.CARD&&m[e].type!==g.default.CARD)throw(0,h.default)(l,"SecureForms","ERROR","secure.form.exist.other.type",{type:t}),new Error('secure.form.exist.other.type [Form type "'.concat(t,'" not added, because form with type "').concat(m[e].type,' exists"]'))});var o=new s.default(l,u({ringId:r,type:t},(0,c.default)(u(u({},e),{fonts:i,lang:n}),t)),{title:e.frameTitle});return p._sendOrStore({ringId:r,action:"payu-frame-create",payload:{type:t,frameId:o._getIframeName()}}),o.events.addEvent(v.default.LOAD,function(){var e;(e=o)._onLoaded(),p._sendOrStore({ringId:p._getIframeName(),action:"payu-frame-loaded",payload:{frameId:e._getIframeName()}})}),o.events.addEvent(v.default.REMOVE,function(){var e;(e=o).loaded=!1,p._sendOrStore({ringId:p._getIframeName(),action:"payu-frame-remove",payload:{frameId:e._getIframeName()}})}),m[o._getIframeName()]=o},tokenize:function(r,n){var e,o;if(3===(e=Object.keys(m)).length&&e.every(function(e){return m[e].loaded})||1===e.length&&m[e[0]].type===g.default.CARD&&m[e[0]].loaded)return o="TOKENIZE_".concat(++t),new Promise(function(e,t){d[o]={resolve:e,reject:t},p._sendMessage({ringId:p._getIframeName(),action:"payu-tokenize",requestId:o,payload:{posId:r,tokenType:n}})});throw(0,h.default)(l,"SecureForms","WARN","payu-tokenize-not-possible",{ringId:p._getIframeName(),frames:Object.keys(m)}),new Error("tokenize.not.possible")},sendCvv:function(r){var e,n;if(1===(e=Object.keys(m)).length&&m[e[0]].type===g.default.CVV&&m[e[0]].loaded)return n="CVV_".concat(++t),new Promise(function(e,t){d[n]={resolve:e,reject:t},p._sendMessage({ringId:p._getIframeName(),action:"payu-send-cvv",requestId:n,payload:{refReqId:r}})});throw(0,h.default)(l,"SecureForms","WARN","payu-send-cvv-not-possible",{ringId:p._getIframeName(),frames:Object.keys(m)}),new Error("sendCvv.not.possible")}}}},{"../../logger/logger":9,"../../util/config":55,"../../util/lang":60,"../../util/normalizeOptions":61,"../frames/FormFrame":17,"../frames/RingFrame":19,"./events-config":51,"./secure-form-types":52}],54:[function(e,t,r){var n=function(e){return e&&e.__esModule?e:{default:e}},a=(Object.defineProperty(r,"__esModule",{value:!0}),n(e("../logger/logger")));r.default=function(e,t,r){var n=-1!==["https:","file:"].indexOf(window.location.protocol),o=-1!==["localhost","127.0.0.1","0.0.0.0"].indexOf(window.location.hostname);if(!n&&(console.warn("https.integration.info [You may test integration with PayU over HTTP. Production integration must use HTTPS.]"),!o&&!t))throw(0,a.default)(e,r,"ERROR",n="non.https.integration",void 0),new Error(n)}},{"../logger/logger":9}],55:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default={secureFormOrigin:"https://secure.payu.com",secureFormIframeUrl:"https://secure.payu.com/front/secure-form/form/",marketplaceDocumentIframeUrl:"https://secure.payu.com/front/secure-form/marketplace-document-form/",marketplaceRegulationsIframeUrl:"https://secure.payu.com/front/secure-form/marketplace-regulations-form/",ringIframeUrl:"https://secure.payu.com/front/secure-form/ring/",loggerUrl:"https://secure.payu.com/front/logger/"}},{}],56:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});r.default=function(e){if(!e)throw new Error("element.selector.empty");if("string"!=typeof e)throw new Error("element.selector.not.string");e=document.querySelectorAll(e);if(0===e.length)throw new Error("element.not.exists");if(1<e.length)throw new Error("element.too.many.exists");e=e[0];if(!e.appendChild||"INPUT"===e.nodeName)throw new Error("element.not.valid");if(e.children.length)throw new Error("element.contains.children");return e}},{}],57:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getFrameByName=void 0;r.getFrameByName=function(e){e=document.querySelectorAll("iframe[name='".concat(e,"']"));return 1===e.length?e[0].contentWindow:null}},{}],58:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.generateSid=void 0;var n="PayUf9MDTXOlFdW2cxBEbs3JirNw8Cjg0GvS4mY1ZtQeLHV6KoIp5qAuRhn7zk",o={getRandomValues:function(e){for(var t=[],r=0;r<e.length;r++)t.push(Math.random()*n.length|0);return e.set(t),e}};r.generateSid=function(e){void 0===e&&(e=21);for(var t="",r=((self.crypto||"msCrypt"in self||"webkitCrypto"in self||o).getRandomValues(new Uint8Array(e)));e--;)t+=n[r[e]&n.length-1];return t}},{}],59:[function(e,t,r){Object.values||(Object.values=function(t){return Object.keys(t).map(function(e){return t[e]})})},{}],60:[function(e,t,r){var n=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,a=t.length;o<a;o++)!n&&o in t||((n=n||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},o=(Object.defineProperty(r,"__esModule",{value:!0}),r.getLang=void 0,e("../payu/intl/dictionary/dictionary"));r.getLang=function(e){var t=n(n([],window.navigator.languages||[],!0),[window.navigator.language,o.defaultLanguage],!1);return e&&o.allowedLanguages.includes(e)&&t.unshift(e),t.filter(Boolean).map(function(e){return e.substring(0,2)}).filter(function(e,t,r){return o.allowedLanguages.includes(e)&&t===r.indexOf(e)})[0]}},{"../payu/intl/dictionary/dictionary":26}],61:[function(e,t,r){function n(e){return!!e&&"object"==typeof e&&(null==e?void 0:e.constructor)===Object}function o(t,r){t[r]&&n(t[r])||(t[r]={});try{JSON.stringify(t[r])}catch(e){t[r]={},console.warn("options.invalid.json [Invalid JSON with ".concat(r,"]"))}}var a=function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=function(e){return e&&e.__esModule?e:{default:e}},i=(Object.defineProperty(r,"__esModule",{value:!0}),i(e("../payu/secureForms/secure-form-types"))),u=((e={})[i.default.CARD]=["fonts","style","placeholder","label","disabled","lang","cardIcon"],e[i.default.NUMBER]=["fonts","style","placeholder","label","disabled","lang","cardIcon"],e[i.default.DATE]=["fonts","style","placeholder","label","disabled","lang"],e[i.default.CVV]=["fonts","style","placeholder","label","disabled","lang"],e);r.default=function(r,t){return n(r)||(r={}),o(r,"style"),o(r,"placeholder"),o(r,"label"),"boolean"!=typeof r.disabled&&delete r.disabled,"boolean"!=typeof r.cardIcon&&delete r.cardIcon,Object.keys(r).filter(function(e){return-1!==u[t].indexOf(e)}).reduce(function(e,t){return a(a({},e),((e={})[t]=r[t],e))},{})}},{"../payu/secureForms/secure-form-types":52}]},{},[8]);