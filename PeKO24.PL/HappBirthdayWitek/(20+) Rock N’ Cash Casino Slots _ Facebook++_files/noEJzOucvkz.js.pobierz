;/*FB_PKG_DELIM*/

__d("VirtualizationConfig",[],(function(a,b,c,d,e,f){"use strict";a={isVisible:!0,nodeHeight:null};b=4e3;c=0;d=!1;f.DEFAULT_INIT_RENDER_CONFIG=a;f.VERTICAL_HIDEABLE_MARGIN=b;f.HORIZONTAL_HIDEABLE_MARGIN=c;f.IS_INTERSECTION_MARGIN_SUPPORTED=d}),66);
__d("VirtualizationContainerContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||c("react");b=a.createContext();g["default"]=b}),98);
__d("useVirtualizationContext",["VirtualizationContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useContext,k=b.useMemo,l=b.useRef;function a(){var a=j(c("VirtualizationContext")),b=l(0),d=l(null);d.current==null&&(d.current=new Map());var e=i(function(a){var c,e=b.current++;(c=d.current)==null?void 0:c.set(e,a);return function(){var a;(a=d.current)==null?void 0:a["delete"](e)}},[]),f=i(function(){return d.current==null?!1:d.current.size>0},[]),g=l(null);g.current==null&&(g.current=new Map());var h=i(function(a,c){var d=b.current++,e=null,f=g.current;if(f!=null){var h;f.has(a)||f.set(a,new Map());e=f.get(a);(h=e)==null?void 0:h.set(d,c)}return function(){var b;(b=e)==null?void 0:b["delete"](d);((b=e)==null?void 0:b.size)===0&&(f==null?void 0:f["delete"](a))}},[]),m=i(function(a){var b;return(b=(b=g.current)==null?void 0:b.has(a))!=null?b:!1},[]),n=k(function(){var b;return(b=a)!=null?b:{createFlag:h,createPin:e,hasFlag:m,hasPin:f}},[a,e,h,m,f]);return n}g["default"]=a}),98);
__d("CometVirtualization.react",["BaseView.react","HiddenSubtreeContextProvider.react","HiddenSubtreePassiveContext","VirtualizationConfig","VirtualizationContainerContext","VirtualizationContext","gkx","intersectionObserverEntryIsIntersecting","justknobx","nullIntersectionObserverEntryLogger","react","stylex","unrecoverableViolation","useIntersectionObserver","useMergeRefs","usePrevious","useVirtualizationContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useContext,m=e.useEffect,n=e.useRef,o=e.useState,p=function(){var a=null;return function(){if(a===null){var b;b=(b=document)==null?void 0:b.documentElement;if(b==null)throw c("unrecoverableViolation")("Scroll anchoring feature detection called in an environment without a documentElement","comet_infra");a=b.style.overflowAnchor!=null}return a}}();function q(a){a===void 0&&(a=null);a=o(a);var b=a[0],c=a[1];m(function(){b===null&&c(function(){return p()})},[b]);return(a=b)!=null?a:!1}var r={invisible:{display:"x1s85apg",$$css:!0},resetBlockFormattingContext:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0}},s=c("justknobx")._("1003");function t(a){return typeof a.replace==="function"?a.replace(/\n/g," ").replace(/\s+/g," "):""}function a(){if(typeof IntersectionObserver!=="function")return!1;return typeof IntersectionObserver.toString!=="function"?!1:t(IntersectionObserver.toString()).endsWith("{ [native code] }")}var u=a();function b(a){var b,e,f=arguments,g,i,p,t=a.children,v=a.disableHiding,w=a.hiddenMode,x=w===void 0?"legacy":w,y=a.initialRenderConfig,z=y===void 0?d("VirtualizationConfig").DEFAULT_INIT_RENDER_CONFIG:y,A=a.leftRightMargin,B=A===void 0?d("VirtualizationConfig").HORIZONTAL_HIDEABLE_MARGIN:A,C=a.mountXStyle,D=a.pinChildrenOnInteraction,E=a.pinChildrenWithPlayer,F=a.scrollport,G=F===void 0?null:F,H=a.topBottomMargin,I=H===void 0?d("VirtualizationConfig").VERTICAL_HIDEABLE_MARGIN:H,J=a.unmountHiddenChildren,aa=a.unmountXStyle,K=a.xstyle,ba=n(null),L=n(null),ca=l(c("HiddenSubtreePassiveContext")),M=o(!1),da=M[0],ea=M[1],N=n(!0),O=o(z.isVisible),P=O[0],Q=O[1],R=o(z.nodeHeight),S=R[0],T=R[1],fa=c("usePrevious")(P),U=c("useVirtualizationContext")(),V=l(c("VirtualizationContainerContext")),ga=(b=C)!=null?b:K,ha=(e=aa)!=null?e:K;m(function(){N.current&&(N.current=!1)},[]);m(function(){var a=N.current||S==null&&!P;L.current!=null&&a&&T(L.current.getBoundingClientRect().height)},[P,S,fa]);var ia=function(b){c("nullIntersectionObserverEntryLogger")(b,"IntersectionObserverEntry is null. num_arguments="+f.length);var a=ca.getCurrentState().hiddenOrBackgrounded_FIXME;if(c("intersectionObserverEntryIsIntersecting")(b))T(null),Q(!0);else if(!a){b=(a=b==null?void 0:b.boundingClientRect)!=null?a:{};a=b.height;b=b.width;a>0&&b>0&&Q(!1)}},W={bottom:I,left:B,right:B,top:I},ja=k(function(){var a=G!=null?G==null?void 0:G():V==null?void 0:V.rootElementRef.current;return a instanceof Element?a:null},[G,V]),ka=c("useIntersectionObserver")(ia,{root:ja,rootMargin:W,scrollMargin:babelHelpers["extends"]({},W),threshold:0}),la=c("useMergeRefs")(ka,ba),ma=function(){if(!P&&S!==null&&J!==!1)return{minHeight:S}}(),X=!P&&S!==null,na=q((g=z.hasScrollAnchoring)!=null?g:null),oa=na?la:void 0;if(c("gkx")("22947"))return j.jsx("div",{className:"x78zum5 xdt5ytf",children:j.jsx(c("BaseView.react"),{children:t})});var Y=function(){D===!0&&ea(!0)},pa=((i=E)!=null?i:!1)&&U.hasFlag("HAS_PLAYER"),Z=u&&s&&J===!0&&X&&!da&&!U.hasPin()&&!pa,$=s&&!((p=v)!=null?p:!1)&&X&&x!=="none";return j.jsx(c("VirtualizationContext").Provider,{value:U,children:j.jsx("div",{className:(h||(h=c("stylex")))(r.resetBlockFormattingContext,Z?ha:ga),"data-testid":void 0,"data-virtualized":Z,onClickCapture:Y,onFocusCapture:Y,onKeyPressCapture:Y,ref:oa,style:ma,children:x==="legacy"?j.jsx(c("BaseView.react"),{hidden:$,ref:L,xstyle:$&&r.invisible,children:Z?null:j.jsx(c("HiddenSubtreeContextProvider.react"),{isHidden:$,children:t})}):j.jsx("div",{ref:L,children:Z?null:t})})})}b.displayName=b.name+" [from "+f.id+"]";g["default"]=b}),98);
__d("VirtualizationExperimentConfig",[],(function(a,b,c,d,e,f){"use strict";a=4e3;b=!0;c=!1;d=!1;e={polaris_feed_story_tray_item:{hiding_disabled:!1,pin_children_on_interaction:!0,surface_enabled:!0}};var g={comet_feed_unit_card:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:4e3,surface_enabled:!0},marketplace_item:{surface_enabled:!1}},h={comet_feed_unit_card:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!0,root_margin_top_bottom:500,surface_enabled:!0},comet_profile_photos:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:1e3,surface_enabled:!0},comet_tofu_stories_container:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:1e3,surface_enabled:!0},comet_watch_tab:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:4e3,surface_enabled:!0},marketplace_item:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:1e3,surface_enabled:!0},thread_list:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:500,surface_enabled:!0},thread_view:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:500,surface_enabled:!0}};f.DEFAULT_TOP_BOTTOM_MARGIN=a;f.DEFAULT_PIN_CHILDREN_ON_INTERACTION=b;f.DEFAULT_PIN_CHILDREN_WITH_PLAYER=c;f.DEFAULT_DISABLE_HIDING=d;f.ROLLOUT_CONFIG=e;f.GK_HOLDOUT_CONFIG=g;f.GK_ROLLOUT_CONFIG=h}),66);
__d("VirtualizationExperimentSettings",["VirtualizationExperimentConfig","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("gkx")("2548"),j=c("gkx")("221");function k(a){if(Object.prototype.hasOwnProperty.call(d("VirtualizationExperimentConfig").ROLLOUT_CONFIG,a))return d("VirtualizationExperimentConfig").ROLLOUT_CONFIG;else if(i&&Object.prototype.hasOwnProperty.call(d("VirtualizationExperimentConfig").GK_HOLDOUT_CONFIG,a))return d("VirtualizationExperimentConfig").GK_HOLDOUT_CONFIG;else if(j&&Object.prototype.hasOwnProperty.call(d("VirtualizationExperimentConfig").GK_ROLLOUT_CONFIG,a))return d("VirtualizationExperimentConfig").GK_ROLLOUT_CONFIG;return null}var l=function(a){var b=k(a);return b==null?void 0:b[a]},m=new Set(((h=c("qex")._("641"))!=null?h:"").split(",").map(function(a){return a.trim()}));function a(a){var b=new Map();return function(c){if(b.has(c))return b.get(c);var d=a(c);b.set(c,d);return d}}function b(a){if(m.has(a))return!0;a=l(a);return(a=a==null?void 0:a.surface_enabled)!=null?a:!1}h=a(b);function e(a){var b=new Map();a.split(",").forEach(function(a){a=a.trim();a=a.split(":");var c=a[0];a=a[1];c=(c=c==null?void 0:c.trim())!=null?c:"";a=parseInt((a=a==null?void 0:a.trim())!=null?a:"",10);c.length>0&&!Number.isNaN(a)&&b.set(c,a)});return b}var n=e((b=c("qex")._("628"))!=null?b:"");function f(a){if(m.has(a)){var b;return(b=n.get(a))!=null?b:d("VirtualizationExperimentConfig").DEFAULT_TOP_BOTTOM_MARGIN}b=l(a);return(a=b==null?void 0:b.root_margin_top_bottom)!=null?a:d("VirtualizationExperimentConfig").DEFAULT_TOP_BOTTOM_MARGIN}e=a(f);var o=new Set(((b=c("qex")._("642"))!=null?b:"all").split(",")),p=new Set();function q(a){if(p.has(a))return;(o.has("all")||o.has(a))&&c("qex")._("692");p.add(a)}var r=(f=c("qex")._("648"))!=null?f:d("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_ON_INTERACTION;function s(a){if(m.has(a)){var b;return(b=r)!=null?b:!0}b=l(a);return(a=b==null?void 0:b.pin_children_on_interaction)!=null?a:!0}b=a(s);s=(f=c("qex")._("339"))!=null?f:"default";var t=s==="disable"?!0:s==="enable"?!1:null;function u(a){if(m.has(a)){var b;return(b=t)!=null?b:d("VirtualizationExperimentConfig").DEFAULT_DISABLE_HIDING}b=l(a);return(a=b==null?void 0:b.hiding_disabled)!=null?a:d("VirtualizationExperimentConfig").DEFAULT_DISABLE_HIDING}f=a(u);var v=(s=c("qex")._("885"))!=null?s:d("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_WITH_PLAYER;function w(a){if(m.has(a)){var b;return(b=v)!=null?b:d("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_WITH_PLAYER}b=l(a);return(a=b==null?void 0:b.pin_children_with_player)!=null?a:d("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_WITH_PLAYER}u=a(w);g.isSurfaceEnabled=h;g.getTopBottomMargin=e;g.logQEExposureOnceWhenNecessary=q;g.getPinChildrenOnInteration=b;g.isHidingDisabled=f;g.getPinChildrenWithPlayer=u}),98);
__d("CometHideableComponentExperiment.react",["CometVirtualization.react","VirtualizationExperimentSettings","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=a.callingSurface,e=a.children,f=a.disableHiding,g=a.mountXStyle,h=a.scrollport;h=h===void 0?null:h;var k=a.topBottomMarginOverride,l=a.unmountXStyle;a=a.xstyle;var m=d("VirtualizationExperimentSettings").isSurfaceEnabled(b);f=(f=f)!=null?f:d("VirtualizationExperimentSettings").isHidingDisabled(b)||!m;j(function(){return d("VirtualizationExperimentSettings").logQEExposureOnceWhenNecessary(b)},[b]);return i.jsx(c("CometVirtualization.react"),{disableHiding:f,mountXStyle:g,pinChildrenOnInteraction:m&&d("VirtualizationExperimentSettings").getPinChildrenOnInteration(b),pinChildrenWithPlayer:d("VirtualizationExperimentSettings").getPinChildrenWithPlayer(b),scrollport:h,topBottomMargin:k!=null&&k>=0?k:d("VirtualizationExperimentSettings").getTopBottomMargin(b),unmountHiddenChildren:m,unmountXStyle:l,xstyle:a,children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDSFormComboboxMenuItem.react",["ix","FDSIcon.react","FDSMenuItemBase.react","FDSMenuItemIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useMemo;function a(a){var b=a.auxItemType,e=a.icon,f=a.iconType,g=a.isSelected;a=babelHelpers.objectWithoutPropertiesLoose(a,["auxItemType","icon","iconType","isSelected"]);var i=k(function(){var a=null;g&&(a=j.jsx(c("FDSIcon.react"),{color:"highlight",icon:d("fbicon")._(h("477820"),20)}));if(b!=null)switch(b){case"radio":a=g?j.jsx(c("FDSIcon.react"),{color:"highlight",icon:d("fbicon")._(h("621400"),24)}):j.jsx(c("FDSIcon.react"),{color:"primary",icon:d("fbicon")._(h("545519"),24)});break}return a},[b,g]);return j.jsx(c("FDSMenuItemBase.react"),babelHelpers["extends"]({},a,{"aria-selected":g,aux:i,iconNode:e!=null?j.jsx(c("FDSMenuItemIcon.react"),{icon:e,use:f==="profile-picture"?"contained":"contained_small_icon"}):null,role:"option"}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometSelectMenuTrigger.react",["fbt","BaseContextualLayer.react","CometComponentWithKeyCommands.react","CometKeys","FDSFormComboboxMenuItem.react","FDSMenu.react","FocusInertRegion.react","FocusWithinHandler.react","clearTimeout","focusScopeQueries","react","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useEffect,m=b.useId,n=b.useMemo,o=b.useRef,p=b.useState,q=1e3,r={hideOutline:{outline:"x1a2a7pz",$$css:!0}};function s(a,b){return a+"__"+(b!=null?b:"0")}function a(a){var b=a.children,e=a.disabled;e=e===void 0?!1:e;var f=a.dropdownAccessibleLabelProps,g=a.header,i=a.onChange,t=a.options,u=a.selectedValue,v=a.size;v=v===void 0?"normal":v;var w=a.truncate;w=w===void 0?!0:w;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","disabled","dropdownAccessibleLabelProps","header","onChange","options","selectedValue","size","truncate"]);var x=p(!1),y=x[0],z=x[1],A=y&&t.length>0,B=m();x=m();y=m();var C=p(-1),D=C[0],E=C[1],F=o(null),G=k(function(){return z(!0)},[]),H=k(function(){E(-1),z(!1)},[]);C=k(function(a){a||H()},[H]);var I=t.filter(function(a){return!a.disabled}),J=t.findIndex(function(a){return a.value===u}),K=k(function(){A?(D!==-1&&i(t[D].value),H()):(E(J),G())},[D,A,i,H,G,t,J]),L=n(function(){return[{command:{key:c("CometKeys").ENTER},description:h._(/*BTDS*/"__JHASH__D7rrH0P9cXN__JHASH__"),handler:function(){},triggerOnKeyUp:!0}].concat(A?[{command:{key:c("CometKeys").ESCAPE},description:h._(/*BTDS*/"__JHASH__acp59sWhd5p__JHASH__"),handler:function(){A&&H()}}]:[],[{command:{key:c("CometKeys").DOWN},description:h._(/*BTDS*/"__JHASH__nRXxFwHPK-w__JHASH__"),handler:function(){I.length>0&&(D===-1?E(J!==-1?J:0):D===I.length-1?E(0):E(D+1),G())}},{command:{key:c("CometKeys").UP},description:h._(/*BTDS*/"__JHASH__lOq5ArcE24S__JHASH__"),handler:function(){I.length>0&&(D===-1?E(J!==-1?J:I.length-1):D===0?E(I.length-1):E(D-1),G())}},{command:{alt:!0,key:c("CometKeys").DOWN},description:h._(/*BTDS*/"__JHASH__mRSLnvBXjaQ__JHASH__"),handler:G},{command:{alt:!0,key:c("CometKeys").UP},description:h._(/*BTDS*/"__JHASH__JOM78hCmfWT__JHASH__"),handler:H},{command:{key:c("CometKeys").HOME},description:h._(/*BTDS*/"__JHASH__5a8jlc__RcE__JHASH__"),handler:function(){A&&E(0)}},{command:{key:c("CometKeys").END},description:h._(/*BTDS*/"__JHASH__S0D21bIqazs__JHASH__"),handler:function(){A&&E(I.length-1)}}])},[A,G,H,I.length,D,J]),M=o(null),N=o(""),O=k(function(a){if(N.current===""&&(a.code==="Backspace"||a.code==="Clear"||a.key===" "))return;if(!(a.key.length===1||a.code==="Backspace"||a.code==="Clear")||a.altKey||a.ctrlKey||a.metaKey)return;a.code==="Backspace"||a.code==="Clear"?N.current=N.current.substring(0,N.current.length-1):N.current+=a.key.toLocaleLowerCase();a.preventDefault();M.current!=null&&c("clearTimeout")(M.current);M.current=c("setTimeout")(function(){N.current="",M.current=null},q);a=D===-1?0:D;for(var b=0;b<I.length;b++){var d=(b+a)%I.length,e=I[d];if(e.label.toString().toLocaleLowerCase().startsWith(N.current)){A||G();E(d);return}}},[D,I,A,G]);l(function(){var a=F.current;if(a!=null){a.addEventListener("keydown",O);return function(){a.removeEventListener("keydown",O)}}},[O]);return j.jsx(c("FocusWithinHandler.react"),{onFocusChange:C,children:j.jsxs(c("CometComponentWithKeyCommands.react"),{commandConfigs:L,children:[b(F,{"aria-activedescendant":A&&D!==-1?s(B,D):void 0,"aria-controls":A?x:void 0,"aria-expanded":A,disabled:e,id:y,onPress:K,role:"combobox",xstyle:[D!==-1&&r.hideOutline]},A),A&&j.jsx(c("BaseContextualLayer.react"),babelHelpers["extends"]({},a,{contextRef:F,children:j.jsx(c("FocusInertRegion.react"),{focusQuery:d("focusScopeQueries").tabbableScopeQuery,children:j.jsx(c("FDSMenu.react"),babelHelpers["extends"]({},f,{header:g,id:x,role:"listbox",size:v,truncate:w,children:t.map(function(a,b){return j.jsx(c("FDSFormComboboxMenuItem.react"),{"aria-disabled":a.disabled,"aria-posinset":b,"aria-selected":a.value===u,"aria-setsize":t.length,bodyColor:a.bodyColor,bodyText:a.bodyText,disabled:a.disabled,icon:a.icon,id:s(B,b),isSelected:a.value===u,onClick:function(){i(a.value),H()},preventClosingMenuOnSelect:!0,primaryText:a.label,role:"option",secondaryColor:a.secondaryColor,secondaryText:a.secondaryText,testid:void 0,visuallyFocused:b===D},a.value)})}))})}))]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("FDSProgressButtonIndeterminate.react",["FDSButton.react","FDSProgressRingIndeterminate.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("FDSButton.react"),babelHelpers["extends"]({},a,{addOnPrimary:i.jsx(c("FDSProgressRingIndeterminate.react"),{color:"disabled_DEPRECATED",size:16}),disabled:!0}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);