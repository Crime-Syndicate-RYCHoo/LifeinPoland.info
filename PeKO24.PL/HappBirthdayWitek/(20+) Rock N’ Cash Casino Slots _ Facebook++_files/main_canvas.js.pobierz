function get_browser_info(){var e=navigator.userAgent.match(/Trident\/(\d)/i);if(null!==e)return{name:"IE ",version:e[1]||"0"};var n,t=navigator.userAgent,o=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(o[1]))return n=/\brv[ :]+(\d+)/g.exec(t)||[],{name:"IE ",version:n[1]||"0"};if("Chrome"===o[1]){if(n=t.match(/\bOPR\/(\d+)/),null!=n)return{name:"Opera",version:n[1]};if(n=t.match(/\bEdge\/(\d+)/),null!=n)return{name:"Edge",version:n[1]}}return o=o[2]?[o[1],o[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(n=t.match(/version\/(\d+)/i))&&o.splice(1,1,n[1]),{name:o[0],version:o[1]}}var InitProcess=InitProcess||{},PostInitProcess=PostInitProcess||{},SERVER_CONFIG=SERVER_CONFIG||{};SERVER_CONFIG.GATE_HOST="",SERVER_CONFIG.GATE_PORT=0,SERVER_CONFIG.SCRIPT_BASEURL="";var DEFAULT_CANVAS_DESIGN_WIDTH=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--canvas_design_width")),DEFAULT_CANVAS_DESIGN_HEIGHT=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--canvas_design_height")),CANVAS_MIN_WIDTH=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--canvas_min_width")),CANVAS_MAX_WIDTH=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--canvas_max_width")),CANVAS_HORIZONTAL_PADDING=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--canvas_horizontal_padding")),CANVAS_VERTICAL_PADDING=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--canvas_vertical_padding")),FB_CANVAS_TOP_SCROLL_AMOUNT=50,CANVAS_SETTING_FIXED_FRAME_HEIGHT=!1,g_loopLoadingID=0;InitProcess.FBLoadingStep={LOAD_JS:{START:0,END:10},LOAD_INNATE:{START:10,END:90},NETCONNECT:{START:90,END:100},startFBLoading:function(){},setLoadingProgress:function(e,n){var t=e.END-e.START,o=t*n/100,r=e.START+o;r>e.END&&(r=e.END);var i=Math.round(r);cc&&cc.log("FBLoading =>  "+i+"%")},endFBLoading:function(){}};var browser=get_browser_info(),rnc=rnc||{};rnc.engine={config:null,resizeTO:null,_waitResizeEnd:function(){null!==window.resizeTO&&clearTimeout(window.resizeTO),window.resizeTO=setTimeout(function(){cc.view._resizeEvent()},300)},pause:function(e,n){e.scheduler.pauseTarget(e),e.actionManager&&e.actionManager.pauseTarget(e),cc.eventManager.pauseTarget(e,n)},resume:function(e,n){e.scheduler.resumeTarget(e),e.actionManager&&e.actionManager.resumeTarget(e),cc.eventManager.resumeTarget(e,n)},isLocalHost:function(){return"localhost"===window.location.hostname},arrLoadedJSName:[],isJSNameLoaded:function(e){return rnc.engine.arrLoadedJSName.indexOf(e)>=0},addLoadedJSName:function(e){rnc.engine.arrLoadedJSName.push(e)},restartProcess:function(){},openGet:function(e,n,t){var o=new window.XMLHttpRequest,r="load "+e+" failed!";o.open("GET",e,!0),t===!0&&(o.setRequestHeader("Cache-Control","no-cache, no-store, must-revalidate"),o.setRequestHeader("Pragma","no-cache"));var i=function(){o.removeEventListener("load",i),o.removeEventListener("error",a),o._timeoutId>=0?clearTimeout(o._timeoutId):o.removeEventListener("timeout",s),4===o.readyState&&(200===o.status||0===o.status?n(null,o.responseText):n(new Error(r),null))},a=function(){o.removeEventListener("load",i),o.removeEventListener("error",a),o._timeoutId>=0?clearTimeout(o._timeoutId):o.removeEventListener("timeout",s),n(new Error(r),null)},s=function(){o.removeEventListener("load",i),o.removeEventListener("error",a),o._timeoutId>=0?clearTimeout(o._timeoutId):o.removeEventListener("timeout",s),n(new Error(r),null)};o.addEventListener("load",i),o.addEventListener("error",a),void 0===o.ontimeout?o._timeoutId=setTimeout(function(){s()},o.timeout):o.addEventListener("timeout",s),o.send(null)},joinPath:function(){for(var e=arguments.length,n="",t=0;t<e;t++)n=(n+(""===n?"":"/")+arguments[t]).replace(/(\/|\\\\)$/,"");return n},getDeepLinkParam:function(e){var n=this.getQueryString();if(null!=n)for(var t=n.split("&"),o=0;o<t.length;++o){var r=t[o].split("=",2);if(2===r.length&&r[0]===e)return decodeURIComponent(r[1].replace(/\+/g," "))}return null},getQueryString:function(){var e=document.location.href,n=e.split("?");return n.length<=1?null:n[1]}},InitProcess.loadJavaScript=function(e,n){return new Promise(function(t,o){var r=document,i=document.createElement("script");i.async=n,i.src=e,i.addEventListener("load",function(){i.parentNode.removeChild(i),this.removeEventListener("load",arguments.callee,!1),t()},!1),i.addEventListener("error",function(){i.parentNode.removeChild(i),o(new Error("Load "+e+" failed!"))},!1),r.body.appendChild(i)})},InitProcess.bootEngine=function(){if(console.log(">>>>>>>>>>>>>>> InitProcess.bootEngine"),rnc.engine.isLocalHost())return InitProcess.loadJavaScript("./frameworks/cocos2d-html5/CCBoot.js",!0);var e=rnc.engine.joinPath(SERVER_CONFIG.SCRIPT_BASEURL,"game.min.js")+"?v="+SERVER_CONFIG.versionID;return InitProcess.loadJavaScript(e,!0)},InitProcess.runInstantEngine_local=function(){return new Promise(function(e,n){return rnc.engine.isLocalHost()?(cc.log(">>>>>>>>>>>>>>> InitProcess.runInstantEngine_local"),void cc.loader.loadJson("./frameworks/cocos2d-instant/project.json",function(t,o){if(t)n(t);else if(null==o.jsList)n(new Error("initInstantEngine:no jsList"));else{for(var r=[],i=0;i<o.jsList.length;i++)r.push(InitProcess.loadJavaScript("./frameworks/cocos2d-instant/"+o.jsList[i],!0));Promise.all(r).then(function(){e()}).catch(function(e){console.error(e),n(e)})}})):e()})};var g_soundResume=!1;InitProcess.overrideWindow=function(){return new Promise(function(e,n){console.log(">>>>>>>>>>>>>>> InitProcess.overrideWindow"),window.resizeTO=null,window.onbeforeunload=function(e){e=e||window.event,e.preventDefault=!0,e.cancelBubble=!0,ga("send","event","exit","exit","Exit")},window.onerror=function(e,n,t,o,r){if(""!==n&&null!==n&&!(0===t&&0===o||e.indexOf("The operation is insecure")>=0)){var i=o?"\ncolumn: "+o:"";i+=r?"\nerror: "+r:"";var a="";"undefined"!=typeof browser&&browser&&(a=browser.name+", version: "+browser.version);var s=0;try{"undefined"!=typeof RockN&&RockN&&RockN.Player&&(s=RockN.Player.playerID)}catch(e){s=0}var c,l="CANVAS";c=cc.game.config[cc.game.CONFIG_KEY.developmentMode]?"https://test.rockncash.com:8001/webErrorLog":"https://aflog.rockncash.com/webErrorLog";var u;u=r?r.stack?r.stack:r:i;var d=function(e,n){if(window.XMLHttpRequest){var t=new FormData;for(var o in n)t.append(o,n[o]);var r=new window.XMLHttpRequest;r.open("POST",e,!0),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.setRequestHeader("Cache-Control","no-cache, must-revalidate"),r.setRequestHeader("Pragma","no-cache"),r.send(t)}},g="Error: "+e+"\nBrowser: "+a+"\nurl: "+n+"\nline: "+t+"\ncol: "+o+"\n"+u+"\n"+l;d(c,{playerID:s,url:n,line:t,col:o,error_msg:e,extra:u,os:l,browser:browser.name,version:browser.version,platform:"instant"}),console.error(g)}},window.isNetworkOffLine=!1,window.onbeforeunload=function(){"undefined"!=typeof RockN&&RockN&&RockN.NET&&RockN.NET.disconnect()},window.onclick=function(e){g_soundResume||cc.Audio._context&&(cc.Audio._context.resume(),g_soundResume=!0)},cc.game.end=function(){},e()})},InitProcess.runCocosEngine=function(){return new Promise(function(e,n){cc.log(">>>>>>>>>>>>>>> InitProcess.runCocosEngine"),cc.game._loadConfig(function(){return null===cc.game.config?(cc.error("!! config file load error"),n(new Error("cannot load cc.game.config"))):(cc.game.CONFIG_KEY.developmentMode="developmentMode",cc.game.CONFIG_KEY.versionID="versionID",void cc.game.run(cc.game.config,e))},null)})},InitProcess.onAfterInitEngine=function(){return new Promise(function(e,n){cc.log(">>>>>>>>>>>>>>> InitProcess.onAfterInitEngine"),cocosEngineOverideAfterInit(),cc.loader.addDomainShardBasePath(SERVER_CONFIG.ASSET_BASE_URL),cc.loader.resPath=SERVER_CONFIG.ASSET_BASE_URL;var t=navigator&&navigator.userAgent&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);t?null!=cc.instant.COMP_IMAGE_TYPE&&(cc.instant.targeCompImageType=cc.instant.COMP_IMAGE_TYPE.WEBP_LOW):(cc.instant.setClippingNodeRenderType(cc.instant.ClippingNodeRenderType.INTEL_GPU_BYPASS),null!=cc.instant.COMP_IMAGE_TYPE&&(cc.instant.targeCompImageType=cc.instant.COMP_IMAGE_TYPE.NONE)),null!=cc.instant.Loader.checkWebPAvailable&&cc.instant.Loader.checkWebPAvailable(function(e){e||(cc.instant.targeCompImageType=cc.instant.COMP_IMAGE_TYPE.PNG_LOSSY)}),window.facebook={inGameFriends:[],invitableFriends:[],receiveInGameFriend:!1,receiveInviteFriend:!1,me:null,AppRequest:{}};var o=rnc.engine.getDeepLinkParam("gatehost");null!=o&&(SERVER_CONFIG.GATE_HOST=o);var r=rnc.engine.getDeepLinkParam("gateport");null!=r&&(SERVER_CONFIG.GATE_PORT=r),e()})},InitProcess.handleExternalButtonsOnWebPage=function(){return new Promise(function(e,n){cc.log(">>>>>>>>>>>>>>> InitProcess.handleExternalButtonsOnWebPage");var t=document.querySelector(".canvascontainer"),o=document.querySelector(".fullscreenbutton");null!=o&&(o.style.display="inline",o.addEventListener("click",function(e){e.preventDefault();var n=null;cc.screen.requestFullScreen(t,function(e){var t=cc.screen.fullScreen();t===!1?(RockN.Platform.setFocusGame(),FB.Canvas.setSize(),n&&n.getParent()&&n.removeFromParent(!0)):null==RockN.STORAGE.getItem("FULLSCREEN_TOOLTIP")&&(n=new FullScreenTooltip(4,function(){n&&n.isClosedByExitBtn()&&RockN.STORAGE.setItem("FULLSCREEN_TOOLTIP",!0),n=null}),RockN.GameScene&&RockN.GameScene.addChild(n,RockN.GLOBAL_ORDER.SYSTEM_MESSAGE))})}));var r=RockN.STORAGE.getItem("webSound");if(null!=r){var i="false"===r;RockN.STORAGE.removeItem("webSound"),RockN.STORAGE.setItem("VOLUME_PAUSE",i)}var a=document.querySelector(".soundswitch"),s=document.querySelector(".soundswitchon"),c=document.querySelector(".soundswitchoff"),l=function(e){if(s&&c){var n=cc.sys.localStorage.getItem("VOLUME_PAUSE");"true"===n?(s.style.display="none",c.style.display=""):(s.style.display="",c.style.display="none")}};a&&a.addEventListener("click",function(e){e.preventDefault(),"none"===s.style.display?(SoundControl.getInstance().resumeControl(),LogHandler.getInst().sendButtonEventLogToServer(LogHandler.BUTTON_EVENT.SOUND,1)):(SoundControl.getInstance().pauseControl(),SoundControl.getInstance().stopAllEffect(),LogHandler.getInst().sendButtonEventLogToServer(LogHandler.BUTTON_EVENT.SOUND,0)),cc.eventManager.dispatchCustomEvent(EVT.COMMON.SWITCH_SOUND)}),cc.eventManager.addCustomListener(EVT.COMMON.SWITCH_SOUND,function(){l()}),l(),e()})},InitProcess.loadProjectCommon_local=function(){return new Promise(function(e,n){cc.log(">>>>>>>>>>>>>>> InitProcess.loadProjectCommon_local"),rnc.engine.isLocalHost()?cc.loader.loadTxt("project_common.json",function(t,o){t?n(t):(cc.game.config_common=JSON.parse(o),e())}):e()})},InitProcess.loadJSScript=function(){return new Promise(function(e,n){if(cc.log(">>>>>>>>>>>>>>> InitProcess.loadJSScript"),rnc.engine.isLocalHost()){var t=cc.game.config[cc.game.CONFIG_KEY.jsList];if(t){for(var o=0;o<t.length;o++)t[o]=t[o].replaceAll("{platformid}","canvas");cc.loader.loadJsWithImg(t,function(t){t?n(t):e()})}else e()}else{InitProcess.FBLoadingStep.setLoadingProgress(InitProcess.FBLoadingStep.LOAD_JS,0);var r=cc.path.join(SERVER_CONFIG.SCRIPT_BASEURL,"compiled_canvas.js");cc.loader.loadJsWithImg([r],function(t){t?n(new Error("compiled_canvas.js cannot be loaded.")):(InitProcess.FBLoadingStep.setLoadingProgress(InitProcess.FBLoadingStep.LOAD_JS,100),e())})}})},InitProcess.loadJSScriptD=function(){return new Promise(function(e,n){if(!CONFIG.DEBUG_SLOT)return e();var t=[];t.push(WebBaseLoader.loadCommonSourcePromise("jsDevList","DebugScript")),"notch"===rnc.engine.getDeepLinkParam("res")&&t.push(WebBaseLoader.loadCommonSourcePromise("jsDevList","NotchViewScript")),Promise.all(t).then(function(){e()}).catch(function(n){e()})})},InitProcess.FBInit=function(){return new Promise(function(e,n){cc.log(">>>>>>>>>>>>>>> InitProcess.FBInit");try{FB.init({appId:SERVER_CONFIG.FB_ID,version:SERVER_CONFIG.FB_GRAPH_API_VER,cookie:!0,xfbml:!0,frictionlessRequests:!0})}catch(e){return n(new Error("Failed to initialize FB SDK."))}RockN.Platform.setFocusGame(),CANVAS_SETTING_FIXED_FRAME_HEIGHT!==!0&&window.dispatchEvent(new Event("resize")),e()})},InitProcess.FBGetLoginStatus=function(){return new Promise(function(e,n){var t=setTimeout(function(){e()},1e4);FB.getLoginStatus(function(n){null!==t&&(clearTimeout(t),t=null),cc.log("[main] statusChangeCallback: "+JSON.stringify(n)),window.facebook.status=n.status,window.facebook.authResponse=n.authResponse,CANVAS_SETTING_FIXED_FRAME_HEIGHT&&null!=window.screen.height&&FB.Canvas.setSize({height:window.screen.height}),e()})})},InitProcess.InitializeAsync=function(){return new Promise(function(e,n){console.log(">>>>>>>>>>>>>>> InitProcess.InitializeAsync");var t=rnc.engine.getDeepLinkParam("res");"pad"===t?(DEFAULT_CANVAS_DESIGN_WIDTH=854,DEFAULT_CANVAS_DESIGN_HEIGHT=640):"mobile"===t?(DEFAULT_CANVAS_DESIGN_WIDTH=1080,DEFAULT_CANVAS_DESIGN_HEIGHT=610):"notch"===t&&(DEFAULT_CANVAS_DESIGN_WIDTH=1320,DEFAULT_CANVAS_DESIGN_HEIGHT=610);var o=document.querySelector(".canvascontainer"),r=document.querySelector("#gameCanvas"),i=document.querySelector("#loadingCanvas"),a=document.querySelector("#header");r.width=i.width=DEFAULT_CANVAS_DESIGN_WIDTH,r.height=i.height=DEFAULT_CANVAS_DESIGN_HEIGHT,r.style.width=i.style.width=DEFAULT_CANVAS_DESIGN_WIDTH+"px",r.style.height=i.style.height=DEFAULT_CANVAS_DESIGN_HEIGHT+"px",r.style.display="none",i.style.display="block";var s=document.querySelector(".header_left"),c=document.querySelector(".header_right"),l={justifyContent:a.style.justifyContent,alignItems:a.style.alignItems},u=function(){var e=document.documentElement.clientWidth||window.innerWidth,n=document.documentElement.clientHeight||window.innerHeight,t=DEFAULT_CANVAS_DESIGN_HEIGHT/DEFAULT_CANVAS_DESIGN_WIDTH,u=e-CANVAS_HORIZONTAL_PADDING,d=u*t,g=n-CANVAS_VERTICAL_PADDING,m=CANVAS_MAX_WIDTH*DEFAULT_CANVAS_DESIGN_HEIGHT/DEFAULT_CANVAS_DESIGN_WIDTH,I=Math.min(g,m),E=CANVAS_MIN_WIDTH*DEFAULT_CANVAS_DESIGN_HEIGHT/DEFAULT_CANVAS_DESIGN_WIDTH;null!=window.screen.height&&(I=Math.min(I,(window.screen.availHeight||window.screen.height)-120)),d>I&&(d=I,u=d/t),d<E&&(d=E,u=d/t),o.style.width=u+"px",o.style.height=d+"px",a.style.width=u+"px",r.style.width=u+"px",r.style.height=d+"px",i&&(i.style.width=u+"px",i.style.height=d+"px"),u>620?(a.style.justifyContent=l.justifyContent,a.style.alignItems=l.alignItems,s.style.display="flex",c.style.display="flex"):(a.style.justifyContent="center",a.style.alignItems="center",s.style.display="none",c.style.display="none")},d=function(){u();var e=!1;"undefined"!=typeof cc&&(e=cc.screen.fullScreen()),e===!1&&CANVAS_SETTING_FIXED_FRAME_HEIGHT!==!0&&(InitProcess.FBCanvsFrameResizeTimerID>0&&clearTimeout(InitProcess.FBCanvsFrameResizeTimerID),InitProcess.FBCanvsFrameResizeTimerID=setTimeout(function(){FB.Canvas.setSize({height:window.outerHeight-InitProcess.FBFrameHeightDiff+FB_CANVAS_TOP_SCROLL_AMOUNT}),setTimeout(u,200),InitProcess.FBCanvsFrameResizeTimerID=0},100))};window.addEventListener("resize",d),d(),InitProcess.FBFrameHeightDiff=window.outerHeight-window.innerHeight,e()})},InitProcess.handleExternalCrossPromoOnWebPage=function(){return new Promise(function(e,n){console.log(">>>>>>>>>>>>>>> InitProcess.handleExternalCrossPromoOnWebPage");var t=[document.querySelector(".crossPromoBtn_ios"),document.querySelector(".crossPromoBtn_aos")];t.forEach(function(e,n){e&&(e.addEventListener("mouseover",function(e){e.currentTarget.querySelector(".normal").style.display="none",e.currentTarget.querySelector(".over").style.display="inline"}),e.addEventListener("mouseout",function(e){e.currentTarget.querySelector(".normal").style.display="inline",e.currentTarget.querySelector(".over").style.display="none"}),e.addEventListener("click",function(e){switch(e.preventDefault(),n){case 0:window.open("https://app.appsflyer.com/id1143409775?pid=QR_Canvas_ios&c=Canvas","_blank","width=880, height=600");break;case 1:window.open("https://app.appsflyer.com/net.flysher.rockncash?pid=QR_Canvas_aos&c=Canvas","_blank","width=880, height=600")}}))});var o=document.querySelector(".header_left .crossPromo");if(o){var r=document.querySelector(".header_left .crossPromoRewardTooltip");o.addEventListener("mouseover",function(e){r.style.display="inline"}),o.addEventListener("mouseout",function(e){r.style.display="none"})}e()})},InitProcess.setResolution_canvas=function(){return new Promise(function(e,n){console.log(">>>>>>>>>>>>>>> InitProcess.setResolution_canvas");var t=new cc.ResolutionPolicy(cc.ContainerStrategy.PROPORTION_TO_FRAME,cc.ContentStrategy.EXACT_FIT);cc.view.adjustViewPort(!0),cc.view.setDesignResolutionSize(DEFAULT_CANVAS_DESIGN_WIDTH,DEFAULT_CANVAS_DESIGN_HEIGHT,t),cc.view.resizeWithBrowserSize(!0),cc.view.setResizeCallback(function(){"undefined"!=typeof RockN&&RockN.GameScene&&RockN.GameScene.onAfterResize&&RockN.GameScene.onAfterResize(),SingleGrayLayer.getInst().onResizeAfterCallback()});var o=DEFAULT_CANVAS_DESIGN_WIDTH/DEFAULT_CANVAS_DESIGN_HEIGHT;RockN.setResolutionRatioByRatio(o),e()})},InitProcess.removeInitialLoadingCircle=function(){return new Promise(function(e,n){console.log(">>>>>>>>>>>>>>> InitProcess.removeInitialLoadingCircle");var t=document.querySelector("#gameCanvas"),o=document.querySelector("#loadingCanvas");o.style.display="none",t.style.display="block",g_loopLoadingID>0&&(clearInterval(g_loopLoadingID),g_loopLoadingID=0),e()})},InitProcess.showInitialLoadingCircle=function(){return new Promise(function(e,n){console.log(">>>>>>>>>>>>>>> InitProcess.showInitialLoadingCircle");var t=document.querySelector("#loadingCanvas"),o=t.getContext("2d"),r=t.width,i=t.height,a=function(e){return e*(Math.PI/180)},s={x:r/2,y:i/2,radius:60,speed:2,rotation:0,angleStart:270,angleEnd:90,hue:220,thickness:20,blur:12},c=function(){s.rotation<360?s.rotation+=s.speed:s.rotation=0},l=function(){o.save(),o.translate(s.x,s.y),o.rotate(a(s.rotation)),o.beginPath(),o.arc(0,0,s.radius,a(s.angleStart),a(s.angleEnd),!0),o.lineWidth=s.thickness,o.strokeStyle=I,o.stroke(),o.restore()},u=function(){o.save(),o.translate(s.x,s.y),o.rotate(a(s.rotation)),o.beginPath(),o.arc(0,0,s.radius+s.thickness/2,a(s.angleStart),a(s.angleEnd),!0),o.lineWidth=2,o.strokeStyle=E,o.stroke(),o.restore()},d=function(){o.save(),o.translate(s.x,s.y),o.rotate(a(s.rotation+185)),o.beginPath(),o.arc(0,s.radius,15,0,2*Math.PI,!1),o.closePath();var e=o.createRadialGradient(0,s.radius,0,0,s.radius,15);e.addColorStop(0,"hsla(330, 50%, 50%, .35)"),e.addColorStop(1,"hsla(330, 50%, 50%, 0)"),o.fillStyle=e,o.fill(),o.restore()},g=function(){o.save(),o.translate(s.x,s.y),o.rotate(a(s.rotation+165)),o.beginPath(),o.arc(0,s.radius,12,0,2*Math.PI,!1),o.closePath();var e=o.createRadialGradient(0,s.radius,0,0,s.radius,12);e.addColorStop(0,"hsla(30, 100%, 50%, .2)"),e.addColorStop(1,"hsla(30, 100%, 50%, 0)"),o.fillStyle=e,o.fill(),o.restore()},m=function(){o.globalCompositeOperation="destination-out",o.fillStyle="rgba(0, 0, 0, 0.05)",o.fillRect(0,0,r,i),o.globalCompositeOperation="lighter"};loopLoading=function(){m(),c(),l(),u(),d(),g()},o.shadowBlur=s.blur,o.shadowColor="hsla("+s.hue+", 80%, 60%, 1)",o.lineCap="round";var I=o.createLinearGradient(0,-s.radius,0,s.radius);I.addColorStop(0,"hsla("+s.hue+", 60%, 50%, .25)"),I.addColorStop(1,"hsla("+s.hue+", 60%, 50%, 0)");var E=o.createLinearGradient(0,-s.radius,0,s.radius);E.addColorStop(0,"hsla("+s.hue+", 100%, 50%, 0)"),E.addColorStop(.1,"hsla("+s.hue+", 100%, 100%, .7)"),E.addColorStop(1,"hsla("+s.hue+", 100%, 50%, 0)"),g_loopLoadingID=setInterval(loopLoading,16),e()})},InitProcess.loadProjectJson=function(){return new Promise(function(e,n){console.log(">>>>>>>>>>>>>>> InitProcess.loadProjectJson");var t="projectConfig?platform=Canvas&buildPlatform=COMMON",o=rnc.engine.getQueryString();null!=o&&o.length>0&&(t+="&"+o),t+="&_="+(new Date).getTime(),rnc.engine.openGet(t,function(t,o){t?n(t):(document.ccConfig=SERVER_CONFIG=JSON.parse(o),200===SERVER_CONFIG.code?e():n(new Error("error 500 in getting project.json")))},!0)})},InitProcess.showLogoSplash=function(){return new Promise(function(e,n){cc.log(">>>>>>>>>>>>>>> InitProcess.showLogoSplash");var t="image/LO_logoSplash.jpg";cc.loader.load(t,function(n){var o=new RNCScene;o._typeOfScene=SCENE_TYPE.LOADING,cc.director.runScene(o);var r=new cc.Sprite(t);o.addChild(r),r.setPosition(.5*cc.winSize.width,.5*cc.winSize.height),e()})})},function(){InitProcess.InitializeAsync().then(InitProcess.handleExternalCrossPromoOnWebPage).then(InitProcess.showInitialLoadingCircle).then(InitProcess.loadProjectJson).then(InitProcess.bootEngine).then(InitProcess.overrideWindow).then(InitProcess.runCocosEngine).then(InitProcess.runInstantEngine_local).then(InitProcess.onAfterInitEngine).then(InitProcess.loadProjectCommon_local).then(InitProcess.loadJSScript).then(InitProcess.loadJSScriptD).then(InitProcess.FBInit).then(InitProcess.FBGetLoginStatus).then(InitProcess.showLogoSplash).then(InitProcess.removeInitialLoadingCircle).then(InitProcess.handleExternalButtonsOnWebPage).then(InitProcess.setResolution_canvas).then(function(){PostInitProcess.start()}).catch(function(e){"string"==typeof e?console.error("error during InitProcess : "+e):console.error("error during InitProcess : "+e.message+"\n"+e.stack)})}();