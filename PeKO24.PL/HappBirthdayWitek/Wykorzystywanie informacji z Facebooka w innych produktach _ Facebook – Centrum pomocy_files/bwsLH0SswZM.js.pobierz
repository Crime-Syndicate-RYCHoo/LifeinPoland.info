;/*FB_PKG_DELIM*/

__d("AdsMessengerContext.react",["AdsAIMessengerUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext,j=b.createContext({isMessageFromAdsAI:d("AdsAIMessengerUtils").isMessageFromAdsAI,isMessengerInAds:!1});function a(){return i(j)}g.AdsMessengerContext=j;g.useAdsMessengerContext=a}),98);
__d("ArrowLeftOutline20.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsxs("g",{fillRule:"nonzero",children:[i.jsx("path",{d:"M100.072 249.822a.75.75 0 0 0-1.06-1.06l-5.209 5.208a.75.75 0 0 0 0 1.06l5.208 5.209a.75.75 0 0 0 1.06-1.06l-4.677-4.679 4.678-4.678z",transform:"translate(355 153.5)"}),i.jsx("path",{d:"M107.666 253.75H94.855a.75.75 0 1 0 0 1.5h12.813a.75.75 0 1 0 0-1.5z",transform:"translate(355 153.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("AudioContextSingleton",["FBLogger"],(function(a,b,c,d,e,f,g){var h=window.AudioContext||window.webkitAudioContext||window.mozAudioContext,i=new Map();a={get:function(a){a=a==null?void 0:a.sampleRate;var b=i.get(a);if(b==null){var d=new h({sampleRate:a});i.set(a,d);return d}if(b.state==="closed"){c("FBLogger")("project").warn("AudioContext Singleton has been closed");d=new h({sampleRate:a});i.set(a,d);return d}return b}};b=a;g["default"]=b}),98);
__d("BizKitBIOOrderDetailActionsQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7650656964958841"}),null);
__d("BizKitBIOOrderDetailActionsQuery$Parameters",["BizKitBIOOrderDetailActionsQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("BizKitBIOOrderDetailActionsQuery_facebookRelayOperation"),metadata:{},name:"BizKitBIOOrderDetailActionsQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CSChatDeleteMessageMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6152631041430037"}),null);
__d("CSChatDeleteMessageMutation.graphql",["CSChatDeleteMessageMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerMessageLocalRemoveResponsePayload",kind:"LinkedField",name:"messenger_message_local_remove",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CSChatDeleteMessageMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CSChatDeleteMessageMutation",selections:c},params:{id:b("CSChatDeleteMessageMutation_facebookRelayOperation"),metadata:{},name:"CSChatDeleteMessageMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CSChatErrorUtil",["errorCode"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return(a==null?void 0:(a=a.source)==null?void 0:a.code)===2172036}g.isNonceInvalidError=a}),98);
__d("LSSampleData",["I64"],(function(a,b,c,d,e,f,g){var h;a={groupId:(h||(h=d("I64"))).zero,currentCursor:void 0,syncStatus:h.zero,syncParams:void 0,sendSyncParams:!1,minTimeToSyncTimestampMs:h.zero,canIgnoreTimestamp:!1,priority:h.zero,lastSyncRequestTimestampMs:h.zero,regionHint:void 0,lastSyncCompletedTimestampMs:void 0,dataTraceId:void 0,initTraceTimestampMs:void 0,syncChannel:h.one};b={taskId:h.zero,queueName:"",taskValue:"",context:void 0,enqueueTimestampMs:h.zero,firstExecutedTimestampMs:h.zero,failureCount:h.zero,minTimeToSyncTimestampMs:h.zero,httpUrlOverride:void 0,timeoutTimestampMs:void 0,pluginType:h.zero,priority:h.zero,syncGroupId:void 0,dataTraceId:void 0,initTraceTimestampMs:void 0,transportKey:void 0,taskDispatchPriority:h.zero};c={taskQueueName:"",syncDatabaseId:h.zero,epochId:void 0,networkTaskIdentifier:void 0,lastSentTimestampMs:h.zero,failureCount:h.zero,lastSyncRequestTimestampMs:h.zero,lastDelayedRequestTimestampMs:void 0};e={id:h.zero,facebookUserId:h.zero};f={taskId:h.zero,queueName:"",taskValue:"",context:void 0,enqueueTimestampMs:h.zero,priority:h.zero,syncGroupId:void 0,transportKey:void 0};d={errorId:h.zero,taskId:void 0,errorCode:void 0,errorTitleText:"",errorBodyText:void 0,issuedTimestampMs:h.zero,presentationStyle:void 0,errorExtraData:void 0};var i={notificationScopeKey:"",notificationName:""},j={taskId:h.zero,notificationScopeKey:"",notificationName:"",success:void 0},k={id:h.zero,profilePictureUrl:"",profilePictureFallbackUrl:void 0,profilePictureUrlExpirationTimestampMs:void 0,profilePictureLargeUrl:void 0,profilePictureLargeFallbackUrl:void 0,profilePictureLargeUrlExpirationTimestampMs:void 0,name:"",normalizedNameForSearch:void 0,normalizedSearchTerms:void 0,isMessengerUser:!1,isMemorialized:!1,isManagedByViewer:void 0,blockedByViewerStatus:h.zero,rank:0,firstName:void 0,contactType:h.zero,contactTypeExact:h.zero,messengerCallLogThirdPartyId:void 0,profileRingColor:void 0,requiresMultiway:void 0,blockedSinceTimestampMs:void 0,canViewerMessage:void 0,phoneNumber:void 0,emailAddress:void 0,profileRingColorExpirationTimestampMs:void 0,workCompanyId:void 0,workCompanyName:void 0,workJobTitle:void 0,profileRingState:void 0,deviceContactId:void 0,workForeignEntityType:h.zero,capabilities:void 0,contactViewerRelationship:h.zero,gender:h.zero,authorityLevel:h.zero,secondaryName:void 0,optimisticBlockedByViewerStatus:void 0,optimisticBlockedByViewerStatusTimestampMs:void 0,contactReachabilityStatusType:void 0,restrictionType:h.zero,waConnectStatus:h.zero,capabilities2:void 0,pendingMessengerRestrictAction:void 0,pendingMnUserBlockAction:void 0,pendingFbUserBlockAction:void 0,fbUnblockedSinceTimestampMs:void 0,pendingMnUserBlockActionTimestampMs:void 0,pendingFbUserBlockActionTimestampMs:void 0,isEmployee:!1,pageType:void 0,username:void 0},l={contactId:h.zero,igId:"",linkedFbid:void 0,igFollowStatus:h.zero,verificationStatus:h.zero,e2eeEligibility:h.neg_one,supportsE2eeSpamdStorage:void 0},m={id:h.zero,gmtOffset:void 0,department:void 0,division:void 0,organization:void 0,location:void 0},n={ownerId:h.zero,associatedEntityId:h.zero,profilePictureUrl:void 0,profilePictureFallbackUrl:void 0,profilePictureUrlExpirationTimestampMs:void 0,profileName:void 0},o={userId:h.zero,name:void 0,profilePhotoUrl:void 0,coverPhotoUrl:void 0,bio:void 0,section1Text1:void 0,section1Icon1:void 0,section1Text2:void 0,section1Icon2:void 0,contextualProfilePhotoUrl:void 0,friendshipStatus:void 0},p={pk:h.zero,clientContactPk:h.zero,serverContactId:h.zero},q={botId:h.zero,isCreatedByViewer:!1,tintColor:void 0,shortDescription:void 0,description:"",hasEmbodiment:!1,fbProfileId:void 0},r={contactId:h.zero,ocId:h.zero,tauId:h.zero},s={threadKey:h.zero,timestampMs:h.zero,messageId:"",actorId:h.zero,reaction:"",authorityLevel:h.zero,reactionCreationTimestampMs:void 0,transportKey:void 0},t={threadKey:h.zero,mailboxType:h.zero,threadType:h.zero,threadName:void 0,folderName:"",threadPictureUrl:void 0,threadPictureUrlFallback:void 0,threadPictureUrlExpirationTimestampMs:void 0,lastActivityTimestampMs:h.zero,lastReadWatermarkTimestampMs:h.zero,removeWatermarkTimestampMs:h.zero,muteExpireTimeMs:h.zero,snippet:void 0,isAdminSnippet:!1,snippetSenderContactId:void 0,snippetStringHash:void 0,snippetStringArgument1:void 0,snippetAttribution:void 0,snippetAttributionStringHash:void 0,needsAdminApprovalForNewParticipant:void 0,ongoingCallState:h.zero,cannotReplyReason:void 0,customEmoji:void 0,customEmojiImageUrl:void 0,outgoingBubbleColor:void 0,themeFbid:void 0,parentThreadKey:h.zero,nullstateDescriptionText1:void 0,nullstateDescriptionType1:void 0,nullstateDescriptionText2:void 0,nullstateDescriptionType2:void 0,nullstateDescriptionText3:void 0,nullstateDescriptionType3:void 0,snippetHasEmoji:!1,hasPersistentMenu:!1,disableComposerInput:!1,cannotUnsendReason:void 0,viewedPluginKey:void 0,viewedPluginContext:void 0,clientThreadKey:void 0,capabilities:h.zero,shouldRoundThreadPicture:void 0,isCustomThreadPicture:!1,otidOfFirstMessage:void 0,normalizedSearchTerms:void 0,additionalThreadContext:void 0,disappearingThreadKey:void 0,isDisappearingMode:!1,disappearingModeInitiator:void 0,unreadDisappearingMessageCount:h.zero,authorityLevel:h.zero,threadDescription:void 0,capabilities2:h.zero,muteCallsExpireTimeMs:h.zero,syncGroup:void 0,lastMessageCtaId:void 0,lastMessageCtaType:void 0,lastMessageCtaTimestampMs:void 0,unsendLimitMs:h.zero,isAllUnreadMessageMissedCallXma:void 0,threadInvitesEnabled:h.zero,lastNonMissedCallXmaMessageTimestampMs:void 0,threadInviteLink:void 0,threadInvitesEnabledV2:h.zero,proactiveWarningDismissTime:void 0,eventStartTimestampMs:void 0,eventEndTimestampMs:void 0,hasPendingInvitation:void 0,capabilities3:h.zero,igFolder:void 0,avatarStickerId:void 0,avatarStickerThumbnailImageUrl:void 0,avatarStickerThumbnailImageMimeType:void 0,avatarStickerOriginalImageUrl:void 0,avatarStickerOriginalImageMimeType:void 0,inviterId:void 0,memberCount:void 0,takedownState:void 0,threadTags:void 0,avatarStickerInstructionKeyId:void 0,groupNotificationSettings:void 0,muteMentionExpireTimeMs:h.zero,threadStatus:void 0,secondaryParentThreadKey:void 0,threadSubtype:void 0,consistentThreadFbid:void 0,pauseThreadTimestamp:void 0,disappearingSettingTtl:void 0,disappearingSettingUpdatedTs:void 0,disappearingSettingUpdatedBy:void 0,numUnreadSubthreads:void 0,subthreadCount:void 0,isReadReceiptsDisabled:!1,readReceiptsDisabledV2:h.zero,metadata:void 0,capabilities4:h.zero,snippetText:void 0,isHidden:!1,hasPendingJoinRequest:void 0,joinRequestApprovalSetting:void 0,pendingJoinRequestsCount:void 0,ctmAdId:void 0,admodCount:void 0,ctmAdgroupId:void 0,ctmAdCampaignId:void 0,ctmAdCampaignGroupId:void 0,ctmAdAccountId:void 0,syncSource:void 0,typingIndicatorDisabled:void 0,capabilities5:h.zero},u={parentThreadKey:h.zero,minThreadKey:h.zero,minLastActivityTimestampMs:h.zero,maxThreadKey:h.zero,maxLastActivityTimestampMs:h.zero,isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1},v={threadKey:h.zero,timestampMs:h.zero,primarySortKey:h.zero,secondarySortKey:void 0,messageId:"",offlineThreadingId:"",text:void 0,senderId:h.zero,stickerId:void 0,isAdminMessage:!1,sendStatus:h.zero,sendStatusV2:h.zero,isUnsent:!1,mentionOffsets:void 0,mentionLengths:void 0,mentionIds:void 0,mentionTypes:void 0,replySourceId:void 0,replySourceType:void 0,replySourceTypeV2:void 0,replyStatus:void 0,replySnippet:void 0,replyMessageText:void 0,replyToUserId:void 0,replyMediaExpirationTimestampMs:void 0,replyMediaUrl:void 0,replyMediaPreviewWidth:void 0,replyMediaPreviewHeight:void 0,replyMediaUrlMimeType:void 0,replyMediaUrlFallback:void 0,replyCtaId:void 0,replyCtaTitle:void 0,replyAttachmentType:void 0,replyAttachmentId:void 0,replyAttachmentExtra:void 0,hasQuickReplies:!1,adminMsgCtaId:void 0,adminMsgCtaTitle:void 0,adminMsgCtaType:void 0,cannotUnsendReason:void 0,textHasLinks:!1,viewFlags:h.zero,displayedContentTypes:h.zero,viewedPluginKey:void 0,viewedPluginContext:void 0,quickReplyType:h.zero,hotEmojiSize:void 0,authorityLevel:h.zero,subscriptErrorMessage:void 0,unsentTimestampMs:void 0,replySourceTimestampMs:void 0,forwardScore:void 0,ephemeralDurationInSec:void 0,msUntilExpirationTs:void 0,localDataId:void 0,ephemeralExpirationTs:void 0,replyType:void 0,isForwarded:void 0,takedownState:void 0,isCollapsed:!1,subthreadKey:void 0,messageRenderingType:h.zero,editCount:void 0,isPaidPartnership:void 0,botResponseId:void 0,transportKey:void 0,adminSignatureName:void 0,adminSignatureProfileUrl:void 0,adminSignatureCreatorType:void 0,ebUploadTs:void 0,xmaReceiverFetchParams:void 0,metadataDataclass:void 0,isExpired:!1,replyAttachmentPlaintextHash:void 0,platformXmdEncoded:void 0,groupId:void 0,groupIndex:void 0,groupSize:void 0,scheduledTimestamp:void 0,isVideoQuickSend:void 0,translatedText:void 0,textDialect:void 0,translatedTextDialect:void 0},w={threadKey:h.zero,minTimestampMs:h.zero,minMessageId:"",maxTimestampMs:h.zero,maxMessageId:"",isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1},x={threadKey:h.zero,contactId:h.zero,readWatermarkTimestampMs:h.zero,deliveredWatermarkTimestampMs:h.zero,nickname:void 0,isAdmin:void 0,subscribeSource:void 0,normalizedSearchTerms:void 0,participantCapabilities:void 0,authorityLevel:h.zero,readActionTimestampMs:h.zero,isSuperAdmin:void 0,isModerator:!1,groupParticipantJoinState:h.zero,threadRoles:h.zero},y={ctaId:"",title:"",ctaType:h.zero,actionUrl:void 0,nativeUrl:void 0},z={threadKey:h.zero,timestampMs:h.zero,messageId:"",offlineAttachmentId:void 0,attachmentFbid:"",attachmentType:h.zero,originalPageSenderId:void 0,filename:void 0,filesize:void 0,hasMedia:!1,isSharable:!1,hasXma:!1,xmaLayoutType:void 0,xmasTemplateType:void 0,defaultCtaId:void 0,defaultCtaTitle:void 0,defaultCtaType:void 0,attachmentCta1Id:void 0,cta1Title:void 0,cta1Type:void 0,attachmentCta2Id:void 0,cta2Title:void 0,cta2Type:void 0,attachmentCta3Id:void 0,cta3Title:void 0,cta3Type:void 0,playableUrl:void 0,playableUrlFallback:void 0,playableUrlExpirationTimestampMs:void 0,playableUrlMimeType:void 0,dashManifest:void 0,previewUrl:void 0,previewUrlFallback:void 0,previewUrlExpirationTimestampMs:void 0,previewUrlMimeType:void 0,miniPreview:void 0,previewWidth:void 0,previewHeight:void 0,imageUrl:void 0,imageUrlFallback:void 0,imageUrlExpirationTimestampMs:void 0,imageUrlMimeType:void 0,actionUrl:void 0,titleText:void 0,subtitleText:void 0,maxTitleNumOfLines:void 0,maxSubtitleNumOfLines:void 0,descriptionText:void 0,sourceText:void 0,attributionAppId:void 0,attributionAppName:void 0,attributionAppIcon:void 0,attributionAppIconFallback:void 0,attributionAppIconUrlExpirationTimestampMs:void 0,localPlayableUrl:void 0,playableDurationMs:void 0,attachmentIndex:h.zero,faviconUrl:void 0,faviconUrlFallback:void 0,faviconUrlExpirationTimestampMs:void 0,decryptionKey:void 0,accessibilitySummaryText:void 0,isPreviewImage:void 0,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItemId1:void 0,listItemTitleText1:void 0,listItemContactUrlList1:void 0,listItemProgressBarFilledPercentage1:void 0,listItemContactUrlExpirationTimestampList1:void 0,listItemContactUrlFallbackList1:void 0,listItemAccessibilityText1:void 0,listItemId2:void 0,listItemTitleText2:void 0,listItemContactUrlList2:void 0,listItemProgressBarFilledPercentage2:void 0,listItemContactUrlExpirationTimestampList2:void 0,listItemContactUrlFallbackList2:void 0,listItemAccessibilityText2:void 0,listItemId3:void 0,listItemTitleText3:void 0,listItemContactUrlList3:void 0,listItemProgressBarFilledPercentage3:void 0,listItemContactUrlExpirationTimestampList3:void 0,listItemContactUrlFallbackList3:void 0,listItemAccessibilityText3:void 0,originalFileHash:void 0,isBorderless:void 0,headerImageUrl:void 0,headerImageUrlFallback:void 0,headerImageUrlExpirationTimestampMs:void 0,headerImageUrlMimeType:void 0,headerTitle:void 0,previewImageDecorationType:void 0,shouldHighlightHeaderTitleInTitle:void 0,targetId:void 0,shouldRespectServerPreviewSize:void 0,authorityLevel:h.zero,ephemeralMediaState:void 0,viewerSeenTimestampMs:void 0,shouldAutoplayVideo:void 0,previewUrlLarge:void 0,previewWidthLarge:void 0,previewHeightLarge:void 0,subtitleIconUrl:void 0,preheaderText:void 0,listItemsDescriptionSubtitleText:void 0,avatarViewUrlList:void 0,avatarViewUrlExpirationTimestampList:void 0,avatarViewUrlFallbackList:void 0,avatarViewTitleList:void 0,avatarViewAccessibilityLabel:void 0,listItemProfilePictureUrl1:void 0,listItemProfilePictureUrlExpirationTimestamp1:void 0,listItemProfilePictureUrlFallback1:void 0,listItemProfilePictureUrl2:void 0,listItemProfilePictureUrlExpirationTimestamp2:void 0,listItemProfilePictureUrlFallback2:void 0,listItemProfilePictureUrl3:void 0,listItemProfilePictureUrlExpirationTimestamp3:void 0,listItemProfilePictureUrlFallback3:void 0,attachmentLoggingType:void 0,waveformData:void 0,samplingFrequencyHz:void 0,gatingType:void 0,gatingTitle:void 0,avatarViewSize:void 0,avatarCount:void 0,captionBodyText:void 0,headerSubtitleText:void 0,cta1IconType:void 0,cta2IconType:void 0,cta3IconType:void 0,ephemeralMediaViewMode:void 0,collapsibleId:void 0,listItemTotalCount1:void 0,listItemTotalCount2:void 0,listItemTotalCount3:void 0,shouldBlurSubattachments:void 0,countdownTimestampMs:void 0,igStoryReplyType:void 0,verifiedType:void 0,targetExpiryTimestampMs:void 0,isPublicXma:void 0,isAttachmentConsumed:void 0,xmaContentType:void 0,mustacheText:void 0,replyCount:void 0,avatarViewContextText:void 0,subtitleDecorationType:void 0,audioTranscription:void 0,transportKey:void 0,previewOverlayCountdownExpiry:void 0,hasXmaFavicon:void 0,hasXmaPreview:void 0,hasXmaHeaderImage:void 0,receiverFetchId:void 0,xmaDataclass:void 0,bodyText:void 0,xmaFaviconFbid:void 0,xmaPreviewFbid:void 0,xmaHeaderImageFbid:void 0,stickerType:void 0,isHd:void 0},A={threadKey:h.zero,mediaGroup:h.zero,minTimestampMs:h.zero,maxTimestampMs:h.zero,isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1,lastLoadedMessageId:void 0},B={attachmentFbid:"",attachmentIndex:h.zero,threadKey:h.zero,messageId:"",originalPageSenderId:void 0,titleText:void 0,subtitleText:void 0,playableUrl:void 0,playableUrlFallback:void 0,playableUrlExpirationTimestampMs:void 0,playableUrlMimeType:void 0,dashManifest:void 0,previewUrl:void 0,previewUrlFallback:void 0,previewUrlExpirationTimestampMs:void 0,previewUrlMimeType:void 0,previewWidth:void 0,previewHeight:void 0,imageUrl:void 0,defaultCtaId:void 0,defaultCtaTitle:void 0,defaultCtaType:void 0,defaultButtonType:void 0,defaultActionUrl:void 0,defaultActionEnableExtensions:!1,defaultWebviewHeightRatio:void 0,attachmentCta1Id:void 0,cta1Title:void 0,cta1Type:void 0,attachmentCta2Id:void 0,cta2Title:void 0,cta2Type:void 0,attachmentCta3Id:void 0,cta3Title:void 0,cta3Type:void 0,faviconUrl:void 0,faviconUrlFallback:void 0,faviconUrlExpirationTimestampMs:void 0,previewUrlLarge:void 0,cta1IconType:void 0,cta2IconType:void 0,cta3IconType:void 0,bodyText:void 0},C={ctaId:h.zero,attachmentFbid:"",attachmentIndex:h.zero,threadKey:h.zero,messageId:"",title:"",type_:"fallback",platformToken:void 0,actionUrl:void 0,nativeUrl:void 0,urlWebviewType:void 0,actionContentBlob:void 0,enableExtensions:void 0,extensionHeightType:void 0,targetId:void 0},D={threadKey:h.zero,messageId:"",ctaId:h.zero,messageTimestampMs:h.zero,title:"",imageUrl:void 0,type_:"fallback",platformToken:""},E={threadKey:h.zero,timestampMs:h.zero,suggestionId:"",label:"",type_:h.zero,expirationTimestampMs:h.zero,subType:void 0,iconUrl:void 0,messageId:void 0,displayOrder:void 0,stickerId:void 0,gifText:void 0},F={timestampMs:h.zero,type_:h.zero,payload:""},G={threadKey:h.zero,ongoingCallServerInfoData:void 0,willExpandToNewThread:!1},H={threadKey:h.zero,conferenceName:void 0,isVideoCall:void 0},I={id:h.zero,lastAppliedMailboxSequenceId:h.zero},J={threadKey:h.zero,contactId:h.zero,subscribeSource:"",authorityLevel:h.zero},K={threadKey:h.zero,messageId:"",ctaId:h.zero,timestampMs:h.zero,adClientToken:void 0,adPreferenceUrl:void 0,adHelpUrl:void 0,showAdChoiceIcon:!1,title:void 0,actionUrl:void 0,adminMessageNicknameParticipantId:void 0,targetId:void 0,targetTitle:void 0,actionContentBlob:void 0},L={threadKey:h.zero,welcomeText:void 0,privacyText:void 0,privacyTextWithRef:void 0,nullstateCtaType:void 0,ctaType:h.zero,ctaId:void 0,ctaTitle:void 0,privacyTextCtaTitle:void 0,privacyTextCtaType:h.zero,privacyTextNonWelcomeScreen:void 0},M={ctaId:h.zero,threadKey:h.zero,title:"",ctaType:"fallback",platformToken:void 0,ctaIdentifier:void 0},N={threadKey:h.zero,messageId:"",ctaId:h.zero,mailboxType:h.zero,timestampMs:h.zero,title:"",ctaType:"fallback",platformToken:void 0},O={taskId:h.zero,threadKey:h.zero,offlineThreadingId:"",messageId:void 0,threadAttributionSource:void 0,externalAttachmentUrl:void 0,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,markThreadRead:!1,initiatingSource:void 0,skipUrlPreviewGen:void 0,textHasLinks:void 0,multitabEnv:void 0,richTextFormatType:void 0,openEb:void 0,qplInstanceKey:void 0,transportKey:void 0,dataclassParams:void 0},P={taskId:h.zero,threadKey:h.zero,removeType:void 0,syncGroup:void 0},Q={messageId:"",threadKey:h.zero,timestampMs:h.zero,threadKeyFromParticipants:h.zero,contactId:h.zero,type_:h.zero,profilePictureUrl:void 0},R={threadKey:h.zero,messageRequestStatus:h.zero},S={parentThreadKey:h.zero,lastSeenRequestTimestampMs:h.zero},T={pollId:h.zero,threadKey:h.zero,lastUpdateMessageId:"",lastUpdateMessageTimestampMs:h.zero,lastUpdateMessageEventType:h.zero,authorityLevel:h.zero,pollType:h.zero,pollStage:void 0},U={pollId:h.zero,optionId:h.zero,optionText:"",voteCount:h.zero,sortKeyVotingTimestamp:h.zero,sortKeyCreationTimestamp:h.zero},V={pollId:h.zero,optionId:h.zero,contactId:h.zero,timestampMs:h.zero},W={threadKey:h.zero,messageId:""},X={parentThreadKey:h.zero,minThreadKey:h.zero,minLastActivityTimestampMs:h.zero,maxThreadKey:h.zero,maxLastActivityTimestampMs:h.zero,isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1,threadRangeFilter:h.zero,folderName:"inbox",secondaryThreadRangeFilter:h.zero,threadRangeFilterValue:"",syncGroup:void 0},Y={folderId:h.zero,fbGroupId:h.zero,name:"",memberCount:h.zero,pictureUrl:void 0,pictureUrlFallback:void 0,pictureUrlExpirationTimestampMs:void 0,joiningChannelTaskId:void 0,afterJoiningOpenChannelId:void 0,capabilities:h.zero,sendsBlockedUntil:void 0,notificationSetting:void 0,notificationMutedUntil:h.zero,isHidden:void 0,enableState:void 0,hasSeenDisablingAlert:void 0,disableTimestamp:void 0,threadCount:void 0,categoryCount:void 0,coverPicUrl:void 0,coverPicUrlFallback:void 0,coverPicUrlExpirationTimestampMs:void 0,description:void 0,fbGroupType:void 0,inviteStatus:h.zero,snippetText:void 0,invitedThreadId:void 0,directInviteLink:void 0,inviteLink:void 0,capabilities2:h.zero,capabilities3:h.zero,fbGroupUserParticipationApprovalStatus:void 0,ccAdminAssistRegistrationStatus:void 0,communityType:void 0,readTimestampMs:void 0,blockedFromCommunityMemberCount:void 0,isMember:void 0,pauseStatus:void 0,takedownState:void 0},Z={communityId:h.zero,contactId:h.zero,source:h.zero,name:"",profilePictureUrl:void 0,isAdmin:!1,isBlocked:void 0,profilePictureUrlFallback:void 0,profilePictureUrlExpirationTimestampMs:void 0,firstName:void 0,isBlockedFromCommunity:void 0,isMuted:void 0,isCommunityMember:void 0,fetchingInfoTaskId:void 0,adminActions:h.zero,isModerator:void 0,hasPendingModeratorInvite:void 0,subtitle:void 0,isEligibleForCmInvite:void 0,nickname:void 0,threadRole:void 0,contactCapabilities:h.zero,channelBadges:h.zero,threadRoles:h.zero,groupThreadId:void 0,requestId:""},$={communityId:h.zero,isAdmin:!1,minName:"",maxName:"",isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1,nextPageCursor:"",source:h.zero,requestId:""},aa={attachmentFbid:h.zero,threadKey:h.zero,openableUrl:void 0,openableUrlExpirationTimestampMs:void 0,pdfConversionStatus:h.zero},ba={threadKey:h.zero,messageId:"",messageTimestampMs:h.zero,saveActionTimestampMs:h.zero,messageSaveState:h.zero},ca={threadKey:h.zero,roomState:h.zero,roomUrl:"",roomThreadUseCase:void 0,showCtaUntilTimestampSec:void 0,roomExpirationTimestampSec:void 0},da={threadKey:h.zero,igThreadId:"",igDmSettingsMode:void 0,igDmSettingsTtlSec:void 0,igDmSettingsLastSetActorId:void 0,igDmSettingsLastSetTimestampMs:void 0,threadFbid:void 0},ea={pk:h.zero,originalMessagePk:"",threadKey:h.zero,serverAdjustedEditTsMs:h.zero,messageContent:void 0,sendStatus:h.zero},fa={threadKey:h.zero,labelType:h.zero,labelTimestampMs:h.zero},ga={threadKey:h.zero,inviterId:h.zero,inviteeId:h.zero,inviteCode:"",inviteExpirationTimestampMs:h.zero,caption:void 0},ha={syncGroup:h.zero,minThreadKey:h.zero,minLastActivityTimestampMs:h.zero,isLoadingBefore:!1,hasMoreBefore:!1},ia={communityId:h.zero,presetType:"all_members",title:"",subtitle1:"",subtitle2:"",profilePictureUrl1:"",fallbackUrl:"",pictureUrlExpirationTimestampMs1:h.zero,profilePictureUrl2:"",pictureUrlExpirationTimestampMs2:h.zero,source:h.zero,presetTypeV2:"ALL_MEMBERS"},ja={threadKey:h.zero,offlineThreadingId:"",pinnedTimestampMs:h.zero},ka={threadKey:h.zero,messageId:"",pinnedTimestampMs:h.zero,authorityLevel:h.zero},la={threadKey:h.zero,mailboxType:h.zero,minTimestampMs:h.zero,minMessageId:"",maxTimestampMs:h.zero,maxMessageId:"",isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1,messageRangeFilter:h.zero,threadKeyNullable:void 0},ma={threadKey:h.zero,violationType:h.zero,violationDescription:"",standardsUrl:""},na={threadKey:h.zero,status:h.zero,hasMore:void 0,lastContactId:void 0},oa={syncGroup:h.zero,parentThreadKey:h.zero,minThreadKey:h.zero,minLastActivityTimestampMs:h.zero,isLoadingBefore:!1,hasMoreBefore:!1},pa={threadKey:h.zero,messageId:"",seenCount:h.zero},qa={pollId:h.zero,threadKey:h.zero,lastUpdateMessageId:"",lastUpdateMessageTimestampMs:h.zero,lastUpdateMessageEventType:h.zero,pollType:h.zero,pollStage:void 0},ra={pollId:h.zero,optionId:h.zero,optionText:"",voteCount:h.zero,sortKeyVotingTimestamp:h.zero,sortKeyCreationTimestamp:h.zero,optionUserId:void 0},sa={pollId:h.zero,optionId:h.zero,contactId:h.zero,timestampMs:h.zero,fullName:void 0,profilePictureUrl:void 0,profilePictureFallbackUrl:void 0,profilePictureUrlExpirationTimestampMs:void 0,secondaryName:void 0},ta={threadKey:h.zero,messageId:"",reactionFbid:h.zero,messageTimestamp:h.zero,reactionLiteral:void 0,count:h.zero,viewerIsReactor:!1,viewerReactionTimestampMs:h.zero,authorityLevel:h.zero,lastUpdatedTimestampMs:h.zero},ua={reactorId:h.zero,reactionFbid:h.zero,fullName:void 0,profilePictureUrl:void 0,profilePictureFallbackUrl:void 0,profilePictureUrlExpirationTimestampMs:void 0,timestampMs:h.zero},va={reactorId:h.zero,reactionFbid:h.zero,minTimestampMs:h.zero,maxTimestampMs:h.zero,isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1,nextPageCursor:""},wa={reactionFbid:h.zero,reactionLiteral:void 0,reactionLiteralVariant16:void 0},xa={threadKey:h.zero,communityId:void 0,name:"",enabledStatus:"NOT_ENABLED",botId:h.zero,botSettingsId:void 0},ya={threadKey:h.zero,entId:h.zero,tags:"",authorityLevel:h.zero,labels:"",assignedAdmin:void 0,businessFolder:void 0},za={linkHash:"",threadTitle:"",needsAdminApprovalForNewParticipant:void 0,lastThreadActivityMs:h.zero,threadConnectedMembers:void 0,groupImageUrl:"",groupImageUrlFallback:"",groupImageUrlExpirationTimestampMs:h.zero,joinExplainerText:"",numberOfMembers:h.zero,isInApprovalQueue:!1,isSubscribed:!1,threadId:void 0,canJoin:!1,fbGroupDescription:void 0,communityImageUrl:void 0,communityImageUrlFallback:void 0,communityImageUrlExpirationTimestampMs:void 0,linkJoinType:void 0,fbGroupVisibility:void 0,communityId:void 0,fbGroupId:void 0,canProcessInMessenger:void 0,communityJoinRequestStatus:h.zero,communityParticipationControlRequestStatus:h.zero,communityParticipationControlSetting:void 0,threadStatus:void 0},Aa={userId:h.zero,newSupportIssuesOptIn:void 0},Ba={threadKey:h.zero,labelId:h.zero,sortKey:h.zero},Ca={interface_:h.zero,configName:"expanded_chat_labels",value:""},Da={configName:"expanded_chat_labels",value:""},Ea={eventId:h.zero,roomId:h.zero},Fa={threadId:h.zero,messageId:"",reactorId:h.zero,reactionFbid:h.zero,fullName:"",profilePictureUrl:void 0,profilePictureFallbackUrl:void 0,profilePictureUrlExpirationTimestampMs:void 0,timestampMs:h.zero,secondaryName:void 0},Ga={threadId:h.zero,messageId:"",reactionFbid:h.zero,minTimestampMs:h.zero,maxTimestampMs:h.zero,isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1,nextPageCursor:""},Ha={pollId:h.zero,optionId:h.zero,minTimestampMs:h.zero,maxTimestampMs:h.zero,isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1,nextPageCursor:""},Ia={threadId:h.zero,contactId:h.zero,source:h.zero,name:"",profilePictureUrl:void 0,isAdmin:!1,isBlocked:void 0,profilePictureUrlFallback:void 0,profilePictureUrlExpirationTimestampMs:void 0,firstName:void 0,subtitle:void 0,nickname:void 0},Ja={threadId:h.zero,source:h.zero,minName:"",maxName:"",isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1,nextPageCursor:""},Ka={rollCallId:h.zero,threadKey:h.zero,rollCallPrompt:"",expiryTimestampSec:h.zero,offlineThreadingId:void 0,viewerHasContributed:!1,creatorId:void 0,viewerCanEditPrompt:!1,isBlurred:!1,numContributions:void 0,authorityLevel:h.zero,canViewWithoutContributing:!1},La={surfaceType:h.zero,communityKey:h.zero,hasMoreAfter:!1,isLoadingAfter:!1,nextPageCursor:""},Ma={communityId:h.zero,ruleId:h.zero,rulePosition:void 0,ruleTitle:void 0,ruleDescription:void 0},Na={rollCallContributionId:h.zero,rollCallId:h.zero,messageId:"",messageTimestampMs:h.zero,threadKey:h.zero,primaryMediaUrl:"",primaryMediaUrlFallback:"",primaryMediaExpiryMs:h.zero,primaryMediaWidth:h.zero,primaryMediaHeight:h.zero,primaryMediaMimeType:"",previewMediaUrl:"",previewMediaUrlFallback:"",previewMediaExpiryMs:h.zero,previewMediaWidth:h.zero,previewMediaHeight:h.zero,previewMediaMimeType:"",contributorId:h.zero,offlineThreadingId:void 0,blurOverride:void 0,contributionSource:h.zero,contributionType:void 0,content:void 0,authorityLevel:h.zero},Oa={threadKey:h.zero,commItemId:h.zero,isPriority:!1,isFollowUp:!1,labels:void 0,assignedAdminId:void 0,assignedAdminName:void 0,assignedAdminProfileUrl:void 0,authorityLevel:h.zero,suggestedReplyType:void 0,suggestedReplyContent:void 0,suggestedReplyTimestamp:void 0,suggestedReplyTriggerId:void 0,isThreadCurrentlyHandledByAiAgent:void 0,suggestedReplyExtraContent:void 0},Pa={taskId:h.zero,threadId:void 0,creationStatus:h.zero},Qa={sharedAlbumId:h.zero,threadKey:h.zero,title:"",offlineThreadingId:h.zero,authorityLevel:h.zero,lastActivityTimestampMs:h.zero,contributionCount:h.zero},Ra={sharedAlbumId:h.zero,sharedAlbumContributionId:h.zero,threadKey:h.zero,messageId:"",mediaUrl:"",mediaUrlFallback:"",mediaWidth:h.zero,mediaHeight:h.zero,urlExpiryMs:h.zero,authorityLevel:h.zero,creationTimestampMs:h.zero,creatorId:void 0,previewMediaUrl:void 0,previewMediaUrlFallback:void 0,previewMediaExpiryMs:void 0,previewMediaWidth:void 0,previewMediaHeight:void 0,previewMediaMimeType:void 0,attachmentId:void 0},Sa={offlineThreadingId:"",sharedAlbumId:h.zero,threadKey:h.zero,mediasCount:h.zero,uploadStatus:h.zero},Ta={offlineThreadingId:"",jobId:"",jobStatus:h.zero},Ua={threadKey:h.zero,deltaInsertionTimestampMs:h.zero,dasmExecutionTimestampMs:h.zero,status:h.zero},Va={threadKey:h.zero,suggestionType:h.zero,title:"",body:"",cta1Text:void 0,cta1WebUrl:void 0,cta2Text:void 0,cta2WebUrl:void 0,isEligible:!1,triggerId:void 0},Wa={commandSequenceId:"",commandSequenceType:h.zero,commandBotActionType:h.zero,commandSequenceMainText:"",commandSequenceSubText:""},Xa={threadKey:h.zero,threadQueueSequenceId:h.zero,isStale:void 0,lastSelectiveSyncTimestampMs:void 0},Ya={threadKey:h.zero,contactId:h.zero,contactName:void 0,profilePictureUrl:void 0},Za={messageId:"",targetLocale:"",translatedText:"",sourceLocale:void 0,confidence:0,sourceText:void 0},$a={messageId:"",targetLocale:"",translatedText:"",translationFeedbackType:h.zero,translationFeedbackSubmissionStatus:h.zero,timestampMs:h.zero},ab={threadKey:h.zero,metadata:""},bb={botResponseId:"",feedbackSubmissionStatus:h.zero,feedbackKindType:void 0},cb={messageId:"",previewData:void 0,errorCode:void 0},db={threadKey:h.zero,status:h.zero},eb={threadKey:h.zero,actingAccountName:"",isShownInPersonalInbox:!1},fb={draftId:"",dataType:void 0,data:void 0,status:void 0,sendStatus:void 0},gb={offlineAttachmentId:"",offlineThreadingId:"",inMessageIndex:h.zero,attachmentType:h.zero,shouldTranscode:!1,useDoublePhase:!1,sendByServer:!1,isSecure:!1,state:h.zero,fbid:void 0,metadata:void 0,error:void 0,messageId:void 0},hb={threadKey:h.zero,senderId:h.zero,expirationTimestampMs:h.zero},ib={query:"",resultId:"",globalIndex:h.zero,type_:h.zero,threadType:h.zero,displayName:"",profilePicUrl:"",secondaryProfilePicUrl:void 0,contextLine:"",messageId:void 0,messageTimestampMs:void 0,blockedByViewerStatus:h.zero,isVerified:void 0,isInteropEligible:void 0,isGroupsXacEligible:void 0,isWaAddressable:void 0,waEligibility:void 0,isInvitedToCmChannel:void 0,isEligibleForCmInvite:void 0,isArmadilloTlcEligible:void 0,otherUserId:void 0,threadJoinLinkHash:void 0,canViewerMessage:void 0,restrictionType:void 0,communityId:void 0,supportsE2eeSpamdStorage:void 0,defaultE2eeThreads:void 0,defaultE2eeThreadOneToOne:void 0,hasCutoverThread:void 0,isViewerUnconnected:void 0,resultIgid:void 0,isRestrictedByViewer:void 0,isInstamadilloCutover:void 0,isDisappearingModeSettingOn:void 0,secondaryContextLine:void 0,hasTtlcClipEnabled:void 0,hasTtlcGenericXmaShareEnabled:void 0,hasTtlcMediaShareEnabled:void 0,hasTtlcStoryShareEnabled:void 0},jb={query:"",globalIndex:h.zero,displayName:void 0,analyticsName:"",startIndex:h.zero,endIndex:h.zero},kb={query:"",statusPrimary:h.zero,statusSecondary:h.zero,startTimeMs:h.zero,endTimeMs:void 0,resultCount:void 0,surfaceType:h.one},lb={resultId:"",type_:h.zero,displayName:"",profilePicUrl:"",profilePicFallbackUrl:void 0,profilePicUrlExpirationTimestampMs:void 0,secondaryProfilePicUrl:void 0,lastAccessedTimestampMs:h.zero,contextLine:void 0,phoneNumber:void 0,emailAddress:void 0},mb={type_:h.zero,query:"",threadKey:h.zero,globalIndex:h.zero,threadType:h.zero,messageId:void 0,messageTimestampMs:void 0,displayName:"",contextLine:void 0,matchOffsets:void 0,matchLengths:void 0,profilePicUrl:"",secondaryProfilePicUrl:void 0,matchCount:void 0,isVerified:void 0,messageOtid:void 0},nb={type_:h.zero,query:"",threadKeyV2:h.zero,status:h.zero,hasNextPage:void 0,nextPageCursor:void 0,resultCount:h.zero},ob={query:"",threadKey:h.zero,status:h.zero,includeNickname:void 0,resultCount:void 0,minimumResultCount:void 0},pb={threadKey:h.zero,scoreType:h.zero,threadName:"",threadPictureUrl:void 0,threadPictureUrlFallback:void 0,secondaryThreadPictureUrl:void 0,secondaryThreadPictureUrlFallback:void 0,contextLine:void 0,score:0,threadType:h.zero,rankScoreRequestId:void 0,communityId:void 0,rowType:void 0,fbGroupId:void 0},qb={botId:h.zero,displayName:"",displayPictureUrl:"",contextLine:void 0,botType:h.zero,contactViewerRelationship:h.zero,score:0,isVerified:void 0,isMetaAiBot:void 0},rb={userid:h.zero,status:h.zero,toggleText:"",statusText:"",authorityLevel:h.zero},sb={userid:h.zero,isConsentRequired:!1},tb={userId:h.zero,isActiveStatusViewable:!1,isActiveStatusViewableOnFb:!1,isActiveStatusViewableOnMessenger:!1,hasConvertedToViewSideSettings:!1},ub={threadKey:h.zero,ctaId:h.zero,title:"",actionUrl:void 0,nativeUrl:void 0,ctaType:"fallback",platformToken:void 0,enableExtensions:void 0,extensionHeightType:void 0},vb={url:"",optimisticClientToken:"",ownerId:h.zero,participantCount:h.zero,isActive:!1,status:h.zero,conferenceName:void 0,threadKey:void 0,callStartTime:void 0,linkType:void 0,linkSurface:void 0,isOpen:!1,lockStatus:h.zero,canAnonymousUsersJoin:void 0,authorityLevel:h.zero},wb={userId:h.zero,url:"",name:""},xb={cowatchSessionId:"",threadKey:h.zero},yb={userId:h.zero,birthday:void 0,state:void 0,zipCode:void 0,phoneNumber:void 0,emailAddress:void 0},zb={threadKey:h.zero,pinnedTimestamp:void 0},Ab={id:h.zero,friendsOfFriends:h.zero,hasPhoneNumber:h.zero,instagramFollower:h.zero,instagramFollowee:h.zero,otherPeople:h.zero},Bb={audience:h.zero,deliverySetting:h.zero,deliveryOptions:h.zero,optimisticDeliverySetting:void 0,usernameToDeliverySetting:void 0},Cb={type_:h.zero,expirationTimestampSeconds:h.zero},Db={categoryIdx:h.zero,emojiIdx:h.zero,type_:h.zero,sortKey:h.zero,emoji:void 0},Eb={fbTrackersOnOtherCompanies:h.zero,otherCompanyTrackersOnFoa:h.zero},Fb={communityId:h.zero},Gb={communityId:h.zero,threadId:h.zero,categoryId:void 0,channelPrivacy:void 0},Hb={communityId:h.zero,categoryId:h.zero,categoryName:void 0,categoryRank:void 0,display:void 0,categoryType:void 0},Ib={id:h.zero,globalMuteUntil:h.zero,globalMuteMessageUntil:void 0,globalMuteCallUntil:void 0,showMessagePreview:!1,isSoundOn:!1,groupNotificationSetting:h.zero,oneToOneNotificationSetting:h.zero,replyReminderSetting:!1,includeInSwitchAccountBadges:!1,messageReminderDisabled:!1,messageSound:h.zero,ringtoneSound:h.zero,newFriendBumpDisabledSetting:!1,dismissNfbThreadsCount:void 0,mutePageAccountMessageReminder:!1},Jb={pk:h.zero},Kb={eventId:h.zero,startTimeMs:void 0,endTimeMs:void 0,eventName:"",locationName:void 0,eventPictureUrl:"",eventPictureUrlFallback:void 0,eventPictureUrlExpirationTimestampMs:void 0,numGoingUsers:h.zero,numInterestedUsers:h.zero,rsvpStatus:void 0},Lb={eventId:h.zero,threadId:h.zero},Mb={eventId:h.zero,communityId:h.zero},Nb={threadId:h.zero,enableAvatarHotlike:!1},Ob={labelId:h.zero,name:"",sortKey:h.zero,thumbnailEmoji:"",thumbnailBackgroundColor:"",sortChatsBy:h.zero,isPinned:void 0,isMuted:void 0},Pb={threadKey:h.zero,enforcements:h.zero,enforcementContentId:void 0,startTimestampSeconds:h.zero,expirationTimestampSeconds:void 0},Qb={threadId:h.zero,srtJobId:h.zero,assetId:h.zero,status:"",dateSubmitted:"",issue:""},Rb={userId:h.zero,readReceiptsDisabled:h.zero,e2eeXmaPreviewsDisabled:void 0,e2eeHdMediaEnabled:void 0},Sb={pk:h.zero,threadId:h.zero,eventType:h.zero,eventTime:h.zero,serverInfoData:"",isProcessed:!1,eventActorId:void 0,isVideoCall:void 0,callDuration:void 0,isGroupCall:void 0},Tb={threadKey:h.zero,commandId:h.zero,commandText:"",commandDescription:"",profileRangeTypeString:"",rank:void 0,isOpenPersistentMenu:!1},Ub={quietTimeId:h.zero,startTime:h.zero,endTime:h.zero,enforcedDays:""},Vb={paymentMethodId:"",paymentCredentialId:h.zero,ownerContactId:h.zero,enrolledEmail:"",billingAgreement:""},Wb={paymentMethodId:"",paymentCredentialId:h.zero,cardType:h.zero,number:"",expireMonth:h.zero,expireYear:h.zero},Xb={paymentMethodId:"",receiverId:h.zero,bankCode:"",bankImageUrl:"",bankTitle:""},Yb={paymentMethodId:"",timestampMs:h.zero,isPreferred:!1,usageCounter:h.zero},Zb={credentialType:h.zero,title:"",paypalLoginRefId:void 0,paypalUrl:void 0},$b={optionId:"",name:void 0,iconUrl:void 0,secondaryIconUrl:void 0,paypalBalance:void 0,totalFee:void 0,totalAmountCharged:void 0,type_:void 0},ac={userId:h.zero,isP2pEligible:!1,isP2mEligible:!1,currencyType:"",isPaypalEligible:!1,hasUserAddedCredentialsBefore:!1},bc={isoCountryCode:""},cc={orderId:h.zero,timestampMs:h.zero,lastModified:h.zero,sellerContactId:h.zero,buyerContactId:h.zero,status:h.zero,sessionId:void 0,title:void 0,subtitle:void 0,imageUrl:void 0,errorLoadCheckoutDescription:void 0,errorPaymentAttemptDescription:void 0,errorStatusUpdateDescription:void 0},dc={orderId:h.zero,productItemId:"",imageUrl:void 0},ec={orderId:h.zero,id:h.zero,currency:h.zero,amount:"",displayPrice:void 0,type_:h.zero},fc={orderId:h.zero,paymentId:h.zero,tdsRedirectUrl:void 0,tdsSuccessDismissUrl:void 0,tdsFailureDismissUrl:void 0,tdsUnknownDismissUrl:void 0,tdsReturnUrl:void 0,tdsHttpMethod:void 0,tdsData:void 0,appSwitchTitle:void 0,appSwitchPrimaryLogoUrl:void 0,appSwitchPrimaryLogoTitle:void 0,appSwitchPrimaryLogoCaption:void 0,appSwitchPrimaryButtonText:void 0,appSwitchFallbackInfoActionText:void 0,appSwitchFallbackInfoActionCaption:void 0,appSwitchFallbackInfoActionUrl:void 0,appSwitchFallbackInfoActionIosAppItemId:void 0,appSwitchAutoSwitchText:void 0,appSwitchAutoSwitchTimeInSecs:void 0,appSwitchAndroidAppPackageName:void 0,appSwitchAppSwitchUrl:void 0},gc={requestId:"",transactionId:h.zero,isFallbackMsite:void 0,fallbackUri:void 0,screen:h.zero,screenDataIntroReason:void 0,screenDataFirstName:void 0,screenDataLastName:void 0,screenDataSenderShortName:void 0,screenDataCardIssuer:void 0,screenDataCardLastFour:void 0,screenDataErrorMessage:void 0,screenDataDobYear:void 0,screenDataDobMonth:void 0,screenDataDobDay:void 0,screenDataIsSender:void 0,screenDataHasPreviousAttemptFailed:void 0,screenDataHasThrownException:void 0,screenDataHasVerificationSucceeded:void 0},hc={timestampMs:h.zero,transactionId:h.zero,optimisticTransactionId:h.zero,currencyType:h.zero,errorMsg:void 0,status:void 0,substatus:void 0},ic={timestampMs:h.zero,transactionId:h.zero,optimisticTransactionId:h.zero,requesterContactId:h.zero,requesteeContactId:h.zero,memo:void 0,requestStatus:h.zero,groupThreadId:void 0,amount:"",paymentCredentialId:void 0,p2pRequestStatus:h.zero},jc={timestampMs:h.zero,transactionId:h.zero,optimisticTransactionId:h.zero,senderContactId:h.zero,receiverContactId:h.zero,memo:void 0,transferStatus:h.zero,amount:"",paymentCredentialId:void 0,p2pTransferStatus:h.zero},kc={transactionId:h.zero,timestampMs:h.zero,participantContactId:h.zero,title:void 0,subtitle:void 0,amount:void 0,transactionType:h.zero},lc={transactionId:h.zero,recipientId:h.zero,currencyType:h.zero,transactionAmount:"",transactionStatusText:"",transactionStatusDescription:void 0,primaryCtaText:void 0,primaryCtaStyle:void 0,primaryCtaId:void 0,primaryCtaType:void 0,secondaryCtaText:void 0,secondaryCtaStyle:void 0,secondaryCtaId:void 0,secondaryCtaType:void 0,tertiaryCtaText:void 0,tertiaryCtaStyle:void 0,tertiaryCtaId:void 0,tertiaryCtaType:void 0,bottomTextCsv:void 0,bottomTextDelimiter:"",bottomTextLinkCsv:void 0},mc={transactionId:h.zero,ctaId:h.zero,ctaType:"fallback"},nc={transactionId:h.zero,rowOrder:h.zero,title:void 0,subtitle:void 0,imageUrls:void 0,ctaId:void 0},oc={userId:h.zero,enabled:!1,nonce:void 0,status:h.zero},pc={userId:h.zero,deviceId:"",appId:"",enabled:!1,publicKey:""},qc={requestId:"",authRequestResult:h.zero,failedAttempts:h.zero},rc={requestId:"",requestResult:h.zero,errorMessage:void 0,errorTitle:void 0,errorCode:void 0,context:void 0},sc={requestId:"",pinAuthResult:h.zero,failedAttempts:h.zero},tc={statusId:h.zero,timestampMs:h.zero,internetConnectionState:h.zero},uc={statusId:h.zero,timestampMs:h.zero,errorShouldBeShown:!1},vc={fbid:h.zero,themeIdx:h.zero,fallbackColor:h.zero,reverseGradiantsForRadial:!1,accessibilityLabel:"",isDeprecated:!1,iconUrl:void 0,iconUrlFallback:void 0,backgroundUrl:void 0,titlebarBackgroundColor:void 0,titlebarButtonTintColor:void 0,titlebarTextColor:void 0,composerInputTextPlaceholderColor:void 0,composerInputBackgroundColor:void 0,composerInputBorderColor:void 0,composerInputBorderWidth:void 0,composerBackgroundColor:void 0,messageTextColor:void 0,messageBorderColor:void 0,messageBorderWidth:void 0,incomingMessageTextColor:void 0,incomingMessageBorderColor:void 0,incomingMessageBorderWidth:void 0,deliveryReceiptColor:void 0,tertiaryTextColor:void 0,primaryButtonBackgroundColor:void 0,hotLikeColor:void 0,secondaryTextColor:void 0,quotedIncomingMessageBubbleColor:void 0,cornerRadius:void 0,composerSecondaryButtonColor:void 0,composerPlaceholderTextColor:void 0,composerTintColor:void 0,blurredComposerBackgroundColor:void 0,composerUnselectedTintColor:void 0,appColorMode:h.zero,normalThemeId:h.zero,description:void 0,reactionPillBackgroundColor:void 0,titlebarAttributionTextColor:void 0},wc={themeFbid:h.zero,gradientIndex:h.zero,color:h.zero,type_:h.zero},xc={threadKey:h.zero,bannerId:h.zero,timestampMs:h.zero,iconUrl:void 0,iconUrlFallback:void 0,iconUrlExpirationTimestampMs:void 0,heading:void 0,titleSectionOne:void 0,titleSectionTwo:void 0,cta1Id:void 0,cta1Title:void 0,cta1Type:void 0,cta2Id:void 0,cta2Title:void 0,cta2Type:void 0,chevronCtaId:void 0,chevronCtaType:void 0,bannerCtaId:void 0,bannerCtaType:void 0,infoLabel:void 0},yc={bannerId:h.zero,ctaId:h.zero,threadKey:h.zero,ctaType:"fallback",ctaTitle:"",deeplinkUrl:void 0,webviewUrl:void 0,contextId:void 0,actionContentBlob:void 0},zc={threadKey:h.zero,bannerId:h.zero,cta1Id:void 0,cta1Title:void 0,cta1Type:void 0,cta2Id:void 0,cta2Title:void 0,cta2Type:void 0,cta3Id:void 0,cta3Title:void 0,cta3Type:void 0,cta4Id:void 0,cta4Title:void 0,cta4Type:void 0,cta5Id:void 0,cta5Title:void 0,cta5Type:void 0},Ac={stickerId:h.zero,staticThumbnailImageUrl:"",staticThumbnailImageFallbackUrl:void 0,staticThumbnailImageUrlExpirationTimestampMs:void 0,staticOriginalImageUrl:"",staticOriginalImageFallbackUrl:void 0,staticOriginalImageUrlExpirationTimestampMs:void 0,staticImageMimeType:"",animatedImageUrl:void 0,animatedImageFallbackUrl:void 0,animatedImageUrlExpirationTimestampMs:void 0,animatedImageMimeType:void 0,stickerPackId:void 0,updatedTimestampMs:void 0,accessibilityLabel:"",indexInPack:void 0,avatarStickerId:void 0,templateId:void 0,templateName:void 0,stickerTags:void 0,vectorImageUrl:void 0,vectorImageFallbackUrl:void 0,vectorImageUrlExpirationTimestampMs:void 0,vectorImageMimeType:void 0,threadKey:void 0},Bc={packId:h.zero,thumbnailImageUrl:"",thumbnailImageFallbackUrl:void 0,thumbnailImageUrlExpirationTimestampMs:void 0,thumbnailImageMimeType:"",indexInTray:void 0,packName:"",isInvalid:!1,packLoadingState:h.zero,packSize:void 0},Cc={resultIndex:h.zero,query:"",stickerId:h.zero,staticThumbnailImageUrl:void 0,staticOriginalImageUrl:void 0,animatedImageUrl:void 0,staticImageMimeType:void 0,animatedImageMimeType:void 0,updatedTimestampMs:void 0,accessibilityLabel:void 0,type_:h.zero,staticThumbnailImageUrlExpirationTimestampMs:void 0,staticThumbnailImageFallbackUrl:void 0,staticOriginalImageUrlExpirationTimestampMs:void 0,staticOriginalImageFallbackUrl:void 0,animatedImageUrlExpirationTimestampMs:void 0,animatedImageFallbackUrl:void 0,mnetRequestId:void 0,vectorImageUrl:void 0,vectorImageFallbackUrl:void 0,vectorImageUrlExpirationTimestampMs:void 0,vectorImageMimeType:void 0,isAvatarSticker:!1,avatarStickerId:void 0,templateId:void 0,templateName:void 0,stickerPackId:void 0},Dc={query:"",status:h.zero,expirationTimestampMs:void 0},Ec={tagIndex:h.zero,name:"",colorCode:""},Fc={stickerId:h.zero,collectionId:h.zero,ranking:void 0},Gc={packId:h.zero,name:"",artist:"",copyright:void 0,profileImageUrl:"",profileImageMimeType:"",stickersPreviewImageUrl:void 0,stickersPreviewImageMimeType:void 0,description:""},Hc={packId:h.zero,ranking:h.zero,isFeatured:!1},Ic={value:"",type_:h.zero,previewTitle:"",previewSubtitle:void 0,previewImageUrl:void 0,previewStatus:h.zero,previewMimeType:void 0,previewStatusUpdatedTimestampMs:h.zero},Jc={id:h.zero,threadKey:h.zero,groupDescription:void 0,groupIconEmoji:void 0},Kc={contactId:h.zero,contactType:h.zero,score:0,scoreType:h.zero,scoreIndex:h.zero},Lc={scoreType:h.zero,requestId:""},Mc={product:h.zero,ruleIndex:h.zero,operation:h.zero,value:"",criteria:""},Nc={feature:"",clientVar:"",rankType:void 0},Oc={product:h.zero,contactId:h.zero,score:void 0},Pc={bucketId:h.zero,ownerId:h.zero,bucketType:h.zero,bucketName:"",pageNum:h.zero,readState:h.zero},Qc={storyId:h.zero,bucketId:h.zero,postingStatus:h.zero,type_:h.zero,optimisticClientId:"",authorId:h.zero,timestampMs:void 0,ttlMs:void 0,text:void 0,stickerId:void 0,mediaId:void 0,mediaType:void 0,mediaUrl:void 0,mediaWidth:void 0,mediaHeight:void 0,mediaPlayableUrl:void 0,mediaPreviewUrl:void 0,mediaPreviewWidth:void 0,mediaPreviewHeight:void 0,mediaThumbnailUrl:void 0,mediaThumbnailWidth:void 0,mediaThumbnailHeight:void 0,backgroundGradientColorTop:void 0,backgroundGradientColorBottom:void 0,captionFontColor:void 0,dominantColor:void 0,mediaFallbackUrl:void 0,mediaUrlExpirationTimestampMs:void 0,mediaPlayableFallbackUrl:void 0,mediaPlayableUrlExpirationTimestampMs:void 0,mediaPreviewFallbackUrl:void 0,mediaPreviewUrlExpirationTimestampMs:void 0,mediaThumbnailFallbackUrl:void 0,mediaThumbnailUrlExpirationTimestampMs:void 0,mediaDashManifest:void 0,authorityLevel:h.zero,composerSessionId:void 0},Rc={storyId:h.zero,viewerContactId:h.zero,interactionType:h.one,pollVotedOption:void 0,timestampMs:h.zero,authorityLevel:h.zero},Sc={reactionId:h.zero,storyId:h.zero,actorContactId:h.zero,reaction:"",timestampMs:h.zero,optimisticClientId:"",authorityLevel:h.zero},Tc={adPosition:h.zero,clientToken:"",title:"",iconUrl:void 0,adText:void 0,adPrefUrl:void 0,adHelpUrl:void 0,shouldShowAdChoice:!1},Uc={adPosition:h.zero,clientToken:"",cardId:h.zero,mediaType:void 0,mediaUrl:void 0,mediaWidth:void 0,mediaHeight:void 0,topColor:void 0,bottomColor:void 0,captionColor:void 0,cardText:void 0,ctaId:void 0,ctaTitle:void 0,ctaType:void 0,videoIdLong:void 0,dashManifest:void 0},Vc={ctaId:h.zero,adPosition:h.zero,cardId:h.zero,clientToken:"",webUrl:void 0,iosAppSite:void 0,iosAppSiteFallback:void 0,iosFallbackUrl:void 0,androidNativeUrl:void 0,pageId:void 0,adId:void 0},Wc={storyId:h.zero,storyOverlayId:"",overlayType:h.zero,boundX:0,boundY:0,boundWidth:0,boundHeight:0,boundRotation:0,pollQuestionText:void 0,pollStyle:void 0,pollOption1Text:void 0,pollOption1VotesCount:void 0,pollOption2Text:void 0,pollOption2VotesCount:void 0,mentionTaggedId:void 0,mentionName:void 0,mentionType:void 0,linkStyle:void 0,linkUrl:void 0,authorityLevel:h.zero},Xc={queryId:"",status:h.zero,expirationTimestampMs:h.zero,numFetchedBuckets:void 0},Yc={statusId:h.zero,ownerId:h.zero,optimisticClientId:"",emoji:"",text:"",timestampMs:h.zero,ttlMs:h.zero},Zc={roomId:h.zero,optimisticClientToken:"",ownerId:h.zero,url:"",name:"",emoji:void 0,callstartTimestampMs:h.zero,expirationTimestampMs:void 0,lockStatus:h.zero,capacity:h.zero,audienceType:h.zero,authorityLevel:h.zero,inviteeType:void 0,chatMode:h.zero,groupId:void 0,activeParticipantCount:h.zero,color:void 0,groupRoomType:void 0,roomImageUrl:void 0,notificationMutedUntilMs:h.zero,creationTime:void 0,chatForRoomThreadId:void 0},$c={roomId:h.zero,participantId:h.zero,type_:h.zero,firstName:void 0,profileUrl:void 0,profileUrlExpirationTimestampMs:void 0,profileFallbackUrl:void 0,authorityLevel:h.zero},ad={threadKey:h.zero,userId:h.zero,latitude:0,longitude:0,geoTimestampMs:h.zero,expirationTimestampMs:h.zero},bd={serverThreadKey:h.zero,clientThreadPk:h.zero,jid:h.zero},cd={offlineAttachmentId:"",mailboxType:h.zero,attachmentType:h.zero,mimeType:"",filename:"",fileSize:void 0,fbid:void 0,threadKey:h.zero,offlineThreadingId:void 0,previewUrl:void 0,previewWidth:void 0,previewHeight:void 0,durationMs:void 0,progress:0,isSent:!1,hasError:!1,isHd:void 0},dd={pk:h.zero,contactPk:h.zero,transportKey:"",isRootAccount:h.zero},ed={pk:h.zero,threadPk:h.zero,authoritativeTsMs:void 0,sortOrder:h.zero,threadSortOrder:void 0,displayTsMs:h.zero,text:void 0,textSize:h.zero,senderContactPk:h.zero,sendStatus:h.zero,isHidden:!1,isTombstoned:!1,isReplyOnly:!1,persistentId:"",subscriptErrorMessage:void 0,messageContentType:h.zero,messageContentSubtype:h.zero,messageSource:h.zero,messageCreationType:h.zero,messageEphemeralityType:h.zero,messageExpireAuthoritativeTsMs:void 0,messageDeleteAuthoritativeTsMs:void 0,messageEphemeralDurationInSec:void 0,replyMessagePk:void 0,replyStatus:h.zero,replySenderContactPk:void 0,replyMessageText:void 0,replyMessageTextSize:h.zero,replyMessageContentType:void 0,replySortOrder:void 0,replySnippet:void 0,replyVicinityStatus:h.zero,mentionOffsets:void 0,mentionLengths:void 0,mentionIds:void 0,mentionTypes:void 0,isForwarded:!1,sentWithMessagePk:void 0,messageTemplateId:void 0,localDataId:void 0,isReadonly:!1,disabledActionsReason:h.zero,shouldPersist:!1,shouldHideInSnippet:!1},fd={pk:h.zero,threadPk:h.zero,contactPk:h.zero,nickname:void 0,adminType:void 0,addedByContactPk:void 0,isPending:!1,capabilities1:h.zero,capabilities2:h.zero,readWatermarkTsMs:h.zero,deliveredWatermarkTsMs:h.zero,readActionTsMs:h.zero,groupParticipantJoinState:void 0},gd={pk:h.zero,lastActivitySortOrder:void 0,lastReadSortOrder:void 0,sortOrder:h.zero,displayTsMs:h.zero,snippet:void 0,isAdminSnippet:!1,isHotlikeSnippet:!1,snippetSenderContactPk:void 0,transportKey:"",threadName:void 0,defaultThreadName:"",defaultThreadNameWithoutNickname:"",threadPictureUrl:void 0,defaultOtherParticipantProfilePictureUrlList:"",defaultOtherParticipantProfilePictureUrlExpirationTimestampMsList:void 0,defaultOtherParticipantProfilePictureFallbackUrlList:void 0,isGroupThread:!1,publicGroupInviteUrl:void 0,threadCreatorContactPk:h.zero,needsAdminApprovalForNewParticipant:void 0,groupMemberAddMode:h.zero,customEmoji:void 0,muteExpirationTsMs:void 0,persistentId:"",currentComposerUserInput:void 0,capabilities1:h.zero,capabilities2:h.zero,isHidden:!1,isTombstoned:!1,isPending:!1,isShadowThread:!1,folderType:h.zero,snippetMessagePk:void 0,lastActivityAuthoritativeTsMs:void 0,lastReadWatermarkAuthoritativeTsMs:void 0,ephemeralOptionsDurationInSec:void 0,ephemeralOptionsLastUpdatedAuthoritativeTsMs:void 0,additionalThreadContext:void 0,pinnedMessagesCount:h.zero},hd={traceId:"",initTimestampMs:h.zero,foregroundTimestampMs:h.zero,traceType:h.zero,shouldFlush:!1,contextOne:void 0,contextTwo:void 0,contextThree:void 0,predefinedId:void 0},id={addonId:h.zero,traceId:"",timestampMs:h.zero,checkPointId:h.zero,syncChannel:void 0,errorMessage:void 0,tags:void 0},jd={adId:h.zero,threadKey:h.zero,adTitle:void 0,adSubtitle:void 0,adPictureUrl:void 0,timestamp:void 0,adBodyText:void 0,adMainImageUrl:void 0,adVideoUrl:void 0,badAdWarningStatus:void 0},kd={threadKey:h.zero,suspectId:void 0,nextCheckTimestampMs:void 0,token:void 0,tag:void 0,storyLocation:void 0,entryPoint:void 0,context:void 0},ld={threadPk:h.zero,suspectContactPk:h.zero,nextCheckTimestampMs:void 0,tag:void 0,storyLocation:void 0,entryPoint:void 0,frxReportingPromptToken:void 0,context:void 0,flowType:void 0,maxImpressionCount:void 0},md={contactId:h.zero,status:h.zero,lastActiveTimestampMs:void 0,expirationTimestampMs:h.zero,capabilities:void 0,publishId:void 0},nd={emojiIdx:h.zero,emoji:"",categoryIdx:h.zero,sortKey:h.zero,animatedUrl:void 0},od={pk:h.zero,pendingBackupTaskId:h.zero,persistentId:"",actionType:h.zero,contentType:h.zero,backupStatus:h.zero,listKey:"",uniqueKey:"",sortKey:"",echoContent:void 0,lsTraceId:void 0,error:void 0,echoEncodingLatencyNs:void 0,errorMessage:void 0,protobufBackupKey:void 0,attachmentPayload:void 0,attachmentErrorCode:void 0,tamThreadSubtype:void 0,isInstamadillo:!1},pd={backupId:h.zero,devicePublicKeyBlob:new ArrayBuffer(0),devicePrivateKeyBlob:new ArrayBuffer(0),epochStoragePublicKeyBlob:new ArrayBuffer(0),epochStoragePrivateKeyBlob:new ArrayBuffer(0),mailboxRootKeyBlob:new ArrayBuffer(0),ocmfClientStateBlob:new ArrayBuffer(0),obliviousValidationTokenBlob:new ArrayBuffer(0),authorityLevel:h.zero,deviceId:void 0,epochAuthPrivateKeyBlob:new ArrayBuffer(0),epochAuthPublicKeyBlob:new ArrayBuffer(0),backupTenancy:void 0,encryptionVersion:h.zero,revisionVersion:h.zero},qd={backupId:h.zero,devicePrivateKeyDebugToken:"",epochStoragePrivateKeyDebugToken:"",epochAuthPrivateKeyDebugToken:"",mailboxRootKeyDebugToken:"",ocmfClientStateDebugToken:"",appVersion:""},rd={epochId:h.zero,epochAnonId:"",epochRootKeyDebugToken:"",appVersion:""},sd={backupId:h.zero,devicePrivateKeyDebugToken:"",epochStoragePrivateKeyDebugToken:"",epochAuthPrivateKeyDebugToken:"",mailboxRootKeyDebugToken:"",ocmfClientStateDebugToken:"",appVersion:""},td={epochId:h.zero,epochAnonId:"",epochRootKeyDebugToken:"",appVersion:""},ud={epochId:h.zero,backupId:h.zero,epochAnonIdBlob:new ArrayBuffer(0),epochRootKeyBlob:new ArrayBuffer(0),epochStatus:h.zero,authorityLevel:h.zero},vd={pk:h.zero,backupId:void 0,authorityLevel:h.zero,backupTenancy:void 0,isUserOptedOut:void 0,hasOtcEligibleDevices:!1,encryptionManagementDelegatorId:void 0},wd={pk:h.zero,recoveryCode:"",virtualDeviceType:h.one,cloudServiceAccount:void 0,hsmPinNormalizationStatus:void 0},xd={pk:h.zero,recoveryCodeStatus:h.zero},yd={taskId:h.zero,virtualDeviceId:new ArrayBuffer(0),blobDecryptionKey:new ArrayBuffer(0),debugToken:void 0},zd={taskId:h.zero,listId:"",threadId:""},Ad={pk:h.zero,backupId:h.zero,virtualDeviceId:new ArrayBuffer(0),virtualDeviceType:h.one,creationTime:void 0,deviceCreatedOn:void 0,removalStatus:h.one,requiresHsmMigration:void 0},Bd={backupId:h.zero,creationTime:h.zero,lastSyncTime:h.zero,backupSize:h.zero,authorityLevel:h.zero},Cd={pk:h.zero,taskId:h.zero,backupId:h.zero,deviceRegistrationId:""},Dd={taskId:h.zero,mailboxPartialId:"",listId:"",numItems:h.zero,contentType:h.zero,startSortKey:void 0,traceId:void 0,isPointQuery:!1,messagePartialId:void 0,newerNumItems:h.zero,unencryptedSortKey:void 0,serverThreadKey:void 0,messageId:void 0,waThreadId:void 0},Ed={pk:h.zero,currentStatus:h.zero},Fd={messagePk:h.zero,isBackedUp:!1,retryCount:h.zero,lastRetryTimestamp:h.zero},Gd={threadId:"",lastUpdated:h.zero,restoreStatus:void 0,serverThreadKey:void 0},Hd={platform:h.zero,thirdPartyId:void 0,authorityLevel:h.zero},Id={deviceRegistrationId:"",tempOcmfClientState:new ArrayBuffer(0),tempServerDataId:void 0,authorityLevel:h.zero},Jd={deviceId:"",manufacturer:void 0,model:void 0,lastLoginLocation:void 0,lastLoginTime:void 0,lastUploadTime:void 0,authorityLevel:h.zero,appId:void 0},Kd={stateKey:"",stateValue:""},Ld={pk:h.zero,notificationSendingStatus:h.zero,authorityLevel:h.zero},Md={pk:h.zero,pendingBackupTaskId:h.zero,actThreadId:"",toplevelOfflineThreadingId:"",supplementalKey:void 0,messageTimestampMs:h.zero,backupAction:h.zero,attachmentPayload:void 0,senderId:void 0},Nd={optOutKey:"",optOutValue:""},Od={pk:h.zero,onboardingDecision:h.zero,isNewUser:!1},Pd={backupId:h.zero,deviceId:h.zero,publicKey:new ArrayBuffer(0),clientVersion:h.zero},Qd={deviceId:h.zero,supportedVersion:h.zero},Rd={placeholder:h.zero},Sd={openThreadId:h.zero,armadilloThreadId:h.zero,isMigrated:!1,showOpenMessageHistory:!1,timestampMs:h.zero},Td={threadKey:h.zero,timestampMs:h.zero,fetchTimestampMs:void 0},Ud={threadJid:h.zero,latestMessageTimestampMs:void 0,offlineQueueStatus:void 0},Vd={pk:h.zero,translatedText:void 0,translatedTextDialect:void 0},Wd={folderId:h.zero,numActiveMembers:h.zero,activeMembersNumExpirationTimestampMilliseconds:h.zero},Xd={threadId:h.zero,folderId:void 0,numActiveMembers:h.zero,activeMembersNumExpirationTimestampMilliseconds:h.zero},Yd={userId:h.zero,coPresenceObjectId:void 0,availability:h.zero,coPresenceAvailability:void 0},Zd={threadKey:h.zero,ctaId:h.zero,title:"",actionUrl:void 0,nativeUrl:void 0,ctaType:"fallback",platformToken:void 0,enableExtensions:void 0,extensionHeightType:void 0},$d={creationId:h.zero,status:h.zero,threadKey:void 0},ae={sessionId:h.zero,responderId:void 0,initiatorId:void 0,messagePayload:void 0,pakeSecret:void 0,messageType:h.zero,senderId:void 0,clientType:h.zero,timestampSent:void 0,timestampProcessed:void 0,responderUserId:void 0,initiatorUserId:void 0},be={inviteId:h.zero,workroomId:h.zero,inviterUserId:h.zero,inviteeUserId:void 0,inviteeEmail:void 0,inviteeName:void 0,inviteeProfilePictureUrl:void 0,inviteUrl:void 0,inviterName:void 0,workroomName:void 0,workroomPictureUrl:void 0,threadId:void 0,isInviteeWithinSameEnterpriseInstance:void 0},ce={threadKey:h.zero,messageId:"",status:h.zero,useCase:"",content:"",link:void 0,title:void 0},de={pk:h.zero,messagePayload:new ArrayBuffer(0),threadId:"",offlineThreadingId:"",messageTimestampMs:h.zero,isLocalOnlyMessage:!1,expiryTimestampMs:void 0,tags:void 0,extraData:void 0},ee={pk:h.zero,messagePayload:new ArrayBuffer(0),threadId:"",toplevelOfflineThreadingId:"",supplementalKey:"",offlineThreadingId:"",messageTimestampMs:h.zero},fe={pk:h.zero,deletedMessagePayload:void 0,threadId:"",offlineThreadingId:"",deletionOfflineThreadingId:void 0,deletionTimestampMs:h.zero,isLocalOnlyMessage:!1,messageTimestampMs:h.zero},ge={pk:h.zero,tag:"",threadId:"",offlineThreadingId:"",messageTimestampMs:h.zero,localMessagePersistenceStoreKey:h.zero},he={projectName:"",configId:"",cipherSuite:h.zero,publicKey:new ArrayBuffer(0),maxEvals:h.zero,redemptionLimit:h.zero,expirationTimestampMs:h.zero,tokenPollFrequencyMs:void 0,maxClientTokenPoolSize:void 0},ie={tokenId:h.zero,nonce:new ArrayBuffer(0),blindedNonce:new ArrayBuffer(0),blindingFactor:new ArrayBuffer(0),configId:""},je={tokenId:h.zero,configId:"",nonce:new ArrayBuffer(0),sharedSecret:new ArrayBuffer(0),redeemLimit:h.zero},ke={taskId:h.zero,projectName:"",maxClientTokenPoolSize:h.zero},le={taskId:h.zero,projectName:"",failureCount:h.zero},me={taskId:h.zero,syncChannel:h.zero,requiresAuthentication:!1},ne={keyId:h.zero,publicKey:"",kemId:h.zero,kdfId:h.zero,aeadId:h.zero,expirationDate:h.zero,lastUpdatedTime:h.zero},oe={pk:h.zero,xmaDataclass:void 0,contentRef:void 0},pe={edgeId:h.zero,targetUserId:h.zero,targetUserType:h.zero},qe={supervisionMetadataId:h.zero,supervisionStatus:void 0},re={recordId:h.zero,startTimestampSec:h.zero,endTimestampSec:h.zero,timeZoneId:""},se={interventionId:h.zero,interventionEntId:"",logOnlySafetyInterventionType:"",uiType:"",userId:"",targetUserId:h.zero,targetThreadId:h.zero,mutStartTime:void 0,mutExpirationTime:h.zero,serverPayload:"",mutPayload:"",mutPayloadType:"",mutTargets:"",mutMaxImpressionsPerEntity:h.zero,mutMaxDismissalsPerEntity:h.zero,mutImpressionCooldownSeconds:h.zero,mutDismissalsCount:h.zero,mutLastDismissalTimestamp:h.zero,mutImpressionsCount:h.zero,mutLastImpressionTimestamp:h.zero},te={threadId:h.zero,timestamp:h.zero,nextMessageTimestamp:h.neg_one,status:h.zero,threadType:h.zero},ue={queryId:"",type_:h.zero,hasNextPage:!1,nextPageCursor:h.zero,resultCount:h.zero,sessionId:""},ve={receiverFetchId:"",cdnUrl:void 0,lottieCdnUrl:void 0,expirationTimestampMs:void 0,lottieExpirationTimestampMs:void 0,mimeType:void 0,width:void 0,height:void 0,gifAttribution:void 0},we={accountId:h.zero,syncedField:"name",isEnabled:!1};g.syncGroup=a;g.pendingTask=b;g.networkRequest=c;g.userInfo=e;g.pendingFireAndForgetTask=f;g.userVisibleError=d;g.mailboxTaskCompletionNotificationContext=i;g.mailboxTaskCompletionApiTask=j;g.contact=k;g.igContactInfo=l;g.workContactInfo=m;g.contextualProfileV1=n;g.profileSheetInformation=o;g.fbTransportContact=p;g.botProfileInfoV2=q;g.horizonContactInfo=r;g.reaction=s;g.thread=t;g.threadsRangesV2Generated=u;g.message=v;g.messagesRangesV2Generated=w;g.participant=x;g.cta=y;g.attachment=z;g.attachmentsRangesV2Generated=A;g.attachmentItem=B;g.attachmentCta=C;g.quickReplyCta=D;g.mSuggestion=E;g.rtcSignal=F;g.rtcOngoingCallsOnThreadsV2=G;g.rtcMultiwayCallInitiationConferenceName=H;g.mailboxMetadatum=I;g.groupMembershipApprovalRequest=J;g.adminMessageCta=K;g.threadNullstate=L;g.threadNullstateCta=M;g.focusModeCta=N;g.messagesOptimisticContext=O;g.threadsOptimisticContext=P;g.messagesStatus=Q;g.messageRequest=R;g.folderMetadatum=S;g.poll=T;g.pollOptionsV2=U;g.pollVotesV2=V;g.pinnedMessagesV2=W;g.filteredThreadsRangesV3Generated=X;g.communityFolder=Y;g.communityMember=Z;g.communityMembersRangesV2Generated=$;g.attachmentConversion=aa;g.savedMessage=ba;g.rtcRoomsOnThread=ca;g.igThreadInfo=da;g.editMessageHistory=ea;g.igThreadLabel=fa;g.groupInvite=ga;g.inboxThreadsRange=ha;g.communityDirectInvitesPreset=ia;g.clientWebPinnedMessage=ja;g.msgPinnedMessagesV2=ka;g.filteredMessagesRangesV2Generated=la;g.takenDownThread=ma;g.participantListQuery=na;g.syncGroupThreadsRange=oa;g.communityChatMessageSeenCount=pa;g.communityChatPoll=qa;g.communityChatPollOption=ra;g.communityChatPollVote=sa;g.reactionsV2=ta;g.reactionsV2DetailsUser=ua;g.reactionsV2DetailsUsersRangesV2Generated=va;g.reactionV2Type=wa;g.bot=xa;g.businessCommItem=ya;g.groupInvitationsPending=za;g.businessSupportNotificationSetting=Aa;g.threadLabelMapping=Ba;g.inboxViewState=Ca;g.inboxViewStateV2=Da;g.audioChannelEvent=Ea;g.reactionsV2Detail=Fa;g.reactionsV2DetailsRangesV2Generated=Ga;g.communityChatPollVotesRangesV2Generated=Ha;g.discoverableChatParticipant=Ia;g.discoverableChatParticipantsRangesV2Generated=Ja;g.rollCall=Ka;g.communitySurfaceRange=La;g.communityRule=Ma;g.rollCallContributionsV2=Na;g.businessThreadInfo=Oa;g.threadCreationStatus=Pa;g.sharedAlbum=Qa;g.sharedAlbumContribution=Ra;g.sharedAlbumsMultimediaUploadJob=Sa;g.sharedAlbumsMultimediaUploadSubjobsStatus=Ta;g.threadPointQueryTtrc=Ua;g.businessThreadSuggestion=Va;g.communityChatAdminAssistCommandSequence=Wa;g.communityThreadSyncInfo=Xa;g.threadBan=Ya;g.supportTranslation=Za;g.supportTranslationFeedback=$a;g.threadsOptimisticMetadatum=ab;g.aiBotFeedbackSubmissionStatus=bb;g.igdXmaReceiverFetch=cb;g.threadSeenHeadsQuery=db;g.discoverableChatsPersonalInboxInfo=eb;g.e2eeComposerDraftLinkPreview=fb;g.mediaSendJob=gb;g.typingIndicator=hb;g.serverSearchResult=ib;g.serverSearchSection=jb;g.searchQuery=kb;g.universalSearchRecentSearch=lb;g.messageSearchResult=mb;g.messageSearchQuery=nb;g.participantSearchQuery=ob;g.cmSearchNullstateMetadatum=pb;g.aiBotSearchMetadatum=qb;g.contactUploadSetting=rb;g.gdprSetting=sb;g.presenceSetting=tb;g.persistentMenuItem=ub;g.videoChatLinksJoining=vb;g.videoChatLinksAttemptedJoiner=wb;g.cowatchSession=xb;g.selfProfile=yb;g.pinnedThread=zb;g.messagingSetting=Ab;g.reachabilitySetting=Bb;g.featureLimit=Cb;g.emojiSet=Db;g.epdCookieSetting=Eb;g.cmCommunityList=Fb;g.cmChannelList=Gb;g.cmCategoryList=Hb;g.notificationSetting=Ib;g.encryptedBackupsStatusTrigger=Jb;g.fbEvent=Kb;g.cmChannelEvent=Lb;g.communityEvent=Mb;g.avatarSetting=Nb;g.threadLabel=Ob;g.threadLimit=Pb;g.businessSupportCaseDetail=Qb;g.messagingPrivacySetting=Rb;g.rtcCallEvent=Sb;g.customThreadCommand=Tb;g.msgrQuietTime=Ub;g.paymentTypePaypal=Vb;g.paymentTypeCard=Wb;g.paymentTypeBankV2=Xb;g.paymentMethod=Yb;g.newPaymentCredentialOption=Zb;g.paypalFundingOption=$b;g.paymentsEligibility=ac;g.paymentsOfacBlacklistedCountry=bc;g.p2mInvoice=cc;g.p2mInvoiceAttachment=dc;g.paymentPriceListItem=ec;g.p2mCharge=fc;g.paymentP2pRiskVerification=gc;g.paymentTransactionV2=hc;g.p2pRequestV2=ic;g.p2pTransferV2=jc;g.transactionHistory=kc;g.paymentsTransactionDetailsCore=lc;g.paymentsTransactionDetailsCta=mc;g.paymentsTransactionDetailsRow=nc;g.paymentUserAuth=oc;g.paymentClientAuthToken=pc;g.paymentAuthRequestResult=qc;g.paymentServerRequestResult=rc;g.paymentPinVerificationResult=sc;g.connectivityStatus=tc;g.userVisibleNetworkConnectivityError=uc;g.threadTheme=vc;g.gradientColor=wc;g.inThreadBanner=xc;g.inThreadBannerCta=yc;g.inThreadBannerOverflowMenu=zc;g.sticker=Ac;g.stickerPack=Bc;g.stickerSearchResult=Cc;g.stickerSearchQuery=Dc;g.stickerSearchFeaturedTag=Ec;g.stickerToCollection=Fc;g.stickerPackDetail=Gc;g.stickerStorePackIndex=Hc;g.forwardContent=Ic;g.linkedGroup=Jc;g.rankingScore=Kc;g.rankingRequest=Lc;g.valueModelRule=Mc;g.valueModelFeature=Nc;g.valueModelOutput=Oc;g.storyBucket=Pc;g.story=Qc;g.storyViewer=Rc;g.storyReaction=Sc;g.storyAdUnit=Tc;g.storyAdCard=Uc;g.storyAdCta=Vc;g.storyOverlay=Wc;g.storyBucketsPaginatedQuery=Xc;g.status=Yc;g.room=Zc;g.roomParticipant=$c;g.liveLocationSharer=ad;g.miActMappingTable=bd;g.mediaStaging=cd;g.clientAccount=dd;g.clientMessage=ed;g.clientParticipant=fd;g.clientThread=gd;g.dataTraceMetum=hd;g.dataTraceAddon=id;g.adContext=jd;g.threadProactiveWarningSetting=kd;g.clientThreadProactiveWarningSetting=ld;g.presenceState=md;g.availableReaction=nd;g.pendingBackupsContextV2=od;g.secureEncryptedBackupsClientState=pd;g.encryptedBackupsDebugMetadatum=qd;g.encryptedBackupsEpochDebugMetadatum=rd;g.encryptedBackupsDebugMetadataV2=sd;g.encryptedBackupsEpochDebugMetadataV2=td;g.secureEncryptedBackupsEpoch=ud;g.encryptedBackup=vd;g.secureEncryptedBackupsGeneratedRecoveryCode=wd;g.secureEncryptedBackupsRecoveryCodeStatus=xd;g.secureRecoveryCodeDatum=yd;g.secureEncryptedBackupsMessageThreadIdContext=zd;g.encryptedBackupsVirtualDevice=Ad;g.encryptedBackupsMetadatum=Bd;g.deviceMetadatum=Cd;g.encryptedBackupRestoreTaskPayloadContext=Dd;g.encryptedBackupsDyiBackupRestoreStatus=Ed;g.encryptedBackupsMessageBackupStatus=Fd;g.encryptedBackupsClientRestoreStatus=Gd;g.thirdPartyIdStore=Hd;g.secureGetSecretsContext=Id;g.encryptedBackupsOtcDevice=Jd;g.experiencesSharedState=Kd;g.encryptedBackupsOtcNotificationSendingStatus=Ld;g.pendingProtobufBackupsContext=Md;g.autoRestoreOptOut=Nd;g.encryptedBackupUserPreference=Od;g.secureEncryptedBackupsDevice=Pd;g.secureEncryptedBackupsDeviceSupportedVersion=Qd;g.e2eeDummyTableForSync=Rd;g.cutoverThread=Sd;g.occamadilloMostRecentMessagePerThread=Td;g.offlineQueueThreadStatus=Ud;g.clientMessageTranslationInfo=Vd;g.communityMessagingAggregatedUserPresenceCountsForCommunity=Wd;g.communityMessagingAggregatedCopresenceCountsForChat=Xd;g.workroomsCoPresenceState=Yd;g.persistentMenuCta=Zd;g.workroomCreationRequest=$d;g.pakeMessage=ae;g.workroomInvite=be;g.workGenai=ce;g.localMessagePersistenceStore=de;g.localMessagePersistenceStoreSupplemental=ee;g.localMessagePersistenceStoreDeletedMessage=fe;g.localMessagePersistenceStoreTagIndex=ge;g.secureAcsConfiguration=he;g.secureAcsBlindedToken=ie;g.secureAcsToken=je;g.acsRequestContext=ke;g.anonymousTaskContext=le;g.lightspeedTaskContext=me;g.ohaiGatewayKeyConfig=ne;g.clientXma=oe;g.supervisionEdge=pe;g.supervisionMetadatum=qe;g.screenTime=re;g.mwbSafetyIntervention=se;g.messengerFtsThread=te;g.messengerFtsThreadsQuery=ue;g.mediaReceiverFetchTransportMapping=ve;g.accountSyncedField=we}),98);
__d("CSChatLSTableDefaultData",["I64","LSBitOffset","LSIntEnum","LSMailboxType","LSReadReceiptSettingState","LSSampleData"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a={additionalThreadContext:void 0,authorityLevel:(h||(h=d("I64"))).zero,avatarStickerId:void 0,avatarStickerInstructionKeyId:void 0,avatarStickerOriginalImageMimeType:void 0,avatarStickerOriginalImageUrl:void 0,avatarStickerThumbnailImageMimeType:void 0,avatarStickerThumbnailImageUrl:void 0,cannotReplyReason:void 0,cannotUnsendReason:void 0,capabilities:d("LSBitOffset").set(h.sub((i||(i=d("LSIntEnum"))).ofNumber(2),h.of_string("64")),d("LSBitOffset").empty),capabilities2:d("LSBitOffset").set(h.sub(i.ofNumber(102),h.of_string("64")),d("LSBitOffset").set(h.sub(i.ofNumber(109),h.of_string("64")),d("LSBitOffset").empty)),capabilities3:h.zero,capabilities4:h.zero,capabilities5:h.zero,clientThreadKey:void 0,customEmoji:void 0,customEmojiImageUrl:void 0,disableComposerInput:!1,disappearingModeInitiator:void 0,disappearingThreadKey:void 0,eventEndTimestampMs:void 0,eventStartTimestampMs:void 0,folderName:"",hasPendingInvitation:void 0,hasPersistentMenu:!1,igFolder:void 0,inviterId:void 0,isAdminSnippet:!1,isAllUnreadMessageMissedCallXma:void 0,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:h.zero,lastMessageCtaId:void 0,lastMessageCtaTimestampMs:void 0,lastMessageCtaType:void 0,lastNonMissedCallXmaMessageTimestampMs:void 0,lastReadWatermarkTimestampMs:h.zero,mailboxType:i.ofNumber(c("LSMailboxType").MESSENGER),memberCount:void 0,muteCallsExpireTimeMs:h.zero,muteExpireTimeMs:h.zero,muteMentionExpireTimeMs:h.zero,needsAdminApprovalForNewParticipant:void 0,normalizedSearchTerms:void 0,nullstateDescriptionText1:void 0,nullstateDescriptionText2:void 0,nullstateDescriptionText3:void 0,nullstateDescriptionType1:void 0,nullstateDescriptionType2:void 0,nullstateDescriptionType3:void 0,ongoingCallState:h.zero,otidOfFirstMessage:void 0,outgoingBubbleColor:void 0,parentThreadKey:h.zero,proactiveWarningDismissTime:void 0,readReceiptsDisabledV2:i.ofNumber(c("LSReadReceiptSettingState").DEFAULT),removeWatermarkTimestampMs:h.zero,shouldRoundThreadPicture:void 0,snippet:void 0,snippetAttribution:void 0,snippetAttributionStringHash:void 0,snippetHasEmoji:!1,snippetSenderContactId:void 0,snippetStringArgument1:void 0,snippetStringHash:void 0,syncGroup:void 0,takedownState:void 0,themeFbid:void 0,threadDescription:void 0,threadInviteLink:void 0,threadInvitesEnabled:h.zero,threadInvitesEnabledV2:h.zero,threadKey:h.zero,threadName:void 0,threadPictureUrl:void 0,threadPictureUrlExpirationTimestampMs:void 0,threadPictureUrlFallback:void 0,threadTags:void 0,threadType:h.zero,unreadDisappearingMessageCount:h.zero,unsendLimitMs:h.zero,viewedPluginContext:void 0,viewedPluginKey:void 0};b={adminMsgCtaId:void 0,adminMsgCtaTitle:void 0,adminMsgCtaType:void 0,authorityLevel:h.zero,cannotUnsendReason:void 0,displayedContentTypes:h.zero,ephemeralDurationInSec:void 0,ephemeralExpirationTs:void 0,forwardScore:void 0,hasQuickReplies:!1,hotEmojiSize:void 0,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isForwarded:void 0,isUnsent:!1,localDataId:void 0,mentionIds:void 0,mentionLengths:void 0,mentionOffsets:void 0,mentionTypes:void 0,messageId:"",messageRenderingType:h.zero,msUntilExpirationTs:void 0,offlineThreadingId:"",primarySortKey:h.zero,quickReplyType:h.zero,replyAttachmentExtra:void 0,replyAttachmentId:void 0,replyAttachmentType:void 0,replyCtaId:void 0,replyCtaTitle:void 0,replyMediaExpirationTimestampMs:void 0,replyMediaPreviewHeight:void 0,replyMediaPreviewWidth:void 0,replyMediaUrl:void 0,replyMediaUrlFallback:void 0,replyMediaUrlMimeType:void 0,replyMessageText:void 0,replySnippet:void 0,replySourceId:void 0,replySourceTimestampMs:void 0,replySourceType:void 0,replySourceTypeV2:void 0,replyStatus:void 0,replyToUserId:void 0,replyType:void 0,secondarySortKey:void 0,senderId:h.zero,sendStatus:h.zero,sendStatusV2:h.zero,stickerId:void 0,subscriptErrorMessage:void 0,takedownState:void 0,text:void 0,textHasLinks:!1,threadKey:h.zero,timestampMs:h.zero,unsentTimestampMs:void 0,viewedPluginContext:void 0,viewedPluginKey:void 0,viewFlags:h.zero};e={ctaId:h.zero,messageId:"",messageTimestampMs:h.zero,platformToken:"",threadKey:h.zero,title:"",type_:"fallback"};f={attachmentCta1Id:h.zero,attachmentCta2Id:h.zero,attachmentCta3Id:h.zero,attachmentFbid:"",attachmentIndex:h.zero,attachmentType:h.zero,authorityLevel:h.zero,cta1Title:void 0,cta1Type:void 0,cta2Title:void 0,cta2Type:void 0,cta3Title:void 0,cta3Type:void 0,dashManifest:void 0,defaultCtaId:h.zero,defaultCtaTitle:void 0,defaultCtaType:void 0,faviconUrl:void 0,faviconUrlExpirationTimestampMs:h.zero,faviconUrlFallback:void 0,hasMedia:!1,hasXma:!1,imageUrl:void 0,isSharable:!1,messageId:"",originalPageSenderId:h.zero,playableUrl:void 0,playableUrlExpirationTimestampMs:h.zero,playableUrlFallback:void 0,playableUrlMimeType:void 0,previewHeight:h.zero,previewUrl:void 0,previewUrlExpirationTimestampMs:h.zero,previewUrlFallback:void 0,previewUrlLarge:void 0,previewUrlMimeType:void 0,previewWidth:h.zero,subtitleText:void 0,threadKey:h.zero,timestampMs:h.zero,titleText:void 0,xmaLayoutType:void 0,xmasTemplateType:void 0};c={actionContentBlob:void 0,actionUrl:void 0,attachmentFbid:"",attachmentIndex:h.zero,ctaId:h.zero,enableExtensions:!1,extensionHeightType:void 0,messageId:"",nativeUrl:void 0,platformToken:void 0,targetId:h.zero,threadKey:h.zero,title:"",type_:"fallback",urlWebviewType:void 0};var j={authorityLevel:h.zero,blockedByViewerStatus:h.zero,blockedSinceTimestampMs:void 0,canViewerMessage:void 0,capabilities:void 0,capabilities2:void 0,contactReachabilityStatusType:void 0,contactType:h.zero,contactTypeExact:h.zero,contactViewerRelationship:h.zero,deviceContactId:void 0,emailAddress:void 0,fbUnblockedSinceTimestampMs:void 0,firstName:void 0,gender:h.zero,id:h.zero,isEmployee:!1,isManagedByViewer:void 0,isMemorialized:!1,isMessengerUser:!1,messengerCallLogThirdPartyId:void 0,name:"",normalizedNameForSearch:void 0,normalizedSearchTerms:void 0,optimisticBlockedByViewerStatus:void 0,optimisticBlockedByViewerStatusTimestampMs:void 0,pendingFbUserBlockAction:void 0,pendingFbUserBlockActionTimestampMs:void 0,pendingMessengerRestrictAction:void 0,pendingMnUserBlockAction:void 0,pendingMnUserBlockActionTimestampMs:void 0,phoneNumber:void 0,profilePictureFallbackUrl:void 0,profilePictureLargeFallbackUrl:void 0,profilePictureLargeUrl:void 0,profilePictureLargeUrlExpirationTimestampMs:void 0,profilePictureUrl:"",profilePictureUrlExpirationTimestampMs:void 0,profileRingColor:void 0,profileRingColorExpirationTimestampMs:void 0,profileRingState:void 0,rank:0,requiresMultiway:void 0,restrictionType:h.zero,secondaryName:void 0,waConnectStatus:h.zero,workCompanyId:void 0,workCompanyName:void 0,workForeignEntityType:h.zero,workJobTitle:void 0},k={authorityLevel:h.zero,contactId:h.zero,deliveredWatermarkTimestampMs:h.zero,groupParticipantJoinState:h.zero,isAdmin:void 0,isModerator:!1,isSuperAdmin:void 0,nickname:void 0,normalizedSearchTerms:void 0,participantCapabilities:void 0,readActionTimestampMs:h.zero,readWatermarkTimestampMs:h.zero,subscribeSource:void 0,threadKey:h.zero,threadRoles:h.zero};g.thread=a;g.message=b;g.quickReplyCta=e;g.attachment=f;g.attachmentItem=d("LSSampleData").attachmentItem;g.attachmentCta=c;g.contact=j;g.participant=k}),98);
__d("LSCTAType",[],(function(a,b,c,d,e,f){a=Object.freeze({FALLBACK:"fallback",PAGE_FEEDBACK_DO_NOT_USE:"page_feedback",XMA_PAGE_SHARE:"xma_page_share",XMA_ELEMENT_SHARE:"xma_element_share",XMA_PAYMENT:"xma_payment",XMA_GAME_PLAY:"xma_game_play",XMA_WEB_URL:"xma_web_url",XMA_EXTENSION:"xma_extension",XMA_POSTBACK:"xma_postback",XMA_OPEN_NATIVE:"xma_open_native",XMA_OPEN_DIALOG:"xma_open_dialog",XMA_FBPAY_OFFER_DETAIL:"xma_fbpay_offer_detail",XMA_REFERRAL_ACCEPT:"xma_referral_accept",XMA_REFERRAL_SEE_TERMS:"xma_referral_see_terms",XMA_REFERRAL_SEND_MONEY:"xma_referral_send_money",XMA_REFERRAL_SEE_DETAILS:"xma_referral_see_details",XMA_REFERRAL_INVITE_FRIENDS:"xma_referral_invite_friends",XMA_BRANDED_CAMERA:"xma_branded_camera",XMA_ACCOUNT_LINK:"xma_account_link",XMA_SEE_COMMUNITY:"xma_see_community",XMA_SEE_COMMUNITY_CHAT:"xma_see_community_chat",XMA_JOIN_COMMUNITY:"xma_join_community",XMA_JOIN_COMMUNITY_CHAT:"xma_join_community_chat",XMA_ACCOUNT_UNLINK:"xma_account_unlink",XMA_DIRECT_SEND:"xma_direct_send",XMA_FEEDBACK_SEND:"xma_feedback_send",XMA_LIVE_LOCATION_SHARING:"xma_live_location_sharing",XMA_STATIC_LOCATION_SHARING:"xma_static_location_sharing",XMA_SPONSORED_MESSAGE_WEB_URL:"xma_sponsored_message_web_url",XMA_SPONSORED_MESSAGE_POSTBACK:"xma_sponsored_message_postback",XMA_BIZ_INBOX_FORM_SEND:"xma_biz_inbox_form_send",XMA_WORKPLACE_CHAT_BOT_SUBMIT_FEEDBACK:"xma_workplace_chat_bot_submit_feedback",XMA_RTC_AUDIO:"xma_rtc_audio",XMA_RTC_VIDEO:"xma_rtc_video",XMA_RTC_MISSED_AUDIO:"xma_rtc_missed_audio",XMA_RTC_MISSED_VIDEO:"xma_rtc_missed_video",XMA_RTC_MISSED_GROUP_AUDIO:"xma_rtc_missed_group_audio",XMA_RTC_MISSED_GROUP_VIDEO:"xma_rtc_missed_group_video",XMA_RTC_ENDED_AUDIO:"xma_rtc_ended_audio",XMA_RTC_ENDED_VIDEO:"xma_rtc_ended_video",XMA_RTC_NEW_AUDIO_DEFAULT:"xma_rtc_new_audio_default",XMA_RTC_NEW_VIDEO_DEFAULT:"xma_rtc_new_video_default",XMA_RTC_NEW_AUDIO_FROM_FB_SHARE:"xma_rtc_new_audio_from_fb_share",XMA_RTC_NEW_VIDEO_FROM_FB_SHARE:"xma_rtc_new_video_from_fb_share",XMA_RTC_NEW_AUDIO_FROM_FB_VIDEO_SHARE:"xma_rtc_new_audio_from_fb_video_share",XMA_RTC_NEW_VIDEO_FROM_FB_VIDEO_SHARE:"xma_rtc_new_video_from_fb_video_share",XMA_RTC_NEW_AUDIO_FROM_COWATCH_SHARE:"xma_rtc_new_audio_from_cowatch_share",XMA_RTC_NEW_VIDEO_FROM_COWATCH_SHARE:"xma_rtc_new_video_from_cowatch_share",XMA_RTC_COWATCH_START_VIDEO:"xma_rtc_cowatch_start_video",XMA_RTC_APPLY_EFFECT:"xma_rtc_apply_effect",XMA_RTC_SCHEDULE_CALL:"xma_rtc_schedule_call",XMA_FILE_URL:"xma_file_url",XMA_MONTAGE_SHARE:"xma_montage_share",XMA_RATE_SELLER:"xma_rate_seller",XMA_OPEN_RICH_WIDGET:"xma_open_rich_widget",XMA_POLL_DETAILS_CARD:"xma_poll_details_card",XMA_POLL_DETAILS_BUTTON:"xma_poll_details_button",XMA_POLL_DETAILS_PLANNING_ACTIONS_BUTTON:"xma_poll_details_planning_actions_button",XMA_JOIN_FROM_PORTAL:"xma_join_from_portal",XMA_JOIN_WITHOUT_VIDEO:"xma_join_without_video",XMA_IG_COMMENT_ACTION_URL:"xma_ig_comment_action_url",XMA_IG_PROMPT_ACTION_URL:"xma_ig_prompt_action_url",XMA_IG_COMMENT_MEDIA_ACTION_URL:"xma_ig_comment_media_action_url",XMA_CONSUMER_INBOX_ORDER_HISTORY:"xma_consumer_inbox_order_history",XMA_GEN_AI_SEARCH_PLUGIN_RESPONSE_SEARCH_ENGINE_ATTRIBUTION:"xma_gen_ai_search_plugin_response_search_engine_attribution",XMA_GEN_AI_SEARCH_PLUGIN_RESPONSE_SOURCES:"xma_gen_ai_search_plugin_response_sources",XMA_IGBC_MISINFO_TREATMENT:"xma_igbc_misinfo_treatment",XMA_LONG_PRESS_ACTION:"xma_long_press_action",IGD_WEB_POST_SHARE:"igd_web_post_share",XMA_WORK_MEETINGS_ACCEPT:"xma_work_meetings_accept",XMA_WORK_MEETINGS_ALREADY_ACCEPTED:"xma_work_meetings_already_accepted",XMA_WORK_MEETINGS_DECLINE:"xma_work_meetings_decline",XMA_WORK_MEETINGS_ALREADY_DECLINED:"xma_work_meetings_already_declined",XMA_WORK_MEETINGS_MAYBE:"xma_work_meeting_maybe",XMA_WORK_MEETINGS_ALREADY_MAYBE:"xma_wokr_meeting_already_maybe",XMA_WORK_MEETINGS_INVITE:"xma_work_meetings_invite",XMA_WORK_SHIFTS_VIEW_SHIFT_DETAILS:"xma_work_shifts_view_shift_details",XMA_WORK_SHIFTS_VIEW_POST:"xma_work_shifts_view_post",XMA_CTM_IN_THREAD_MULTIPHOTO_REPLY_IMAGE:"xma_ctm_in_thread_multiphoto_reply_image",XMA_SHOPS_PDP:"xma_shops_pdp",XMA_SHOPS_PRODUCT_VARIANT_PICKER:"xma_shops_product_variant_picker",MN_SHOPS_REQUEST_ORDER:"mn_shops_request_order",XMA_MERCHANT_CONFIRM_ORDER:"xma_merchant_confirm_order",XMA_VIEW_MESSENGER_CATALOG:"xma_view_messenger_catalog",XMA_OFFERS_VIEW_DETAILS:"xma_offers_view_details",XMA_OFFERS_BUY_NOW:"xma_offers_buy_now",XMAT_OFFERS_REMINDER_SUBSCRIBE:"xmat_offers_reminder_subscribe",XMAT_OFFERS_REMINDER_UNSUBSCRIBE:"xmat_offers_reminder_unsubscribe",XMAT_OFFERS_VIEW_OFFER:"xmat_offers_view_offer",XMA_OPEN_JOINTABLE_CALL_INVITE_URL:"xma_open_joinable_call_invite_url",XMA_ROOMS_SPEAKEASY_INVITE:"xma_rooms_speakeasy_invite",XMA_ROOMS_SPEAKEASY_INTERESTED:"xma_rooms_speakeasy_interested",XMA_ROOMS_SPEAKEASY_EDIT:"xma_rooms_speakeasy_edit",XMA_ROOMS_SPEAKEASY_EXPIRED:"xma_rooms_speakeasy_expired",XMA_ROOMS_SPEAKEASY_UNDO:"xma_rooms_speakeasy_undo",XMA_ROOMS_SPEAKEASY_CALLBACK:"xma_rooms_speakeasy_callback",XMA_SERVICES_REQUEST_APPOINTMENT:"xma_services_request_appointment",XMA_SERVICES_CONFIRM_BOOKING:"xma_services_confirm_booking",XMA_SERVICES_RESCHEDULE_BOOKING:"xma_services_reschedule_booking",XMA_SERVICES_DECLINE_BOOKING:"xma_services_decline_booking",XMA_SERVICES_ADD_TO_CALENDAR:"xma_services_add_to_calendar",XMA_SERVICES_VIEW_APPOINTMENT_DETAILS:"xma_services_view_appointment_details",BOOKING_IG_USER_ADD_DETAILS:"booking_ig_user_add_details",BOOKING_IG_USER_VIEW_DETAILS:"booking_ig_user_view_details",BOOKING_IG_USER_VIEW_DETAILS_APPOINTMENT_CANCELLED:"booking_ig_user_view_details_appointment_cancelled",BOOKING_IG_BUSINESS_VIEW_APPOINTMENT_DETAILS:"booking_ig_business_view_appointment_details",BOOKING_IG_BUSINESS_VIEW_DETAILS_APPOINTMENT_CANCELLED:"booking_ig_business_view_details_appointment_cancelled",BOOKING_IG_BUSINESS_ACCEPT_APPOINTMENT:"booking_ig_business_accept_appointment",BOOKING_IG_VIEW_CALENDAR:"booking_ig_view_calendar",BOOKING_IG_BUSINESS_VIEW_CREATE_APPOINTMENT:"booking_ig_business_view_create_appointment",BOOKING_IG_CUSTOMER_VIEW_REQUEST_ANOTHER_TIME:"booking_ig_customer_view_request_another_time",XMA_IG_SHARE_TO_FRIENDS_STORY_ADD_TO_STORY:"xma_ig_share_to_friends_add_to_story",XMA_IG_MENTION_ADD_TO_STORY:"xma_ig_mention_add_to_story",XMA_P2P_PAYMENT_DETAILS:"xma_p2p_payment_details",XMA_P2P_SHARED_PAYMENT_DETAILS:"xma_p2p_shared_payment_details",XMA_P2P_REQUEST_PAY:"xma_p2p_request_pay",XMA_P2P_PAYMENT_DETAILS_RECEIVE_MONEY:"xma_p2p_payment_details_receive_money",XMA_P2P_VERIFY_INFO:"xma_p2p_verify_info",XMA_P2M_CHECKOUT:"xma_p2m_checkout",XMA_P2M_MARK_AS_PAID:"xma_p2m_mark_as_paid",XMA_P2M_MARK_AS_SHIPPED:"xma_p2m_mark_as_shipped",XMA_P2M_MARK_AS_RECEIVED:"xma_p2m_mark_as_received",XMA_P2M_ORDER_CONFIRMATION:"xma_p2m_order_confirmation",XMA_P2M_ORDER_PAYMENT_REQUESTED:"xma_p2m_order_payment_requested",XMA_P2M_PAYMENT_DETAILS:"xma_p2m_payment_details",XMA_P2M_PAYMENT_EDIT:"xma_p2m_payment_edit",XMA_P2M_POD_PAYMENT:"xma_p2m_pod_payment",XMA_P2M_ATTACH_RECEIPT:"xma_p2m_attach_receipt",XMA_P2M_OFFSITE_BANK_TRANSFER:"xma_p2m_offsite_bank_transfer",XMA_P2M_BUYER_SHIPPING:"xma_p2m_buyer_shipping",XMA_P2M_INFORMATIONAL_MESSAGE_BOTTOM_SHEET:"xma_p2m_informational_message_bottom_sheet",XMA_P2M_PAYMENT_CONFIRMATION:"xma_p2m_payment_confirmation",XMA_P2M_CREATE_ORDER:"xma_p2m_create_order",XMA_P2M_ONLINE_PAYMENT:"xma_p2m_online_payment",XMA_P2M_ASYNC_CONTROLLER:"xma_p2m_async_controller",BANNER_P2M_CHECKOUT:"banner_p2m_checkout",BANNER_P2M_BLOKS_CHECKOUT:"banner_p2m_bloks_checkout",BANNER_P2M_LEARN_MORE:"banner_p2m_learn_more",BANNER_P2M_DONATION:"banner_p2m_donation",BANNER_P2M_INFORMATIONAL_MESSAGE_BOTTOM_SHEET:"banner_p2m_informational_message_bottom_sheet",BANNER_P2M_BUYER_INITIATED_PAYMENT:"banner_p2m_buyer_initiated_payment",BANNER_P2M_CREATE_ORDER:"banner_p2m_create_order",BANNER_P2M_OFFSITE_BANK_TRANSFER:"banner_p2m_offsite_bank_transfer",BANNER_P2M_ATTACH_RECEIPT:"banner_p2m_attach_receipt",BANNER_P2M_PAYMENT_DETECTION_CONFIRMATION:"banner_p2m_payment_detection_confirmation",GROUP_CHAT_COMMERCE_VIEW_DETAILS:"group_chat_commerce_view_details",IG_BIO_SEND_MESSAGE:"ig_bio_send_message",BMC_BASE_XMA:"bmc_base_xma",PAYMENT_TRANSACTION_DETAIL_ACCEPT_TO_PAY:"payment_txn_detail_accept_to_pay",PAYMENT_TRANSACTION_DETAIL_DECLINE_TO_PAY:"payment_txn_detail_decline_to_pay",PAYMENT_TRANSACTION_DETAIL_CANCEL_REQUEST_TO_BE_PAID:"payment_txn_detail_cancel_request_to_be_paid",PAYMENT_TRANSACTION_DETAIL_ACCEPT_TO_RECEIVE:"payment_txn_detail_accept_to_receive",PAYMENT_TRANSACTION_DETAIL_DECLINE_TO_RECEIVE:"payment_txn_detail_decline_to_receive",PAYMENT_TRANSACTION_DETAIL_VIEW_GROUP_PAYMENT:"payment_txn_detail_view_group_payment",QUICK_REPLY_TEXT:"quick_reply_text",QUICK_REPLY_LOCATION:"quick_reply_location",QUICK_REPLY_AD:"quick_reply_ad",QUICK_REPLY_PHONE:"quick_reply_phone",QUICK_REPLY_EMAIL:"quick_reply_email",QUICK_REPLY_BIRTHDAY:"quick_reply_birthday",QUICK_REPLY_STATE:"quick_reply_state",QUICK_REPLY_ZIP_CODE:"quick_reply_zip_code",QUICK_REPLY_BIC_OPT_IN:"quick_reply_bic_opt_in",QUICK_REPLY_BUSINESS_LEAD_FORM:"business_lead_form",FOCUS_MODE_EXIT:"focus_mode_exit",MENU_NESTED:"menu_nested",MENU_PAGE_SHARE:"menu_page_share",MENU_ELEMENT_SHARE:"menu_element_share",MENU_PAYMENT:"menu_payment",MENU_GAME_PLAY:"menu_game_play",MENU_WEB_URL:"menu_web_url",MENU_EXTENSION:"menu_extension",MENU_POSTBACK:"menu_postback",MENU_PHONE_NUMBER:"menu_phone_number",MENU_OPEN_NATIVE:"menu_open_native",MENU_BRANDED_CAMERA:"menu_branded_camera",NULLSTATE_POSTBACK:"nullstate_postback",NULLSTATE_ICEBREAKER:"nullstate_icebreaker",NULLSTATE_GAME:"nullstate_game",COMMUNITY_MESSAGING_ICEBREAKER:"community_messaging_ice_breaker",MARKETPLACE_ICE_BREAKERS:"marketplace_ice_breakers",MARKETPLACE_SERVER_MUTATION:"marketplace_server_mutation",MARKETPLACE_BANNER_OPEN_NATIVE:"marketplace_banner_open_native",MARKETPLACE_MARK_AS_SOLD:"marketplace_mark_as_sold",MARKETPLACE_MARK_AS_SOLD_SCALED:"marketplace_mark_as_sold_scaled",MARKETPLACE_MARK_AS_SOLD_WITH_TXN_SURVEY:"marketplace_mark_as_sold_with_txn_survey",MARKETPLACE_MARK_AS_SOLD_WITH_TXN_SURVEY_SCALED:"marketplace_mark_as_sold_with_txn_survey_scaled",MARKETPLACE_MARK_AS_SOLD_WITH_SELECT_BUYER:"marketplace_mark_as_sold_with_select_buyer",MARKETPLACE_MARK_AS_SOLD_WITH_SELECT_BUYER_SCALED:"marketplace_mark_as_sold_with_select_buyer_scaled",MARKETPLACE_MARK_AS_PENDING:"marketplace_mark_as_pending",MARKETPLACE_MARK_AS_AVAILABLE:"marketplace_mark_as_available",MARKETPLACE_MARK_AS_PAID:"marketplace_mark_as_paid",MARKETPLACE_RATE_BUYER:"marketplace_rate_buyer",MARKETPLACE_SCALED_RATE_BUYER:"marketplace_scaled_rate_buyer",MARKETPLACE_SCALED_RATE_BUYER_FB_APP:"marketplace_scaled_rate_buyer_fb_app",MARKETPLACE_RATE_SELLER:"marketplace_rate_seller",MARKETPLACE_SCALED_RATE_SELLER:"marketplace_scaled_rate_seller",MARKETPLACE_SCALED_RATE_SELLER_FB_APP:"marketplace_scaled_rate_seller_fb_app",MARKETPLACE_REPORT_BUYER:"marketplace_report_buyer",MARKETPLACE_REPORT_SELLER:"marketplace_report_seller",MARKETPLACE_SEE_DETAILS:"marketplace_see_details",MARKETPLACE_REQUEST_PAYMENT:"marketplace_request_payment",MARKETPLACE_SEND_PAYMENT:"marketplace_send_payment",MARKETPLACE_FIND_SIMILAR:"marketplace_find_similar",MARKETPLACE_MORE_OPTIONS:"marketplace_more_options",MARKETPLACE_P2M_REQUEST_PAYMENT:"marketplace_p2m_request_payment",MARKETPLACE_CREATE_DOOR_EXCHANGE_PLAN:"marketplace_create_door_exchange_plan",MARKETPLACE_C2C_VIEW_ORDER:"marketplace_c2c_view_order",MARKETPLACE_RESERVE:"marketplace_reserve",MARKETPLACE_RESERVE_VIEW_DETAILS:"marketplace_reserve_view_details",MARKETPLACE_RESERVE_ACCEPT:"marketplace_reserve_accept",MARKETPLACE_RESERVE_MARK_AS_RECEIVED:"marketplace_reserve_mark_as_received",MARKETPLACE_RESERVE_MARK_AS_SOLD:"marketplace_reserve_mark_as_sold",MARKETPLACE_RESERVE_CANCEL_HOLD_REQUEST:"marketplace_reserve_cancel_hold_request",MARKETPLACE_RESERVE_CANCEL_HOLD:"marketplace_reserve_cancel_hold",MARKETPLACE_RESERVE_REQUEST_PAYMENT:"marketplace_reserve_request_payment",MARKETPLACE_RESERVE_FULFILL_PAYMENT:"marketplace_reserve_fulfill_payment",MARKETPLACE_RESERVE_NOTIFY_BUYERS:"marketplace_reserve_notify_buyers",MARKETPLACE_MESSAGE_SETTINGS:"marketplace_message_settings",MARKETPLACE_LABEL_CHAT:"marketplace_label_chat",MARKETPLACE_CREATE_TEST_DRIVE:"marketplace_create_test_drive",MARKETPLACE_CREATE_HOME_TOUR:"marketplace_create_home_tour",MARKETPLACE_REQUEST_RATING:"marketplace_request_rating",MARKETPLACE_VIEW_PROFILE:"marketplace_view_profile",MARKETPLACE_VIEW_SIMILAR_ITEMS:"marketplace_view_similar_items",MARKETPLACE_CREATE_DISCOUNT:"marketplace_create_discount",MARKETPLACE_CREATE_NEW_ITEM:"marketplace_create_new_item",LEAD_GEN_PAUSE_QUESTIONS:"lead_gen_pause_questions",MARKETPLACE_XMA_CALL_FUNCTION:"marketplace_xma_call_function",MARKETPLACE_XMA_OPEN_DIALOG:"marketplace_xma_open_dialog",ADMIN_MSG_MANAGE_AD:"admin_msg_manage_ad",ADMIN_MSG_WEB_URL:"admin_msg_web_url",ADMIN_MSG_AD_REPLY:"admin_msg_ad_reply",ADMIN_MSG_P2B_USER_CONTROLS:"admin_msg_p2b_user_controls",ADMIN_MSG_EDIT_NICKNAME:"admin_msg_edit_nickname",ADMIN_MSG_NAME_GROUP:"admin_msg_name_group",ADMIN_MSG_POLL_CREATION:"admin_msg_poll_creation",ADMIN_MSG_POLL_DETAILS:"admin_msg_poll_details",ADMIN_MSG_WORKCHAT_REMINDER:"admin_msg_workchat_reminder",ADMIN_MSG_CHANGE_THEME:"admin_msg_change_theme",ADMIN_MSG_MAGIC_WORDS:"admin_msg_magic_words",ADMIN_MSG_RPC:"admin_msg_rpc",ADMIN_NOTIFICATION_MESSAGES_OPT_IN:"admin_notification_messages_opt_in",ADMIN_NOTIFICATION_MESSAGES_OPT_OUT:"admin_notification_messages_opt_out",ADMIN_MSG_VIEW_GROUP_LINK:"admin_msg_view_group_link",ADMIN_MSG_VIEW_PINNED_MESSAGES_V2:"admin_msg_view_pin_msgs_v2",ADMIN_MSG_ARMADILLO_EPHEMERAL_CHANGE_DURATION:"admin_msg_armadillo_ephemeral_change_duration",ADMIN_MSG_P2B_PRIVACY_DISCLOSURE:"admin_msg_p2b_privacy_disclosure",ADMIN_MSG_CHANGE_THEME_LOCATION:"admin_msg_change_theme_location",ADMIN_MSG_THREAD_LEVEL_CUTOVER:"admin_msg_thread_level_cutover",ADMIN_MSG_E2EE_THREAD:"admin_msg_e2ee_thread",ADMIN_MSG_E2EE_UK_OSA:"admin_msg_e2ee_uk_osa",ADMIN_MSG_CUTOVER_ROLLBACK:"admin_msg_cutover_rollback",ADMIN_MSG_SERVICE_BOOKING_LEGAL_DISCLAIMER:"admin_message_service_booking_legal_disclaimer",ADMIN_MSG_BUSINESS_CALLING_USER_PERMISSION:"admin_msg_business_calling_user_permission",ADMIN_MSG_BUSINESS_INITIATED_CALLING_CHANGE_PERMISSION:"admin_msg_business_initiated_calling_change_permission",ADMIN_MSG_P2B_EDIT_BMO_SELLER_REVIEW:"admin_message_p2b_edit_bmo_seller_review",ADMIN_MSG_VIEW_CART:"admin_message_view_cart",ADMIN_MSG_SCHEDULED_CALL:"admin_msg_scheduled_call",ADMIN_MSG_SEND_MSG_CTA_AD_MANAGE_AD_CONTEXT:"admin_msg_send_msg_cta_ad_manage_ad_context",ADMIN_MSG_MARKETING_MESSAGES_CTM:"admin_msg_marketing_messages_ctm",ADMIN_MSG_BM_GENAI_CONSUMER_DISCLAIMER_LEARN_MORE:"admin_msg_bm_genai_consumer_disclaimer_learn_more",ADMIN_MSG_AUTO_MARKED_AS_LEAD_EDIT_LABEL:"admin_msg_auto_marked_as_lead_edit_label",ADMIN_MSG_LEAD_FORM_OPT_OUT_MANAGE:"admin_msg_lead_form_opt_out_manage",ADMIN_MSG_BUSINESS_CREATE_ORDER_CONFIRMATION:"admin_msg_business_create_order_confirmation",ADMIN_MSG_BUSINESS_DETECTED_OUTCOME_ORDER:"admin_msg_business_detected_outcome_order",ADMIN_MSG_BUSINESS_DETECTED_OUTCOME_LEAD:"admin_msg_business_detected_outcome_lead",ADMIN_MSG_ADMOD_POST_MSG_REMOVE_ACTIONS:"admin_msg_admod_post_msg_remove_actions",ADMIN_MSG_DUAL_THREAD_CUTOVER:"admin_msg_dual_thread_cutover",ADMIN_MSG_SBG_PROACTIVE_CHAT_OPT_IN:"admin_msg_sbg_proactive_chat_opt_in",ADMIN_MSG_SBG_PROACTIVE_CHAT_OPT_OUT:"admin_msg_sbg_proactive_chat_opt_out",ADMIN_MSG_ICDC:"admin_msg_icdc",ADMIN_MSG_IG_PRIVATE_REPLY:"admin_msg_ig_private_reply",ADMIN_MSG_MSGR_NUDGE:"admin_msg_msgr_nudge",ADMIN_MSG_IG_DM_LEARN_MORE:"admin_msg_ig_dm_learn_more",ADMIN_MSG_AUTO_SAVED_REPLY:"admin_msg_auto_saved_reply",ADMIN_MSG_WA_STATUS_REPLY:"admin_msg_wa_status_reply",ADMIN_MSG_FAQ_FUZZY_MATCH:"admin_msg_faq_fuzzy_match",SERVICES_BOOK_NOW:"services_book_now",SERVICES_REMIND_ME_LATER:"services_remind_me_later",SERVICES_VIEW_DETAILS:"services_view_details",SERVICES_PAYMENT_VIEW_DETAILS:"services_payment_view_details",INBOX_ADS_WEB_URL:"inbox_ads_web_url",INBOX_ADS_CTM:"inbox_ads_ctm",INBOX_ADS_OPEN_APP:"inbox_ads_open_app",INBOX_ADS_MEDIA_VIEWER:"inbox_ads_media_viewer",STORY_ADS_WEB_URL:"story_ads_web_url",ADS_NO_CTA:"ads_no_cta",STORY_ADS_OPEN_APP:"story_ads_open_app",STORY_ADS_CTM:"story_ads_ctm",GEMSTONE_THREAD_CREATION:"gemstone_thread_creation",GEMSTONE_CONTACT_SHARE_UPSELL:"gemstone_contact_share_upsell",GEMSTONE_MUTUAL_READY_TO_MEET:"gemstone_mutual_ready_to_meet",GEMSTONE_ADD_READY_TO_MEET_SINGLE_SIDED:"gemstone_add_ready_to_meet_single_sided",GEMSTONE_RECEIVED_COMPLIMENTS:"gemstone_received_compliments",GEMSTONE_REMOVE_READY_TO_MEET_SINGLE_SIDED:"gemstone_remove_ready_to_meet_single_sided",GEMSTONE_SEND_COMPLIMENTS_PM_TRIGGER:"GEMSTONE_SEND_COMPLIMENTS_PM_TRIGGER",GEMSTONE_SOCIAL_BADGE_PM_TRIGGER:"GEMSTONE_SOCIAL_BADGE_PM_TRIGGER",GEMSTONE_STALE_THREAD:"gemstone_stale_thread",GEMSTONE_WE_MET_PROMPT:"gemstone_we_met_prompt",GEMSTONE_WAVE_INITIATED:"gemstone_wave_initiated",GEMSTONE_WAVE_INITIATED_RECIPROCATED:"gemstone_wave_initiated_reciprocated",GEMSTONE_WAVE_RECIPROCATED:"gemstone_wave_reciprocated",GEMSTONE_MESSENGER_CONTACT_SHARE:"gemstone_messenger_contact_share",GEMSTONE_FACEBOOK_CONTACT_SHARE:"gemstone_facebook_contact_share",GEMSTONE_INSTAGRAM_CONTACT_SHARE:"gemstone_instagram_contact_share",GEMSTONE_CONVERSATION_STARTER_QUESTION:"gemstone_conversation_starter_question",GEMSTONE_CONVERSATION_STARTER_IMAGE:"gemstone_conversation_starter_image",GEMSTONE_AUDIO_CALL:"gemstone_audio_call",GEMSTONE_VIDEO_CALL:"gemstone_video_call",GEMSTONE_PROFILE_XMA:"gemstone_profile_xma",JOB_SEARCH_APPLY_NOW:"job_search_apply_now",JOB_SEARCH_VIEW_APPLICATION:"job_search_view_application",JOB_SEARCH_VIEW_JOB_OPENING:"job_search_view_job_opening",JOB_SEARCH_VIEW_PAGE:"job_search_view_page",JOB_SEARCH_GIVE_FEEDBACK:"job_search_give_feedback",MESSENGER_KIDS_PROFILE:"messenger_kids_account_profile",NEO_APPROVED_CONNECTION_ADDED:"neo_approved_connection_added",MESSENGER_KIDS_FOF_SETTING:"messenger_kids_fof_setting",GLOBAL_DELETE_MITIGATION_DISMISS:"global_delete_mitigation_dismiss",GLOBAL_DELETE_MITIGATION_LEARN_MORE:"global_delete_mitigation_learn_more",MESSENGER_PAYMENTS_ACCEPT_PENDING_PAYMENT:"messenger_payments_accept_pending_payments",MESSENGER_PAYMENTS_SEE_DETAIL:"messenger_payments_see_detail",PROACTIVE_WARNING_AFFIRMATIVE:"proactive_warning_affirmative",PROACTIVE_WARNING_NEGATIVE:"proactive_warning_negative",PROACTIVE_WARNING_DISMISS:"proactive_warning_dismiss",CTM_AD_CONTEXT:"ads_context",CTM_AD_CONTEXT_REINSTATED_DISMISS:"ads_context_reinstated_dismiss",CTM_AD_CONTEXT_CALL_CTA:"ctm_ad_context_call_cta",CTM_AD_CONTEXT_ORDERS_CTA:"ctm_ad_context_orders_cta",CTX_BUSINESS_WHATSAPP_SHARE:"ctx_business_whatsapp_share",CTX_WHATSAPP_REDIRECT_BANNER:"ctx_whatsapp_redirect_banner",OCULUS_JOIN_PARTY:"oculus_join_party",OCULUS_XMA_GROUPS_DESTINATION:"oculus_xma_groups_destination",OCULUS_XMA_COWATCH_INVITE:"oculus_xma_cowatch_invite",OCULUS_XMA_APP_INVITE_ACTIVE:"xma_app_invite_active",OCULUS_XMA_APP_INVITE_INACTIVE:"oculus_xma_app_invite_inactive",OCULUS_XMA_APP_INVITE_EXPIRED:"oculus_xma_app_invite_expired",FBVR_DMA_LEARN_MORE:"fbvr_dma_learn_more",IN_THREAD_BANNER_DISMISS:"in_thread_banner_dismiss",IN_THREAD_BANNER_CHEVRON:"in_thread_banner_chevron",NOVI_P2P_TXN_SEE_DETAILS:"novi_p2p_txn_see_details",NOVI_P2P_ACCEPT_INVITE:"novi_p2p_accept_invite",CONTACT_SHARING_MESSAGE:"contact_sharing_message",CONTACT_SHARING_PROFILE:"contact_sharing_profile",PORTAL_REFERRAL_SEE_DETAILS:"portal_referral_see_details",XMA_DISABLED_CTA:"xma_disabled_cta",XMA_CUSTOMER_INFORMATION:"xma_customer_information",XMA_FB_SHOPS_REFERRAL_DETAIL:"xma_fb_shops_referral_detail",XMA_BCP_PROJECT_DETAIL:"xma_bcp_project_detail",XMA_VIEW_EVENT:"xma_view_event",XMA_EVENT_RSVP:"xma_event_rsvp",XMAT_INSTANT_GAME_BOT_MESSAGE_SUBSCRIBE:"xmat_instant_game_bot_message_subscribe",XMAT_INSTANT_GAME_BOT_MESSAGE_UNSUBSCRIBE:"xmat_instant_game_bot_message_unsubscribe",XMA_VIEW_ACTIVITY_LOG:"xma_view_activity_log",XMA_AR_VIRTUAL_OBJECT:"xma_ar_virtual_object",XMAT_INSTANT_GAME_CUSTOM_UPDATE_MESSAGE_MUTE:"xmat_instant_game_custom_update_message_mute",XMAT_INSTANT_GAME_CUSTOM_UPDATE_MESSAGE_UNMUTE:"xmat_instant_game_custom_update_message_unmute",MEMBER_REQUEST:"member_requests_view",CM_THREAD_MEMBER_REQUEST:"cm_thread_member_requests_view",XMA_ADMOD_CHAT_MEMBER_REQUEST:"xma_admod_chat_member_request",XMA_ADMOD_CHAT_PENDING_POST:"xma_admod_chat_pending_post",REQUEST_TO_JOIN:"request_to_join",XMA_IG_SUBS_REFERRAL_DETAIL:"xma_ig_subs_referral_detail",BIIM_AD_EXTENTER_BANNER:"biim_ad_extender_banner",BIIM_AD_EXTENDER_BANNER_VIEW_AD:"biim_ad_extender_banner_view_ad",BIIM_AD_EXTENDER_BANNER_EXTEND_AD:"biim_ad_extender_banner_extend_ad",BIIM_OUTCOME_UPSELL_BANNER:"biim_outcome_upsell_banner",BIIM_OUTCOME_UPSELL_SECOND_BANNER:"biim_outcome_upsell_second_banner",BIIM_OUTCOME_UPSELL_BANNER_VIEW_BOTTTOMSHEET:"biim_outcome_upsell_banner_view_bottomsheet",BIIM_OUTCOME_UPSELL_BANNER_CREATE_AD:"biim_outcome_upsell_banner_create_ad",XMA_ROLL_CALL_ADD_YOURS:"xma_roll_call_add_yours",XMA_ROLL_CALL_OPEN_VIEWER:"xma_roll_call_open_viewer",XMA_PROMPT_OPEN_VIEWER_FOR_TEXT:"xma_prompt_open_viewer_for_text",XMA_IGD_LIVE_LOCATION_SHARING:"xma_igd_live_location_sharing",XMA_IGD_PINNED_LOCATION_SHARING:"xma_igd_pinned_location_sharing",XMA_SHARED_ALBUM_OPEN_VIEWER:"xma_shared_album_viewer",XMA_SHARED_ALBUM_ADD_YOURS:"xma_shared_album_add_yours",XMA_SHARED_ALBUM_RENAME:"xma_shared_album_rename",WATCH_SHARING:"watch_sharing",OPEN_THREAD_QUICK_REACTION_PICKER:"open_custom_emoji_picker",IN_THREAD_FORM_FILL:"fill_in_thread_form",IN_THREAD_FORM_RESPONSE:"filled_in_thread_form_successfully",LEAD_FORMS_REQUEST:"lead_forms_request",LEAD_FORMS_RESPONSE:"lead_forms_response",XMA_BIO_BUYER_PAYMENT:"xma_bio_buyer_payment",XMA_PARTNERSHIP_ADS_COPY_CODE:"xma_partnership_ads_copy_code",BUSINESS_MESSAGING_GENERIC_TEMPLATE_POSTBACK:"postback",BUSINESS_MESSAGING_GENERIC_TEMPLATE_WEB_URL:"business_messaging_generic_template_web_url",MEMORY_VIEWER:"memory_viewer",XMA_ADS_AI_SURVEY:"xma_ads_ai_survey",XMA_ADS_AI_ASSET_SELECTION:"XMA_ADS_AI_ASSET_SELECTION",XMA_ICONIC_ENTRY_POINT:"xma_iconic_entry_point",XMA_IGD_GENAI_UPDATES:"xma_igd_genai_updates",XMA_IGD_GENAI_REMINDERS:"xma_igd_genai_reminders",XMA_COLLAB_INVITE_ACCEPT_INVITATION:"xma_collab_invite_accept_invitation",XMA_COLLAB_INVITE_VIEW_REQUEST:"xma_collab_invite_view_request",XMA_IG_COLLAB_ADD_TO_STORY:"xma_ig_collab_add_to_story",XMA_SMAG_POSTBACK:"xma_smag_postback",SUPPORT_OPEN_DIALOG:"support_open_dialog",XMA_MEMU_ONBOARDING:"xma_memu_onboarding",XMA_WA_IN_INBOX_CATALOG_LINK:"xma_wa_in_inbox_catalog_link",XMA_WA_IN_INBOX_ORDER:"xma_wa_in_inbox_order",XMA_WA_IN_INBOX_REPLY_TO_PRODUCT:"xma_wa_in_inbox_reply_to_product",XMA_WA_IN_INBOX_INTERACTIVE_PRODUCT:"xma_wa_in_inbox_interactive_product",XMA_WA_IN_INBOX_LINK_PREVIEW:"xma_wa_in_inbox_link_preview",XMA_WA_IN_INBOX_LOCATION_SHARING:"xma_wa_in_inbox_location_sharing",XMA_WA_IN_INBOX_FILE_SHARING:"xma_wa_in_inbox_file_sharing",XMA_WA_IN_INBOX_CONTACT_SHARING:"xma_wa_in_inbox_contact_sharing"});f["default"]=a}),66);
__d("MNLSXMATemplateType",[],(function(a,b,c,d,e,f){a=Object.freeze({GENERIC_SHARE:0,DEFAULT:-1});f["default"]=a}),66);
__d("CSChatLSGraphQLAttachmentMapper",["CSChatLSTableDefaultData","FBLogger","I64","LSAuthorityLevel","LSCTAType","LSIntEnum","MNLSXMALayoutType","MNLSXMATemplateType","MessagingAttachmentType","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b;b=((b=(b=a.blob_attachments)==null?void 0:b.length)!=null?b:0)>0;var c=b?d("CSChatLSTableDefaultData").message.displayedContentTypes:(h||(h=d("LSIntEnum"))).ofNumber(1);b===!1&&(b=a.extensible_attachment!=null,c=b?(h||(h=d("LSIntEnum"))).ofNumber(1+1024+8):(h||(h=d("LSIntEnum"))).ofNumber(1));if(b===!1){b=(a==null?void 0:(a=a.sticker)==null?void 0:a.id)!=null;c=b?(h||(h=d("LSIntEnum"))).ofNumber(4096):(h||(h=d("LSIntEnum"))).ofNumber(1)}return[b,c]}function j(a){if(a==="OPEN_NATIVE")return"xma_open_native";return a==="OPEN_URL"?"xma_web_url":"xma_postback"}function k(a){if(a==null)return null;var b=Object.keys(c("LSCTAType")).find(function(b){return c("LSCTAType")[b]===a});return b!=null?c("LSCTAType")[b]:null}function l(a,b,e,f){var g=f.__typename==="MessageImage"||f.__typename==="XFBMessageImage",j=f.__typename==="MessageVideo"||f.__typename==="XFBMessageVideo",k=f.__typename==="MessageAnimatedImage"||f.__typename==="XFBMessageAnimatedImage",l,m,n,o,p,q,r,s,t,u,v;if(g){var w,x=f.image;s=f.legacy_attachment_id;m=f.url;t=(w=f.playable_url)!=null?w:x==null?void 0:x.uri;n=x==null?void 0:x.uri;o=(x==null?void 0:x.width)!=null?(i||(i=d("I64"))).of_int32(x.width):null;p=(x==null?void 0:x.height)!=null?(i||(i=d("I64"))).of_int32(x.height):null;q=f.url;u=(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)}else if(j){w=f.image;s=f.legacy_attachment_id;t=f.playable_url;m=f.url;n=w==null?void 0:w.uri;r=w==null?void 0:w.mime_type;o=(w==null?void 0:w.width)!=null?(i||(i=d("I64"))).of_int32(w.width):null;p=(w==null?void 0:w.height)!=null?(i||(i=d("I64"))).of_int32(w.height):null;q=f.url;u=(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO);v=f.mimetype}else if(k){x=f.image;s=f.legacy_attachment_id;l=f.animated_image_caption;m=x==null?void 0:x.uri;n=x==null?void 0:x.uri;o=(x==null?void 0:x.width)!=null?(i||(i=d("I64"))).of_int32(x.width):null;p=(x==null?void 0:x.height)!=null?(i||(i=d("I64"))).of_int32(x.height):null;q=x==null?void 0:x.uri;u=(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)}if(g||j||k){w=d("CSChatLSTableDefaultData").attachment;b=babelHelpers["extends"]({},w,{attachmentFbid:(f=s)!=null?f:w.attachmentFbid,attachmentType:(x=u)!=null?x:w.attachmentType,captionBodyText:(g=l)!=null?g:w.captionBodyText,hasXma:!0,imageUrl:(j=m)!=null?j:w.imageUrl,messageId:(k=b)!=null?k:w.messageId,offlineAttachmentId:(f=s)!=null?f:w.offlineAttachmentId,playableUrl:(x=t)!=null?x:w.playableUrl,playableUrlMimeType:(g=v)!=null?g:void 0,previewHeight:(j=p)!=null?j:w.previewHeight,previewUrl:(b=n)!=null?b:w.previewUrl,previewUrlLarge:(k=q)!=null?k:w.previewUrlLarge,previewUrlMimeType:(f=r)!=null?f:w.previewUrlMimeType,previewWidth:(x=o)!=null?x:w.previewWidth,threadKey:(g=a)!=null?g:w.threadKey,timestampMs:(j=e)!=null?j:w.timestampMs});return b}}function b(a,b){var e;b=b.message_thread;if(b==null)return[];e=c("nullthrows")((e=b.messages)==null?void 0:e.nodes).filter(function(a){return a.blob_attachments!=null&&a.blob_attachments.length>0}).map(function(b){var e=b.message_id,f=(i||(i=d("I64"))).of_string(c("nullthrows")(b.timestamp_precise));return c("nullthrows")(b.blob_attachments).map(function(b){return l(a,e,f,b)})}).flat().filter(Boolean);b=c("nullthrows")((b=b.messages)==null?void 0:b.nodes).filter(function(a){return a.sticker!=null&&(a==null?void 0:(a=a.sticker)==null?void 0:a.id)!=null}).map(function(b){var e=b.message_id,f=(i||(i=d("I64"))).of_string(c("nullthrows")(b.timestamp_precise));return u(a,e,f,c("nullthrows")(b.sticker))}).flat().filter(Boolean);return e.concat(b)}function m(a,b,e){var f,g,j,k,l=e.message_id;f=(i||(i=d("I64"))).of_string((f=e.timestamp_precise)!=null?f:"");var m=(g=(g=e.extensible_attachment)==null?void 0:g.legacy_attachment_id)!=null?g:null;g=(g=e.extensible_attachment)==null?void 0:g.story_attachment;j=(j=g==null?void 0:g.messenger_generic_xma_template_extra_info)!=null?j:null;var n=g==null?void 0:g.subattachments;k=(k=n==null?void 0:n.length)!=null?k:0;if(j!=null){var u;u=r(a,l,f,m,j,b,g==null?void 0:(u=g.title_with_entities)==null?void 0:u.text,g==null?void 0:g.subtitle);g=[];k===0&&(g=s(a,l,m,j,b));j=[];if(k>0){j=t(a,l,m,c("nullthrows")(n),b);u.xmaLayoutType=(h||(h=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").HSCROLL);var v=b;g=c("nullthrows")(n).map(function(b){b=s(a,l,m,b==null?void 0:b.messenger_generic_xma_template_extra_info,v);v+=b.length;return b}).flat()}return[u,g,j]}g=(u=(k=e.extensible_attachment)==null?void 0:(n=k.story_attachment)==null?void 0:n.target)!=null?u:null;if(g!=null){j=o(a,l,f,m,g,b);e=p(a,l,m,g,b);k=q(a,l,m,g,b);return[j,e,k]}throw c("FBLogger")("cs_chat").mustfixThrow("attachment data cannot be null")}function e(a,b){b=b.message_thread;if(b==null)return[];b=c("nullthrows")((b=b.messages)==null?void 0:b.nodes).filter(function(a){var b;return"extensible_attachment"in a&&a.extensible_attachment!=null&&(((b=(b=a.extensible_attachment)==null?void 0:(b=b.story_attachment)==null?void 0:(b=b.messenger_generic_xma_template_extra_info)==null?void 0:b.cta1)!=null?b:null)!=null||((b=a.extensible_attachment)==null?void 0:(b=b.story_attachment)==null?void 0:(b=b.target)==null?void 0:(b=b.call_to_actions)==null?void 0:b[0])!=null||((b=(b=a.extensible_attachment)==null?void 0:(b=b.story_attachment)==null?void 0:(b=b.target)==null?void 0:(b=b.business_items)==null?void 0:(b=b.nodes)==null?void 0:b.length)!=null?b:0)!==0||((a=(b=a.extensible_attachment)==null?void 0:(a=b.story_attachment)==null?void 0:(b=a.subattachments)==null?void 0:b.length)!=null?a:0)>0)});var d=2,e=[],f=[],g=[];for(var h=0;h<b.length;h++){var i=b[h];i=m(a,d,i);var j=i[0],k=i[1];i=i[2];e.push(j);k.map(function(a){return f.push(a)});i.map(function(a){return g.push(a)});d+=k.length}return[e,f,g]}function n(a,b,c,e,f,g,h,j){c=babelHelpers["extends"]({},d("CSChatLSTableDefaultData").attachmentCta,{attachmentFbid:(b=b)!=null?b:"",ctaId:(b=a)!=null?b:(i||(i=d("I64"))).zero,messageId:(a=e)!=null?a:"",threadKey:(b=c)!=null?b:(i||(i=d("I64"))).zero,title:(a=f)!=null?a:""},j==null?{}:{actionUrl:j});if(h!=null){b={cta_id:h,force_handle:!0,prev_message_id:e};f={postback:b};c.platformToken=JSON.stringify(f)}c.type_=(a=k(g))!=null?a:"xma_postback";return c}function o(a,b,e,f,g,k){a=babelHelpers["extends"]({},d("CSChatLSTableDefaultData").attachment,{attachmentCta1Id:(i||(i=d("I64"))).of_int32(k),attachmentFbid:(f=f)!=null?f:"",attachmentType:(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA),authorityLevel:h.ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),hasXma:!0,messageId:(f=b)!=null?f:"",threadKey:(b=a)!=null?b:(i||(i=d("I64"))).zero,timestampMs:(f=e)!=null?f:(i||(i=d("I64"))).zero,xmaLayoutType:h.ofNumber(c("MNLSXMALayoutType").SINGLE),xmasTemplateType:h.ofNumber(c("MNLSXMATemplateType").GENERIC_SHARE)});b=g==null?void 0:g.call_to_actions;e=g==null?void 0:(e=g.business_items)==null?void 0:(f=e.nodes)==null?void 0:f[0];if(e!=null){if(((f=g==null?void 0:(f=g.business_items)==null?void 0:(f=f.nodes)==null?void 0:f.length)!=null?f:0)===1){b=e.call_to_actions;a.titleText=(f=e.name)!=null?f:"";a.subtitleText=(f=e.description)!=null?f:""}else a.xmaLayoutType=(h||(h=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").HSCROLL)}if(b==null||b[0]==null){c("FBLogger")("cs_chat","ctas_array_null").mustfix("ctas cannot be null as it should have been checked outside");return a}if((g==null?void 0:g.__typename)!=="MessengerBusinessMessage"&&(g==null?void 0:g.__typename)!=="XFBMessengerBusinessMessage")throw c("FBLogger")("cs_chat").mustfixThrow("Target must be of type MessengerBusinessMessage");a.cta1Title=(e=b[0].action_title)!=null?e:"";a.cta1Type=j(b[0].action_open_type);if(b[1]!=null){a.attachmentCta2Id=(i||(i=d("I64"))).of_int32(k+1);a.cta2Title=(f=b[1].action_title)!=null?f:"";a.cta2Type=j(b[1].action_open_type)}if(b[2]!=null){a.attachmentCta3Id=(i||(i=d("I64"))).of_int32(k+2);a.cta3Title=(g=b[2].action_title)!=null?g:"";a.cta3Type=j(b[2].action_open_type)}return a}function p(a,b,e,f,g){var h,k=[],l=f==null?void 0:f.call_to_actions;h=f==null?void 0:(h=f.business_items)==null?void 0:h.nodes;var m=h==null?void 0:h[0];if(m!=null){var o;o=(o=f==null?void 0:(o=f.business_items)==null?void 0:(o=o.nodes)==null?void 0:o.length)!=null?o:0;if(o>=1){l=m==null?void 0:m.call_to_actions;for(m=1;m<o;m++){var p;p=h==null?void 0:(p=h[m])==null?void 0:p.call_to_actions;l!=null&&p!=null&&(l=[].concat(l,p))}}}if(l==null){c("FBLogger")("cs_chat","ctas_array_null").mustfix("ctas cannot be null as it should have been checked outside");return k}if((f==null?void 0:f.__typename)!=="MessengerBusinessMessage"&&(f==null?void 0:f.__typename)!=="XFBMessengerBusinessMessage")throw c("FBLogger")("cs_chat").mustfixThrow("Target must be of type MessengerBusinessMessage");for(p=0;p<l.length;p++){if(l[p]==null)break;k.push(n((i||(i=d("I64"))).of_int32(g+p),e,a,b,l[p].action_title,j(l[p].action_open_type),l[p].id,l[p].action_url))}return k}function q(a,b,e,f,g){var h;e=babelHelpers["extends"]({},d("CSChatLSTableDefaultData").attachmentItem,{attachmentFbid:(e=e)!=null?e:"",messageId:(e=b)!=null?e:"",threadKey:(b=a)!=null?b:(i||(i=d("I64"))).zero});a=f==null?void 0:f.call_to_actions;b=f==null?void 0:(b=f.business_items)==null?void 0:b.nodes;h=(h=b==null?void 0:b.length)!=null?h:0;var k=b==null?void 0:b[1];if(k==null)return[];k=[];g=g;for(var l=0;l<h;++l){var m=b==null?void 0:b[l];if(m!=null){var n,o=babelHelpers["extends"]({},e,{attachmentIndex:(i||(i=d("I64"))).of_int32(l)});a=m==null?void 0:m.call_to_actions;o.titleText=(n=m.name)!=null?n:"";o.subtitleText=(n=m.description)!=null?n:"";if(a==null||a[0]==null){k.push(o);continue}if((f==null?void 0:f.__typename)!=="MessengerBusinessMessage"&&(f==null?void 0:f.__typename)!=="XFBMessengerBusinessMessage")throw c("FBLogger")("cs_chat").mustfixThrow("Target must be of type MessengerBusinessMessage");o.attachmentCta1Id=i.of_int32(g);o.cta1Title=(m=a[0].action_title)!=null?m:"";o.cta1Type=j(a[0].action_open_type);if(a[1]!=null){o.attachmentCta2Id=(i||(i=d("I64"))).of_int32(g+1);o.cta2Title=(n=a[1].action_title)!=null?n:"";o.cta2Type=j(a[1].action_open_type)}if(a[2]!=null){o.attachmentCta3Id=(i||(i=d("I64"))).of_int32(g+2);o.cta3Title=(m=a[2].action_title)!=null?m:"";o.cta3Type=j(a[2].action_open_type)}g+=a.length;k.push(o)}}return k}function r(a,b,e,f,g,j,l,m){b=babelHelpers["extends"]({},d("CSChatLSTableDefaultData").attachment,{attachmentFbid:(f=f)!=null?f:"",attachmentType:(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA),authorityLevel:h.ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),hasXma:!0,messageId:(f=b)!=null?f:"",threadKey:(b=a)!=null?b:(i||(i=d("I64"))).zero,timestampMs:(f=e)!=null?f:(i||(i=d("I64"))).zero,xmaLayoutType:h.ofNumber(c("MNLSXMALayoutType").SINGLE),xmasTemplateType:h.ofNumber(c("MNLSXMATemplateType").GENERIC_SHARE)},l==null?{}:{subtitleText:(a=m)!=null?a:"",titleText:l});if((g==null?void 0:g.cta1)!=null){b.attachmentCta1Id=(i||(i=d("I64"))).of_int32(j);b.cta1Title=(f=g==null?void 0:(e=g.cta1)==null?void 0:e.title)!=null?f:"";b.cta1Type=(a=k(g==null?void 0:(m=g.cta1)==null?void 0:m.type))!=null?a:"xma_postback"}if((g==null?void 0:g.cta2)!=null){b.attachmentCta2Id=(i||(i=d("I64"))).of_int32(j+1);b.cta2Title=(e=g==null?void 0:(l=g.cta2)==null?void 0:l.title)!=null?e:"";b.cta2Type=(m=k(g==null?void 0:(f=g.cta2)==null?void 0:f.type))!=null?m:"xma_postback"}if((g==null?void 0:g.cta3)!=null){b.attachmentCta3Id=(i||(i=d("I64"))).of_int32(j+2);b.cta3Title=(l=g==null?void 0:(a=g.cta3)==null?void 0:a.title)!=null?l:"";b.cta3Type=(f=k(g==null?void 0:(e=g.cta3)==null?void 0:e.type))!=null?f:"xma_postback"}return b}function s(a,b,c,e,f){var g=[];if((e==null?void 0:e.cta1)!=null){var h;g.push(n((i||(i=d("I64"))).of_int32(f),c,a,b,e==null?void 0:(h=e.cta1)==null?void 0:h.title,e==null?void 0:(h=e.cta1)==null?void 0:h.type,e==null?void 0:(h=e.cta1)==null?void 0:h.target_id,e==null?void 0:(h=e.cta1)==null?void 0:h.action_url))}if((e==null?void 0:e.cta2)!=null){g.push(n((i||(i=d("I64"))).of_int32(f+1),c,a,b,e==null?void 0:(h=e.cta2)==null?void 0:h.title,e==null?void 0:(h=e.cta2)==null?void 0:h.type,e==null?void 0:(h=e.cta2)==null?void 0:h.target_id,e==null?void 0:(h=e.cta2)==null?void 0:h.action_url))}if((e==null?void 0:e.cta3)!=null){g.push(n((i||(i=d("I64"))).of_int32(f+2),c,a,b,e==null?void 0:(h=e.cta3)==null?void 0:h.title,e==null?void 0:(f=e.cta3)==null?void 0:f.type,e==null?void 0:(c=e.cta3)==null?void 0:c.target_id,e==null?void 0:(a=e.cta3)==null?void 0:a.action_url))}return g}function t(a,b,c,e,f){c=babelHelpers["extends"]({},d("CSChatLSTableDefaultData").attachmentItem,{attachmentFbid:(c=c)!=null?c:"",messageId:(c=b)!=null?c:"",threadKey:(b=a)!=null?b:(i||(i=d("I64"))).zero});a=[];b=f;for(f=0;f<e.length;f++){var g,h;g=(g=e[f])==null?void 0:g.messenger_generic_xma_template_extra_info;h=babelHelpers["extends"]({},c,{attachmentIndex:(i||(i=d("I64"))).of_int32(f),subtitleText:(h=(h=e[f])==null?void 0:h.subtitle)!=null?h:"",titleText:(h=(h=e[f])==null?void 0:(h=h.title_with_entities)==null?void 0:h.text)!=null?h:""});if((g==null?void 0:g.cta1)!=null){var j;h.attachmentCta1Id=(i||(i=d("I64"))).of_int32(b);h.cta1Title=(j=g==null?void 0:(j=g.cta1)==null?void 0:j.title)!=null?j:"";h.cta1Type=(j=k(g==null?void 0:(j=g.cta1)==null?void 0:j.type))!=null?j:"xma_postback";b++}if((g==null?void 0:g.cta2)!=null){h.attachmentCta2Id=(i||(i=d("I64"))).of_int32(b);h.cta2Title=(j=g==null?void 0:(j=g.cta2)==null?void 0:j.title)!=null?j:"";h.cta2Type=(j=k(g==null?void 0:(j=g.cta2)==null?void 0:j.type))!=null?j:"xma_postback";b++}if((g==null?void 0:g.cta3)!=null){h.attachmentCta3Id=(i||(i=d("I64"))).of_int32(b);h.cta3Title=(j=g==null?void 0:(j=g.cta3)==null?void 0:j.title)!=null?j:"";h.cta3Type=(g=k(g==null?void 0:(j=g.cta3)==null?void 0:j.type))!=null?g:"xma_postback";b++}a.push(h)}return a}function u(a,b,e,f){var g,j=d("CSChatLSTableDefaultData").attachment;b=babelHelpers["extends"]({},j,{attachmentFbid:(g=f==null?void 0:f.id)!=null?g:j.attachmentFbid,attachmentType:(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER),hasMedia:!0,hasXma:!1,messageId:(g=b)!=null?g:j.messageId,playableUrl:(b=f==null?void 0:f.playable_url)!=null?b:j.playableUrl,playableUrlMimeType:(g=f==null?void 0:f.playable_mime_type)!=null?g:void 0,previewHeight:(f==null?void 0:f.height)!=null?(i||(i=d("I64"))).of_int32(f==null?void 0:f.height):j.previewHeight,previewUrl:(b=f==null?void 0:f.url)!=null?b:j.previewUrl,previewUrlMimeType:(b=f==null?void 0:(g=f.image)==null?void 0:g.mime_type)!=null?b:j.previewUrlMimeType,previewWidth:(f==null?void 0:f.width)!=null?(i||(i=d("I64"))).of_int32(f==null?void 0:f.width):j.previewWidth,targetId:(f==null?void 0:(g=f.pack)==null?void 0:g.id)!=null?(i||(i=d("I64"))).of_string(f==null?void 0:(b=f.pack)==null?void 0:b.id):j.targetId,threadKey:(g=a)!=null?g:j.threadKey,timestampMs:(f=e)!=null?f:j.timestampMs});return b}g.messageHasAttachmentAndDisplayContentTypes=a;g.mapToLSAttachments=b;g.mapToLSExtensibleAttachments=e;g.mapToLSStickerAttachment=u}),34);
__d("CSChatLSGraphQLDataMapper",["CSChatLSGraphQLAttachmentMapper","CSChatLSTableDefaultData","FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSMessageThreadUnsendabilityStatus","LSQuickReplyType","compactArray","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){try{return JSON.parse(a)}catch(b){c("FBLogger")("cs_chat","decode_platform_xmd_error").mustfix("decoding platform xmd failed, please check payload:"+a+b);return null}}function k(a){return a==null||a.length===0?{}:a.reduce(function(a,b){var d;d=c("nullthrows")(b==null?void 0:(d=b.actor)==null?void 0:d.id);b=c("nullthrows")(b.timestamp_precise);a[d]=b;return a},{})}function l(a,b){var e=b.message_thread,f;if(e==null)f=(h||(h=d("I64"))).zero;else{e=e.updated_time_precise;f=e==null?(h||(h=d("I64"))).zero:(h||(h=d("I64"))).of_string(e)}e=b.message_thread;if(e==null)b=(h||(h=d("I64"))).zero;else{e=e.read_receipts;if(e==null)b=(h||(h=d("I64"))).zero;else{e=Object.entries(k(e.nodes)).filter(function(b){b=b[0];return!(h||(h=d("I64"))).equal(h.of_string(b),(b=a)!=null?b:d("CSChatLSTableDefaultData").thread.threadKey)})[0];b=e==null?(h||(h=d("I64"))).zero:(h||(h=d("I64"))).of_string(e[1])}}f=babelHelpers["extends"]({},d("CSChatLSTableDefaultData").thread,{authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),cannotUnsendReason:i.ofNumber(c("LSMessageThreadUnsendabilityStatus").DENY_FOR_SPECIFIC_IDS),folderName:"inbox",lastActivityTimestampMs:f,lastReadWatermarkTimestampMs:b,threadKey:(e=a)!=null?e:d("CSChatLSTableDefaultData").thread.threadKey,threadType:i.ofNumber(1)});return f}function m(a,b){var e,f=b.__typename,g=f==="GenericAdminTextMessage"||f==="XFBGenericAdminTextMessage",k;switch(f){case"GenericAdminTextMessage":case"XFBGenericAdminTextMessage":b.snippet==null&&c("FBLogger")("cs_chat","user_message_is_null").mustfix("Text is null for admin message: "+(h||(h=d("I64"))).to_string(a));k=(e=b.snippet)!=null?e:"";break;case"UserMessage":case"XFBUserMessage":if(((e=b.message)==null?void 0:e.text)==null)throw c("FBLogger")("cs_chat","user_message_is_null").mustfixThrow("Text is null for user message: "+(h||(h=d("I64"))).to_string(a));k=b.message.text;break;default:throw c("FBLogger")("cs_chat").mustfixThrow("Unsupported message type %s",f)}e=b.platform_xmd_encoded;var l;f=!1;var m=(i||(i=d("LSIntEnum"))).ofNumber(c("LSQuickReplyType").NONE);if(e==null)l=void 0;else{e=j(e);l=e==null?void 0:e.persona;f=(e==null?void 0:e.quick_replies)!==null;if(f){e=e==null?void 0:e.quick_reply_type;e==="vertical"?m=(i||(i=d("LSIntEnum"))).ofNumber(c("LSQuickReplyType").VERTICAL):e==="horizontal"&&(m=(i||(i=d("LSIntEnum"))).ofNumber(c("LSQuickReplyType").HORIZONTAL))}}l=l!=null?(h||(h=d("I64"))).of_int32(l.id):(h||(h=d("I64"))).of_string(c("nullthrows")((e=b.message_sender)==null?void 0:e.id));e=c("nullthrows")(b.message_id);var n=c("nullthrows")(b.offline_threading_id),o=(h||(h=d("I64"))).of_string(c("nullthrows")(b.timestamp_precise)),p=d("CSChatLSGraphQLAttachmentMapper").messageHasAttachmentAndDisplayContentTypes(b);p=p[1];var q=d("CSChatLSTableDefaultData").message;m=babelHelpers["extends"]({},q,{displayedContentTypes:p,hasQuickReplies:f,isAdminMessage:g,messageId:(p=e)!=null?p:q.messageId,offlineThreadingId:(f=n)!=null?f:q.offlineThreadingId,primarySortKey:(g=o)!=null?g:q.timestampMs,quickReplyType:m,senderId:(e=l)!=null?e:q.senderId,sendStatusV2:i.ofNumber(2),stickerId:(b==null?void 0:(p=b.sticker)==null?void 0:p.id)!=null?(h||(h=d("I64"))).of_string(b==null?void 0:(n=b.sticker)==null?void 0:n.id):void 0,text:k,threadKey:(f=a)!=null?f:q.threadKey,timestampMs:(g=o)!=null?g:q.timestampMs});return m}function n(a,b){b=b.message_thread;if(b==null)return[];var d=["ThreadNameMessage","XFBThreadNameMessage","ThreadImageMessage","XFBThreadImageMessage"];return c("nullthrows")((b=b.messages)==null?void 0:b.nodes).filter(function(a){return!d.includes(a.__typename)}).map(function(b){return m(a,b)})}function o(a,b,e,f){var g;if(b.id==null)throw c("FBLogger")("cs_chat","actor_is_null").mustfixThrow("Actor is null, cannot map to contact and participant: "+(h||(h=d("I64"))).to_string(a));var i=(h||(h=d("I64"))).of_string(b.id);g=(g=b.name)!=null?g:"";b=(b=(b=b.profile_picture)==null?void 0:b.uri)!=null?b:"";g=babelHelpers["extends"]({},d("CSChatLSTableDefaultData").contact,{id:i,name:g,profilePictureUrl:b});b=babelHelpers["extends"]({},d("CSChatLSTableDefaultData").participant,{contactId:i,deliveredWatermarkTimestampMs:f!=null?(h||(h=d("I64"))).of_string(f):(h||(h=d("I64"))).zero,readWatermarkTimestampMs:e!=null?(h||(h=d("I64"))).of_string(e):(h||(h=d("I64"))).zero,threadKey:a});return[g,b]}function p(a,b){var d;b=b.message_thread;if(b==null)return[];var e=k((d=b.read_receipts)==null?void 0:d.nodes),f=k((d=b.delivery_receipts)==null?void 0:d.nodes);if(((d=b.all_participants)==null?void 0:d.nodes)==null){throw c("FBLogger")("cs_chat","missing_participants").mustfixThrow("missing participants in message thread with threadkey:"+((d=b==null?void 0:(d=b.thread_key)==null?void 0:d.other_user_id)!=null?d:""))}return b.all_participants.nodes.map(function(b){b=c("nullthrows")(b.messaging_actor);var d=c("nullthrows")(b.id);return o(a,b,e[d],f[d])})}function q(a,b){if(b.__typename!=="UserMessage"&&b.__typename!=="XFBUserMessage")return[];if(b.platform_xmd_encoded==null)return[];var e=j(b.platform_xmd_encoded),f=c("nullthrows")(b.message_id),g=(h||(h=d("I64"))).of_string(c("nullthrows")(b.timestamp_precise));b=e==null?void 0:e.quick_replies;if(b!=null&&Array.isArray(b))return b.map(function(b,c){return babelHelpers["extends"]({},d("CSChatLSTableDefaultData").quickReplyCta,{ctaId:(h||(h=d("I64"))).of_int32(c),imageUrl:(c=b.image_url)!=null?c:void 0,messageId:f,messageTimestampMs:g,platformToken:JSON.stringify({quick_reply:{payload:b.payload}}),threadKey:a,title:b.title,type_:b.content_type==="text"?"quick_reply_text":""})})}function r(a,b){b=b.message_thread;if(b==null)return[];b=c("nullthrows")((b=b.messages)==null?void 0:b.nodes).map(function(b){return q(a,b)}).filter(function(a){return a!=null&&a.length>0});return b.flat()}function s(a,b){if(b.__typename!=="UserMessage"&&b.__typename!=="XFBUserMessage")return;if(b.platform_xmd_encoded==null)return;b=j(b.platform_xmd_encoded);b=b==null?void 0:b.persona;if(b==null)return;var c=(h||(h=d("I64"))).of_int32(b.id);b=babelHelpers["extends"]({},d("CSChatLSTableDefaultData").contact,{id:c,name:b.name,profilePictureUrl:b.profile_picture_url});c=babelHelpers["extends"]({},d("CSChatLSTableDefaultData").participant,{contactId:c,threadKey:a});return[b,c]}function t(a,b){b=b.message_thread;if(b==null)return[];else{return c("nullthrows")((b=b.messages)==null?void 0:b.nodes).map(function(b){return s(a,b)}).filter(Boolean)}}function u(a){if(a.__typename!=="UserMessage"&&a.__typename!=="XFBUserMessage")return[];var b=c("nullthrows")(a.message_id);a=a.support_translations;return a==null||!Array.isArray(a)?[]:c("compactArray")(a.map(function(a){var c=a.confidence,d=a.source_locale,e=a.target_locale;a=a.translated_text;return c!=null&&e!=null&&a!=null?{confidence:c,messageId:b,sourceLocale:(c=d)!=null?c:void 0,targetLocale:e.toUpperCase(),translatedText:a}:null}))}function v(a){a=a.message_thread;if(a==null)return[];a=c("nullthrows")((a=a.messages)==null?void 0:a.nodes).map(function(a){return u(a)}).filter(function(a){return a!=null&&a.length>0});return a.flat()}function a(a,b){try{var e;e=(e=b.message_thread)==null?void 0:(e=e.thread_key)==null?void 0:e.other_user_id;if(e==null){var f;e=(f=b.message_thread)==null?void 0:(f=f.thread_key)==null?void 0:f.thread_fbid}e=(h||(h=d("I64"))).of_string(c("nullthrows")(e))}catch(b){c("FBLogger")("cs_chat","thread_key_fetch_from_thread_failed").mustfix("Fetching thread key from graphql failed, defaulted to:"+a+" with exception:"+b),e=(h||(h=d("I64"))).of_string(a)}f=d("CSChatLSGraphQLAttachmentMapper").mapToLSExtensibleAttachments(e,b);a=f[0];var g=f[1];f=f[2];return{blob_attachments:d("CSChatLSGraphQLAttachmentMapper").mapToLSAttachments(e,b),contacts_and_participants:p(e,b),contacts_and_participants_from_personas:t(e,b),extensible_attachment_ctas:g,extensible_attachment_items:f,extensible_attachments:a,messages:n(e,b),quick_reply_ctas:r(e,b),support_translations:v(b),thread:l(e,b)}}g.decodePlatformXMD=j;g.mapReceipts=k;g.mapToLSThread=l;g.mapToLSMessage=m;g.mapToLSThread=l;g.mapToLSMessage=m;g.mapToLSMessages=n;g.mapToLSContactAndParticipant=o;g.mapToLSContactsAndParticipants=p;g.mapToLSQuickReply=q;g.mapToLSQuickReplies=r;g.mapPersonaToLSContactAndParticipant=s;g.mapPersonasToLSContactsAndParticipants=t;g.mapData=a}),34);
__d("CSChatLSGraphQLTaskSystem",["FBLogger","I64","LSFactory","LSHandleTaskSendSuccessForQueueStoredProcedure","LSIntEnum","LSPlatformTaskSystemTransport","LSVersion","MWPlatformTaskSystem","Promise","ReQL","cr:6722","emptyFunction","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,e,g){var k=function(e){return a.runInTransaction(function(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.pending_tasks).filter(function(a){return a.queueName===e})).then(function(d){if(d!=null)return a.pending_tasks["delete"](d.taskId).then(function(){return c("LSHandleTaskSendSuccessForQueueStoredProcedure")(c("LSFactory")(a),{queueName:e})});else return(j||(j=b("Promise"))).resolve()})},"readwrite",void 0,void 0,f.id+":63")},l=function(c,e){return a.runInTransaction(function(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages).filter(function(a){return a.offlineThreadingId===c})).then(function(c){if(c==null)return(j||(j=b("Promise"))).resolve();var d=babelHelpers["extends"]({},c,{sendStatusV2:e});return a.messages.upsert([c.threadKey,c.timestampMs,""],d).then(function(){return(j||(j=b("Promise"))).resolve()})})},"readwrite",void 0,void 0,f.id+":84")},m=function(e,g){return a.runInTransaction(function(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages).filter(function(a){return a.messageId===g})).then(function(d){if(d!=null)return a.messages["delete"](d.threadKey,d.timestampMs,d.messageId).then(c("emptyFunction"));else return(j||(j=b("Promise"))).resolve()})},"readwrite",void 0,void 0,f.id+":100")},n=function(a){var d=function(a){var d=a.label,e;try{e=b("cr:6722")!=null?b("cr:6722").parse(a.payload):JSON.parse(a.payload)}catch(b){a=b instanceof Error?c("FBLogger")("cs_experience_ui").catching(b):c("FBLogger")("cs_experience_ui");throw a.mustfixThrow("Error parsing payload JSON")}return[d,e]};return a.tasks.map(d)},o=function(a,d){try{return b("cr:6722")!=null?b("cr:6722").parse(d):JSON.parse(d)}catch(b){a=b instanceof Error?c("FBLogger")("cs_experience_ui").catching(b):c("FBLogger")("cs_experience_ui");throw a.mustfixThrow("Error parsing payload JSON")}},p=function(a,f){f=o(a,f);if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(3))){f=n(f);f.forEach(function(a){var b=a[1];a=(h||(h=d("I64"))).of_string(a[0]);if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(46))){var f=b.otid,j=b.otid;e.sendMessage(b.thread_id,b.otid,b.text,b==null?void 0:b.platform_token,b.attachment_fbids,b==null?void 0:b.sticker_id).then(function(){return l(f,(i||(i=d("LSIntEnum"))).ofNumber(2))})["catch"](function(){return l(j,(i||(i=d("LSIntEnum"))).ofNumber(5))});return}if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(207)))return;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(21)))return e.markThreadAsRead(b.thread_id,b.last_read_watermark_ts);if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(155))){var k=b.message_id,n=b.thread_key;c("promiseDone")(e.deleteMessage(b.thread_key,b.message_id).then(function(){return m(n,k).then(function(){return g.deleteMessage(k)}).then(c("emptyFunction"))}));return}c("FBLogger")("cs_experience_ui").mustfix("Operation not supported: "+h.to_string(a))})}else c("FBLogger")("cs_experience_ui").mustfix("Request type not supported: "+(h||(h=d("I64"))).to_string(a));return(j||(j=b("Promise"))).resolve()},q=function(){return c("emptyFunction")},r=function(){return function(){}},s=function(){return c("emptyFunction")},t=function(a){var c=a.payload,d=a.queueName,e=a.requestId;a.syncChannel;a=a.type_;return p(a,c).then(function(){return(d!=null?k(d):(j||(j=b("Promise"))).resolve()).then(function(){return{downloadTask:(j||(j=b("Promise"))).resolve(),payload:{ex:void 0,nop:void 0,ntop:void 0,payload:"",request_id:e,sp:void 0,target:void 0},type:"taskresponse"}})})},u=c("emptyFunction");u={cleanup:u,logEvent:c("emptyFunction"),onConnectionStatusChange:s,onReconnect:r,publish:t,subscribeToNonTaskResponses:q};new(c("MWPlatformTaskSystem"))(a,new(c("LSPlatformTaskSystemTransport"))(a,u,function(){return(j||(j=b("Promise"))).resolve()},c("LSVersion")))}g["default"]=a}),98);
__d("CSChatLSGraphQLAdapter",["CSChatLSGraphQLDataMapper","CSChatLSGraphQLTaskSystem","CSChatTypingIndicatorSitevarConfig","I64","Promise","asyncToGeneratorRuntime","emptyFunction","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k={};function l(a){k[a]=!0}function m(a){return Boolean((a=k[a])!=null?a:!1)}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){yield a.messages_ranges_v2__generated.put({hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:"mid.end",maxTimestampMs:(j||(j=d("I64"))).of_string("9999999999999"),minMessageId:"mid.start",minTimestampMs:j.zero,threadKey:b.threadKey})});return o.apply(this,arguments)}function p(a,b){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){yield (i||(i=b("Promise"))).all(c.map(function(c){return m(c.messageId)?(i||(i=b("Promise"))).resolve():a.messages.add(c)}))});return q.apply(this,arguments)}function r(a,b){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){yield (i||(i=b("Promise"))).all(c.map(function(c){return m(c.messageId)?(i||(i=b("Promise"))).resolve():a.support_translations.add(c)}))});return s.apply(this,arguments)}function t(a,b){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){yield (i||(i=b("Promise"))).all(c.map(function(c){return m(c.messageId)?(i||(i=b("Promise"))).resolve():a.attachments.add(c)}))});return u.apply(this,arguments)}function v(a,c){return(i||(i=b("Promise"))).all(c.map(function(c){return m(c.messageId)?(i||(i=b("Promise"))).resolve():a.attachment_ctas.add(c)}))}function w(a,c){return(i||(i=b("Promise"))).all(c.map(function(c){return m(c.messageId)?(i||(i=b("Promise"))).resolve():a.attachment_items.add(c)}))}function x(a,d){return(i||(i=b("Promise"))).all(d.map(function(b){var d=b[1];return a.contacts.put(b[0]).then(function(){return a.participants.put(d)}).then(c("emptyFunction"))}))}function y(a,b){return z.apply(this,arguments)}function z(){z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){yield (i||(i=b("Promise"))).all(c.map(function(b){return a.quick_reply_ctas.put(b)}))});return z.apply(this,arguments)}function A(a,e){if(e===null||(e==null?void 0:e.xfb_cs_chat_typing_indicator)===null)return(i||(i=b("Promise"))).resolve();e=e==null?void 0:e.xfb_cs_chat_typing_indicator;if(e===null||(e==null?void 0:e.sender_action)!=="TYPING_ON")return(i||(i=b("Promise"))).resolve();e=e==null?void 0:e.thread_id;if(e==null)return(i||(i=b("Promise"))).resolve();e=(j||(j=d("I64"))).of_string(e);var f=j.of_float(c("CSChatTypingIndicatorSitevarConfig").indicator_expiration+Date.now());return a.typing_indicator.upsert([e,e],{expirationTimestampMs:f,senderId:e,threadKey:e}).then(function(){})}function B(a,b,c){var d=b.quick_reply_ctas,e=b.contacts_and_participants_from_personas,g=b.contacts_and_participants,h=b.extensible_attachment_ctas,i=b.extensible_attachments,j=b.extensible_attachment_items,k=b.blob_attachments,l=b.messages,m=b.thread;return a.runInTransaction(function(a){return a.threads.put(m).then(function(){return n(a,m)}).then(function(){return p(a,l)}).then(function(){return t(a,k)}).then(function(){return t(a,i)}).then(function(){return v(a,h)}).then(function(){return w(a,j)}).then(function(){return x(a,g)}).then(function(){return x(a,e)}).then(function(){return y(a,d)}).then(function(){return A(a,c)}).then(function(){return r(a,b.support_translations)}).then(function(){})},"readwrite",void 0,void 0,f.id+":217")}function a(a){var b=a.callbacks,e=a.clientThreadKey,f=a.data,g=a.onWriteToLSProcessed;a=a.typingIndicatorData;var i=(h||(h=c("useReStore")))();e=d("CSChatLSGraphQLDataMapper").mapData(e,f);B(i,e,a).then(function(){return(g||function(){})()})["catch"](function(){});f={deleteMessage:l};c("CSChatLSGraphQLTaskSystem")(i,b,f);return null}g["default"]=a}),98);
__d("CSChatMarkThreadAsReadMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6918487861596059"}),null);
__d("CSChatMarkThreadAsReadMutation.graphql",["CSChatMarkThreadAsReadMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerThreadMarkReadStateResponsePayload",kind:"LinkedField",name:"messenger_thread_mark_read_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CSChatMarkThreadAsReadMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CSChatMarkThreadAsReadMutation",selections:c},params:{id:b("CSChatMarkThreadAsReadMutation_facebookRelayOperation"),metadata:{},name:"CSChatMarkThreadAsReadMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CSChatSendMessageMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9492820427400507"}),null);
__d("CSChatSendMessageMutation.graphql",["CSChatSendMessageMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"offline_threading_id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CSChatSendMessageMutation",selections:[{alias:null,args:c,concreteType:"MiBSendMessageResponsePayload",kind:"LinkedField",name:"messaging_in_blue_send_message",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:[d,e],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CSChatSendMessageMutation",selections:[{alias:null,args:c,concreteType:"MiBSendMessageResponsePayload",kind:"LinkedField",name:"messaging_in_blue_send_message",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,e,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CSChatSendMessageMutation_facebookRelayOperation"),metadata:{},name:"CSChatSendMessageMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CSChatSupportUserDeleteMessageMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5702835273086229"}),null);
__d("CSChatSupportUserDeleteMessageMutation.graphql",["CSChatSupportUserDeleteMessageMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"XFBSupportUserDeleteMessageResponsePayload",kind:"LinkedField",name:"xfb_support_user_delete_message",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CSChatSupportUserDeleteMessageMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CSChatSupportUserDeleteMessageMutation",selections:c},params:{id:b("CSChatSupportUserDeleteMessageMutation_facebookRelayOperation"),metadata:{},name:"CSChatSupportUserDeleteMessageMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CSChatSupportUserMarkThreadAsReadMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6971986282931099"}),null);
__d("CSChatSupportUserMarkThreadAsReadMutation.graphql",["CSChatSupportUserMarkThreadAsReadMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"SupportUserMarkThreadAsReadResponsePayload",kind:"LinkedField",name:"support_user_mark_thread_as_read",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CSChatSupportUserMarkThreadAsReadMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CSChatSupportUserMarkThreadAsReadMutation",selections:c},params:{id:b("CSChatSupportUserMarkThreadAsReadMutation_facebookRelayOperation"),metadata:{},name:"CSChatSupportUserMarkThreadAsReadMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CSChatSupportUserSendMessageMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="25013928691553894"}),null);
__d("CSChatSupportUserSendMessageMutation.graphql",["CSChatSupportUserSendMessageMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"offline_threading_id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CSChatSupportUserSendMessageMutation",selections:[{alias:null,args:c,concreteType:"CustomerChatSupportSendMessageResponsePayload",kind:"LinkedField",name:"customer_chat_support_send_message",plural:!1,selections:[d,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:[e,f],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CSChatSupportUserSendMessageMutation",selections:[{alias:null,args:c,concreteType:"CustomerChatSupportSendMessageResponsePayload",kind:"LinkedField",name:"customer_chat_support_send_message",plural:!1,selections:[d,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e,f,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CSChatSupportUserSendMessageMutation_facebookRelayOperation"),metadata:{},name:"CSChatSupportUserSendMessageMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CSChatSupportUserThreadQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7204885466261337"}),null);
__d("CSChatSupportUserThreadQuery.graphql",["CSChatSupportUserThreadQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"data"},{defaultValue:null,kind:"LocalArgument",name:"enable_attachments_gk"}],c=[{kind:"Variable",name:"data",variableName:"data"}],d={alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"other_user_id",storageKey:null}],storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},i={alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"all_participants",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:[e,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[f,e,g,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[h],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"updated_time_precise",storageKey:null},k=[e],l={alias:null,args:null,kind:"ScalarField",name:"timestamp_precise",storageKey:null},m=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:k,storageKey:null},l],n={alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"offline_threading_id",storageKey:null},p={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"message_sender",plural:!1,selections:k,storageKey:null},q={alias:null,args:null,concreteType:"XFBCustomerSupportMessageTranslation",kind:"LinkedField",name:"support_translations",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"translated_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"source_locale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target_locale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confidence",storageKey:null}],storageKey:null},r=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],s={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:r,storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"playable_url",storageKey:null},x={alias:null,args:null,concreteType:"Sticker",kind:"LinkedField",name:"sticker",plural:!1,selections:[e,{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"pack",plural:!1,selections:k,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},t,u,v,w,{alias:null,args:null,kind:"ScalarField",name:"playable_mime_type",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"mime_type",storageKey:null}],storageKey:null}],storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"legacy_attachment_id",storageKey:null},z={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[h,u,v],storageKey:null},A={kind:"InlineFragment",selections:[y,w,z,t],type:"MessageImage",abstractKey:null};w={kind:"InlineFragment",selections:[y,{alias:null,args:null,kind:"ScalarField",name:"mimetype",storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"original_dimensions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null},w,t,z],type:"MessageVideo",abstractKey:null};t={kind:"InlineFragment",selections:[y,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[h,v,u,{alias:null,args:null,kind:"ScalarField",name:"downloadable_uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"animated_image_caption",storageKey:null}],type:"MessageAnimatedImage",abstractKey:null};z={alias:null,args:null,kind:"ScalarField",name:"platform_xmd_encoded",storageKey:null};h={alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null};v=[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cta_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},h];u={alias:null,args:null,concreteType:"MessengerGenericXMATemplateExtraFields",kind:"LinkedField",name:"messenger_generic_xma_template_extra_info",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta1",plural:!1,selections:v,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta2",plural:!1,selections:v,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta3",plural:!1,selections:v,storageKey:null}],storageKey:null};v={alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null};r={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title_with_entities",plural:!1,selections:r,storageKey:null};var B={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"subattachments",plural:!0,selections:[u,v,r],storageKey:null};h={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"call_to_actions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"action_title",storageKey:null},e,{alias:null,args:null,kind:"ScalarField",name:"action_open_type",storageKey:null},h],storageKey:null};var C={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},D={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null}],type:"GenericAdminTextMessage",abstractKey:null},E=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[f,e],storageKey:null},l];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CSChatSupportUserThreadQuery",selections:[{alias:"message_thread",args:c,concreteType:"MessageThread",kind:"LinkedField",name:"xfb_support_user_message_thread",plural:!1,selections:[d,i,j,{alias:null,args:null,concreteType:"MessagingReadReceiptsOfThreadConnection",kind:"LinkedField",name:"read_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingReadReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:m,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessagingDeliveryReceiptsOfThreadConnection",kind:"LinkedField",name:"delivery_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingDeliveryReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:m,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[n,o,l,p,f,{kind:"InlineFragment",selections:[q,s,x,{condition:"enable_attachments_gk",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_attachments",plural:!0,selections:[f,A,w,t],storageKey:null}]},z,{alias:null,args:null,concreteType:"ExtensibleMessageAttachment",kind:"LinkedField",name:"extensible_attachment",plural:!1,selections:[y,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[u,v,r,B,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[f,{kind:"InlineFragment",selections:[h,{alias:null,args:null,concreteType:"MessengerBusinessMessageItemsConnection",kind:"LinkedField",name:"business_items",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[g,C,h],storageKey:null}],storageKey:null}],type:"MessengerBusinessMessage",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserMessage",abstractKey:null},D],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CSChatSupportUserThreadQuery",selections:[{alias:"message_thread",args:c,concreteType:"MessageThread",kind:"LinkedField",name:"xfb_support_user_message_thread",plural:!1,selections:[d,i,j,{alias:null,args:null,concreteType:"MessagingReadReceiptsOfThreadConnection",kind:"LinkedField",name:"read_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingReadReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:E,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessagingDeliveryReceiptsOfThreadConnection",kind:"LinkedField",name:"delivery_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingDeliveryReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:E,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[n,o,l,p,f,{kind:"InlineFragment",selections:[q,s,x,{condition:"enable_attachments_gk",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_attachments",plural:!0,selections:[f,A,w,t,{kind:"InlineFragment",selections:k,type:"Node",abstractKey:"__isNode"}],storageKey:null}]},z,{alias:null,args:null,concreteType:"ExtensibleMessageAttachment",kind:"LinkedField",name:"extensible_attachment",plural:!1,selections:[y,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[u,v,r,B,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[f,{kind:"InlineFragment",selections:[h,{alias:null,args:null,concreteType:"MessengerBusinessMessageItemsConnection",kind:"LinkedField",name:"business_items",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[g,C,h,e],storageKey:null}],storageKey:null}],type:"MessengerBusinessMessage",abstractKey:null},e],storageKey:null}],storageKey:null},e],storageKey:null}],type:"UserMessage",abstractKey:null},D,e],storageKey:null}],storageKey:null},e],storageKey:null}]},params:{id:b("CSChatSupportUserThreadQuery_facebookRelayOperation"),metadata:{live:{polling_interval:5e3}},name:"CSChatSupportUserThreadQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CSChatThreadQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7237839836252097"}),null);
__d("CSChatThreadQuery.graphql",["CSChatThreadQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"end_time_ms"},c={defaultValue:null,kind:"LocalArgument",name:"start_time_ms"},d={defaultValue:null,kind:"LocalArgument",name:"thread_id"},e=[{kind:"Variable",name:"id",variableName:"thread_id"}],f={alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"other_user_id",storageKey:null}],storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},k={alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"all_participants",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:[g,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[h,g,i,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[j],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"updated_time_precise",storageKey:null},m=[g],n={alias:null,args:null,kind:"ScalarField",name:"timestamp_precise",storageKey:null},o=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:m,storageKey:null},n],p=[{kind:"Variable",name:"after_time_precise",variableName:"start_time_ms"},{kind:"Variable",name:"before_time_precise",variableName:"end_time_ms"}],q={alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"offline_threading_id",storageKey:null},s={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"message_sender",plural:!1,selections:m,storageKey:null},t=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],u={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:t,storageKey:null},v={alias:null,args:null,concreteType:"XFBCustomerSupportMessageTranslation",kind:"LinkedField",name:"support_translations",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"translated_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"source_locale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target_locale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confidence",storageKey:null}],storageKey:null};m={alias:null,args:null,concreteType:"Sticker",kind:"LinkedField",name:"sticker",plural:!1,selections:[g,{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"pack",plural:!1,selections:m,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"playable_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"playable_mime_type",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[j,{alias:null,args:null,kind:"ScalarField",name:"mime_type",storageKey:null}],storageKey:null}],storageKey:null};j={alias:null,args:null,kind:"ScalarField",name:"platform_xmd_encoded",storageKey:null};var w={alias:null,args:null,kind:"ScalarField",name:"legacy_attachment_id",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null},y=[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cta_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},x];y={alias:null,args:null,concreteType:"MessengerGenericXMATemplateExtraFields",kind:"LinkedField",name:"messenger_generic_xma_template_extra_info",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta1",plural:!1,selections:y,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta2",plural:!1,selections:y,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta3",plural:!1,selections:y,storageKey:null}],storageKey:null};var z={alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null};t={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title_with_entities",plural:!1,selections:t,storageKey:null};var A={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"subattachments",plural:!0,selections:[y,z,t],storageKey:null};x={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"call_to_actions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"action_title",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"action_open_type",storageKey:null},x],storageKey:null};var B={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},C={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null}],type:"GenericAdminTextMessage",abstractKey:null},D=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[h,g],storageKey:null},n];return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"CSChatThreadQuery",selections:[{alias:null,args:e,concreteType:"MessageThread",kind:"LinkedField",name:"message_thread",plural:!1,selections:[f,k,l,{alias:null,args:null,concreteType:"MessagingReadReceiptsOfThreadConnection",kind:"LinkedField",name:"read_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingReadReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:o,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessagingDeliveryReceiptsOfThreadConnection",kind:"LinkedField",name:"delivery_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingDeliveryReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:o,storageKey:null}],storageKey:null},{alias:null,args:p,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[q,r,n,s,h,{kind:"InlineFragment",selections:[u,v,m,j,{alias:null,args:null,concreteType:"ExtensibleMessageAttachment",kind:"LinkedField",name:"extensible_attachment",plural:!1,selections:[w,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[y,z,t,A,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[h,{kind:"InlineFragment",selections:[x,{alias:null,args:null,concreteType:"MessengerBusinessMessageItemsConnection",kind:"LinkedField",name:"business_items",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[i,B,x],storageKey:null}],storageKey:null}],type:"MessengerBusinessMessage",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserMessage",abstractKey:null},C],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[d,c,a],kind:"Operation",name:"CSChatThreadQuery",selections:[{alias:null,args:e,concreteType:"MessageThread",kind:"LinkedField",name:"message_thread",plural:!1,selections:[f,k,l,{alias:null,args:null,concreteType:"MessagingReadReceiptsOfThreadConnection",kind:"LinkedField",name:"read_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingReadReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:D,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessagingDeliveryReceiptsOfThreadConnection",kind:"LinkedField",name:"delivery_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingDeliveryReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:D,storageKey:null}],storageKey:null},{alias:null,args:p,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[q,r,n,s,h,{kind:"InlineFragment",selections:[u,v,m,j,{alias:null,args:null,concreteType:"ExtensibleMessageAttachment",kind:"LinkedField",name:"extensible_attachment",plural:!1,selections:[w,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[y,z,t,A,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[h,{kind:"InlineFragment",selections:[x,{alias:null,args:null,concreteType:"MessengerBusinessMessageItemsConnection",kind:"LinkedField",name:"business_items",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[i,B,x,g],storageKey:null}],storageKey:null}],type:"MessengerBusinessMessage",abstractKey:null},g],storageKey:null}],storageKey:null},g],storageKey:null}],type:"UserMessage",abstractKey:null},C,g],storageKey:null}],storageKey:null},g],storageKey:null}]},params:{id:b("CSChatThreadQuery_facebookRelayOperation"),metadata:{live:{polling_interval:5e3}},name:"CSChatThreadQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CSChat.react",["fbt","CSChatDeleteMessageMutation.graphql","CSChatErrorUtil","CSChatLSGraphQLAdapter","CSChatMarkThreadAsReadMutation.graphql","CSChatSendMessageMutation.graphql","CSChatSupportUserDeleteMessageMutation.graphql","CSChatSupportUserMarkThreadAsReadMutation.graphql","CSChatSupportUserSendMessageMutation.graphql","CSChatSupportUserThreadQuery.graphql","CSChatThreadQuery.graphql","CometDebounce","CometErrorBoundary.react","CometRelay","FBLogger","Promise","QPLUserFlow","cr:6238","gkx","qpl","react","useCometAlertDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n,o,p,q,r,s=r||d("react"),t=c("qpl")._(146881675,"2073");function u(){var a=d("CometRelay").useMutation(i!==void 0?i:i=b("CSChatSendMessageMutation.graphql")),e=a[0];function f(a){var d=a.offlineMessageId,f=a.platformToken,g=a.text,h=a.threadId,i=null;if(f!=null){a=JSON.parse(f);a.postback!=null&&(i=JSON.stringify({postback_data:JSON.stringify(a.postback)}));a.quick_reply!=null&&(i=JSON.stringify({quick_replies:a.quick_reply}))}return new(q||(q=b("Promise")))(function(a,b){return e({onCompleted:function(){c("QPLUserFlow").endSuccess(t),a()},onError:function(a){c("QPLUserFlow").endFailure(t,"Error: "+a.message),b()},variables:{input:{client_mutation_id:d,logging_info:{messaging_source:"customer_support"},message_content_info:{message_type:"TEXT",text:g},messaging_thread_id:h,messenger_platform:i,offline_message_id:d}}})})}return[f]}function v(a,e,f){var g=d("CometRelay").useMutation(j!==void 0?j:j=b("CSChatSupportUserSendMessageMutation.graphql")),h=g[0];function i(g){var i=g.attachmentIds,j=g.offlineMessageId,k=g.platformToken,l=g.stickerId,m=g.text,n=g.threadId;return new(q||(q=b("Promise")))(function(b,g){return h({onCompleted:function(){c("QPLUserFlow").endSuccess(t),b()},onError:function(a){d("CSChatErrorUtil").isNonceInvalidError(a)&&(f&&f()),c("QPLUserFlow").endFailure(t,"Error: "+a.message),g()},variables:{input:{attachment_ids:i,chat_support_user_id:a,client_mutation_id:j,message_text:m,nonce:e!=null?{sensitive_string_value:e}:null,page_id:n,platform_token:k,sticker_id:l,thread_id:n}}})})}return[i]}function w(){var a=c("useCometAlertDialog")(),e=d("CometRelay").useMutation(k!==void 0?k:k=b("CSChatDeleteMessageMutation.graphql")),f=e[0];function g(c){var d=c.messageId;return new(q||(q=b("Promise")))(function(b){return f({onCompleted:function(){return b()},onError:function(){a({body:h._(/*BTDS*/"__JHASH__EdRM5gfObm8__JHASH__"),title:h._(/*BTDS*/"__JHASH__vPbGECLy-wz__JHASH__")})},variables:{input:{message_id:d}}})})}return[g]}function x(a,e,f){var g=c("useCometAlertDialog")(),i=d("CometRelay").useMutation(l!==void 0?l:l=b("CSChatSupportUserDeleteMessageMutation.graphql")),j=i[0];function k(c){var i=c.messageId;return new(q||(q=b("Promise")))(function(b){return j({onCompleted:function(){return b()},onError:function(a){d("CSChatErrorUtil").isNonceInvalidError(a)&&(f&&f()),g({body:h._(/*BTDS*/"__JHASH__EdRM5gfObm8__JHASH__"),title:h._(/*BTDS*/"__JHASH__vPbGECLy-wz__JHASH__")})},variables:{input:{chat_support_user_id:a,message_id:i,nonce:e!=null?{sensitive_string_value:e}:null}}})})}return[k]}function y(){var a=d("CometRelay").useMutation(m!==void 0?m:m=b("CSChatMarkThreadAsReadMutation.graphql")),e=a[0];function f(a){var b=a.lastReadWatermarkTimestampMs;a=a.threadId;e({variables:{input:{message_watermark_timestamp:b,read_state:"MARK_READ",thread_id_or_other_user_fbid:a}}})}return[c("CometDebounce")(f,{wait:3e3})]}function z(a,e,f){var g=d("CometRelay").useMutation(n!==void 0?n:n=b("CSChatSupportUserMarkThreadAsReadMutation.graphql")),h=g[0];function i(b){var c=b.lastReadWatermarkTimestampMs;b=b.threadId;h({onError:function(a){d("CSChatErrorUtil").isNonceInvalidError(a)&&(f&&f())},variables:{input:{chat_support_user_id:a,message_watermark_timestamp:c,nonce:e!=null?{sensitive_string_value:e}:null,thread_id_or_other_user_fbid:b}}})}return[c("CometDebounce")(i,{wait:3e3})]}function A(a,c){return d("CometRelay").useLazyLoadQuery(o!==void 0?o:o=b("CSChatThreadQuery.graphql"),{end_time_ms:c.endTimeMs!=null?Number(c.endTimeMs):null,start_time_ms:c.startTimeMs!=null?Number(c.startTimeMs):null,thread_id:a})}function B(a,c,e,f){f=f;return d("CometRelay").useLazyLoadQuery(p!==void 0?p:p=b("CSChatSupportUserThreadQuery.graphql"),{data:{chat_support_user_id:a,nonce:c!=null?{sensitive_string_value:c}:null,thread_id:e},enable_attachments_gk:f})}function C(a){var d=a.clientThreadKey;a=a.threadQueryVariables;a=A(d,a);var e=b("cr:6238")(d),f=u(),g=f[0];f=w();var h=f[0];f=y();var i=f[0];f={deleteMessage:function(a,b){return h({messageId:b,threadId:a})},markThreadAsRead:function(a,b){return i({lastReadWatermarkTimestampMs:b,threadId:a})},sendMessage:function(a,b,c,d,e,f){return g({offlineMessageId:b,platformToken:d,text:c,threadId:a})}};return s.jsx(c("CSChatLSGraphQLAdapter"),{callbacks:f,clientThreadKey:d,data:a,typingIndicatorData:e})}C.displayName=C.name+" [from "+f.id+"]";function D(a){var b=a.chatSupportUserID,e=a.chatSupportUserNonce,f=a.clientThreadKey,g=a.isAttachmentSendingEnabled,h=a.nonceInvalid,i=a.onNonceInvalidError,j=a.onWriteToLSProcessed;a=a.setChatSupportUserID;g=B(b,e,f,g);var k="";if(b==="0"){var l;k=(l=(l=g.message_thread)==null?void 0:(l=l.all_participants)==null?void 0:(l=l.nodes.find(function(a){return((a=a.messaging_actor)==null?void 0:a.__typename)==="ChatSupportUser"}))==null?void 0:l.id)!=null?l:""}else k=b;if(k==="0"||k==="")throw c("FBLogger")("cs_chat").mustfixThrow("Invalid chat support user ID");a&&a(k);l=v(k,e,i);var m=l[0];b=x(k,e,i);var n=b[0];a=z(k,e,i);var o=a[0];l={deleteMessage:function(a,b){return n({messageId:b,threadId:a})},markThreadAsRead:function(a,b){return o({lastReadWatermarkTimestampMs:b,threadId:a})},sendMessage:function(a,b,c,d,e,f){return m({attachmentIds:e,offlineMessageId:b,platformToken:d,stickerId:f,text:c,threadId:a})}};if(!h&&g.message_thread===null){i&&i();return null}return s.jsx(c("CometErrorBoundary.react"),{onError:function(a){if(i&&d("CSChatErrorUtil").isNonceInvalidError(a)){i();return}throw c("FBLogger")("cs_chat","support_user_adapter_failure").mustfixThrow("Support User Adapter Error",a.toString())},children:s.jsx(c("CSChatLSGraphQLAdapter"),{callbacks:l,clientThreadKey:f,data:g,onWriteToLSProcessed:j||function(){}})})}D.displayName=D.name+" [from "+f.id+"]";function a(a){var b=a.chatSupportUserID,d=a.chatSupportUserNonce,e=a.clientThreadKey,f=a.entryPointID,g=a.nonceInvalid,h=a.onNonceInvalidError,i=a.onWriteToLSProcessed,j=a.setChatSupportUserID,k=a.threadQueryVariables,l=a.threadShouldPoll;a=a.useSupportUser;if(a){if(b==null)return null;if(f!=null&&f===10&&d==null)return null;a=f!=null&&f===10||c("gkx")("21337");return s.jsx(D,{chatSupportUserID:b,chatSupportUserNonce:d,clientThreadKey:e,isAttachmentSendingEnabled:a,nonceInvalid:g,onNonceInvalidError:h,onWriteToLSProcessed:i,setChatSupportUserID:j})}return!l?null:s.jsx(C,{clientThreadKey:e,threadQueryVariables:k})}a.displayName=a.name+" [from "+f.id+"]";g.CSChatLSMixedAdapter=a}),226);
__d("CSChatActor.react",["I64","MWPActor.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a){var b=a.actorId;a=a.children;return j.jsx(d("MWPActor.react").MWPActorProvider,{actorId:(i||(i=d("I64"))).of_string(b),children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CSChatLSDatabase.react",["LSJSInMemoryStorage","LSMetadata","ReStoreProvider.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=c("LSJSInMemoryStorage")(d("LSMetadata").schema);function a(a){a=a.children;return j.jsx((i||(i=d("ReStoreProvider.react"))).ReStoreProvider,{db:k,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CSChatRoot.react",["MWLSCommunityChatPopper","react","useMWLSChatPopperUpper","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;i||d("react");function a(a){a=a.children;var b=(h||(h=c("useReStore")))();c("useMWLSChatPopperUpper")({storage:b});d("MWLSCommunityChatPopper").useOpenCommunityChatTabs({storage:b});return a}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CSChatSupportUserStorage.react",["WebStorage","react","useBrowserStorage"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useEffect,k=b.useState,l="cs_chat_support_user";function m(a,b){if(a==null&&b==null)return!0;return a==null||b==null?!1:a.userID===b.userID&&a.nonce===b.nonce}function a(a){var b,d=a.entryPointID,e=a.nonce,f=a.privacyMode,g=a.userID;a=(h||(h=c("WebStorage"))).getLocalStorage();f===!0&&(a=(h||(h=c("WebStorage"))).getSessionStorage());a=c("useBrowserStorage")(a,l,{});var i=a[0],n=a[1],o=a[2].refreshValue,p=i[d];a=k(null);var q=a[0],r=a[1];j(function(){var a;if(e==null||g==null)return;if((p==null?void 0:p.nonce)!=null&&(p==null?void 0:p.userID)!=null)return;if(e===q)return;r(e);var b={nonce:e,userID:g};if(m(p,b))return;n(babelHelpers["extends"]({},i,(a={},a[d]=b,a)))},[e,g,n,i,d,p,q,r]);j(function(){if(f===!0)return;var a=function(a){a.storageArea===(h||(h=c("WebStorage"))).getLocalStorage()&&a.key===l&&a.newValue!==a.oldValue&&o()};window.addEventListener("storage",a);return function(){return window.removeEventListener("storage",a)}},[o,f]);a=function(){n(function(a){return babelHelpers["extends"]({},a,(a={},a[d]=null,a))})};return[(b=p)!=null?b:{nonce:null,userID:null},a]}g.useChatSupportUserStorage=a}),98);
__d("CSExperienceEnterChatMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9017011851750864"}),null);
__d("CSExperienceEnterChatMutation.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","CSExperienceEnterChatMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"additional_data_input"},c={defaultValue:null,kind:"LocalArgument",name:"id"},d={defaultValue:null,kind:"LocalArgument",name:"qplJoinId"},e={defaultValue:null,kind:"LocalArgument",name:"scale"},f=[{kind:"Variable",name:"additional_data_input",variableName:"additional_data_input"},{kind:"Variable",name:"id",variableName:"id"},{kind:"Variable",name:"qpl_join_id",variableName:"qplJoinId"}],g={alias:null,args:null,concreteType:"XFBCSExperienceEnterResultWithReason",kind:"LinkedField",name:"result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"result",storageKey:null}],storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"channel_is_open",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"channel_in_high_demand",storageKey:null},j=[{args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"}];return{fragment:{argumentDefinitions:[a,c,d,e],kind:"Fragment",metadata:null,name:"CSExperienceEnterChatMutation",selections:[{alias:null,args:f,concreteType:"XFBTCSExperienceEnterResultWithState",kind:"LinkedField",name:"xfb_enter_chat_customer_support_experience",plural:!1,selections:[g,{alias:null,args:null,concreteType:"XFBCSExperienceState",kind:"LinkedField",name:"state",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CSExperience_state"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,e,d,a],kind:"Operation",name:"CSExperienceEnterChatMutation",selections:[{alias:null,args:f,concreteType:"XFBTCSExperienceEnterResultWithState",kind:"LinkedField",name:"xfb_enter_chat_customer_support_experience",plural:!1,selections:[g,{alias:null,args:null,concreteType:"XFBCSExperienceState",kind:"LinkedField",name:"state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entry_point_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_locale",storageKey:null},{alias:null,args:null,concreteType:"XFBCSExperienceChannelState",kind:"LinkedField",name:"channel_states",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBCSExperienceChatState",kind:"LinkedField",name:"chat",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"actor_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"actor_nonce",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_support_user",storageKey:null},{alias:null,args:null,concreteType:"XFBCSExperienceEntryPointFeatureResult",kind:"LinkedField",name:"features",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"feature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_enabled",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_privacy_mode",storageKey:null},{alias:null,args:null,concreteType:"XFBCSExperienceChatAdditionalState",kind:"LinkedField",name:"additional_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_chat",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_time_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_time_ms",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBCSExperienceChatGreetingState",kind:"LinkedField",name:"greeting_screen_state",plural:!1,selections:[h,i,{alias:null,args:null,concreteType:"XFBCSExperienceChatGreetingContent",kind:"LinkedField",name:"content",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body_paragraphs",plural:!0,selections:j,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"button_text",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"footnote_paragraphs",plural:!0,selections:j,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBCSExperienceChatSupportEntity",kind:"LinkedField",name:"support_entity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBCSExperienceChatThreadState",kind:"LinkedField",name:"chat_thread_state",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBCSExperienceChatThreadContent",kind:"LinkedField",name:"content",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"working_hours_text",plural:!1,selections:j,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"channel_status_text",plural:!1,selections:j,storageKey:null}],storageKey:null},h,i],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CSExperienceEnterChatMutation_facebookRelayOperation"),metadata:{},name:"CSExperienceEnterChatMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CSExperienceEnterSupportMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9372178382839750"}),null);
__d("CSExperienceEnterSupportMutation.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","CSExperienceEnterSupportMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"chat_support_user_id"},c={defaultValue:null,kind:"LocalArgument",name:"chat_support_user_nonce"},d={defaultValue:null,kind:"LocalArgument",name:"id"},e={defaultValue:null,kind:"LocalArgument",name:"scale"},f=[{kind:"Variable",name:"chat_support_user_id",variableName:"chat_support_user_id"},{kind:"Variable",name:"chat_support_user_nonce",variableName:"chat_support_user_nonce"},{kind:"Variable",name:"id",variableName:"id"}],g={alias:null,args:null,concreteType:"XFBCSExperienceEnterResultWithReason",kind:"LinkedField",name:"result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"result",storageKey:null}],storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"channel_is_open",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"channel_in_high_demand",storageKey:null},j=[{args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"}];return{fragment:{argumentDefinitions:[a,c,d,e],kind:"Fragment",metadata:null,name:"CSExperienceEnterSupportMutation",selections:[{alias:null,args:f,concreteType:"XFBTCSExperienceEnterResultWithState",kind:"LinkedField",name:"xfb_enter_customer_support_experience",plural:!1,selections:[g,{alias:null,args:null,concreteType:"XFBCSExperienceState",kind:"LinkedField",name:"state",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CSExperience_state"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[d,e,a,c],kind:"Operation",name:"CSExperienceEnterSupportMutation",selections:[{alias:null,args:f,concreteType:"XFBTCSExperienceEnterResultWithState",kind:"LinkedField",name:"xfb_enter_customer_support_experience",plural:!1,selections:[g,{alias:null,args:null,concreteType:"XFBCSExperienceState",kind:"LinkedField",name:"state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entry_point_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_locale",storageKey:null},{alias:null,args:null,concreteType:"XFBCSExperienceChannelState",kind:"LinkedField",name:"channel_states",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBCSExperienceChatState",kind:"LinkedField",name:"chat",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"actor_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"actor_nonce",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_support_user",storageKey:null},{alias:null,args:null,concreteType:"XFBCSExperienceEntryPointFeatureResult",kind:"LinkedField",name:"features",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"feature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_enabled",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_privacy_mode",storageKey:null},{alias:null,args:null,concreteType:"XFBCSExperienceChatAdditionalState",kind:"LinkedField",name:"additional_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_chat",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_time_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_time_ms",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBCSExperienceChatGreetingState",kind:"LinkedField",name:"greeting_screen_state",plural:!1,selections:[h,i,{alias:null,args:null,concreteType:"XFBCSExperienceChatGreetingContent",kind:"LinkedField",name:"content",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body_paragraphs",plural:!0,selections:j,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"button_text",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"footnote_paragraphs",plural:!0,selections:j,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBCSExperienceChatSupportEntity",kind:"LinkedField",name:"support_entity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBCSExperienceChatThreadState",kind:"LinkedField",name:"chat_thread_state",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBCSExperienceChatThreadContent",kind:"LinkedField",name:"content",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"working_hours_text",plural:!1,selections:j,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"channel_status_text",plural:!1,selections:j,storageKey:null}],storageKey:null},h,i],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CSExperienceEnterSupportMutation_facebookRelayOperation"),metadata:{},name:"CSExperienceEnterSupportMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CSExperienceFeaturesContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=e([]);function a(a){var b=a.children;a=a.value;return i.jsx(k.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=j(k);return(b=b==null?void 0:(b=b.find(function(b){return b.feature===a}))==null?void 0:b.is_enabled)!=null?b:!1}g.Provider=a;g.useFeatureResult=b}),98);
__d("CSExperienceFloatingLayout.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={root:{bottom:"x1ey2m1c",display:"x78zum5",end:"x92rtbv",position:"xixxii4",$$css:!0}};function a(a){var b=a.action,d=a.children,e=a.isContentVisible;e=e===void 0?!1:e;a=a.xstyle;return j.jsxs("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.root,a),{children:[e&&d,j.jsx("div",babelHelpers["extends"]({className:"xpqajaz x78zum5 x1q0g3np x1yztbdb x1d52u69"},{children:b}))]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CsExperienceFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2177");b=d("FalcoLoggerInternal").create("cs_experience",a);e=b;g["default"]=e}),98);
__d("CSExperienceLogger.react",["CsExperienceFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function h(a){c("CsExperienceFalcoEvent").log(function(){return babelHelpers["extends"]({},a,{channel:"chat"})})}function a(a,b){h(babelHelpers["extends"]({},a,{exception_message_ui:b.message,stack_trace_ui:b.stack}))}g.log=h;g.logError=a}),98);
__d("CSExperienceStateQuery.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","CSExperienceStateQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"id"},c={defaultValue:null,kind:"LocalArgument",name:"scale"},d={defaultValue:null,kind:"LocalArgument",name:"step"},e=[{kind:"Variable",name:"id",variableName:"id"},{kind:"Variable",name:"step",variableName:"step"}],f={alias:null,args:null,kind:"ScalarField",name:"experience_type",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"entry_point_id",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"channel_is_open",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"channel_in_high_demand",storageKey:null},j=[{args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"}];return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"CSExperienceStateQuery",selections:[{alias:"state",args:e,concreteType:"XFBCSExperienceState",kind:"LinkedField",name:"xfb_customer_experience_state",plural:!1,selections:[{kind:"RequiredField",field:f,action:"THROW",path:"state.experience_type"},{kind:"RequiredField",field:g,action:"THROW",path:"state.entry_point_id"},{args:null,kind:"FragmentSpread",name:"CSExperience_state"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,d,c],kind:"Operation",name:"CSExperienceStateQuery",selections:[{alias:"state",args:e,concreteType:"XFBCSExperienceState",kind:"LinkedField",name:"xfb_customer_experience_state",plural:!1,selections:[f,g,{alias:null,args:null,kind:"ScalarField",name:"user_locale",storageKey:null},{alias:null,args:null,concreteType:"XFBCSExperienceChannelState",kind:"LinkedField",name:"channel_states",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBCSExperienceChatState",kind:"LinkedField",name:"chat",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"actor_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"actor_nonce",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_support_user",storageKey:null},{alias:null,args:null,concreteType:"XFBCSExperienceEntryPointFeatureResult",kind:"LinkedField",name:"features",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"feature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_enabled",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_privacy_mode",storageKey:null},{alias:null,args:null,concreteType:"XFBCSExperienceChatAdditionalState",kind:"LinkedField",name:"additional_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_chat",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_time_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_time_ms",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBCSExperienceChatGreetingState",kind:"LinkedField",name:"greeting_screen_state",plural:!1,selections:[h,i,{alias:null,args:null,concreteType:"XFBCSExperienceChatGreetingContent",kind:"LinkedField",name:"content",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body_paragraphs",plural:!0,selections:j,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"button_text",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"footnote_paragraphs",plural:!0,selections:j,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBCSExperienceChatSupportEntity",kind:"LinkedField",name:"support_entity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBCSExperienceChatThreadState",kind:"LinkedField",name:"chat_thread_state",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBCSExperienceChatThreadContent",kind:"LinkedField",name:"content",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"working_hours_text",plural:!1,selections:j,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"channel_status_text",plural:!1,selections:j,storageKey:null}],storageKey:null},h,i],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CSExperienceStateQuery_facebookRelayOperation"),metadata:{},name:"CSExperienceStateQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CSExperience_state.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CSExperience_state",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"entry_point_id",storageKey:null},action:"THROW",path:"entry_point_id"},{alias:null,args:null,kind:"ScalarField",name:"user_locale",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XFBCSExperienceChannelState",kind:"LinkedField",name:"channel_states",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBCSExperienceChatState",kind:"LinkedField",name:"chat",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"thread_key",storageKey:null},action:"THROW",path:"channel_states.chat.thread_key"},{alias:null,args:null,kind:"ScalarField",name:"actor_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"actor_nonce",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"use_support_user",storageKey:null},action:"THROW",path:"channel_states.chat.use_support_user"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XFBCSExperienceEntryPointFeatureResult",kind:"LinkedField",name:"features",plural:!0,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"feature",storageKey:null},action:"THROW",path:"channel_states.chat.features.feature"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"is_enabled",storageKey:null},action:"THROW",path:"channel_states.chat.features.is_enabled"}],storageKey:null},action:"THROW",path:"channel_states.chat.features"},{alias:null,args:null,kind:"ScalarField",name:"use_privacy_mode",storageKey:null},{alias:null,args:null,concreteType:"XFBCSExperienceChatAdditionalState",kind:"LinkedField",name:"additional_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_chat",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_time_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_time_ms",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CSExperienceChatTab_chat"}],storageKey:null}],storageKey:null},action:"THROW",path:"channel_states"}],type:"XFBCSExperienceState",abstractKey:null};e.exports=a}),null);
__d("CSFBChatUnreadMessageCount",["I64","MWPActor.react","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=(i||(i=c("useReStore")))(),b=d("MWPActor.react").useActor(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.tables.threads).take(1).map(function(c){var e=(h||(h=d("I64"))).gt(c.lastReadWatermarkTimestampMs,(h||(h=d("I64"))).zero)?c.lastReadWatermarkTimestampMs:(h||(h=d("I64"))).zero;return d("ReQLSuspense").toArray(d("ReQL").fromTableDescending(a.tables.messages).getKeyRange(c.threadKey).take(20).bounds({gt:d("ReQL").key(e)}).filter(function(a){return!(h||(h=d("I64"))).equal(a.senderId,b)}),f.id+":42").length})},[b,a],f.id+":30");if(e!=null)return e;else return 0}g.useUnreadMessageCount=a}),98);
__d("CSFBChatExperienceButton.react",["fbt","ix","CSFBChatUnreadMessageCount","CometPlaceholder.react","CometPressable.react","FDSBadgeContainer.react","FDSIcon.react","FDSNumberedBadge.react","FDSProgressSkittleIndeterminate.react","FDSText.react","fbicon","react","useFDSCallout"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;var l=b.useCallback,m=b.useEffect,n=b.useState,o={shadowContainer:{alignItems:"x6s0dn4",backgroundColor:"x1l31dnx",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",boxShadow:"x1qeybcx",height:"xsdox4t",justifyContent:"xl56j7k",width:"x1useyqa",$$css:!0},shadowContainerHover:{":hover_boxShadow":"x19xcq9t",$$css:!0}};function p(a){var b=n(!1),d=b[0],e=b[1];b=n(!1);var f=b[0],g=b[1];b=l(function(){if(f||a)return;e(!0)},[f,a]);var i=l(function(){e(!1),g(!0)},[]);d=c("useFDSCallout")({align:"end","aria-label":h._(/*BTDS*/"__JHASH__10MQrqn38nX__JHASH__"),arrowStyle:"edge",content:k.jsx(c("FDSText.react"),{color:"primaryOnMedia",type:"bodyLink3",children:h._(/*BTDS*/"__JHASH__FDJHL_F72LP__JHASH__")}),position:"above",type:"accent"},d);d=d.anchorRef;return[d,b,i]}function q(a){var b=a.forceHideTooltip,c=a.hideDelayMs,d=a.showDelayMs;a=p(b);b=a[0];var e=a[1],f=a[2];m(function(){if(d==null||c==null)return;var a=null,b=window.setTimeout(function(){e(),a=window.setTimeout(function(){return f()},c)},d);return function(){window.clearTimeout(b),window.clearTimeout(a)}},[f,c,e,d]);return[b,f]}function r(a){a=a.count;return k.jsx(c("FDSNumberedBadge.react"),{accessibilityText:h._(/*BTDS*/"__JHASH__Q0wktJ3ZcG9__JHASH__",[h._param("unread count",a)]),overflow:9,value:a})}r.displayName=r.name+" [from "+f.id+"]";function s(){var a=d("CSFBChatUnreadMessageCount").useUnreadMessageCount();return a===0?null:k.jsx(r,{count:a})}s.displayName=s.name+" [from "+f.id+"]";function a(a){var b=a.forceHideTooltip;b=b===void 0?!1:b;var e=a.indeterminate;e=e===void 0?!1:e;var f=a.nonceInvalid;f=f===void 0?!1:f;var g=a.onPress;a=q({forceHideTooltip:b,hideDelayMs:12e3,showDelayMs:6e3});b=a[0];var j=a[1];return e?k.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x1l31dnx x14yjl9h xudhj91 x18nykt9 xww2gxu x1qeybcx xsdox4t xl56j7k x1useyqa"},{children:k.jsx(c("FDSProgressSkittleIndeterminate.react"),{"aria-label":h._(/*BTDS*/"__JHASH___7rEVxJVODN__JHASH__"),size:48})})):k.jsx(c("FDSBadgeContainer.react"),{badge:f?null:k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(s,{})}),badgeAlign:"topRight",children:k.jsx(c("CometPressable.react"),{label:h._(/*BTDS*/"__JHASH__IP97i6_L_e3__JHASH__"),onPress:function(){j(),g()},ref:b,xstyle:[o.shadowContainer,o.shadowContainerHover],children:k.jsx(c("FDSIcon.react"),{color:"primary",icon:d("fbicon")._(i("226637"),20)})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("FBLocaleID.facebook",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["AF_ZA","AK_GH","AM_ET","AR_AR","AS_IN","AY_BO","AZ_AZ","BE_BY","BG_BG","BM_ML","BN_IN","BP_IN","BR_FR","BS_BA","BV_DE","CA_ES","CB_IQ","CK_US","CO_FR","CS_CZ","CX_PH","CY_GB","DA_DK","DE_DE","EH_IN","EL_GR","EM_ZM","EN_GB","EN_IN","EN_OP","EN_PI","EN_UD","EN_US","EN_XA","EO_EO","ES_CL","ES_CO","ES_ES","ES_LA","ES_MX","ES_VE","ET_EE","EU_ES","FA_IR","FBT_AC","FB_AA","FB_AC","FB_AR","FB_HA","FB_HX","FB_LL","FB_LS","FB_LT","FB_RL","FB_ZH","FF_NG","FI_FI","FN_IT","FO_FO","FR_CA","FR_FR","FV_NG","FY_NL","GA_IE","GL_ES","GN_PY","GU_IN","GX_GR","HA_NG","HE_IL","HI_FB","HI_IN","HR_HR","HT_HT","HU_HU","HY_AM","ID_ID","IG_NG","IK_US","IS_IS","IT_IT","IU_CA","JA_JP","JA_KS","JV_ID","KA_GE","KK_KZ","KM_KH","KN_IN","KO_KR","KS_IN","KU_TR","KY_KG","LA_VA","LG_UG","LI_NL","LN_CD","LO_LA","LR_IT","LT_LT","LV_LV","MG_MG","MI_NZ","MK_MK","ML_IN","MN_MN","MOS_BF","MR_IN","MS_MY","MT_MT","MY_MM","NB_NO","ND_ZW","NE_NP","NH_MX","NL_BE","NL_NL","NN_NO","NR_ZA","NS_ZA","NY_MW","OM_ET","OR_IN","PA_IN","PCM_NG","PL_PL","PS_AF","PT_BR","PT_PT","QB_DE","QC_GT","QE_US","QK_DZ","QR_GR","QS_DE","QT_US","QU_PE","QV_IT","QZ_MM","RM_CH","RN_BI","RO_RO","RU_RU","RW_RW","SA_IN","SC_IT","SE_NO","SI_LK","SK_SK","SL_SI","SN_ZW","SO_SO","SQ_AL","SR_RS","SS_SZ","ST_ZA","SU_ID","SV_SE","SW_KE","SY_SY","SZ_PL","TA_IN","TE_IN","TG_TJ","TH_TH","TI_ET","TK_TM","TL_PH","TL_ST","TN_BW","TPI_PG","TQ_AR","TR_TR","TS_ZA","TT_RU","TZ_MA","UK_UA","UR_PK","UZ_UZ","VE_ZA","VI_VN","WO_SN","XH_ZA","YI_DE","YO_NG","ZH_CN","ZH_HK","ZH_TW","ZU_ZA","ZZ_TR"]);c=a;f["default"]=c}),66);
__d("UserLocaleContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=e("EN_US");function a(a){var b=a.children;a=a.value;return i.jsx(k.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(k)}g.Provider=a;g.useUserLocaleContext=b}),98);
__d("XsLiveChatEffectivenessLogEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5230");b=d("FalcoLoggerInternal").create("xs_live_chat_effectiveness_log_event",a);e=b;g["default"]=e}),98);
__d("XsLiveChatEffectivenessLogger.react",["XsLiveChatEffectivenessLogEventFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function h(a){c("XsLiveChatEffectivenessLogEventFalcoEvent").log(function(){return babelHelpers["extends"]({},a)})}function a(a,b){h(babelHelpers["extends"]({},a,{exception_message_ui:b.message,stack_trace_ui:b.stack}))}g.log=h;g.logError=a}),98);
__d("CSExperience.react",["fbt","Actor","CSChat.react","CSChatActor.react","CSChatErrorUtil","CSChatLSDatabase.react","CSChatRoot.react","CSChatSupportUserStorage.react","CSExperienceChatTab.react","CSExperienceEnterChatMutation.graphql","CSExperienceEnterSupportMutation.graphql","CSExperienceFeaturesContext.react","CSExperienceFloatingLayout.react","CSExperienceLogger.react","CSExperienceStateQuery.graphql","CSExperience_state.graphql","CSFBChatExperienceButton.react","CometBlinkingTitleMessageProvider.react","CometContextualLayerAnchorRoot.react","CometErrorBoundary.react","CometPlaceholder.react","CometRelay","CustomerSupportEntryPointID","Promise","QPLEvent","QPLJoinUtils","QPLUserFlow","QuickPerformanceLogger","UserLocaleContext.react","WebPixelRatio","XsLiveChatEffectivenessLogger.react","cometPushToast","guid","qpl","react","useBoolean","useCometAlertDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n,o,p,q=p||(p=d("react"));e=p;var r=e.useCallback,s=e.useEffect,t=e.useMemo,u=e.useState;e=i!==void 0?i:i=b("CSExperienceStateQuery.graphql");var v=c("qpl")._(719732099,"884");function w(a){return((a=a)!=null?a:!1)?"msite":"www"}function x(a,b){var d=null;c("CustomerSupportEntryPointID")[a]===10&&(d={fb_2fac:{from_msite:w(b)==="msite"}});return d}function y(a){var e=a.chatSupportUserID,f=a.chatSupportUserNonce,g=a.entryPointId,h=a.fullScreen,i=a.onNonceInvalidError;a=d("CometRelay").useMutation(j!==void 0?j:j=b("CSExperienceEnterSupportMutation.graphql"));var k=a[0];a=a[1];function l(){return new(o||(o=b("Promise")))(function(a,b){k({onCompleted:function(e){var f;d("CSExperienceLogger.react").log({chat_additional_metadata:{device:w(h)},entry_point_id:c("CustomerSupportEntryPointID")[g],event:"enter_support_success"});((f=e.xfb_enter_customer_support_experience)==null?void 0:(f=f.result)==null?void 0:f.result)==="FAIL"?b("FAIL"):((f=e.xfb_enter_customer_support_experience)==null?void 0:(e=f.result)==null?void 0:e.result)==="HOLDOUT"?b("HOLDOUT"):(c("QPLUserFlow").addPoint(v,"enter_support_success"),a())},onError:function(a){d("CSChatErrorUtil").isNonceInvalidError(a)&&i(),d("CSExperienceLogger.react").logError({chat_additional_metadata:{device:w(h)},entry_point_id:c("CustomerSupportEntryPointID")[g],event:"entry_point_button_click_error"},a),c("QPLUserFlow").markError(v,"enter_support_failure"),b("FAIL")},updater:function(a,b){if((b==null?void 0:(b=b.xfb_enter_customer_support_experience)==null?void 0:(b=b.result)==null?void 0:b.result)==="FAIL")return;b=(b=a.getRootField("xfb_enter_customer_support_experience"))==null?void 0:b.getLinkedRecord("state");if(b==null)return;(a=a.getRoot().getLinkedRecord("xfb_customer_experience_state(id:"+c("CustomerSupportEntryPointID")[g]+',step:"START_SUPPORT")'))==null?void 0:a.copyFieldsFrom(b)},variables:{chat_support_user_id:e,chat_support_user_nonce:f!=null?{sensitive_string_value:f}:null,id:c("CustomerSupportEntryPointID")[g],scale:d("WebPixelRatio").get()}})})}return[l,a]}function z(a){var e=a.entryPointId,f=a.fullScreen;a=d("CometRelay").useMutation(k!==void 0?k:k=b("CSExperienceEnterChatMutation.graphql"));var g=a[0];a=a[1];function h(){d("CSExperienceLogger.react").log({chat_additional_metadata:{device:w(f)},entry_point_id:c("CustomerSupportEntryPointID")[e],event:"greeting_start_chat_clicked"});d("XsLiveChatEffectivenessLogger.react").log({chat_additional_metadata:{device:w(f)},entry_point_id:c("CustomerSupportEntryPointID")[String(e)],event:"greeting_start_chat_clicked"});return new(o||(o=b("Promise")))(function(a,b){var h=c("guid")();d("QPLJoinUtils").setJoinId(m||(m=c("QuickPerformanceLogger")),v,h);d("QPLJoinUtils").markJoinRequest(m,v,h);g({onCompleted:function(g){((g=g.xfb_enter_chat_customer_support_experience)==null?void 0:(g=g.result)==null?void 0:g.result)==="FAIL"?(d("CSExperienceLogger.react").logError({chat_additional_metadata:{device:w(f)},entry_point_id:c("CustomerSupportEntryPointID")[e],event:"greeting_start_chat_click_error"},new Error("enter_chat_customer_support_experience mutation result FAIL")),c("QPLUserFlow").markError(v,"enter_chat_failure"),b()):(d("CSExperienceLogger.react").log({chat_additional_metadata:{device:w(f)},entry_point_id:c("CustomerSupportEntryPointID")[e],event:"enter_channel_success"}),c("QPLUserFlow").addPoint(v,"enter_chat_success"),d("QPLJoinUtils").markJoinResponse(m||(m=c("QuickPerformanceLogger")),c("qpl")._(719732099,"884"),h),a())},onError:function(a){d("CSExperienceLogger.react").logError({chat_additional_metadata:{device:w(f)},entry_point_id:c("CustomerSupportEntryPointID")[e],event:"greeting_start_chat_click_error"},a),c("QPLUserFlow").markError(v,"enter_chat_failure"),b()},updater:function(a,b){if((b==null?void 0:(b=b.xfb_enter_chat_customer_support_experience)==null?void 0:(b=b.result)==null?void 0:b.result)==="FAIL")return;b=(b=a.getRootField("xfb_enter_chat_customer_support_experience"))==null?void 0:b.getLinkedRecord("state");if(b==null)return;(a=a.getRoot().getLinkedRecord("xfb_customer_experience_state(id:"+c("CustomerSupportEntryPointID")[e]+',step:"START_SUPPORT")'))==null?void 0:a.copyFieldsFrom(b)},variables:{additional_data_input:x(e,f),id:c("CustomerSupportEntryPointID")[e],qplJoinId:h,scale:d("WebPixelRatio").get()}})})}return[h,a]}function A(a){var e,f,g,i,j=a.floatingButtonXstyle,k=a.fragmentKey,m=a.fullScreen;a=a.openChatTabByDefault;var o=d("CometRelay").useFragment(l!==void 0?l:l=b("CSExperience_state.graphql"),k),p=o.entry_point_id;k=c("useBoolean")(!1);var x=k.setTrue,A=k.value,B=c("useCometAlertDialog")(),C=r(function(){if(!A){Q({alertDisplayed:!1,nonceInvalidReceived:!1});return}B({body:h._(/*BTDS*/"__JHASH__ZpCjK2CfgkH__JHASH__"),title:h._(/*BTDS*/"__JHASH__vPbGECLy-wz__JHASH__")});d("CSExperienceLogger.react").log({chat_additional_metadata:{device:w(m)},entry_point_id:c("CustomerSupportEntryPointID")[String(p)],event:"chat_expired_message_displayed"});window.location.reload();Q({alertDisplayed:!0,nonceInvalidReceived:!0})},[p,m,B,A]);s(function(){d("CSExperienceLogger.react").log({chat_additional_metadata:{device:w(m)},entry_point_id:c("CustomerSupportEntryPointID")[String(p)],event:"entry_point_button_displayed"}),d("XsLiveChatEffectivenessLogger.react").log({chat_additional_metadata:{device:w(m)},entry_point_id:c("CustomerSupportEntryPointID")[String(p)],event:"entry_point_button_displayed"})});k=d("CSChatSupportUserStorage.react").useChatSupportUserStorage({entryPointID:c("CustomerSupportEntryPointID")[String(p)],nonce:(k=o.channel_states.chat)==null?void 0:k.actor_nonce,privacyMode:(k=o.channel_states.chat)==null?void 0:k.use_privacy_mode,userID:(k=o.channel_states.chat)==null?void 0:k.actor_id});var D=k[0],E=k[1];k=o.user_locale;e=t(function(){var a;return(a=(a=o.channel_states.chat)==null?void 0:(a=a.features)==null?void 0:a.map(function(a){return{feature:a.feature,is_enabled:a.is_enabled}}))!=null?a:[]},[(e=o.channel_states.chat)==null?void 0:e.features]);f=y({chatSupportUserID:(f=D.userID)!=null?f:(f=o.channel_states.chat)==null?void 0:f.actor_id,chatSupportUserNonce:D.nonce,entryPointId:p,fullScreen:m,onNonceInvalidError:function(){C()}});var F=f[0];f=z({entryPointId:p,fullScreen:m});f=f[0];a=c("useBoolean")(a);var G=a.setFalse,H=a.setTrue,I=a.value;a=c("useBoolean")(!1);var J=a.setFalse,K=a.setTrue;a=a.value;var L=c("useBoolean")(!1),M=L.setFalse,N=L.setTrue;L=L.value;var O=u({nonceInvalidReceived:!1}),P=O[0],Q=O[1];s(function(){P.nonceInvalidReceived&&!P.alertDisplayed&&C()},[P,C]);s(function(){var a;if(((a=o.channel_states.chat)==null?void 0:(a=a.additional_state)==null?void 0:a.end_time_ms)==null)return;var b=window.setTimeout(function(){G(),K()},Math.max(Number(o.channel_states.chat.additional_state.end_time_ms)-new Date().getTime(),0));return function(){return window.clearTimeout(b)}},[I,G,(O=o.channel_states.chat)==null?void 0:(O=O.additional_state)==null?void 0:O.end_time_ms,K]);function R(){if(P.nonceInvalidReceived)return;c("QPLUserFlow").start(v,{annotations:{string:{entry_point:p,platform:"web"}}});I?S():(d("CSExperienceLogger.react").log({chat_additional_metadata:{device:w(m)},entry_point_id:c("CustomerSupportEntryPointID")[String(p)],event:"entry_point_button_clicked"}),d("XsLiveChatEffectivenessLogger.react").log({chat_additional_metadata:{device:w(m)},entry_point_id:c("CustomerSupportEntryPointID")[String(p)],event:"entry_point_button_clicked"}),N(),F().then(function(){H()})["catch"](function(a){a==="FAIL"?d("cometPushToast").cometPushErrorToast({message:h._(/*BTDS*/"__JHASH__t2rrlDxUoZM__JHASH__"),truncateText:!1}):a==="HOLDOUT"&&d("cometPushToast").cometPushErrorToast({message:h._(/*BTDS*/"__JHASH__R7GsGkXVb7H__JHASH__")}),c("QPLUserFlow").endFailure(v,"Chat isn't available right now. Try again later.")})["finally"](function(){J(),M()}))}function S(){G(),c("QPLUserFlow").getActiveFlowIDs().includes((n||(n=d("QPLEvent"))).getMarkerId(v))&&c("QPLUserFlow").endCancel(v)}function T(){G(),c("QPLUserFlow").getActiveFlowIDs().includes((n||(n=d("QPLEvent"))).getMarkerId(v))&&c("QPLUserFlow").endCancel(v),history.back()}O=d("Actor").useActor();O=O[0];g=(g=(g=o.channel_states.chat)==null?void 0:g.actor_id)!=null?g:O;if(o.channel_states.chat==null)return null;i=(i=o.channel_states.chat.additional_state)==null?void 0:i.can_chat;return q.jsx(c("CSChatLSDatabase.react"),{children:q.jsx(c("CSChatActor.react"),{actorId:g,children:q.jsx(d("CSExperienceFeaturesContext.react").Provider,{value:e,children:q.jsxs(d("UserLocaleContext.react").Provider,{value:(g=k)!=null?g:"EN_US",children:[q.jsx(d("Actor").ActorProvider,{initialActorID:O,children:q.jsx(d("CSChat.react").CSChatLSMixedAdapter,{chatSupportUserID:(e=D.userID)!=null?e:(k=o.channel_states.chat)==null?void 0:k.actor_id,chatSupportUserNonce:D.nonce,clientThreadKey:o.channel_states.chat.thread_key,entryPointID:c("CustomerSupportEntryPointID")[p],nonceInvalid:P.nonceInvalidReceived,onNonceInvalidError:function(){Q({alertDisplayed:!1,nonceInvalidReceived:!0}),E(),G()},onWriteToLSProcessed:function(){return x()},threadQueryVariables:{endTimeMs:(g=o.channel_states.chat.additional_state)==null?void 0:g.end_time_ms,startTimeMs:(O=o.channel_states.chat.additional_state)==null?void 0:O.start_time_ms},threadShouldPoll:(i==null||i===!0)&&!a,useSupportUser:o.channel_states.chat.use_support_user})}),q.jsx(c("CometBlinkingTitleMessageProvider.react"),{children:q.jsx(c("CSChatRoot.react"),{children:m===!0?q.jsx(c("CSExperienceChatTab.react"),{chatSupportUserNonce:D.nonce,closeChatTab:G,enterChat:f,entryPointId:p,fragmentKey:o.channel_states.chat,fullScreen:m,onCloseButtonPress:T}):q.jsx(c("CSExperienceFloatingLayout.react"),{action:q.jsx(c("CSFBChatExperienceButton.react"),{forceHideTooltip:I,indeterminate:L,onPress:R}),isContentVisible:I,xstyle:j,children:q.jsx(c("CSExperienceChatTab.react"),{chatSupportUserNonce:D.nonce,closeChatTab:G,enterChat:f,entryPointId:p,fragmentKey:o.channel_states.chat,fullScreen:!1,onCloseButtonPress:S})})})})]})})})})}A.displayName=A.name+" [from "+f.id+"]";function B(a){var b=a.data,c=a.floatingButtonXstyle,d=a.fullScreen;a=a.openChatTabByDefault;if(b.state==null)return null;if(b.state.experience_type==="UNAVAILABLE")return null;return b.state.experience_type!=="CHAT"?null:q.jsx(A,{floatingButtonXstyle:c,fragmentKey:b.state,fullScreen:d,openChatTabByDefault:a})}B.displayName=B.name+" [from "+f.id+"]";function a(a){var b=a.data,e=a.floatingButtonXstyle,f=a.fullScreen,g=f===void 0?!1:f;f=a.openChatTabByDefault;a=f===void 0?!1:f;return q.jsx(c("CometErrorBoundary.react"),{onError:function(a){d("CSExperienceLogger.react").logError({chat_additional_metadata:{device:w(g)},entry_point_id:b.state!=null?c("CustomerSupportEntryPointID")[String(b.state.entry_point_id)]:null,event:"experience_render_fail"},a)},children:q.jsx(c("CometPlaceholder.react"),{fallback:null,children:q.jsx(c("CometContextualLayerAnchorRoot.react"),{children:q.jsx(B,{data:b,floatingButtonXstyle:e,fullScreen:g,openChatTabByDefault:a})})})})}a.displayName=a.name+" [from "+f.id+"]";g.StateQuery=e;g.clickChatButtonQPLEvent=v;g.getDevice=w;g.getAdditionalData=x;g.CSExperience=a}),226);
__d("CSExperienceChatTabHeader_header.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CSExperienceChatTabHeader_header",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XFBCSExperienceChatThreadState",kind:"LinkedField",name:"chat_thread_state",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XFBCSExperienceChatThreadContent",kind:"LinkedField",name:"content",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"working_hours_text",plural:!1,selections:a,storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"channel_status_text",plural:!1,selections:a,storageKey:null},action:"THROW",path:"chat_thread_state.content.channel_status_text"}],storageKey:null},action:"THROW",path:"chat_thread_state.content"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"channel_is_open",storageKey:null},action:"THROW",path:"chat_thread_state.channel_is_open"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"channel_in_high_demand",storageKey:null},action:"THROW",path:"chat_thread_state.channel_in_high_demand"}],storageKey:null},action:"THROW",path:"chat_thread_state"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XFBCSExperienceChatSupportEntity",kind:"LinkedField",name:"support_entity",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},action:"THROW",path:"support_entity.name"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"image_url",storageKey:null},action:"THROW",path:"support_entity.image_url"}],storageKey:null},action:"THROW",path:"support_entity"}],type:"XFBCSExperienceChatState",abstractKey:null}}();e.exports=a}),null);
__d("CSFBChatTabHeader.react",["fbt","ix","ArrowLeftOutline20.svg.react","BaseMiddotSeparator.react","CometImage.react","CometPressable.react","FDSIcon.react","FDSImageContainer.react","FDSText.react","FDSTooltip.react","MWV2IsTabFocusedContext.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l={backButton:{borderTopStartRadius:"x1wmg1qf",borderTopEndRadius:"xj9g1n4",borderBottomEndRadius:"xf0842p",borderBottomStartRadius:"xc0nj42",paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",paddingEnd:"x1sxyh0",$$css:!0},closeButton:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0}};function m(a){a=a.onPress;var b=d("MWV2IsTabFocusedContext.react").useIsTabFocused();return k.jsx(c("FDSTooltip.react"),{align:"middle",position:"above",tooltip:h._(/*BTDS*/"__JHASH__IwKvBgM7yns__JHASH__"),children:k.jsx(c("CometPressable.react"),{"aria-label":h._(/*BTDS*/"__JHASH__LOhJS5S9NyZ__JHASH__"),onPress:a,xstyle:l.closeButton,children:k.jsx(c("FDSIcon.react"),{color:b?"highlight":"disabled",icon:d("fbicon")._(i("478233"),20)})})})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.channelInHighDemand,d=a.channelIsOpen,e=a.channelStatusText,f=a.imageUrl,g=a.name,h=a.onCloseButtonPress,i=a.showBackButton;i=i===void 0?!1:i;a=a.workingHoursText;return k.jsxs("div",babelHelpers["extends"]({className:"x6s0dn4 x9f619 x78zum5 x1gg8mnh x6ikm8r x10wlt62 x1120s5i x1sxyh0 xurb0ha x1nn3v0j"},{children:[i&&k.jsx(c("CometPressable.react"),{onPress:h,xstyle:l.backButton,children:k.jsx(c("FDSIcon.react"),{color:"primary",icon:c("ArrowLeftOutline20.svg.react"),size:24})}),k.jsx("div",babelHelpers["extends"]({className:"x1emribx"},{children:k.jsx(c("FDSImageContainer.react"),{shape:"circle",size:32,children:k.jsx(c("CometImage.react"),{height:32,src:f,width:32})})})),k.jsxs("div",babelHelpers["extends"]({className:"x1iyjqo2"},{children:[k.jsx("div",babelHelpers["extends"]({className:"x12nagc"},{children:k.jsx(c("FDSText.react"),{type:"bodyLink4",children:g})})),k.jsx(c("FDSText.react"),{type:"meta3",children:k.jsxs(c("BaseMiddotSeparator.react"),{children:[k.jsx(c("FDSText.react"),{color:d&&!b?"positive":"negative",type:"meta3",children:e}),a!=null&&a]})})]})),!i&&k.jsx(m,{onPress:h})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CSExperienceChatTabHeader.react",["CSExperienceChatTabHeader_header.graphql","CSFBChatTabHeader.react","CometTextWithEntitiesRelay.react","RelayHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=a.fragmentKey;a=a.onCloseButtonPress;e=d("RelayHooks").useFragment(h!==void 0?h:h=b("CSExperienceChatTabHeader_header.graphql"),e);return j.jsx(c("CSFBChatTabHeader.react"),{channelInHighDemand:e.chat_thread_state.channel_in_high_demand,channelIsOpen:e.chat_thread_state.channel_is_open,channelStatusText:j.jsx(c("CometTextWithEntitiesRelay.react"),{textWithEntities:e.chat_thread_state.content.channel_status_text}),imageUrl:e.support_entity.image_url,name:e.support_entity.name,onCloseButtonPress:a,workingHoursText:e.chat_thread_state.content.working_hours_text&&j.jsx(c("CometTextWithEntitiesRelay.react"),{textWithEntities:e.chat_thread_state.content.working_hours_text})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CSExperienceChatTab_chat.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CSExperienceChatTab_chat",selections:[{alias:null,args:null,concreteType:"XFBCSExperienceChatGreetingState",kind:"LinkedField",name:"greeting_screen_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"channel_is_open",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"channel_in_high_demand",storageKey:null},{args:null,kind:"FragmentSpread",name:"CSExperienceChatTab_greeting"}],storageKey:null},{alias:null,args:null,concreteType:"XFBCSExperienceChatSupportEntity",kind:"LinkedField",name:"support_entity",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CSExperienceContextBanner_support_entity"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CSExperienceChatTabHeader_header"}],type:"XFBCSExperienceChatState",abstractKey:null};e.exports=a}),null);
__d("CSExperienceChatTab_greeting.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CSExperienceChatTab_greeting",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"channel_is_open",storageKey:null},action:"THROW",path:"channel_is_open"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"channel_in_high_demand",storageKey:null},action:"THROW",path:"channel_in_high_demand"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XFBCSExperienceChatGreetingContent",kind:"LinkedField",name:"content",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body_paragraphs",plural:!0,selections:a,storageKey:null},action:"THROW",path:"content.body_paragraphs"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"button_text",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},action:"THROW",path:"content.button_text.text"}],storageKey:null},action:"THROW",path:"content.button_text"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"footnote_paragraphs",plural:!0,selections:a,storageKey:null},action:"THROW",path:"content.footnote_paragraphs"}],storageKey:null},action:"THROW",path:"content"}],type:"XFBCSExperienceChatGreetingState",abstractKey:null}}();e.exports=a}),null);
__d("CSExperienceContextBanner_support_entity.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CSExperienceContextBanner_support_entity",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_url",storageKey:null}],type:"XFBCSExperienceChatSupportEntity",abstractKey:null};e.exports=a}),null);
__d("CSFBChatContextBanner.react",["ix","CometImage.react","FDSIcon.react","FDSImageContainer.react","FDSText.react","FDSTextWithBadge.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.description,e=a.imageUrl;a=a.name;return j.jsxs("div",babelHelpers["extends"]({className:"x1cnzs8 xn6708d x1a8lsjc x1ye3gou"},{children:[e!=null&&j.jsx("div",babelHelpers["extends"]({className:"x78zum5 xl56j7k xod5an3"},{children:j.jsx(c("FDSImageContainer.react"),{shape:"circle",size:56,children:j.jsx(c("CometImage.react"),{height:56,src:e,width:56})})})),a!=null&&j.jsx("div",babelHelpers["extends"]({className:"xsag5q8"},{children:j.jsx(c("FDSText.react"),{align:"center",type:"headline4",children:j.jsx(c("FDSTextWithBadge.react"),{badgeAfter:j.jsx(c("FDSIcon.react"),{color:"highlight",icon:d("fbicon")._(h("478211"),16),size:16}),children:a})})})),b!=null&&j.jsx("div",babelHelpers["extends"]({className:"xsag5q8"},{children:j.jsx(c("FDSText.react"),{align:"center",type:"meta4",children:b})}))]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CSExperienceContextBanner.react",["CSExperienceContextBanner_support_entity.graphql","CSFBChatContextBanner.react","RelayHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){a=a.fragmentKey;a=d("RelayHooks").useFragment(h!==void 0?h:h=b("CSExperienceContextBanner_support_entity.graphql"),a);return a==null?null:j.jsx(c("CSFBChatContextBanner.react"),{description:a.description,imageUrl:a.image_url,name:a.name})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CSFBChatGreeting.react",["fbt","ix","FDSButton.react","FDSProgressButtonIndeterminate.react","FDSText.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useState;function a(a){var b=a.bodyParagraphs,e=a.buttonText,f=a.footerParagraphs,g=a.isProceedButtonDisabled;g=g===void 0?!1:g;var j=a.onProceedButtonPress;a=a.preContent;var m=l(!1),n=m[0],o=m[1];function p(){o(!0),j().then(function(){})["catch"](function(){o(!1)})}return k.jsxs("div",babelHelpers["extends"]({className:"x78zum5 xdt5ytf x1iyjqo2 x1pi30zi x1swvt13 x2b8uid"},{children:[a,k.jsx("div",babelHelpers["extends"]({className:"x1r8uery x1iyjqo2"},{children:b.map(function(a,b){return k.createElement("div",babelHelpers["extends"]({className:"x1yztbdb"},{key:"body_paragraphs-listitem-"+b}),k.jsx(c("FDSText.react"),{type:"body2",children:a}))})})),k.jsx("div",babelHelpers["extends"]({className:"x1yztbdb"},{children:n?k.jsx(c("FDSProgressButtonIndeterminate.react"),{label:h._(/*BTDS*/"__JHASH__PybmkgoNuZC__JHASH__")}):k.jsx(c("FDSButton.react"),{disabled:g,icon:d("fbicon")._(i("1495343"),16),label:e,onPress:p,testid:void 0})})),k.jsx("div",babelHelpers["extends"]({className:"xwib8y2"},{children:f.map(function(a,b){return k.createElement("div",babelHelpers["extends"]({className:"xwib8y2"},{key:"footnote_paragraphs-listitem-"+b}),k.jsx(c("FDSText.react"),{type:"meta4",children:a}))})}))]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CSFBChatTab.react",["MWChatFocusComposerContext","MWChatTabFocusHandler","MWV2IsTabFocusedContext.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useState,l={container:{backgroundColor:"xcrg951",borderTopEndRadius:"xgqcy7u",borderTopStartRadius:"x1lq5wgf",boxShadow:"x2c8kfy",display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},fullscreen:{height:"x1yowra1",marginStart:"xd7208l",marginTop:"xv5cbrw",width:"xvr7zsw","@media (max-width: 767px)_height":"ximfrkx","@media (max-width: 767px)_marginStart":"xzauu7c","@media (max-width: 767px)_marginTop":"x1phzuq3","@media (max-width: 767px)_width":"x1vvjbjn",$$css:!0},fullscreenMobile:{height:"xxpmy0n",position:"xixxii4",width:"xn9wirt",$$css:!0},root:{marginStart:"x17adc0v",maxHeight:"xcn1v36",minHeight:"x9fa2u0",width:"xi55695","@media (min-height: 1280px)_minHeight":"x7wituq",$$css:!0}};function a(a){var b=a.children,e=a.fullScreen;e=e===void 0?!1:e;a=a.isFullScreenMobile;a=a===void 0?!1:a;var f=k(!1),g=f[0],i=f[1];return j.jsx(d("MWChatFocusComposerContext").MWChatFocusComposerContextProvider,{children:j.jsx(c("MWChatTabFocusHandler"),{onBlur:function(){return i(!1)},onFocus:function(){return i(!0)},children:j.jsx(d("MWV2IsTabFocusedContext.react").MWV2IsTabFocusedContextProvider,{isFocused:g,children:j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(l.container,e?a?l.fullscreenMobile:l.fullscreen:l.root),{children:b}))})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMessengerComposerInner.react",["fbt","CometLexicalContentEditable.react","CometLexicalPlaceholder.react","LSMessagingThreadTypeUtil","LexicalComposerContext","LexicalErrorBoundary","LexicalHistoryPlugin","MLCInstrumentationPluginDeferred__INTERNAL.react","cr:1948","cr:2559","cr:7192","react","requireDeferred","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useMemo,m=c("requireDeferred")("CometMessengerHandlePastedFileComposerPlugin").__setRef("CometMessengerComposerInner.react"),n=(e=b("cr:2559").RichTextPlugin)!=null?e:b("cr:2559").PlainTextPlugin,o={editor:{flexGrow:"x1iyjqo2",maxHeight:"x1gh3ibb",minHeight:"xisnujt",minWidth:"xeuugli",overflowY:"x1odjw0f",$$css:!0}},p=h._(/*BTDS*/"__JHASH__mUqaYJ48Erc__JHASH__").toString();function a(a){var e=a.ariaDescribedBy,f=a.ariaLabel,g=a.contentEditableRef,h=a.editor,i=a.endContent,q=a.handlePastedFiles,r=a.isSecureThread,s=a.mentionsPlugin,t=a.placeholderText;t=t===void 0?"Aa":t;var u=a.policyProduct,v=a.startContent,w=a.surface,x=a.testId,y=a.threadSubtype,z=a.threadType;a=a.topContent;var A=k(function(a){a=(a=a)!=null?a:null;g.current=a},[g]),B=d("LexicalComposerContext").createLexicalComposerContext(),C=l(function(){return[h,B]},[h,B]);f=j.jsx(c("CometLexicalContentEditable.react"),{"aria-placeholder":t,ariaDescribedBy:e,ariaLabel:(e=f)!=null?e:p,contentEditableRef:A,placeholder:j.jsx(c("CometLexicalPlaceholder.react"),{children:t}),spellCheck:!0,tabIndex:0,webDriverTestID:x,xstyle:o.editor});e=!(d("LSMessagingThreadTypeUtil").isPageToUserThread(y)&&b("cr:7192"))&&!d("LSMessagingThreadTypeUtil").isAiBot(z)&&!Boolean(r);A=c("useDeferredModuleOnReady")(m);return j.jsxs("div",babelHelpers["extends"]({className:"x16sw7j7 x107yiy2 xv8uw2v x1tfwpuw x2g32xy x9f619 xlai7qp x1iyjqo2 xeuugli"},{children:[a,j.jsxs("div",babelHelpers["extends"]({className:"x78zum5 x13a6bvl"},{children:[v,j.jsx("div",babelHelpers["extends"]({className:"x78zum5 x1iyjqo2 x1xmf6yo x1e56ztr xq8finb x16n37ib xeuugli x1n2onr6"},{children:j.jsxs(d("LexicalComposerContext").LexicalComposerContext.Provider,{value:C,children:[j.jsx(c("MLCInstrumentationPluginDeferred__INTERNAL.react"),{policyProduct:u,surface:w}),n!=null&&j.jsx(n,{ErrorBoundary:d("LexicalErrorBoundary").LexicalErrorBoundary,contentEditable:f}),j.jsx(d("LexicalHistoryPlugin").HistoryPlugin,{})]})})),i]})),s,e&&b("cr:1948")!=null&&j.jsx(b("cr:1948"),{editor:h}),d("LSMessagingThreadTypeUtil").isPageToUserThread(y)&&b("cr:7192")&&j.jsx(b("cr:7192"),{editor:h}),A==null?null:j.jsx(A,{editor:h,handlePastedFiles:q})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","I64","LSMessagingThreadTypeUtil","MWCMMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react","MWCMThreadTypes.react","MWChatAppendMentionsNodeToReply","MWChatComposerMentionsViewItem.react","MWLSThread","cr:4183","messengerMentionsLexicalCreateNodeStrategy","react","useCometTypeaheadSectionedViewListStrategy","useCommunityFolder","useMWChatMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useMemo,l=(e=b("cr:4183"))!=null?e:function(a){return function(a,b){}},m={view:{minWidth:"x1jzhcrs",$$css:!0}};function a(a){var b=a.editor,e=a.isAiBotMentionsEnabled,f=a.participants,g=a.threadFBID,h=l((i||(i=d("I64"))).of_string(g));a=k(function(){return{isAiBotMentionsEnabled:e,participants:f,threadFBID:g,triggerParticipantsSearch:h}},[e,f,g,h]);a=c("useMWChatMentionsDataSourceResolverConfig")(a);var n=c("useCometTypeaheadSectionedViewListStrategy")({viewItemStrategyRenderer:c("MWChatComposerMentionsViewItem.react"),viewXStyle:m.view}),o=d("MWLSThread").useThreadExn(i.of_string(g)),p=c("useCommunityFolder")(o);d("MWChatAppendMentionsNodeToReply").useMWChatAppendMentionsNodeToReply(b,o.threadKey,e);if(c("MWCMMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react")!=null&&(d("MWCMThreadTypes.react").isJoinedCMThread(o.threadType)&&p||d("LSMessagingThreadTypeUtil").isJoinedSocialChannelV2(o.threadType))){var q;return j.jsx(c("MWCMMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react"),{editor:b,fbGroupId:(q=p==null?void 0:p.fbGroupId)!=null?q:o.threadKey,folderId:(q=p==null?void 0:p.folderId)!=null?q:o.threadKey,threadFBID:g})}else return j.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("messengerMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:a,editor:b,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:n})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWReQLComposerInner.react",["CometMessengerComposerInner.react","I64","MWLSThread","MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a){var b=a.ariaDescribedBy,e=a.ariaLabel,f=a.contentEditableRef,g=a.editor,h=a.endContent,k=a.handlePastedFiles,l=a.isAiBotMentionsEnabled,m=a.isSecureThread,n=a.participants,o=a.placeholderText;o=o===void 0?"Aa":o;var p=a.policyProduct,q=a.startContent,r=a.surface,s=a.testId,t=a.threadID,u=a.topContent;a=a.useMentionsPlugin;var v=d("MWLSThread").useThread((i||(i=d("I64"))).of_string(t),function(a){var b=a.threadSubtype;a=a.threadType;return{threadSubtype:b,threadType:a}});a=a&&j.jsx(c("MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react"),{editor:g,isAiBotMentionsEnabled:l,participants:n,threadFBID:t});return j.jsx(c("CometMessengerComposerInner.react"),{ariaDescribedBy:b,ariaLabel:e,contentEditableRef:f,editor:g,endContent:h,handlePastedFiles:k,isSecureThread:m,mentionsPlugin:a,placeholderText:o,policyProduct:p,startContent:q,surface:r,testId:s,threadSubtype:v==null?void 0:v.threadSubtype,threadType:v==null?void 0:v.threadType,topContent:u})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatComposerIcons",["cr:2809"],(function(a,b,c,d,e,f,g){"use strict";g.MWChatComposerIconsGif=(a=b("cr:2809")).Gif;g.MWChatComposerIconsSticker=a.Sticker;g.MWChatComposerIconsPhoto=a.Photo;g.MWChatComposerIconsMoreActions=a.MoreActions;g.MWChatComposerIconsEmoji=a.Emoji}),98);
__d("MWV2ComposerEmojiButton.react",["fbt","JSResourceForInteraction","MWChatComposerIcons","MWXLazyPopoverTrigger.react","MWXPressable.react","MWXTooltip.react","MessengerWebUXLogger","Promise","gkx","promiseDone","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=h._(/*BTDS*/"__JHASH__HXazdxq92Fj__JHASH__"),m={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},n=c("JSResourceForInteraction")("cometAddEmojiToComposerForLexical").__setRef("MWV2ComposerEmojiButton.react");function a(a){var e=a.editor;a=function(a){c("promiseDone")(n.load().then(function(c){c(a,e,16);return(i||(i=b("Promise"))).resolve()}))};var f=c("MessengerWebUXLogger").useInteractionLogger();return k.jsx(c("MWXLazyPopoverTrigger.react"),{align:"end",popoverProps:{onSelect:a,withArrow:!0},popoverResource:c("JSResourceForInteraction")("MWV2ComposerEmojiPickerForJSResource").__setRef("MWV2ComposerEmojiButton.react"),preloadTrigger:"button",children:function(a,b,e,g,h,i,j){return k.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:l,children:k.jsx(c("MWXPressable.react"),{"aria-label":l,onHoverIn:g,onHoverOut:h,onPress:function(a){b(),n.preload(),f==null?void 0:f({eventName:"composer_open_emoji_picker"})},onPressIn:i,overlayRadius:"50%",ref:a,testid:void 0,xstyle:function(){return[c("gkx")("23219")?m.buttonMDS:m.buttonFDS]},children:k.jsx(d("MWChatComposerIcons").MWChatComposerIconsEmoji,{fill:"var(--chat-composer-button-color)",size:20})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWMediaManagerFileSizeLimit",["gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h=25;function a(a){return a?c("gkx")("7430")?c("justknobx")._("3563"):h:h}g.getMWMaxAttachmentSizeInMB=a}),98);
__d("useMWIsHDMediaEnabled",["MWPActor.react","MessengerWebPrivacySettings","ReQL","ReQLSuspense","qex","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=a?c("qex")._("512")===!0:c("qex")._("513")===!0;var b=(h||(h=c("useReStore")))(),e=d("MWPActor.react").useActor(),g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.tables.messaging_privacy_settings).getKeyRange(e)},[b,e],f.id+":27");if(!a)return!1;return g==null?c("MessengerWebPrivacySettings").e2ee_hd_media_enabled:(a=g==null?void 0:g.e2eeHdMediaEnabled)!=null?a:!1}g["default"]=a}),98);
__d("useMWV2ComposerOnFilesSelected",["react","useMWIsHDMediaEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=c("useMWIsHDMediaEnabled")(!1);return i(function(c){c=Array.from(c);if(c.length>0)return a(c,b)},[a,b])}g["default"]=a}),98);
__d("MWV2ComposerFileButton.react",["fbt","BaseFileSelector.react","MWChatComposerIcons","MWMediaManagerFileSizeLimit","MWXPressable.react","MWXTooltip.react","gkx","react","useMWV2ComposerOnFilesSelected"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}};function a(a){var b=a.disabled,e=a.hidden,f=a.isSecureThread,g=a.onAttachmentsAdded;a=a.supportedFileTypes;g=c("useMWV2ComposerOnFilesSelected")(g);var i=c("gkx")("7430")?h._(/*BTDS*/"__JHASH__Z6LS89nBe77__JHASH__",[h._param("fileSizeLimit",String(d("MWMediaManagerFileSizeLimit").getMWMaxAttachmentSizeInMB(f)))]):h._(/*BTDS*/"__JHASH__irWVZkNfl97__JHASH__");return j.jsx(c("BaseFileSelector.react"),{accept:a,multiple:!0,onFilesSelected:g,children:function(a){return j.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:i,children:j.jsx(c("MWXPressable.react"),{"aria-hidden":e,"aria-label":i,disabled:b,loggingEvent:"composer_open_file_picker",onPress:a,overlayRadius:"50%",testid:void 0,xstyle:function(){return[c("gkx")("23219")?k.buttonMDS:k.buttonFDS]},children:j.jsx(d("MWChatComposerIcons").MWChatComposerIconsPhoto,{fill:b?void 0:"var(--chat-composer-button-color)",size:20})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("LSMessageContentType",[],(function(a,b,c,d,e,f){a=Object.freeze({TEXT:1,MEDIA_PREVIEW:2,AUDIO_CLIP:4,XMA_FALLBACK:8,LWA_WAVE:16,ADMIN:32,FILE_ATTACHMENT:64,GLYPH:128,TOMBSTONE:256,STORY_REPLY:512,SINGLE_XMA:1024,HSCROLL_XMA:2048,STICKER:4096,FORWARD_INDICATOR:8192,ANIMATED_IMAGE:16384,NULL_STATE:32768,ENCRYPTION_PLACEHOLDER:65536,FUTUREPROOF_PLACEHOLDER:131072,UNAVAILABLE_PLACEHOLDER:262144,LOCATION_PLACEHOLDER:524288,POLL_CREATION_PLACEHOLDER:1048576,CONTACT_SHARE_PLACEHOLDER:2097152,STORY_MENTION_PLACEHOLDER:4194304,META_AI_MESSAGE_PLACEHOLDER:8388608,BUMP_MESSAGE_PLACEHOLDER:16777216,BUMP_MESSAGE_ORIGINAL_UNAVAILABLE_PLACEHOLDER:33554432,STICKER_RECEIVER_FETCH_UNSUPPORTED_PLACEHOLDER:67108864,RECEIVER_FETCH:134217728,STORY_MENTION:268435456,XMA_RECEIVER_FETCH:536870912,NOTE_MENTION_PLACEHOLDER:1073741824,POST_MENTION_PLACEHOLDER:2147483648,LIVE_LOCATION_PLACEHOLDER:4294967296,MESSENGER_MEMORY_PLACEHOLDER:8589934592});f["default"]=a}),66);
__d("MWMediaRenderQplUtils",["CurrentUser","E2EELinkPreviewXMADataType","I64","LSAuthorityLevel","LSBitFlag","LSIntEnum","LSMessageContentType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessagingInitiatingSource","LSReplyMessageAttachmentType","LSXmaContentType","MAWLoggerUtils","MessagingAttachmentType","MessagingThreadType","QPLUserFlow","ServerTime","VisibilityAPI","VisibilityState","justknobx","mergeDeep","objectEntries","performanceAbsoluteNow","qpl","react","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||d("react"),m=l.useEffect,n=l.useLayoutEffect,o=l.useMemo,p=l.useRef,q=60*60*24,r=3*q,s=7*q,t=2*s,u=4*s,v=c("qpl")._(25302828,"2195"),w=c("justknobx")._("2945"),x=1e3,y=c("objectEntries")(c("LSMessageContentType")).reduce(function(a,b){var c=b[0];b=b[1];a.set(b,c);return a},new Map()),z=c("objectEntries")(c("LSReplyMessageAttachmentType")).reduce(function(a,b){var c=b[0];b=b[1];a.set(b,c);return a},new Map());function a(a){return A(a.displayedContentTypes)}function A(a){if(d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(1024),a)){var b;return(b=y.get(1024))!=null?b:"UNKNOWN"}return(b=y.get((k||(k=d("I64"))).to_float(a)))!=null?b:"UNKNOWN"}function b(a){return a==null?"UNKNOWN":(a=z.get((k||(k=d("I64"))).to_int32(a)))!=null?a:"UNKNOWN"}function B(a){var b;if((k||(k=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))b=(j||(j=d("LSIntEnum"))).ofNumber(16384);else if((k||(k=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)))b=(j||(j=d("LSIntEnum"))).ofNumber(2);else if((k||(k=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))b=(j||(j=d("LSIntEnum"))).ofNumber(2);else if((k||(k=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO)))b=(j||(j=d("LSIntEnum"))).ofNumber(4);else if((k||(k=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE)))b=(j||(j=d("LSIntEnum"))).ofNumber(64);else if((k||(k=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE)))b=(j||(j=d("LSIntEnum"))).ofNumber(64);else if((k||(k=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)))b=(j||(j=d("LSIntEnum"))).ofNumber(1024);else return"UNKNOWN";return A(b)}var C=c("objectEntries")(c("MessagingAttachmentType")).reduce(function(a,b){var c=b[0];b=b[1];a.set(b,c);return a},new Map());function e(a){return D(a.attachmentType)}function D(a){return(a=C.get((k||(k=d("I64"))).to_float(a)))!=null?a:"UNKNOWN"}var E=c("objectEntries")(c("MessagingThreadType")).reduce(function(a,b){var c=b[0];b=b[1];a.set(b,c);return a},new Map());function f(a){a=a.threadType;return F(a)}function F(a){return(a=E.get((k||(k=d("I64"))).to_float(a)))!=null?a:"UNKNOWN"}var G=c("objectEntries")(c("LSXmaContentType")).reduce(function(a,b){var c=b[0];b=b[1];a.set(b,c);return a},new Map());function H(a){return(a=G.get((k||(k=d("I64"))).to_float(a)))!=null?a:"UNKNOWN"}var I=c("objectEntries")(c("LSMessagingInitiatingSource")).reduce(function(a,b){var c=b[0];b=b[1];a.set(b,c);return a},new Map());function J(a){return a!=null?(a=I.get((k||(k=d("I64"))).to_float(a)))!=null?a:"UNKNOWN":"UNKNOWN"}var K=c("objectEntries")(c("E2EELinkPreviewXMADataType")).reduce(function(a,b){var c=b[0];b=b[1];a.set(b,c);return a},new Map());function L(a){return(a=K.get((k||(k=d("I64"))).to_float(a)))!=null?a:"UNKNOWN"}var M=c("objectEntries")(c("LSMessageReplySourceType")).reduce(function(a,b){var c=b[0];b=b[1];a.set(b,c);return a},new Map());function N(a){return(a=M.get((k||(k=d("I64"))).to_float(a)))!=null?a:"UNKNOWN"}var O=c("objectEntries")(c("LSMessageReplySourceTypeV2")).reduce(function(a,b){var c=b[0];b=b[1];a.set(b,c);return a},new Map());function P(a){return(a=O.get((k||(k=d("I64"))).to_float(a)))!=null?a:"UNKNOWN"}function Q(a,b,e,f){var g=(h||(h=c("performanceAbsoluteNow")))(),i=function(d,e){c("QPLUserFlow").addPoint(a,"window_visibility_change_"+(e?"hidden":"visible"),{instanceKey:b}),e&&c("QPLUserFlow").addAnnotations(a,{bool:{window_was_hidden:!0}},{instanceKey:b})},j=function(a){var b=d("VisibilityAPI").canUseVisibilityAPI?d("VisibilityAPI").isVisibilityHidden():void 0;b={bool:{window_is_hidden_on_end:b}};return a!=null?c("mergeDeep")(a,b):b};return{addAnnotations:function(d){c("QPLUserFlow").addAnnotations(a,d,{instanceKey:b})},addPoint:function(d,e){c("QPLUserFlow").addPoint(a,d,{data:e,instanceKey:b})},endCancel:function(f){e!=null&&(e.current=!0);var g=(h||(h=c("performanceAbsoluteNow")))(),k=j();d("VisibilityState").unsubscribe(i);c("setTimeout")(function(){c("QPLUserFlow").endCancel(a,{annotations:k,cancelReason:f,instanceKey:b,timestamp:g})},x)},endFail:function(f,g){e!=null&&(e.current=!0);var k=(h||(h=c("performanceAbsoluteNow")))(),l=c("mergeDeep")(j(g),{string:{fail_reason:f}});d("VisibilityState").unsubscribe(i);c("setTimeout")(function(){c("QPLUserFlow").endFailure(a,"render-failure",{annotations:l,instanceKey:b,timestamp:k})},x)},endSuccess:function(f,g){e!=null&&(e.current=!0);var k=(g=g)!=null?g:(h||(h=c("performanceAbsoluteNow")))(),l=j(f);d("VisibilityState").unsubscribe(i);c("setTimeout")(function(){c("QPLUserFlow").endSuccess(a,{annotations:l,instanceKey:b,timestamp:k})},x)},getInstanceKey:function(){return b},start:function(a){var e,j=g;e=(e=f)!=null?e:{};if(a!=null&&a.isManualRetry===!0){var k;j=(h||(h=c("performanceAbsoluteNow")))();e=c("mergeDeep")(e,{bool:{is_manual_retry:!0},"int":{manual_retry_count:((k=a.manualRetryCount)!=null?k:0)+1},string:{previousManualRetryErrorDetails:a.previousManualRetryErrorDetails}})}c("QPLUserFlow").start(v,{annotations:e,cancelOnUnload:!0,instanceKey:b,timeoutInMs:w,timestamp:j});d("VisibilityState").subscribe(i)}}}function R(a,b,e){var f=a.attachmentType,g=p(!1),h=o(function(){var h=d("MAWLoggerUtils").getInstanceKey(),i=c("CurrentUser").getAppID();i={string:{app_id:(i=i)!=null?i:void 0,attachment_type:D(f),content_type:B(f),entry_point:e,thread_type:F(b),transport_key:a.transportKey,xma_content_type:a.xmaContentType!=null?H(a.xmaContentType):void 0}};return babelHelpers["extends"]({},Q(v,h,g,i))},[a.messageId]);n(function(){h==null?void 0:h.start()},[h]);m(function(){return function(){g.current===!1&&(h==null?void 0:h.getInstanceKey())!=null&&(h==null?void 0:h.endCancel(706))}},[h]);return h}function S(a,b,c){a=a+(b?"0":"1")+(c?"1":"0");return d("MAWLoggerUtils").getInstanceKeyFromId(a)}function T(a,b,e,f,g){g===void 0&&(g={});b=(k||(k=d("I64"))).le(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC));a=S(a,b,e);c("QPLUserFlow").endFailure(v,f,{annotations:g,instanceKey:a})}function U(a,b,e,f,g){g===void 0&&(g={});b=(k||(k=d("I64"))).le(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC));a=S(a,b,e);c("QPLUserFlow").addPoint(v,f,{data:g,instanceKey:a})}function V(a){var b=(k||(k=d("I64"))).of_float(d("ServerTime").getMillis());b=k.to_float(k.sub(b,a))/1e3;b<q?a="less_than_one_day":b<r?a="between_one_and_three_days":b<s?a="between_three_days_and_one_week":b<t?a="between_one_and_two_weeks":b<u?a="between_two_weeks_and_one_month":a="more_than_one_month";return a}function W(a){if(a==null||a<=0)return"invalid_duration";else if(a<=30)return"duration less than 30 seconds";else if(a<=1*60)return"duration between 30 seconds and 1 minute";else if(a<=2*60)return"duration between 1 minute and 2 minutes";else if(a<=3*60)return"duration between 2 minutes and 3 minutes";else if(a<=5*60)return"duration between 3 minutes and 5 minutes";else if(a<=10*60)return"duration between 5 minutes and 10 minutes";else if(a<=30*60)return"duration between 10 minutes and 30 minutes";else if(a<=1*60*60)return"duration between 30 minutes and 1 hour";else if(a<=2*60*60)return"duration between 1 hour and 2 hours";else return"duration above 2 hours"}g.event=v;g.QPL_TIMEOUT=w;g.QPL_END_DELAY_MS=x;g.getMessageContentTypeString=a;g.getMessageContentTypeStringFromEnum=A;g.getReplyMessageAttachmentTypeStringFromEnum=b;g.deriveMessageContentTypeStringFromAttachmentTypeLessAccurate=B;g.getAttachmentTypeString=e;g.getAttachmentTypeStringFromEnum=D;g.getThreadTypeString=f;g.getThreadTypeStringFromEnum=F;g.getXmaContentTypeStringFromEnum=H;g.getMessagingInitiationSourceStringFromEnum=J;g.getE2EELinkPreviewXMADataTypeStringFromEnum=L;g.getMessageReplySourceTypeStringFromEnum=N;g.getMessageReplySourceTypeV2StringFromEnum=P;g.createQplFlowCommon=Q;g.useCommonMediaRenderQplForAttachment=R;g.getThreadViewMediaRenderQplInstanceKey=S;g.endThreadViewMediaRenderQpl=T;g.addThreadViewMediaRenderQplPoint=U;g.calculateDiffBucketFromTimestamp=V;g.convertDurationToStringBucket=W}),98);
__d("MWMediaComposerRenderQpl",["LSGetAttachmentType","MAWLoggerUtils","MWMediaRenderQplUtils","QPLUserFlow","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=i.useEffect,k=i.useMemo,l=i.useRef;function a(a,b,e){var f;a=d("MAWLoggerUtils").getInstanceKeyFromId(a);b=d("LSGetAttachmentType").LSGetAttachmentTypeSyncButLessAccurate(b);c("QPLUserFlow").start((f=d("MWMediaRenderQplUtils")).event,{annotations:{string:{attachment_type:f.getAttachmentTypeStringFromEnum(b),content_type:f.deriveMessageContentTypeStringFromAttachmentTypeLessAccurate(b),entry_point:"composer_view",thread_type:f.getThreadTypeString(e)}},cancelOnUnload:!0,instanceKey:a,timeoutInMs:f.QPL_TIMEOUT})}function b(a,b){a=d("MAWLoggerUtils").getInstanceKeyFromId(a);c("QPLUserFlow").endCancel(d("MWMediaRenderQplUtils").event,{annotations:{string:{cancel_reason:b}},instanceKey:a})}function e(a,b){a=d("MAWLoggerUtils").getInstanceKeyFromId(a);c("QPLUserFlow").addPoint(d("MWMediaRenderQplUtils").event,b,{instanceKey:a})}function f(a){var b=d("MAWLoggerUtils").getInstanceKeyFromId(a.offlineAttachmentId),e=l(!1);c("QPLUserFlow").addAnnotations(d("MWMediaRenderQplUtils").event,{string:{attachment_type:d("MWMediaRenderQplUtils").getAttachmentTypeStringFromEnum(a.attachmentType),content_type:d("MWMediaRenderQplUtils").deriveMessageContentTypeStringFromAttachmentTypeLessAccurate(a.attachmentType)}},{instanceKey:b});var f=k(function(){return babelHelpers["extends"]({},d("MWMediaRenderQplUtils").createQplFlowCommon(d("MWMediaRenderQplUtils").event,b,e))},[]);j(function(){return function(){e.current===!1&&(f==null?void 0:f.getInstanceKey())!=null&&(f==null?void 0:f.endCancel(706))}},[f]);return f}g.startMediaComposerRenderQpl=a;g.endCancelMediaComposerRenderQpl=b;g.addPointMediaComposerRenderQpl=e;g.useMediaComposerRenderQpl=f}),98);
__d("MWSharedMediaManagerUtils",["I64","LSGetAttachmentType","LSIntEnum","LSMailboxType","MWPreloadableQueries","Promise","ReQLSuspense","asyncToGeneratorRuntime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(a){return new(k||(k=b("Promise")))(function(b){var c=new Image();c.onload=function(){return b({previewHeight:c.height,previewWidth:c.width})};c.onerror=function(){return b()};c.src=a})}function m(a){return new(k||(k=b("Promise")))(function(b){var c=document.createElement("video");c.onloadedmetadata=function(){return b({previewHeight:c.videoHeight,previewWidth:c.videoWidth})};c.onerror=function(){return b()};c.src=a})}function n(a,b){if(b==null||a==null)return;var c=Math.floor(a.previewHeight*b.previewWidth/a.previewWidth);return c>=b.previewHeight?{previewHeight:(i||(i=d("I64"))).of_float(c),previewWidth:i.of_float(b.previewWidth)}:{previewHeight:(i||(i=d("I64"))).of_float(b.previewHeight),previewWidth:i.of_float(a.previewWidth*b.previewHeight/a.previewHeight)}}function a(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,d){var e=(yield q(c,d));yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=(yield s(a,e));yield (k||(k=b("Promise"))).all(c.map(function(b){return a.media_staging.add(b)}))});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":102")});return o.apply(this,arguments)}function e(a,b,c){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,d){var e=(yield q(c,d));yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=(yield s(a,e));yield (k||(k=b("Promise"))).all(c.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){(yield a.media_staging.get(c.offlineAttachmentId))!=null&&(yield a.media_staging.upsert([c.offlineAttachmentId],c));return(k||(k=b("Promise"))).resolve()});return function(a){return c.apply(this,arguments)}}()))});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":126")});return p.apply(this,arguments)}function q(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){a=(yield (k||(k=b("Promise"))).all(a.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.file,f=a.offlineAttachmentId,g=a.attachmentType!=null?(j||(j=d("LSIntEnum"))).ofNumber(a.attachmentType):yield d("LSGetAttachmentType").LSGetAttachmentType(b),h=URL.createObjectURL(b),k;a.previewHeight!=null&&a.previewWidth!=null?k={previewHeight:a.previewHeight,previewWidth:a.previewWidth}:b.type.includes("video/")?k=(yield m(h)):k=(yield l(h));g={attachmentType:g,durationMs:void 0,fbid:void 0,filename:b.name,fileSize:(i||(i=d("I64"))).of_int32(b.size),hasError:!1,isHd:a.isHd,isSent:!1,mailboxType:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMailboxType").MESSENGER),mimeType:b.type,offlineAttachmentId:f,offlineThreadingId:void 0,previewUrl:h,progress:0,threadKey:e};return{dimensions:k,mediaStaging:g}});return function(b){return a.apply(this,arguments)}}())));return a});return r.apply(this,arguments)}function s(a,b){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield a.sync_groups.get((i||(i=d("I64"))).of_float(1)));var c;if((a==null?void 0:a.syncParams)!=null){a=JSON.parse(a.syncParams);var e=a.preview_height;a=a.preview_width;c={previewHeight:e,previewWidth:a}}return b.map(function(a){var b=a.dimensions;a=a.mediaStaging;return babelHelpers["extends"]({},a,n(b,c))})});return t.apply(this,arguments)}function u(a,b){return a.runInTransaction(function(a){return a.media_staging["delete"](b)},"readwrite",void 0,void 0,f.id+":236")}function v(a){var b=(h||(h=c("useReStore")))();return d("ReQLSuspense").useArray(function(){return d("MWPreloadableQueries").getMediaStagingQuery(b,a.threadKey)},[b,a.threadKey],f.id+":246")}function w(a){if(a.mimeType==="image/gif")return!0;else return a.mimeType==="image/webp"}g.insertMediaStaging=a;g.updateMediaStaging=e;g.deleteMediaStaging=u;g.useMediaStaging=v;g.isVideoLikeImage=w}),98);
__d("MWV2ComposerMediaProgressBar.react",["MWPColorUtils","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.height;a=a.mediaStaging;var e=c("useMWPThreadTheme")();e=e.threadTheme;e=a.hasError?"var(--negative)":d("MWPColorUtils").int64ToHex(e.fallbackColor);var f=Math.ceil(a.progress*100),g=(b/2).toString();g="M 0,"+g+" L 100,"+g;return a.progress===1||a.progress===0?null:i.jsxs("svg",{"aria-hidden":!0,className:"x1ey2m1c x17qophe x10l6tqk xh8yej3",preserveAspectRatio:"none",style:{height:b.toString()},viewBox:"0 0 100 "+b.toString(),children:[i.jsx("path",{d:g,stroke:"rgba(0,0,0,.5)",strokeLinecap:"round",strokeWidth:b.toString()}),i.jsx("path",{d:g,stroke:e,strokeLinecap:"round",strokeWidth:(f===0?0:b).toString(),style:{strokeDasharray:"100",strokeDashoffset:(100-f|0).toString(),transition:"stroke-dashoffset .5s, stroke .5s"}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatFileIcon.react",["ix","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){return j.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x2bj2ny x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xl56j7k xmo9yow x1y1aw1k x1sxyh0 xwib8y2 xurb0ha"},{children:j.jsx(c("MWXIcon.react"),{color:"primary",icon:d("fbicon")._(h("908355"),16)})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerMediaStagingItemDocumentPreview.react",["MWChatFileIcon.react","MWXText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=a.fileName,d=a.mediaRenderQpl;j(function(){d==null?void 0:d.endSuccess()},[d]);return i.jsxs("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 x1iorvi4 xjkvuk6 xurb0ha x1sxyh0 x87ps6o"},{children:[i.jsx(c("MWChatFileIcon.react"),{}),i.jsx("div",babelHelpers["extends"]({className:"x1iyjqo2"},{children:i.jsx(c("MWXText.react"),{numberOfLines:2,type:"headline4",children:b})}))]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerMediaStagingItemImagePreview.react",["FDSImageCover.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useCallback;function a(a){var b=a.mediaRenderQpl;a=a.previewUrl;var d=j(function(){b==null?void 0:b.endFail("load-image-error")},[b]),e=j(function(){b==null?void 0:b.endSuccess()},[b]);if(a!=null)return i.jsx(c("FDSImageCover.react"),{alt:"",onError:d,onLoad:e,src:a});else{b==null?void 0:b.endFail("missing-preview-url");return null}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerMediaStagingItemVideoPreview.react",["ix","MWVideoPlayerPlayButton.react","MWXImage.react","MWXVideoStatusListener.react","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useRef;function a(a){var b=a.mediaRenderQpl;a=a.previewUrl;var d=l(null),e=k(function(a){b==null?void 0:b.endFail("load-video-error",{string:{video_error_name:a}})},[b]),f=k(function(){b==null?void 0:b.endSuccess()},[b]),g=c("gkx")("8622")?j.jsx(c("MWVideoPlayerPlayButton.react"),{isVisible:!0,size:"SMALL"}):j.jsx("div",babelHelpers["extends"]({className:"xtzzx4i x16hk5td x7wgvq7 x10l6tqk xwa60dl"},{children:j.jsx(c("MWXImage.react"),{src:h("354763")})}));if(a!=null)return j.jsxs(j.Fragment,{children:[j.jsx(c("MWXVideoStatusListener.react"),{onError:e,onLoad:f,videoRef:d}),j.jsx("video",babelHelpers["extends"]({className:"xl1xv1r"},{height:"48",ref:d,src:a,width:"48"})),g]});else{b==null?void 0:b.endFail("missing-preview-url");return null}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerMediaStagingItemPreview.react",["I64","LSIntEnum","MWSharedMediaManagerUtils","MWV2ComposerMediaStagingItemDocumentPreview.react","MWV2ComposerMediaStagingItemImagePreview.react","MWV2ComposerMediaStagingItemVideoPreview.react","MessagingAttachmentType","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react")),l=h.useEffect;function a(a){var b=a.mediaRenderQpl;a=a.mediaStaging;var e=a.attachmentType,f=a.previewUrl;l(function(){b==null?void 0:b.addPoint("staging-item-render")},[b]);if(d("MWSharedMediaManagerUtils").isVideoLikeImage(a)||(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)))return k.jsx(c("MWV2ComposerMediaStagingItemImagePreview.react"),{mediaRenderQpl:b,previewUrl:f});return(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))?k.jsx(c("MWV2ComposerMediaStagingItemVideoPreview.react"),{mediaRenderQpl:b,previewUrl:f}):k.jsx(c("MWV2ComposerMediaStagingItemDocumentPreview.react"),{fileName:a.filename,mediaRenderQpl:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerMediaStagingItem.react",["fbt","I64","LSIntEnum","MWMediaComposerRenderQpl","MWSharedMediaManagerUtils","MWV2ComposerMediaProgressBar.react","MWV2ComposerMediaStagingItemPreview.react","MWXCircleButton.react","MWXIconCross","MWXTooltip.react","MessagingAttachmentType","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react"));b=j;var n=b.useCallback,o=b.useEffect,p={fileContainer:{width:"x2pejg6",$$css:!0},filePreviewContainer:{backgroundColor:"x1vtvx1t",width:"x2pejg6",$$css:!0},itemContainer:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",height:"xsdox4t",marginTop:"xr9ek0c",marginEnd:"xq8finb",marginBottom:"xzueoph",marginStart:"x1mh8g0r",position:"x1n2onr6",width:"x1useyqa",$$css:!0},previewContainer:{borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",height:"xsdox4t",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"x1useyqa",$$css:!0}};function a(a){var b=a.mediaStaging,e=a.onAttachmentRemoved;a=n(function(){return e(b.offlineAttachmentId)},[b.offlineAttachmentId,e]);var f=!(k||(k=d("I64"))).equal(b.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))&&!(k||(k=d("I64"))).equal(b.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))&&!d("MWSharedMediaManagerUtils").isVideoLikeImage(b),g=h._(/*BTDS*/"__JHASH__JpwWRvbxl3y__JHASH__"),j=d("MWMediaComposerRenderQpl").useMediaComposerRenderQpl(b);o(function(){j==null?void 0:j.addPoint("staging-item-render")},[j]);return m.jsxs("div",babelHelpers["extends"]({"aria-label":b.filename},(i||(i=c("stylex"))).props(p.itemContainer,f&&p.fileContainer),{"data-testid":void 0,id:b.offlineAttachmentId,role:"listitem",children:[m.jsxs("div",babelHelpers["extends"]({},i.props(p.previewContainer,f&&p.filePreviewContainer),{children:[m.jsx(c("MWV2ComposerMediaStagingItemPreview.react"),{mediaRenderQpl:j,mediaStaging:b}),m.jsx(c("MWV2ComposerMediaProgressBar.react"),{height:4,mediaStaging:b})]})),m.jsx("div",babelHelpers["extends"]({className:"xoo4vsp x10l6tqk x1v4kod4"},{children:m.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:g,children:m.jsx(c("MWXCircleButton.react"),{"aria-describedby":b.offlineAttachmentId,icon:c("MWXIconCross"),label:h._(/*BTDS*/"__JHASH__JpwWRvbxl3y__JHASH__"),onPress:a,size:24,type:"overlay"})})}))]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2ComposerMediaStaging.react",["fbt","ix","BaseFileSelector.react","MWV2ComposerMediaStagingItem.react","MWXIcon.react","MWXPressable.react","MWXTooltip.react","fbicon","justknobx","react","useMWV2ComposerOnFilesSelected"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l={uploadPlaceholderPressable:{alignItems:"x6s0dn4",backgroundColor:"x1vtvx1t",borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",display:"x78zum5",height:"xsdox4t",justifyContent:"xl56j7k",width:"x1useyqa",$$css:!0}};function m(a){var b=a.isDisabled,e=a.onAttachmentsAdded;a=a.supportedFileTypes;e=c("useMWV2ComposerOnFilesSelected")(e);var f=h._(/*BTDS*/"__JHASH__07aSX1Sv-Xl__JHASH__");return k.jsx(c("BaseFileSelector.react"),{accept:a,multiple:!0,onFilesSelected:e,children:function(a){return k.jsx("div",babelHelpers["extends"]({className:"x78zum5 x1c4vz4f x2lah0s xq8finb x1n2onr6"},{children:k.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:f,children:k.jsx(c("MWXPressable.react"),{"aria-label":f,disabled:b,onPress:function(){return a()},xstyle:l.uploadPlaceholderPressable,children:k.jsx(c("MWXIcon.react"),{color:b?"disabled":"primary",icon:d("fbicon")._(i("481777"),24),testid:void 0})})})}))}})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.mediaStaging,d=a.onAttachmentRemoved,e=a.onAttachmentsAdded;a=a.supportedFileTypes;if(b.length===0)return null;var f=b.length>=c("justknobx")._("2538");return k.jsxs("div",babelHelpers["extends"]({className:"x6s0dn4 x9f619 x78zum5 xozqiw3 x1nhvcw1 xw2csxc xz9dl7a xn6708d xsag5q8 x1ye3gou xh8yej3"},{children:[k.jsx(m,{isDisabled:f,onAttachmentsAdded:e,supportedFileTypes:a}),k.jsx("div",babelHelpers["extends"]({"aria-label":h._(/*BTDS*/"__JHASH__8hA9c1hfIdg__JHASH__")},{className:"x78zum5"},{role:"list",children:b.map(function(a){return k.jsx(c("MWV2ComposerMediaStagingItem.react"),{mediaStaging:a,onAttachmentRemoved:d},a.offlineAttachmentId)})}))]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWChatChatButtonColorConstants",[],(function(a,b,c,d,e,f,g){"use strict";a={fillGrey:{fill:"xsrhx6k",$$css:!0},strokeGrey:{stroke:"x1dmfqyo",$$css:!0}};g.styles=a}),98);
__d("MWV2ComposerSendButton.react",["fbt","Locale","MWChatChatButtonColorConstants","MWXPressable.react","MWXSpinner.react","MWXTooltip.react","UserAgent","gkx","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useCallback,m=b.useEffect,n=b.useState;e=c("gkx")("23402");b=c("UserAgent").isPlatform("Mac OS X");var o=e?b?h._(/*BTDS*/"__JHASH__rZOmP6eifIV__JHASH__"):h._(/*BTDS*/"__JHASH__ylwhpFdWk4l__JHASH__"):h._(/*BTDS*/"__JHASH__7975gRkNyLl__JHASH__"),p={buttonFDS:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",marginStart:"xsgj6o6",marginEnd:"xw3qccf",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},buttonMDS:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",marginStart:"x1i64zmx",marginEnd:"x1emribx",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},reverse:{transform:"xpk2tj9",$$css:!0}};e=k.forwardRef(a);function a(a,b){var e=a.disabled,f=a.hasStuffToSend,g=a.onPress;a=a.shouldHideTooltip;a=a===void 0?!1:a;var h=n(!1),j=h[0],q=h[1];m(function(){f||q(!1)},[f,q]);h=l(function(){q(!0),g()},[g,q]);h=k.jsx(c("MWXPressable.react"),{disabled:e===!0||j,label:o,loggingEvent:"composer_send_message",onPress:h,overlayDisabled:e,overlayRadius:"50%",ref:b,testid:void 0,xstyle:function(){return[c("gkx")("23219")?p.buttonMDS:p.buttonFDS,d("Locale").isRTL()&&p.reverse]},children:j?k.jsx(c("MWXSpinner.react"),{color:"blue",size:20}):k.jsxs("svg",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(d("MWChatChatButtonColorConstants").styles.fillGrey),{height:"20px",viewBox:"0 0 24 24",width:"20px",children:[k.jsx("title",{children:o}),k.jsx("path",{d:"M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 C22.8132856,11.0605983 22.3423792,10.4322088 21.714504,10.118014 L4.13399899,1.16346272 C3.34915502,0.9 2.40734225,1.00636533 1.77946707,1.4776575 C0.994623095,2.10604706 0.8376543,3.0486314 1.15159189,3.99121575 L3.03521743,10.4322088 C3.03521743,10.5893061 3.34915502,10.7464035 3.50612381,10.7464035 L16.6915026,11.5318905 C16.6915026,11.5318905 17.1624089,11.5318905 17.1624089,12.0031827 C17.1624089,12.4744748 16.6915026,12.4744748 16.6915026,12.4744748 Z",fill:e===!0?void 0:"var(--chat-composer-button-color)"})]}))});return a?h:k.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:o,children:h})}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),226);
__d("StylexHelpers.bs",[],(function(a,b,c,d,e,f,g){"use strict";a={visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};g.styles=a}),98);
__d("useMWComposerAriaDescribedBy",["fbt","I64","Int64Hooks","MWPActor.react","ReQL","ReQLSuspense","intlList","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function a(a){var b=a.threadKey,e=a.threadName,g=(j||(j=c("useReStore")))(),k=d("MWPActor.react").useActor(),l=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.tables.participants,["contactId"]).getKeyRange(b).map(function(a){return d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(a.contactId),f.id+":33")})},[g,b],f.id+":28");return d("Int64Hooks").useMemoInt64(function(){if(e!=null)return h._(/*BTDS*/"__JHASH__AZYBx6Ry0lI__JHASH__",[h._param("name of conversation",e)]);var a=c("intlList")(l.map(function(a){if(a!=null&&!(i||(i=d("I64"))).equal(a.id,k))return a.name}).filter(Boolean),c("intlList").CONJUNCTIONS.AND,c("intlList").DELIMITERS.COMMA);return h._(/*BTDS*/"__JHASH__a-kg7czmDb1__JHASH__",[h._param("participant list",a)])},[l,e,k])}g["default"]=a}),226);
__d("CSFBChatComposerView.react",["I64","MWReQLComposerInner.react","MWV2ComposerEmojiButton.react","MWV2ComposerFileButton.react","MWV2ComposerMediaStaging.react","MWV2ComposerSendButton.react","StylexHelpers.bs","emptyFunction","react","stylex","useMWComposerAriaDescribedBy"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useId;function a(a){var b=a.editor,e=a.editorElementRef,f=a.hasStuffToSend,g=a.isAttachmentSendingEnabled,j=a.mediaStaging,m=a.onAttachmentRemoved,n=a.onAttachmentsAdded,o=a.policyProduct,p=a.sendMessage,q=a.supportedFileTypes,r=a.surface;a=a.thread;var s=c("useMWComposerAriaDescribedBy")(a),t=l();g=g;return k.jsxs("div",babelHelpers["extends"]({className:"xuk3077 x78zum5 xz9dl7a xsag5q8"},{children:[g?k.jsx("div",babelHelpers["extends"]({className:"x12nagc x1i64zmx"},{children:k.jsx(c("MWV2ComposerFileButton.react"),{disabled:!1,isSecureThread:!1,onAttachmentsAdded:n,supportedFileTypes:q})})):null,k.jsxs("div",babelHelpers["extends"]({className:"x1iyjqo2 x1i64zmx x6ikm8r x10wlt62 x1n2onr6"},{children:[k.jsxs("div",babelHelpers["extends"]({className:"x78zum5 x1iyjqo2 x6prxxf"},{children:[k.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(d("StylexHelpers.bs").styles.visuallyHidden),{id:t,children:s})),k.jsx(c("MWReQLComposerInner.react"),{ariaDescribedBy:t,contentEditableRef:e,editor:b,handlePastedFiles:c("emptyFunction"),participants:new Map(),policyProduct:o,surface:r,testId:"chat-input-rich-input",threadID:(i||(i=d("I64"))).to_string(a.threadKey),topContent:g?k.jsx(c("MWV2ComposerMediaStaging.react"),{mediaStaging:j,onAttachmentRemoved:m,onAttachmentsAdded:n,supportedFileTypes:q}):null,useMentionsPlugin:!1})]})),k.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x1ey2m1c x78zum5 xl56j7k x12nagc xw3qccf x1mh8g0r x10l6tqk xds687c"},{children:k.jsx(c("MWV2ComposerEmojiButton.react"),{editor:b})}))]})),k.jsx(c("MWV2ComposerSendButton.react"),{hasStuffToSend:f,onPress:function(){return p()}})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerIntent",["WebStorage","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i="mw_sent_message";function j(){return c("justknobx")._("1630")}function a(){(h||(h=c("WebStorage"))).setItemGuarded(h.getLocalStorage(),i,String(Date.now()))}function b(){var a=(h||(h=c("WebStorage"))).getLocalStorage();return Date.now()-Number(a==null?void 0:a.getItem(i))<j()}g.sentMessage=a;g.hasSentMessagesRecently=b}),98);
__d("MWLSLogSend",["CometHeroLogging","I64","MWChatInteraction","MWSharedS2SBaseAnnotations","MessengerIntent"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e){var f=e.isCommunityEvent,g=e.isMessageRequest,i=e.source;e=e.threadType;var j=c("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(a.getTraceId());d("MWChatInteraction").set(b,j);j={entrypoint:d("MWSharedS2SBaseAnnotations").getEntrypointAnnotation(i),is_community_event:f===!0?"true":"false",is_message_request:g===!0?"true":"false",thread_type:e==null?"unknown":(h||(h=d("I64"))).to_string(e)};Object.entries(j).forEach(function(b){var c=b[0];b=b[1];a.addMetadata(c,String(b))});d("MessengerIntent").sentMessage();return a.onComplete(function(){delete d("MWChatInteraction").interactions[b]})}g.logSentHeroInteraction=a}),98);
__d("CSFBChatSendOpenMessage",["I64","Int64Hooks","LSAuthorityLevel","LSFactory","LSGenerateTraceId","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSShape","MWLSLogSend","MWPActor.react","MWPReplyContext.react","MWVersion","MessagePowerUp","Promise","gkx","promiseDone","qpl","react","requireDeferred","useCometInteractionTracing","useLSMessagingInitiatingSource","useMWLSDefaultThreadSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=(l||d("react")).useContext,n=c("requireDeferred")("MWLogSend").__setRef("CSFBChatSendOpenMessage");function o(a,b,c,d,e,f,g,h,i){n.onReady(function(j){return j.log(a,{actor:d,attachmentFbids:f,attachmentType:h,backend:0,hasReply:i,offlineThreadingId:e,sendType:0,source:g,threadKey:b,threadType:c})})}function a(a,e){var g=(i||(i=c("useReStore")))(),l=d("MWPActor.react").useActor(),n=m(d("MWPReplyContext.react").MWPReplyContext),p=n.clearReply,q=n.reply,r=c("useLSMessagingInitiatingSource")(),s=c("useCometInteractionTracing")(c("qpl")._(30605384,"573"),"fast","INTERACTION"),t=c("useMWLSDefaultThreadSource")();return d("Int64Hooks").useMemoInt64(function(){return function(i,m,n,u,v,w,x,y,z,A,B){return s(function(s){s.addAnnotationInt("is_pdb_enabled",c("gkx")("8483")?1:0);s.addMetadata("thread_id",(j||(j=d("I64"))).to_string(a.threadKey));var y=t(a.threadKey),B=c("LSGenerateTraceId")(),C={contents:1};c("promiseDone")(g.runInTransaction(function(e){e=c("LSFactory")(e);var f=m!=null?d("LSShape").ofRecord({mention_ids:m.map(function(a){return a.id}).join(","),mention_lengths:m.map(function(a){return String(a.length)}).join(","),mention_offsets:m.map(function(a){return String(a.offset)}).join(","),mention_types:m.length!==0?m.map(function(a){return a.type}).join(","):void 0}):void 0,p=i!=null?i.trim()!=="":!1;p=p?c("LSOptimisticSendMessageV2StoredProcedure")(e,{extraSendMessageParams:d("LSShape").ofRecord({attribution_app_id:(p=v)!=null?p:void 0,calculate_denormalizations:!1,data_trace_id:(e=B)!=null?e:void 0,external_attachment_url:(p=w)!=null?p:void 0,hot_emoji_size:(e=u)!=null?e:void 0,initiating_source:(p=r)!=null?p:void 0,mark_read:(j||(j=d("I64"))).ge(a.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),mention_data:f,optimistic_attachment_preview:(e=x)!=null?e:void 0,platform_token:(p=z)!=null?p:void 0,power_up_style:(k||(k=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),reply_source_id:q!=null?q.messageId:void 0,reply_source_type:q!=null?(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:q!=null?(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,snippet_has_emoji:!1,source:y,sticker_id:(f=n)!=null?f:void 0}),mailboxType:(k||(k=d("LSIntEnum"))).ofNumber(c("LSMailboxType").MESSENGER),senderId:l,text:(e=i)!=null?e:void 0,threadKey:a.threadKey,threadType:a.threadType}).then(function(c){d("MWLSLogSend").logSentHeroInteraction(s,c[0],{isMessageRequest:!1,mwVersion:d("MWVersion").v2,source:(k||(k=d("LSIntEnum"))).unwrapIntEnum(y),threadType:a.threadType});return(h||(h=b("Promise"))).resolve(c)}):(h||(h=b("Promise"))).resolve();f=function(a){return a.then(function(a){if(A==null)return;if(a!=null){a=a[0];A(a);return a}A()})};return f(p).then(function(c){o(g,a.threadKey,a.threadType,l,c,[],y,C.contents,q!=null);return(h||(h=b("Promise"))).resolve()})},"readwrite",void 0,void 0,f.id+":145").then(function(){e(),p(a.threadKey,!1)}))})}},[s,a.threadKey,a.threadType,a.authorityLevel,t,g,l,q,r,e,p])}e=a;g.useOnSendOpenMessage=e}),98);
__d("MWChatFilePreProcessingErrorToast.react",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a={body:h._(/*BTDS*/"__JHASH__rp1B2ks3qwV__JHASH__"),title:h._(/*BTDS*/"__JHASH__xqsOpg5ebEg__JHASH__")};g.invalidFileFormat=a}),226);
__d("MWChatFileUploadErrorDialog.react",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){return{body:h._(/*BTDS*/"__JHASH__Tr8urrZ1rc1__JHASH__",[h._param("size",a)]),title:h._(/*BTDS*/"__JHASH__GVmFuh2jycz__JHASH__")}};b=function(a){return{body:h._(/*BTDS*/"__JHASH__TAA-hbgGa5n__JHASH__",[h._param("limit",a)]),title:h._(/*BTDS*/"__JHASH__L_Ni3O-TarB__JHASH__")}};c=function(a){return{body:h._(/*BTDS*/"__JHASH__-3D7kzgvAq5__JHASH__",[h._param("limit",a)]),title:h._(/*BTDS*/"__JHASH__syTHdrAlZYC__JHASH__")}};d=function(){return{body:h._(/*BTDS*/"__JHASH__1WylqAbhvtc__JHASH__"),title:h._(/*BTDS*/"__JHASH__hio_8S892IQ__JHASH__")}};g.maxFileSizeExceeded=a;g.maxFilesNumberExceeded=b;g.maxMediaNumberExceeded=c;g.unsupportedFile=d}),226);
__d("WorkFailedSendMessageFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6352");b=d("FalcoLoggerInternal").create("work_failed_send_message",a);e=b;g["default"]=e}),98);
__d("useMWXAlertDialog",["react","useCometAlertDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useCometAlertDialog")();return i(function(b,c,d){a(babelHelpers["extends"]({body:b.body},b),c,d)},[a])}g["default"]=a}),98);
__d("MWMediaManager",["FBLogger","I64","Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","MWChatFilePreProcessingErrorToast.react","MWChatFileUploadErrorDialog.react","MWMediaComposerRenderQpl","MWPActor.react","MWPBumpEntityKey","MWSharedMediaManagerUtils","MessagingAttachmentType","OfflineThreadingId","Promise","WorkFailedSendMessageFalcoEvent","cr:8525","emptyFunction","gkx","promiseDone","requireDeferred","useMWXAlertDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=c("requireDeferred")("MWOpenMediaManagerUtils").__setRef("MWMediaManager"),m=function(){if(b("cr:8525")==null){c("FBLogger")("messenger_web_media").warn("Unsupported thread type for media upload");return(k||(k=b("Promise"))).resolve(null)}return b("cr:8525").load()},n=c("gkx")("24138")?75:25;function o(a,c,d){if(c)return m().then(function(c){return(k||(k=b("Promise"))).resolve((c=c==null?void 0:c.preprocessV2(a,d))!=null?c:[])});else return l.load().then(function(b){return b.preprocess(a)})}function p(a,b,c){for(var e=0;e<a.length;e++){var f=a[e],g=c(f,b);if(f.size>g*1024*1024){f=q(f.size);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("media_sends","file_size_exceeded."+(b?"secure":"open"));d("MWPBumpEntityKey").bumpEntityKeyWithAppId("media_sends","file_size_exceeded."+(b?"secure":"open")+"."+f);return g}}return null}function q(a){return a<=30*1024*1024?"30MB":a<=50*1024*1024?"50MB":a<=75*1024*1024?"75MB":a<=100*1024*1024?"100MB":a<=150*1024*1024?"150MB":a<=200*1024*1024?"200MB":a<=250*1024*1024?"250MB":a<=500*1024*1024?"500MB":a<=1024*1024*1024?"1GB":"1GB+"}function a(a){var e=a.chatSupportUserId,f=a.chatSupportUserNonce,g=a.getMaxAttachmentSizeInMB,q=g===void 0?function(){return n}:g,r=a.isChatSupportUser,s=a.maxNumberOfAttachments,t=a.onUploadFailure,u=a.onUploadStart,v=a.onUploadSuccess,w=a.showUploadFailureToast,x=a.thread,y=a.validateFileName,z=(j||(j=c("useReStore")))(),A=c("useMWXAlertDialog")(),B=d("LSMessagingThreadTypeUtil").isArmadilloSecure(x.threadType),C=d("MWSharedMediaManagerUtils").useMediaStaging(x),D=C.length,E=d("MWPActor.react").useActor();g=d("Int64Hooks").useCallbackInt64(function(a,g){var i=p(a,B,q);if(i!=null){A(d("MWChatFileUploadErrorDialog.react").maxFileSizeExceeded(i),c("emptyFunction"));return}if(s!=null&&D+a.length>s){c("gkx")("23249")?(A(d("MWChatFileUploadErrorDialog.react").maxFilesNumberExceeded(s),c("emptyFunction")),c("WorkFailedSendMessageFalcoEvent").log(function(){return{breaking_rule:"",event:"NUMBER_OF_ATTACHMENTS_LIMIT_REACHED"}})):A(d("MWChatFileUploadErrorDialog.react").maxMediaNumberExceeded(s),c("emptyFunction"));return}if(y!=null)for(i=0;i<a.length;i++){var j=a[i];if(!y(j)){A(d("MWChatFileUploadErrorDialog.react").unsupportedFile(),c("emptyFunction"));return}}var n=d("OfflineThreadingId").createForItemsInOrder(a);n.forEach(function(a){var b=a[0];a=a[1];d("MWMediaComposerRenderQpl").startMediaComposerRenderQpl(a,b,x);d("MWMediaComposerRenderQpl").addPointMediaComposerRenderQpl(a,"preprocess_start")});c("promiseDone")(o(n,B,g)["catch"](function(){w(d("MWChatFilePreProcessingErrorToast.react").invalidFileFormat.title,d("MWChatFilePreProcessingErrorToast.react").invalidFileFormat.body);n.forEach(function(a){a[0];a=a[1];d("MWMediaComposerRenderQpl").endCancelMediaComposerRenderQpl(a,"invalid-file-format")});return(k||(k=b("Promise"))).resolve([])}).then(function(a){a.forEach(function(a){d("MWMediaComposerRenderQpl").addPointMediaComposerRenderQpl(a.offlineAttachmentId,"preprocess_success")});c("promiseDone")(d("MWSharedMediaManagerUtils").insertMediaStaging(z,a,x.threadKey));a.forEach(function(a){d("MWMediaComposerRenderQpl").addPointMediaComposerRenderQpl(a.offlineAttachmentId,"media_staging_insert_success")});var b=x.threadKey;return B?m().then(function(c){return c==null?void 0:c.upload(z,b,a)}):l.load().then(function(c){return c.upload(z,b,a,w,u,v,t,r,e,f,(h||(h=d("I64"))).to_string(E))})}))},[E,e,f,z,q,r,B,s,D,t,u,v,A,w,x,y]);a=function(a){c("promiseDone")(d("MWSharedMediaManagerUtils").deleteMediaStaging(z,a).then(function(){if(B&&b("cr:8525")!=null)return b("cr:8525").load().then(function(b){b.MAWMediaManagerAttachmentsV2["delete"](a)})}))};var F=function(){var a=C.map(function(a){return a.offlineAttachmentId});a.forEach(function(a){d("MWSharedMediaManagerUtils").deleteMediaStaging(z,a)["catch"](function(a){c("FBLogger")("messenger_web_media").catching(a).mustfix("Error deletting media staging.")})})},G=d("Int64Hooks").useCallbackInt64(function(a){if(!B)return;c("promiseDone")(m().then(function(e){if(e==null)return;var f=C.map(function(a){var b;if(!(h||(h=d("I64"))).equal(a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)))return null;b=(b=e.MAWMediaManagerAttachmentsV2.get(a.offlineAttachmentId))==null?void 0:b.originalFile;if(b==null)return null;b=[b,a.offlineAttachmentId];return b}).filter(Boolean);if(f.length===0)return;c("promiseDone")(o(f,B,a)["catch"](function(){w(d("MWChatFilePreProcessingErrorToast.react").invalidFileFormat.title,d("MWChatFilePreProcessingErrorToast.react").invalidFileFormat.body);f.forEach(function(a){a[0];a=a[1];d("MWMediaComposerRenderQpl").endCancelMediaComposerRenderQpl(a,"invalid-file-format")});return(k||(k=b("Promise"))).resolve([])}).then(function(a){a.forEach(function(a){d("MWMediaComposerRenderQpl").addPointMediaComposerRenderQpl(a.offlineAttachmentId,"preprocess_success")});c("promiseDone")(d("MWSharedMediaManagerUtils").updateMediaStaging(z,a,x.threadKey));a.forEach(function(a){d("MWMediaComposerRenderQpl").addPointMediaComposerRenderQpl(a.offlineAttachmentId,"media_staging_insert_success")});var b=x.threadKey;return e==null?void 0:e.upload(z,b,a)}))}))});return{handleFileRemove:a,handleFileSelect:g,mediaStaging:C,onHdMediaToggled:G,resetAttachments:F}}g.convertIntegerSizeToStringBucket=q;g.useMediaManager=a}),98);
__d("MAWFindFirstUrl",["getURLRanges"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=c("getURLRanges")(a);return a.length===0?[]:a}g.findFirstUrl=a}),98);
__d("MWPComposerDraftMessages",["FBLogger","I64","LSMessagingThreadTypeUtil","MAWFindFirstUrl","MWHasLinksUtil","cr:5710","justknobx","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map(),j=void 0;function k(){return Array.from(i.values()).some(function(a){return a.messageText.trim()!==""})}function l(a){return i.get((h||(h=d("I64"))).to_string(a))}function m(){if(!c("justknobx")._("2955")||b("cr:5710")==null||j!=null)return;j=b("cr:5710").onBeforeUnload(function(){if(k())return"You have pending messages. Please wait for them to be sent before closing the window.";return})}function a(a){var b=a.deleteLinkPreviewXMATableData,e=a.fetchAndWriteLinkPreviewXMA,f=a.message,g=a.threadKey;a=a.threadType;if(f==null){i["delete"]((h||(h=d("I64"))).to_string(g));if(i.size===0){var k;(k=j)==null?void 0:k.remove();j=void 0}return}if(i.has((h||(h=d("I64"))).to_string(g)))n(g,f);else{k=c("uuidv4")();i.set((h||(h=d("I64"))).to_string(g),{id:k,linkPreviewAbortToken:null,linkPreviewURL:null,messageText:f})}k=a!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(a);k&&o(g,f,e,b);m()}function n(a,b){var e=l(a);if(e==null){c("FBLogger")("messenger_web_messaging").mustfix("currentDraft was null in updateDraftMessageText");return}i.set((h||(h=d("I64"))).to_string(a),babelHelpers["extends"]({},e,{messageText:b}))}function o(a,b,e,f){var g,h=l(a);if(h==null){c("FBLogger")("messenger_web_sharing").mustfix("currentDraft was null in updateDraftMessageURL");return}var i=h==null?void 0:h.linkPreviewURL,j=h==null?void 0:h.linkPreviewAbortToken;g=(g=d("MAWFindFirstUrl").findFirstUrl(b))!=null?g:[];b=d("MWHasLinksUtil").getHasLinks(b);b=b?(b=(b=g[0])==null?void 0:b.entity.url)!=null?b:null:null;if(i===b)return;if(b==null){f&&void f({draftId:h.id});j==null?void 0:j.abort();p({linkPreviewURL:null,threadKey:a});q({linkPreviewAbortToken:null,threadKey:a});return}p({linkPreviewURL:b,threadKey:a});i=e&&e({draftId:h.id,urls:g})||null;q({linkPreviewAbortToken:i,threadKey:a})}function p(a){var b=a.linkPreviewURL;a=a.threadKey;var e=l(a);if(e==null){c("FBLogger")("messenger_web_messaging").mustfix("currentDraft was null in setDraftMessageURL");return}i.set((h||(h=d("I64"))).to_string(a),babelHelpers["extends"]({},e,{linkPreviewURL:b}))}function q(a){var b=a.linkPreviewAbortToken;a=a.threadKey;var e=l(a);if(e==null){c("FBLogger")("messenger_web_messaging").mustfix("currentDraft was null in setDraftMessageURL");return}i.set((h||(h=d("I64"))).to_string(a),babelHelpers["extends"]({},e,{linkPreviewAbortToken:b}))}g.getDraftMessage=l;g.updateDraftMessage=a}),98);
__d("MWV2ChatComposerGetViewContent",["Lexical","MessengerLexicalActorNode","MessengerLexicalEntityTextNode","cr:3101","cr:6138"],(function(a,b,c,d,e,f,g){"use strict";var h=b("cr:3101")||b("cr:6138");a={getRanges:function(a){var b=[],c=0;a.getEditorState().read(function(){var a=d("Lexical").$getRoot().getFirstChild();a instanceof d("Lexical").ElementNode&&a.getChildren().forEach(function(a){if(d("MessengerLexicalEntityTextNode").isMessengerLexicalEntityTextNode(a)){var e=a.getEntity();b.push({id:e.id,length:a.getTextContent().length,offset:c,type:d("MessengerLexicalActorNode").$isMessengerLexicalActorNode(a)?a.getRangeType():"p"})}if(h!=null&&a instanceof h.MessengerLexicalCommandNode){e=a.getEntity();b.push({id:e.commandId,length:a.getTextContent().length,offset:c,type:a.getRangeType()})}c+=a.getTextContent().length})});return b}};c=a;g["default"]=c}),98);
__d("MWV2ComposerActionsContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;c=b.createContext;var j=b.useContext,k=b.useMemo,l=c({});function a(a){var b=a.children,c=a.onMessageSendAttempt;a=j(l);var d=a.onMessageSendAttempt;a=k(function(){return{onMessageSendAttempt:function(a){d==null?void 0:d(a),c==null?void 0:c(a)}}},[d,c]);return i.jsx(l.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g.MWV2ComposerActionsContext=l;g.MWV2ComposerActionsListener=a}),98);
__d("mwpLexicalCreateEditor",["CometLexicalEmojiNode","FBLogger","Lexical","MessengerLexicalActorNode","cometLexicalBaseTheme","cr:3101","cr:6138","mlcErrorHandler__INTERNAL"],(function(a,b,c,d,e,f,g){"use strict";e=b("cr:3101")||b("cr:6138");var h=[d("MessengerLexicalActorNode").MessengerLexicalActorNode,d("CometLexicalEmojiNode").EmojiNode,e==null?void 0:e.MessengerLexicalCommandNode],i=babelHelpers["extends"]({},c("cometLexicalBaseTheme"),{paragraph:"xat24cr xdj266r",text:{base:"x3jgonx"}});function a(a){var b,e=d("Lexical").createEditor({namespace:"MWPEditor",nodes:(b=a==null?void 0:a.nodes)!=null?b:h.filter(Boolean),onError:function(a){return c("mlcErrorHandler__INTERNAL")(a,e,function(b){c("FBLogger")("messenger_web_messaging").catching(a).mustfix("Lexical Error MWP: %s",b)})},theme:(b=a==null?void 0:a.theme)!=null?b:i});return e}g["default"]=a}),98);
__d("useIsMessengerPWA",["ExecutionEnvironment","isMessengerPWA","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useEffect,k=b.useState;function a(){var a=k(c("isMessengerPWA")),b=a[0],d=a[1];j(function(){if(!(h||(h=c("ExecutionEnvironment"))).canUseDOM||!matchMedia)return;var a=matchMedia("(display-mode: standalone)"),b=function(a){d(a.matches)};a.addListener(b);return function(){a.removeListener(b)}},[]);return b}g["default"]=a}),98);
__d("useMWIsOffline",["NetworkStatus","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(){var a=j(!c("NetworkStatus").isOnline()),b=a[0],d=a[1];i(function(){var a=c("NetworkStatus").onChange(function(a){a=a.online;d(!a)});return function(){a.remove()}},[]);return b}g["default"]=a}),98);
__d("useMWPComposerAutoFocus",["MWChatFocusComposerContext","MWPReplyContext.react","MWV2IsTabFocusedContext.react","deepEquals","react","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useContext,k=b.useEffect;function l(a){var b;b=(b=document.activeElement)==null?void 0:(b=b.attributes.getNamedItem("id"))==null?void 0:b.value;if(b==null?void 0:b.includes("prevent-composer-focus-steal"))return;return a.focus(function(){})}function a(a){var b=a.editor,e=a.focusEditorDelayed,f=a.hasUnsentAttachments,g=f===void 0?!1:f;f=a.isPreviewThread;f=f===void 0?!1:f;var h=a.isQuickchat;a=d("MWChatFocusComposerContext").useMWChatFocusComposer();a=a.setFocusComposer;var m=j(d("MWPReplyContext.react").MWPReplyContext),n=m.reply,o=c("usePrevious")(n);k(function(){(o==null?n!=null:!c("deepEquals")(o,n))&&(h&&e?e(b):l(b))},[b,n,o,e,h]);m=d("MWV2IsTabFocusedContext.react").useIsTabFocused();var p=m&&!f;k(function(){p&&(h&&e?e(b):l(b))},[b,p,e,h]);k(function(){g&&(h&&e?e(b):l(b))},[b,g,e,h]);a(i(function(){h&&e?e(b):l(b)},[b,e,h]))}g["default"]=a}),98);
__d("MWPNewMessageDraftContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.useRef,l=e();function a(a){a=a.children;var b=k("");return i.jsx(l.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(l)}g.MWPNewMessageDraftContextProvider=a;g.useNewMessageDraftContext=b}),98);
__d("MWPreloadedText",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("react")).createContext;b=a({text:null});g["default"]=b}),98);
__d("useMAWDeleteLinkPreviewXMATableData",["FBLogger","Int64Hooks","LSMessagingThreadTypeUtil","asyncToGeneratorRuntime","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e=c("useAsyncReStore")(),g=a!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(a);return d("Int64Hooks").useCallbackInt64(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var d=a.draftId;if(!g)return;a=(yield e);a=(yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=null;yield a.e2ee_composer_draft_link_preview.get(d).then(function(a){a=JSON.parse((a=a==null?void 0:a.data)!=null?a:"{}");b=a.iframeMediaURL});yield a.e2ee_composer_draft_link_preview["delete"](d);return b});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":40"));if(a!=null)try{URL.revokeObjectURL(a)}catch(a){c("FBLogger")("messenger_web_sharing").mustfix("Failed to revoke the object URL with, failed with error: %s",a)}});return function(b){return a.apply(this,arguments)}}())}g["default"]=a}),98);
__d("E2EELinkPreviewXMADataStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({LOADED:1,LOADING:2,DISABLED:3});f["default"]=a}),66);
__d("MAWPreProcessLinkPreviewQPL",["MAWLoggerUtils","QPLUserFlow","justknobx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qpl")._(1056840460,"718");function a(a){var b=a.draftId;a=a.url;b=b.concat(a);var e=d("MAWLoggerUtils").getInstanceKeyFromId(b);a=c("justknobx")._("2714");c("QPLUserFlow").start(h,{annotations:{string:{preprocess_type:"link_preview_xma"}},instanceKey:e,timeoutInMs:a});return{addAnnotations:function(a){c("QPLUserFlow").addAnnotations(h,a,{instanceKey:e})},addPoint:function(a,b){c("QPLUserFlow").addPoint(h,a,{instanceKey:e}),b!=null&&c("QPLUserFlow").addAnnotations(h,b,{instanceKey:e})},endCancel:function(a,b){c("QPLUserFlow").endCancel(h,{annotations:a,cancelReason:b,instanceKey:e})},endFail:function(a,b){c("QPLUserFlow").endFailure(h,a,{instanceKey:e}),b!=null&&c("QPLUserFlow").addAnnotations(h,b,{instanceKey:e})},endSuccess:function(){c("QPLUserFlow").endSuccess(h,{instanceKey:e})}}}g.startMediaPreProcessLinkPreviewQpl=a}),98);
__d("useMAWFetchAndWriteLinkPreviewXMATableData",["ConstUriUtils","E2EELinkPreviewXMADataStatus","E2EELinkPreviewXMADataType","FBLogger","I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWExternalLinkUtil","MAWPreProcessLinkPreviewQPL","asyncToGeneratorRuntime","getRequestConstUri","isFacebookURI","promiseDone","useAsyncReStore","useMAWDeleteLinkPreviewXMATableData","useXMAPreviewsDisabledSetting"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(){var a=!1;return{abort:function(){a=!0},isAborted:function(){return a}}};function e(a){var e=a.threadKey;a=a.threadType;var f=c("useAsyncReStore")(),g=a!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(a),h=c("useMAWDeleteLinkPreviewXMATableData")(a),l=c("getRequestConstUri")(),n=c("useXMAPreviewsDisabledSetting")();return d("Int64Hooks").useCallbackInt64(function(a){var o=a.draftId,p=a.urls,q=i();a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!g)return;var a=d("ConstUriUtils").getUri(p[0].entity.url);if(a==null)return;var b=d("MAWPreProcessLinkPreviewQPL").startMediaPreProcessLinkPreviewQpl({draftId:o,url:a.toString()}),i=c("isFacebookURI")(a),r=c("isFacebookURI")(l);r=i&&r;if(i&&n){j({abortToken:q,dbPromise:f,deleteLinkPreviewXMATableData:h,draftId:o,qplEvent:b,qplSubspanPoint:"write_fb_disabled",status:c("E2EELinkPreviewXMADataStatus").DISABLED,threadKey:e,xmaData:null});b.endCancel({string:{cancel_reason:"fb_xmas_disabled"}},706);return}j({abortToken:q,dbPromise:f,deleteLinkPreviewXMATableData:h,draftId:o,qplEvent:b,qplSubspanPoint:"write_loading_status",status:c("E2EELinkPreviewXMADataStatus").LOADING,threadKey:e,xmaData:{title:a.getDomain(),url:a.toString()}});b.addAnnotations({bool:{should_fetch_from_og:r},string:{link_type:i?"facebook":"external"}});i=r?yield k(a.toString(),b):yield m(p,b);r=i.dataType;a=i.xmaData;j({abortToken:q,dataType:r,dbPromise:f,deleteLinkPreviewXMATableData:h,draftId:o,qplEvent:b,qplSubspanPoint:"write_xma_data",status:c("E2EELinkPreviewXMADataStatus").LOADED,threadKey:e,xmaData:a})});return function(){return a.apply(this,arguments)}}();void a();return q})}function j(a){var b=a.abortToken,e=a.dataType,g=a.dbPromise,i=a.deleteLinkPreviewXMATableData,j=a.draftId,k=a.qplEvent,l=a.qplSubspanPoint,m=a.status,n=a.xmaData;k.addAnnotations({"int":{data_type:e}});if(b.isAborted()){k.endCancel({string:{cancel_reason:"fetch_aborted"}},706);return}k.addPoint(l+"_start");c("promiseDone")(g,function(a){return a.runInTransaction(function(a){return a.e2ee_composer_draft_link_preview.put({data:n!=null?JSON.stringify(n):void 0,dataType:e!=null?(h||(h=d("I64"))).of_int32(e):void 0,draftId:j,status:(h||(h=d("I64"))).of_int32(m)})},"readwrite",void 0,void 0,f.id+":213").then(function(a){b.isAborted()&&(k.endCancel({string:{cancel_reason:"fetch_aborted_delete"}},706),void i({draftId:a[0]})),k.addPoint(l+"_success"),l==="write_xma_data"&&k.endSuccess()})["catch"](function(a){k.endFail(l+"_failed",{string:{data_status:String(m),error:"Error thrown when writing Link Preview XMA data to LSDB table. Error: "+a}}),c("FBLogger")("messenger_web_sharing").catching(a).mustfix("Failed to write Link Preview XMA data to LSDB table.")})})}function k(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e;b.addPoint("fetch_fb_og_data_start");e=(e=(e=d("ConstUriUtils").getUri(a))==null?void 0:e.getDomain())!=null?e:a;try{var f;b.addPoint("http_request_start");var g=(yield window.fetch(a,{credentials:"omit",referrerPolicy:"no-referrer"}));b.addPoint("http_response_end");if(!g.ok){b.addPoint("fetch_fb_og_data_end",{string:{fetch_fb_og_data_end:"http_response_error",response_status_code:String(g.status),xma_data_returned:"fallback"}});return o(e,a)}g=(yield g.text());var h=new DOMParser();h=h.parseFromString(g,"text/html");h.querySelector("parsererror")&&b.addPoint("html_parsererror");g=(g=h.querySelector('meta[property="og:image"]'))==null?void 0:g.getAttribute("content");f=(f=h.querySelector('meta[name="description"]'))==null?void 0:f.getAttribute("content");h=(h=h.querySelector('meta[property="og:title"]'))==null?void 0:h.getAttribute("content");if(g==null&&f==null&&h==null){b.addPoint("fetch_fb_og_data_end",{string:{fetch_fb_og_data_end:"og_data_is_null",xma_data_returned:"fallback"}});return o(e,a)}b.addPoint("fetch_fb_og_data_success",{string:{xma_data_returned:"rich_xma"}});return{dataType:c("E2EELinkPreviewXMADataType").FB_CLIENT_FETCH,xmaData:{author_name:(f=f)!=null?f:void 0,iframeMediaURL:g,thumbnail_url:(f=g)!=null?f:void 0,title:(g=h)!=null?g:e,url:a}}}catch(c){b.addPoint("fetch_fb_og_data_end",{string:{fetch_fb_og_data_end:"failed_to_fetch_data",xma_data_returned:"fallback"}});return o(e,a)}});return l.apply(this,arguments)}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,e){e.addPoint("fetch_external_link_oembed_data_start");var f=d("MAWExternalLinkUtil").findFirstAvailableOembedUrlAndRequestPair(b);b=b[0].entity.url;var g=null;if(f!=null){b=f.oEmbedUrl;try{e.addPoint("get_oembed_response_start"),g=(yield d("MAWExternalLinkUtil").getOembedResponse({fallbackUrl:b,qplEvent:e,request:f.oEmbedRequest})),e.addPoint("get_oembed_response_success")}catch(a){e.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_returned_null:"Error thrown when fetching oEmbed data for External Link XMA. Error message: "+a}}),e.addPoint("get_oembed_response_end"),c("FBLogger")("messenger_web_sharing").catching(a).mustfix("[External link] Error thrown when fetching oEmbed data for External Link XMA.")}}f=(f=d("ConstUriUtils").getUri(b))==null?void 0:f.getDomain();if(g==null){var h;e.addPoint("fetch_external_link_oembed_data_success",{string:{xma_data_returned:"fallback"}});return o((h=f)!=null?h:b,b)}e==null?void 0:e.addPoint("get_image_blob_response_start");h=(yield d("MAWExternalLinkUtil").getImageBlobResponse({qplEvent:e,xmaData:g}));var i=null;if(h!=null&&d("MAWExternalLinkUtil").allowedPreviewTypes.includes(h.type)){h=new File([h],"preview",{type:h.type});i=a.URL.createObjectURL(h)}e==null?void 0:e.addPoint("get_image_blob_response_end",{bool:{media_url_is_null:i==null}});e.addPoint("fetch_external_link_oembed_data_success",{string:{xma_data_returned:"rich_xma"}});return{dataType:c("E2EELinkPreviewXMADataType").OEMBED,xmaData:babelHelpers["extends"]({iframeMediaURL:i},g,{title:(h=g.title)!=null?h:f,url:(e=g.url)!=null?e:b})}});return n.apply(this,arguments)}function o(a,b){return{dataType:c("E2EELinkPreviewXMADataType").FALLBACK,xmaData:{title:a,url:b}}}g["default"]=e}),98);
__d("useMWLSSaveDrafts",["CometDebounce","Int64Hooks","LexicalText","MWPComposerDraftMessages","MWPNewMessageDraftContext.react","isStringNullOrEmpty","justknobx","react","useMAWDeleteLinkPreviewXMATableData","useMAWFetchAndWriteLinkPreviewXMATableData"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback,j=c("justknobx")._("3119");function a(a){var b=a.editor,e=a.isPreviewThread,f=a.threadKey,g=a.threadType,h=j,k=c("useMAWFetchAndWriteLinkPreviewXMATableData")({threadKey:f,threadType:g}),l=c("useMAWDeleteLinkPreviewXMATableData")(g),m=d("MWPNewMessageDraftContext.react").useNewMessageDraftContext(),n=i(function(a){e&&m!=null?m.current=a:d("MWPComposerDraftMessages").updateDraftMessage({deleteLinkPreviewXMATableData:l,fetchAndWriteLinkPreviewXMA:k,message:a,threadKey:f,threadType:g})},[l,k,e,m,f,g]);d("Int64Hooks").useEffectInt64(function(){b.registerUpdateListener(c("CometDebounce")(function(a){a=a.editorState;a=a.read(function(){return d("LexicalText").$rootTextContent()});if(c("isStringNullOrEmpty")(a)){n(a);return}n(a)},{wait:h}))},[h,b,n]);d("Int64Hooks").useEffectInt64(function(){var a=b.getEditorState().read(function(){return d("LexicalText").$rootTextContent()});n(a)},[b,n])}g["default"]=a}),98);
__d("usePrepopulateLexicalEditor",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useLayoutEffect;function a(a,b,c){i(function(){if(b==null)return;a.update(function(){if(b!=null){var a=d("Lexical").$getRoot(),e=a.getFirstChild();d("Lexical").$isParagraphNode(e)||(e=d("Lexical").$createParagraphNode(),a.append(e));a=d("Lexical").$createTextNode(b);e.clear();e.append(a);c===!0&&e.selectEnd()}})},[a])}g["default"]=a}),98);
__d("useMWPComposerEditorDraftText",["MWPComposerDraftMessages","MWPNewMessageDraftContext.react","MWPreloadedText","react","useMWLSSaveDrafts","usePrepopulateLexicalEditor"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(a){var b=a.editor,e=a.isPreviewThread;e=e===void 0?!1:e;var f=a.isQuickchat;f=f===void 0?!1:f;var g=a.threadKey;a=a.threadType;var h=d("MWPNewMessageDraftContext.react").useNewMessageDraftContext(),j=i(c("MWPreloadedText"));h=j.text!=null?j.text:h!=null?h.current:(j=d("MWPComposerDraftMessages").getDraftMessage(g))==null?void 0:j.messageText;c("useMWLSSaveDrafts")({editor:b,isPreviewThread:e,threadKey:g,threadType:a});c("usePrepopulateLexicalEditor")(b,f?void 0:h);return h}g["default"]=a}),98);
__d("useMWPLexicalClearEditor",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useLayoutEffect;function a(a,b){b===void 0&&(b=!1),i(function(){return a.registerCommand(d("Lexical").CLEAR_EDITOR_COMMAND,function(){a.update(function(){var a=d("Lexical").$getRoot(),c=d("Lexical").$getSelection(),e=d("Lexical").$createParagraphNode();a.clear();a.append(e);c!==null&&(e.select(),b===!0&&d("Lexical").$isRangeSelection(c)&&(c.format=0))});return!0},d("Lexical").COMMAND_PRIORITY_EDITOR)},[b,a])}g["default"]=a}),98);
__d("useMWPLexicalCommitMessageOnEnter",["Lexical","MLCInstrumentationCommands","MLCKeyBindingUtil","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useLayoutEffect;function a(a,b){i(function(){return a.registerCommand(d("Lexical").KEY_ENTER_COMMAND,function(e){e=e;if(e!=null&&!e.shiftKey&&!e.altKey&&(!c("gkx")("23402")||d("MLCKeyBindingUtil").hasCommandModifier(e))){e.preventDefault();a.dispatchCommand(d("MLCInstrumentationCommands").COMMIT_COMMAND,"create");b();return!0}return!1},d("Lexical").COMMAND_PRIORITY_LOW)},[a,b])}g["default"]=a}),98);
__d("useMWXLexicalHasText",["LexicalText","react"],(function(a,b,c,d,e,f,g){"use strict";var h;c=h||d("react");var i=c.useCallback,j=c.useEffect,k=c.useRef,l=c.useState;function m(a){return a.getEditorState().read(d("LexicalText").$isRootTextContentEmptyCurry(a.isComposing()))}function n(a){var b=l(function(){return!m(a)}),c=b[0],d=b[1];j(function(){return a.registerUpdateListener(function(){d(!m(a))})},[a]);return c}function a(a){var b=a.editor;a=a.initialValue;var c=k(a);return{useHasText:i(function(){var a,d=k((a=c.current)!=null?a:!1);j(function(){d.current=!1},[]);return n(b)||d.current},[b])}}function b(a){var b=a.editor;a=a.initialValue;a=k(a);var c=k((a=a.current)!=null?a:!1);j(function(){c.current=!1},[]);return n(b)||c.current}g.useMWXLexicalHasText_DEPRECATED=a;g.useMWXLexicalHasText=b}),98);
__d("MWXUseLatch",["CometThrottle","Run","debounce","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo;function a(a,b,e){var f=b!=null?b:!1;i(function(){if(!f)return;var b=d("Run").onUnload(function(){return a(!1)});return function(){return b.remove()}},[f,a]);return j(function(){var b={contents:!1},d=c("debounce")(function(){if(!b.contents)return a(!1)},e|0),f=c("CometThrottle")(function(){return a(!0)},3e3,{leading:!0,trailing:!1}),g=function(){a(!1),b.contents=!0},h=function(){f();return d()};return[h,g]},[a,e])}g.useLatch=a}),98);
__d("useMWXLexicalOnTypingChanged",["LexicalText","MWXUseLatch","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a){var b=a.editor;a=a.onTypingStateChanged;a=d("MWXUseLatch").useLatch(a,!0,5e3);var c=a[0],e=a[1],f=j("");i(function(){var a=function(a){a=a.editorState.read(function(){return d("LexicalText").$rootTextContent()});if(a!==f.current){f.current=a;if(a==="")return e();else return c()}};return b.registerUpdateListener(a)},[c,e,b]);return{}}g["default"]=a}),98);
__d("useMWPComposerEditor",["I64","Int64Hooks","Lexical","LexicalText","MWChatMessagesOnChatTabLoadTracker","MWPComposerDraftMessages","MWV2ChatComposerGetViewContent","MWV2ComposerActionsContext.react","MWV2ComposerHasContentContext.react","WALoggerDeferred","cr:7101","emptyFunction","mwpLexicalCreateEditor","promiseDone","react","useIsMessengerPWA","useLexicalInitializeEditor__DEPRECATED","useMWIsOffline","useMWPComposerAutoFocus","useMWPComposerEditorDraftText","useMWPLexicalClearEditor","useMWPLexicalCommitMessageOnEnter","useMWXLexicalHasText","useMWXLexicalOnTypingChanged"],(function(a,b,c,d,e,f,g){"use strict";var h,i;f=h||d("react");var j=f.useContext,k=f.useEffect,l=f.useMemo,m=f.useRef;function a(a){return}var n=b("cr:7101")==null?a:b("cr:7101").useMWComposerKeyCommandFocusRegister,o=[];function p(){c("promiseDone")(d("WALoggerDeferred").logWithTags(["MWPComposerEditor","Composer"],["Calling onSendMessage"],"LOG"))}var q=function(a){return a.read(function(){return d("LexicalText").$rootTextContent()})};function e(a){var b=a.customizedRanges,e=a.getTextFromEditorState,f=e===void 0?q:e;e=a.isPreviewThread;e=e===void 0?!1:e;var g=a.isSendDisabled;g=g===void 0?!1:g;var h=a.mediaStaging;h=h===void 0?o:h;var r=a.onSendMessage,s=a.onTypingStateChanged,t=a.threadKey,u=a.clearFormatAfterSend,v=a.isQuickchat;v=v===void 0?!1:v;var w=a.focusEditorDelayed,x=a.editorNodes,y=a.editorTheme,z=a.threadType,A=a.composerEntrypointForLogging;a=m(null);var B=l(function(){return c("mwpLexicalCreateEditor")({nodes:x,theme:y})},[x,y]);h=h.length>0;c("useLexicalInitializeEditor__DEPRECATED")(B);c("useMWPLexicalClearEditor")(B,u);c("useMWPComposerAutoFocus")({editor:B,focusEditorDelayed:w,hasUnsentAttachments:h,isPreviewThread:e,isQuickchat:v});u=c("useMWPComposerEditorDraftText")({editor:B,isPreviewThread:e,isQuickchat:v,threadKey:t,threadType:z});var C=d("useMWXLexicalHasText").useMWXLexicalHasText({editor:B,initialValue:u!=null&&u!==""}),D=C||h;w=d("MWV2ComposerHasContentContext.react").useComposerHasContext();var E=w.hasContentRef;k(function(){if(E==null)return;E.current=C},[C,E]);c("useMWXLexicalOnTypingChanged")({editor:B,onTypingStateChanged:s});e=j(d("MWV2ComposerActionsContext.react").MWV2ComposerActionsContext);var F=e.onMessageSendAttempt;v=c("useMWIsOffline")();z=c("useIsMessengerPWA")();var G=v&&z;u=d("Int64Hooks").useCallbackInt64(function(){var a;if(G)return;a=(a=d("MWPComposerDraftMessages").getDraftMessage(t))==null?void 0:a.id;d("MWPComposerDraftMessages").updateDraftMessage({message:null,threadKey:t});F==null?void 0:F(D);if(!D)return;d("MWChatMessagesOnChatTabLoadTracker").trackSendFor(t);p();var e=b!=null?b(B,(i||(i=d("I64"))).to_string(t)):c("MWV2ChatComposerGetViewContent").getRanges(B),g=B.getEditorState();g=f(g);B.dispatchCommand(d("Lexical").CLEAR_EDITOR_COMMAND);r(g,e,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,a,A);B.focus()},[G,F,D,B,t,b,f,r,A]);h=g?c("emptyFunction"):u;c("useMWPLexicalCommitMessageOnEnter")(B,h);n(a.current);return{editor:B,editorElementRef:a,hasStuffToSend:D,sendMessage:h}}g["default"]=e}),98);
__d("MWV2FileDropzone.react",["fbt","LSFactory","LSIssueNewErrorStoredProcedure","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMThreadTypes.react","MWMediaManagerFileSizeLimit","MWXText.react","MWXTextPairing.react","cometIsMimeTypeForMedia","gkx","promiseDone","react","recoverableViolation","stylex","useFileDragEvents","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));b=k;e=b.createContext;var m=b.useCallback,n=b.useRef,o=e({current:{enabled:!0,handler:null}});function p(a){var b=a.children;a=a.fileUploadHandlerConfigRef;var c=o.Provider;return l.jsx(c,{value:a,children:b})}p.displayName=p.name+" [from "+f.id+"]";var q={root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",maxWidth:"x193iq5w",minHeight:"x2lwn1j",position:"x1n2onr6",$$css:!0}};function r(a){if(a==null)return[];a=a.dataTransfer;return a==null?[]:a.types}function s(a){switch(a){case 0:return void 0;case 1:return h._(/*BTDS*/"__JHASH__M7mGXjgzxvT__JHASH__").toString();default:return h._(/*BTDS*/"__JHASH__UaK2GgtSNQH__JHASH__").toString()}}function t(a,b){var d=s(b);if(d==null)return;c("promiseDone")(a.runInTransaction(function(a){return c("LSIssueNewErrorStoredProcedure")(c("LSFactory")(a),{errorBodyText:d,errorTitleText:d})},"readwrite",void 0,void 0,f.id+":124"))}function u(a){a=a.type;return d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a)||d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a)?!0:a.startsWith("audio/")}var v=new Set(["text/plain","text/html","text/uri-list"]);function a(a){var b=a.children,e=a.isDisabled,f=a.isMediaOnly,g=a.thread;a=a.xstyle;var k=n({enabled:!1,handler:null}),o=n(null),s=(i||(i=c("useReStore")))(),w=g!=null?(d("MWCMThreadTypes.react").isBroadcastThread(g.threadType)||d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(g.threadType)||d("LSMessagingThreadTypeUtil").isAiBot(g.threadType))&&!d("LSThreadBitOffset").has(56,g):!1;g=g!=null?d("LSMessagingThreadTypeUtil").isArmadilloSecure(g.threadType):!1;var x=e===!0||w;e=function(a){var b;return((b=k.current)==null?void 0:b.handler)==null?!1:!r(a).some(function(a){return v.has(a)})};e=c("useFileDragEvents")(function(){return!1},void 0,e);var y=m(function(a){var b;if(((b=k.current)==null?void 0:b.enabled)===!1)return;b=(b=k.current)==null?void 0:b.handler;if(b==null){if(!w){var d=k.current==null?"fileUploadHandlerConfigRef was not setup to handle dropped file!":"fileUploadHandlerConfigRef.current.handler was not setup to handle dropped file";c("recoverableViolation")(d,"messenger_web_media")}return}d=Array.from(a);a=f?d.filter(u):d;d.length!==a.length&&t(s,d.length);!x&&a.length!==0&&b(a)},[f,x,w,s]);c("useFileDragEvents")(y,o.current,function(a){return!0});return l.jsxs("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(q.root,(y=a)!=null?y:!1),{ref:o,children:[l.jsx(p,{fileUploadHandlerConfigRef:k,children:b}),!x&&e?l.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x1h0vfkc x1ey2m1c x78zum5 xds687c x17qophe xl56j7k x10l6tqk x13vifvy x1vjfegm"},{children:c("gkx")("7430")?l.jsx(c("MWXTextPairing.react"),{body:h._(/*BTDS*/"__JHASH__AnH53PdmVOq__JHASH__",[h._param("fileSizeLimit",String(d("MWMediaManagerFileSizeLimit").getMWMaxAttachmentSizeInMB(g)))]),bodyColor:"secondary",headline:h._(/*BTDS*/"__JHASH__Cpq0daihgaG__JHASH__"),level:4,textAlign:"center"}):l.jsx(c("MWXText.react"),{type:"body1",children:h._(/*BTDS*/"__JHASH__Cpq0daihgaG__JHASH__")})})):null]}))}a.displayName=a.name+" [from "+f.id+"]";g.mWV2FileDropzoneContext=o;g.MWV2FileDropzone=a}),226);
__d("useMWV2FileDropzoneRegisterHandler",["MWV2FileDropzone.react","react","useMWIsHDMediaEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect;function a(a){var b=i(d("MWV2FileDropzone.react").mWV2FileDropzoneContext),e=c("useMWIsHDMediaEnabled")(!1);j(function(){var c={enabled:!0,handler:function(b){return a(b,e)}};b.current=c;return function(){c.enabled=!1,c.handler=null}},[b,a,e])}g["default"]=a}),98);
__d("IGDThreadListNewMessageLoggingDataContext",["react","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;d=e.createContext;var j=e.useContext,k=e.useMemo,l=d("");function a(a){a=a.children;var b=j(l),d=k(function(){return Boolean(b)?b:c("uuidv4")()},[b]);return i.jsx(l.Provider,{value:d,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){var a=j(l);return Boolean(a)?a:c("uuidv4")()}g.IGDThreadListNewMessageLoggingContextProvider=a;g.useFlowInstanceIdContext=b}),98);
__d("MessageRequestsLog",["I64","coerceMessagingThreadTypeToLSThreadType","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i=c("requireDeferred"))("MessageRequestsBulkActionConfirmedFalcoEvent").__setRef("MessageRequestsLog"),k=i("MessageRequestsBulkActionEditFalcoEvent").__setRef("MessageRequestsLog"),l=i("MessageRequestsBulkActionTappedFalcoEvent").__setRef("MessageRequestsLog"),m=i("MessageRequestsInfoBannerShownFalcoEvent").__setRef("MessageRequestsLog"),n=i("MessageRequestsThreadActionConfirmedFalcoEvent").__setRef("MessageRequestsLog"),o=i("MessageRequestsThreadActionTappedFalcoEvent").__setRef("MessageRequestsLog"),p=i("MessageRequestsThreadDenialOptionsTappedFalcoEvent").__setRef("MessageRequestsLog"),q=i("MessageRequestsViewThreadlistFalcoEvent").__setRef("MessageRequestsLog");function r(a){switch(a.folderName){case"pending":return-1;case"other":return-2;case"spam":return-3;case"inbox":return 0}}function a(a,b,e){m.onReady(function(f){f.log(function(){return{action:0,extra_data_map:void 0,group_thread_id:e,other_user_id:b,request_id:void 0,thread_folder:r(a),thread_id:e!=null?e:(h||(h=d("I64"))).to_string(a.threadKey),thread_type:c("coerceMessagingThreadTypeToLSThreadType")(a.threadType)}})})}function b(a,b){p.onReady(function(e){e.log(function(){return{action:0,extra_data_map:void 0,group_thread_id:void 0,other_user_id:b,request_id:void 0,thread_folder:r(a),thread_id:(h||(h=d("I64"))).to_string(a.threadKey),thread_type:c("coerceMessagingThreadTypeToLSThreadType")(a.threadType)}})})}function e(a,b,e,f){o.onReady(function(g){g.log(function(){return{action:b,extra_data_map:void 0,group_thread_id:f,other_user_id:e,request_id:void 0,thread_folder:r(a),thread_id:f!=null?f:(h||(h=d("I64"))).to_string(a.threadKey),thread_type:c("coerceMessagingThreadTypeToLSThreadType")(a.threadType)}})})}function f(a,b,e,f){n.onReady(function(g){g.log(function(){return{action:b,extra_data_map:void 0,group_thread_id:f,other_user_id:e,request_id:void 0,thread_folder:r(a),thread_id:f!=null?f:(h||(h=d("I64"))).to_string(a.threadKey),thread_type:c("coerceMessagingThreadTypeToLSThreadType")(a.threadType)}})})}function s(a,b){q.onReady(function(c){c.log(function(){return{action:0,actioned_thread_count:"0",actioned_thread_ids:void 0,actioned_unread_thread_count:"0",entry_point:a,folder:b,request_id:void 0}})})}function t(a,b,c,d,e){l.onReady(function(f){f.log(function(){return{action:d,actioned_thread_count:b.toString(),actioned_thread_ids:void 0,actioned_unread_thread_count:c.toString(),entry_point:a,folder:e,request_id:void 0}})})}function u(a,b,c,d,e){j.onReady(function(f){f.log(function(){return{action:d,actioned_thread_count:b.toString(),actioned_thread_ids:void 0,actioned_unread_thread_count:c.toString(),entry_point:a,folder:e,request_id:void 0}})})}function v(a,b,c){k.onReady(function(d){d.log(function(){return{action:b,actioned_thread_count:"0",actioned_thread_ids:void 0,actioned_unread_thread_count:"0",entry_point:a,folder:c,request_id:void 0}})})}g.logMessageRequestInfoShown=a;g.logDenialOptionsTapped=b;g.logActionTapped=e;g.logActionConfirmed=f;g.logMessageRequestsView=s;g.logMessageRequestsBulkActionTapped=t;g.logMessageRequestsBulkActionConfirmed=u;g.logMessageRequestsBulkActionEdit=v}),98);
__d("getInstamadilloLoggingExtraData",["I64","IGDInstamadilloUtils","IGDThreadTTLCUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b,c=d("IGDInstamadilloUtils").isInstamadilloCutover(a),e=d("IGDInstamadilloUtils").isInstamadilloTransportEnabled(a),f=d("IGDInstamadilloUtils").isIGDDisappearingModeEnabled(a);b=(b=a==null?void 0:a.consistentThreadFbid)!=null?b:(h||(h=d("I64"))).zero;b=babelHelpers["extends"]({},d("IGDThreadTTLCUtils").getTTLCLoggingExtraData(a),{consistent_thread_fbid:(h||(h=d("I64"))).to_string(b),is_dm:String(f),is_instamadillo:String(e),is_instamadillo_tlc:String(c)});a!=null&&(b.thread_key=(h||(h=d("I64"))).to_string(a.threadKey),(a==null?void 0:a.consistentThreadFbid)!=null&&(b.consistent_thread_fbid=(h||(h=d("I64"))).to_string(a.consistentThreadFbid)));return b}g["default"]=a}),98);
__d("MWV2SetupS2SLoggingShared",["I64","LSIntEnum","MWChatInteraction","MWLSLogSend","MWSharedS2SBaseAnnotations","MWVersion","ReQL","ReQLSubscribe","asyncToGeneratorRuntime","err","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){d("sendToSentQPLLogger").markSendToSentPoint(a,"received_successful_server_ack"),d("sendToSentQPLLogger").markSendToSentSuccess(a),d("MWChatInteraction").remove(d("MWChatInteraction").s2sKey(b))}function k(a,b){d("sendToSentQPLLogger").markSendToSentFail(a,"send_message_server_error",c("err")("send_message_server_error")),d("MWChatInteraction").remove(d("MWChatInteraction").s2sKey(b))}function l(a){d("sendToSentQPLLogger").markSendToSentPoint(a,"sending_message")}function a(a){var c=a.db,e=a.isCommunityEvent,f=a.isMessageRequest,g=a.s2sInstanceKey,m=a.source,n=a.threadType,o=a.traceSendMessageAPI,p={isCommunityEvent:e,isMessageRequest:f,mwVersion:d("MWVersion").v2,source:m,threadType:n};return function(a){d("MWLSLogSend").logSentHeroInteraction(o,a,p);d("MWChatInteraction").set(d("MWChatInteraction").s2sKey(a),String(g));d("sendToSentQPLLogger").addSendToSentAnnotations(g,{bool:{subscription_points_gk:!0},string:{entrypoint:d("MWSharedS2SBaseAnnotations").getEntrypointAnnotation(m),is_community_event:e===!0?"true":"false",is_message_request:f===!0?"true":"false",thread_type:n==null?"unknown":(h||(h=d("I64"))).to_string(n)}});var q=!1,r=d("ReQL").fromTableAscending(c.tables.messages.index("optimistic")).getKeyRange(a),s=d("ReQLSubscribe").subscribeToFirst(r,function(b){b!=null&&(h||(h=d("I64"))).equal(b.sendStatusV2,(i||(i=d("LSIntEnum"))).ofNumber(2))?(q=!0,j(g,a),s()):b!=null&&(h||(h=d("I64"))).equal(b.sendStatusV2,(i||(i=d("LSIntEnum"))).ofNumber(4))?(q=!0,k(g,a),s()):b!=null&&(h||(h=d("I64"))).equal(b.sendStatusV2,(i||(i=d("LSIntEnum"))).ofNumber(1))&&l(g)});window.setTimeout(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!q){var a=(yield d("ReQL").firstAsync(r));q||d("sendToSentQPLLogger").addSendToSentAnnotations(g,{string:{status_after_10s:a?""+(i||(i=d("LSIntEnum"))).toNumber(a.sendStatusV2):"none"}})}}),1e4);window.setTimeout(function(){s()},6e4)}}g["default"]=a}),98);
__d("IGDGetMessagePluginInfo",["IGDInstamadilloUtils","LSIntEnum","LSPendingTasksPluginType","asyncToGeneratorRuntime","isInstamadillo"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c){return b?i(a,b):c()}function i(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!c("isInstamadillo")())return{openEb:!1,pluginType:void 0};var e=(yield a.messages.index("messageId").get(b.messageId));if(!d("IGDInstamadilloUtils").isInstamadilloMessage(e))return{openEb:!1,pluginType:void 0};e=(yield a.e2ee_igMessageAuxiliaryInfo.get(b.messageId));a=Boolean(e==null?void 0:e.openEb);return{openEb:a,pluginType:(h||(h=d("LSIntEnum"))).ofNumber(c("LSPendingTasksPluginType").IGD_INSTAMADILLO)}});return j.apply(this,arguments)}g.IGDGetMessagePluginInfo=a}),98);
__d("MWPSendMessageLogger",["LSIntEnum","LSPendingTasksPluginType","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("MWLogSend").__setRef("MWPSendMessageLogger");function a(a,b,e,f,g,j,k,l,m,n,o,p){var q=n!=null&&(h||(h=d("LSIntEnum"))).unwrapIntEnum(n)===c("LSPendingTasksPluginType").IGD_INSTAMADILLO,r=q?1:0;i.onReady(function(c){return c.log(a,{actor:f,additionalTags:q?["armadillo_express"]:void 0,attachmentFbids:j,attachmentType:l,backend:r,ephemeralDurationInSec:p,hasReply:m,isInstamadilloTTLC:o,offlineThreadingId:g,sendType:0,source:k,threadKey:b,threadType:e})})}g.log=a}),98);
__d("useMWV2SendOpenMessageImplShared",["ArmadilloDataTraceCheckPoint","I64","IGDGetMessagePluginInfo","IGDThreadTTLCUtils","Int64Hooks","LSAppendDataTraceAddonStoredProcedure","LSAuthorityLevel","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSPendingTasksPluginType","LSShape","MWPActor.react","MWPReplyContext.react","MWPSendMessageLogger","MessagePowerUp","MessagingAttachmentType","Promise","ReQL","ReQLSuspense","asyncToGeneratorRuntime","gkx","isMWBumpMessage","react","sendToSentQPLLogger","useLSMessagingInitiatingSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=(k||d("react")).useContext;function n(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e!=null&&c("gkx")("23995")&&(yield c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:e,syncChannel:(l||(l=d("I64"))).minus_one,tags:b}))});return o.apply(this,arguments)}function a(a){var e=a.authorityLevel,g=a.disableMarkRead,k=a.ephemeralDurationInSec,o=a.onOptimisticMessageCreation,p=a.skipUrlPreviewGen,q=a.threadKey,r=a.threadType,s=d("MWPActor.react").useActor();a=m(d("MWPReplyContext.react").MWPReplyContext);var t=a.reply,u=c("useLSMessagingInitiatingSource")(),v=(i||(i=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return(t==null?void 0:t.messageId)==null?d("ReQL").empty():d("ReQL").fromTableAscending(v.tables.messages.index("messageId")).getKeyRange(t.messageId)},[t==null?void 0:t.messageId,v.tables.messages],f.id+":132");var w=c("isMWBumpMessage")(a)?a==null?void 0:a.replySourceId:t==null?void 0:t.messageId;return d("Int64Hooks").useCallbackInt64(function(a,f){var i=f.afterSend,m=f.attributionAppId,x=f.dataclassParams,y=f.dataTraceId,z=f.externalAttachmentUrl,A=f.hotEmojiSize,B=f.logSendPoint,C=f.mentionData,D=f.messageText,E=f.messageTypeParams,F=f.multitabEnv,G=f.optimisticAttachmentPreview,H=f.platformToken,I=f.pluginType,J=f.profileRanges,K=f.richTextFormatType,L=f.s2sInstanceKey,M=f.setupS2SLogging,N=f.source,O=f.stickerID,P=f.traceSendMessageAPI,Q=f.transaction;return R(Q);function R(a){return S.apply(this,arguments)}function S(){S=b("asyncToGeneratorRuntime").asyncToGenerator(function*(f){var v=c("LSFactory")(f),R=c("gkx")("24135");yield n(f,(l||(l=d("I64"))).to_string(q),y);var S=E.hasAttachment,T=E.hasGif,U=E.hasLinks,V=E.hasSticker,W=E.hasText,X=(yield f.threads.get(q)),Y=U?d("IGDThreadTTLCUtils").isInstamadilloTTLCLinkEnabled(X):d("IGDThreadTTLCUtils").isInstamadilloTTLCTextEnabled(X);X=(yield d("IGDGetMessagePluginInfo").IGDGetMessagePluginInfo(f,t,function(){return(h||(h=b("Promise"))).resolve({openEb:Y,pluginType:Y?(j||(j=d("LSIntEnum"))).ofNumber(c("LSPendingTasksPluginType").IGD_INSTAMADILLO):I})}));f=X.openEb;X=X.pluginType;v=(yield c("LSOptimisticSendMessageV2StoredProcedure")(v,{dataclassParams:x!=null?JSON.stringify(x):void 0,extraSendMessageParams:d("LSShape").ofRecord({attribution_app_id:m,calculate_denormalizations:!1,data_trace_id:(v=y)!=null?v:void 0,ephemeral_duration_in_sec:k,external_attachment_url:z,hot_emoji_size:A,initiating_source:u,mark_read:g===!0?!1:(l||(l=d("I64"))).ge(e,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),mention_data:C,multitab_env:F,openEb:f,optimistic_attachment_preview:G,platform_token:H,plugin_type:X,power_up_style:(j||(j=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),qpl_instance_key:L.toString(),reply_source_id:w,reply_source_type:t!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:t!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,rich_text_format_type:K,skip_url_preview_gen:p,source:N,sticker_id:O,text_has_links:U&&R}),mailboxType:j.ofNumber(c("LSMailboxType").MESSENGER),senderId:s,text:D,threadKey:q,threadType:r}));B("create_optimistic_message_end");d("MWPSendMessageLogger").log(a,q,r,s,void 0,[],N,c("MessagingAttachmentType").NONE,t!=null,X,Y,k);if(!S){R=v[0];M(R);P.addAnnotationBoolean("is_instamadillo_ttlc",Y&&f===!0);d("sendToSentQPLLogger").addSendToSentAnnotations(L,{bool:{is_instamadillo_ttlc:Y&&f===!0}})}o!=null&&o({TAG:0,hasLink:U,hasMention:J!=null&&J.length>0,isGIF:T,isReply:!!(t&&t.messageId!==""),isSticker:V,isText:W,offlineThreadingId:v[0]});i!=null&&(yield i(Q));return v});return S.apply(this,arguments)}},[q,t,k,u,g,e,w,p,s,r,o])}g["default"]=a}),98);
__d("useMWV2SendOpenMessageImpl",["useMWV2SendOpenMessageImplShared"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.disableMarkRead,d=a.ephemeralDurationInSec,e=a.onOptimisticMessageCreation,f=a.skipUrlPreviewGen;a=a.thread;return c("useMWV2SendOpenMessageImplShared")({authorityLevel:a.authorityLevel,disableMarkRead:b,ephemeralDurationInSec:d,onOptimisticMessageCreation:e,skipUrlPreviewGen:f,threadKey:a.threadKey,threadType:a.threadType})}g["default"]=a}),98);
__d("MessagingLoggingUtils",["I64","MessagingAttachmentType"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=(h||(h=d("I64"))).to_int32(a);switch(a){case c("MessagingAttachmentType").NONE:return 1;case c("MessagingAttachmentType").STICKER:return 4;case c("MessagingAttachmentType").IMAGE:return 8;case c("MessagingAttachmentType").ANIMATED_IMAGE:return 6;case c("MessagingAttachmentType").VIDEO:return 10;case c("MessagingAttachmentType").AUDIO:return 11;case c("MessagingAttachmentType").FILE:return 9;case c("MessagingAttachmentType").XMA:return 13;case c("MessagingAttachmentType").EPHEMERAL_IMAGE:return 8;case c("MessagingAttachmentType").EPHEMERAL_VIDEO:return 5;case c("MessagingAttachmentType").SELFIE_STICKER:return 22;case c("MessagingAttachmentType").SOUND_BITE:return 23;default:return 1}}g.convertI64ToAttachmentType=a}),98);
__d("LSInsertNewMediaSend",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(51).add({offlineAttachmentId:a[0],offlineThreadingId:a[1],inMessageIndex:a[2],attachmentType:a[3],shouldTranscode:a[4],useDoublePhase:a[5],sendByServer:a[6],isSecure:a[7],state:a[4]?b.i64.cast([0,1]):b.i64.cast([0,3])})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMediaSendInsertNewMediaSendStoredProcedure";a.__tables__=["media_send_jobs"];e.exports=a}),null);
__d("LSInsertNewMediaSendStoredProcedure",["LSInsertNewMediaSend","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSInsertNewMediaSend"),e.offlineAttachmentId,e.offlineThreadingId,e.inMessageIndex,e.attachmentType,e.shouldTranscode,e.useDoublePhase,e.sendByServer,e.isSecure);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MWMediaTraceHandler",["I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceCheckPoint","LSDataTraceType","LSFactory","LSIntEnum","MAWTimeUtils","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){return a.data_trace_meta.add({contextOne:void 0,contextThree:void 0,contextTwo:void 0,foregroundTimestampMs:(h||(h=d("I64"))).zero,initTimestampMs:d("MAWTimeUtils").toTimestamp(d("WATimeUtils").unixTime()),predefinedId:void 0,shouldFlush:!1,traceId:b,traceType:(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").TASK)})}function a(a,b,e,f){return j(a,b).then(function(){return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").RICH_MEDIA_UPLOAD_START),dataTraceId:b,syncChannel:(h||(h=d("I64"))).neg_one,tags:h.to_string(e)+","+h.to_string(f)})})}g.logMediaSendStart=a}),98);
__d("issueLSMediaSendJobs",["ArmadilloDataTraceCheckPoint","I64","LSAppendDataTraceAddonStoredProcedure","LSFactory","LSGenerateTraceId","LSInsertNewMediaSendStoredProcedure","LSMarkSubJobCompletedV2StoredProcedure","MWConsole","MWMediaTraceHandler","MWPOpenComposerUtils","MessagingLoggingUtils","Promise","asyncToGeneratorRuntime","gkx","updateAndFlushLSDataTrace"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,c,d){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){b!=null&&(yield d("MWMediaTraceHandler").logMediaSendStart(a,b,c,(i||(i=d("I64"))).of_int32(e)))});return k.apply(this,arguments)}function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e!=null&&c("gkx")("23995")&&(yield c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:e,syncChannel:(i||(i=d("I64"))).minus_one,tags:b}))});return m.apply(this,arguments)}function a(a,b,c,d,e){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,k){var m=c("LSGenerateTraceId")(),n=k[0];n=d("MessagingLoggingUtils").convertI64ToAttachmentType(n.attachmentType);yield j(a,m,(i||(i=d("I64"))).of_int32(g.length),n);var o=0;n=g.map(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,g){yield c("LSInsertNewMediaSendStoredProcedure")(c("LSFactory")(a),{attachmentType:b.attachment_type,inMessageIndex:(i||(i=d("I64"))).of_int32(g),isSecure:!1,offlineAttachmentId:b.attachment_fbid,offlineThreadingId:f,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1});yield d("MWPOpenComposerUtils").updateMediaStaging(a,b.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{isSent:!0})});g=k.find(function(a){return a.offlineAttachmentId===b.offline_attachment_id});if(g!=null){var h=g.fbid;h!=null&&(yield c("LSMarkSubJobCompletedV2StoredProcedure")(c("LSFactory")(a),{fbid:h,offlineAttachmentId:b.attachment_fbid}),yield d("MWPOpenComposerUtils").deleteMediaStaging(a,b.attachment_fbid),yield d("MWPOpenComposerUtils").updateAttachment(a,e,f,b.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{attachmentFbid:(i||(i=d("I64"))).to_string(h)})}),o++)}c("gkx")("24136")&&(yield d("MWPOpenComposerUtils").updateAttachment(a,e,f,b.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{previewHeight:void 0,previewWidth:void 0})}))});return function(a,b){return g.apply(this,arguments)}}());yield (h||(h=b("Promise"))).allSettled(n);yield d("MWPOpenComposerUtils").resumeSendJob(c("LSFactory")(a),f,m);yield l(a,i.to_string(e),m);yield c("updateAndFlushLSDataTrace")(a,m);return{sentWithAllFilesUploaded:o===g.length}});return n.apply(this,arguments)}g["default"]=a}),98);
__d("issueSendInstamadilloMediaMessage",["IGDBridgedAPI","MWPOpenComposerUtils","Promise","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){c("promiseDone")(c("IGDBridgedAPI").sendMediaMessage({offlineThreadingId:f}));f=e.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield d("MWPOpenComposerUtils").updateMediaStaging(a,b.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{isSent:!0})})});return function(a){return c.apply(this,arguments)}}());yield (h||(h=b("Promise"))).allSettled(f)});return i.apply(this,arguments)}g["default"]=a}),98);
__d("useMWV2SendOpenStagedMedia",["I64","IGDGetMessagePluginInfo","IGDThreadTTLCUtils","Int64Hooks","LSFactory","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","LSPendingTasksPluginType","LSShape","LSThreadBitOffset","LSVec","MWConsole","MWPActor.react","MWPComposerMediaUploadUtil","MWPReplyContext.react","MWPSendMessageLogger","MessagingAttachmentType","MessagingLoggingUtils","MessengerWebEventsFalcoEvent","Promise","asyncToGeneratorRuntime","issueLSMediaSendJobs","issueSendInstamadilloMediaMessage","react","sendToSentQPLLogger","useLSMessagingInitiatingSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(i||d("react")).useContext;function a(a,e,f){var g=d("MWPActor.react").useActor(),i=l(d("MWPReplyContext.react").MWPReplyContext),m=i.reply,n=c("useLSMessagingInitiatingSource")(),o=d("LSThreadBitOffset").has(40,f);return d("Int64Hooks").useCallbackInt64(function(){var i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(i,l){var p=l.isFirstMessage;p=p===void 0?!1:p;var q=l.isFirstMessageText,r=l.mediaStagings,s=l.pluginType,t=l.s2sInstanceKey,u=l.sendFirstMessageSeparately;u=u===void 0?!1:u;var v=l.setupS2SLogging,w=l.source,x=l.traceSendMessageAPI;l=l.transaction;if(r.length===0)return;var y=!1;if(r.length===1){var z=r[0];(k||(k=d("I64"))).to_int32(z.attachmentType)===c("MessagingAttachmentType").IMAGE?y=d("IGDThreadTTLCUtils").isInstamadilloTTLCImageEnabled(f):(k||(k=d("I64"))).to_int32(z.attachmentType)===c("MessagingAttachmentType").VIDEO&&(y=d("IGDThreadTTLCUtils").isInstamadilloTTLCVideoEnabled(f))}z=(yield d("IGDGetMessagePluginInfo").IGDGetMessagePluginInfo(l,m,function(){return(h||(h=b("Promise"))).resolve({openEb:y,pluginType:y?(j||(j=d("LSIntEnum"))).ofNumber(c("LSPendingTasksPluginType").IGD_INSTAMADILLO):s})}));var A=z.openEb;z=z.pluginType;var B=r[0];B=d("MessagingLoggingUtils").convertI64ToAttachmentType(B.attachmentType);var C=d("MWPComposerMediaUploadUtil").createPartitionedAttachments(r,o),D=!0;for(var E=0;E<C.length;E++)if(!p||!u||E===0&&p&&!q){var F=C[E],G=(yield c("LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure")(c("LSFactory")(l),{extraSendMessageParams:d("LSShape").ofRecord({attachments:c("LSVec").ofArray(F.map(d("LSShape").ofRecord)),ephemeral_duration_in_sec:a,external_attachment_url:void 0,initiating_source:n,mark_read:!1,platform_ref:void 0,platform_token:void 0,plugin_type:z,reply_source_id:m==null?void 0:m.messageId,reply_source_type:m!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:m!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,source:w}),senderId:g,threadKey:f.threadKey,threadType:f.threadType}));G=G[0];E===0&&(v(G),x.addAnnotationBoolean("is_instamadillo_ttlc",y&&A===!0),d("sendToSentQPLLogger").addSendToSentAnnotations(t,{bool:{is_instamadillo_ttlc:y&&A===!0}}));yield l.messages_optimistic_context.add({externalAttachmentUrl:void 0,initiatingSource:n,markThreadRead:!1,messageId:void 0,offlineThreadingId:G,openEb:A,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:(k||(k=d("I64"))).of_string(G),threadAttributionSource:w,threadKey:f.threadKey});e==null?void 0:e({TAG:2,numberOfAttachments:F.length,offlineThreadingId:G});if(z!=null&&(j||(j=d("LSIntEnum"))).unwrapIntEnum(z)===c("LSPendingTasksPluginType").IGD_INSTAMADILLO)yield c("issueSendInstamadilloMediaMessage")(l,F,G);else{var H=(yield c("issueLSMediaSendJobs")(l,f.threadKey,G,F,r));D=D&&H.sentWithAllFilesUploaded}d("MWPSendMessageLogger").log(i,f.threadKey,f.threadType,g,G,F.map(function(a){return a.attachment_fbid}),w,B,m!=null,z,y,a)}H=(k||(k=d("I64"))).to_string(f.threadKey);G=d("LSMessagingThreadTypeUtil").isGroup(f.threadType)?[H,null]:[null,H];var I=G[0],J=G[1];c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:D?"hit_send_message_with_all_files_uploaded":"hit_send_message_with_files_pending",extra_data:null,other_user_fbid:J,thread_fbid:I}})});return function(a,b){return i.apply(this,arguments)}}(),[m,o,f,a,n,g,e])}g["default"]=a}),98);
__d("issueLSAudioMediaSendJob",["I64","LSDatabaseSingletonLazyWrapper","LSFactory","LSInsertNewMediaSendStoredProcedure","LSMarkSubJobCompletedV2StoredProcedure","MWPComposerMediaUploadUtil","MWPOpenComposerUtils","ReQL","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c,e){if(a==null)return;if(!a.startsWith("blob:"))return;var f={contents:function(){}};f.contents=d("ReQL").fromTableAscending(c.tables.attachments).getKeyRange(e).subscribe(function(c,d){if(d.operation==="put"){c=d.value;if(c.attachmentFbid!==b.toString())return;d=c.playableUrl;d!=null&&!d.startsWith("blob:")&&(f.contents(),URL.revokeObjectURL(a))}})}function a(a,b,c,d,e,f,g,h,i,k,l){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,g,j,k,l,m,n,o,p,q){yield c("LSInsertNewMediaSendStoredProcedure")(c("LSFactory")(a),{attachmentType:m.attachment_type,inMessageIndex:(h||(h=d("I64"))).zero,isSecure:!1,offlineAttachmentId:k,offlineThreadingId:l,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1});a=function(a,g){if(g==null||g.length===0)return;var n=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("LSDatabaseSingletonLazyWrapper")());return a.runInTransaction(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=c("LSFactory")(b);yield c("LSMarkSubJobCompletedV2StoredProcedure")(b,{fbid:(h||(h=d("I64"))).of_string(g),offlineAttachmentId:k});yield d("MWPOpenComposerUtils").resumeSendJob(b,l,j);i(m.playable_url,g,a,e)});return function(a){return f.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":99")});return function(){return a.apply(this,arguments)}}();c("promiseDone")(n(),function(){p==null?void 0:p(a)})};var r=function(a,b){q==null?void 0:q((b=b.response.getErrorDescriptionString())!=null?b:"unknown_upload_failure",a)};yield d("MWPComposerMediaUploadUtil").startUpload(o,void 0,a,r,!0,[n.file],[k],void 0,void 0,n.waveformData,void 0,h.to_string(g))});return j.apply(this,arguments)}g["default"]=a}),98);
__d("useMWV2SendOpenVoiceClipImplShared",["I64","IGDGetMessagePluginInfo","IGDThreadTTLCUtils","Int64Hooks","LSFactory","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSPendingTasksPluginType","LSShape","LSVec","MWMediaTraceHandler","MWPActor.react","MWPComposerMediaUploadUtil","MWPReplyContext.react","MessagingLoggingUtils","OfflineThreadingId","Promise","asyncToGeneratorRuntime","issueLSAudioMediaSendJob","issueSendInstamadilloMediaMessage","react","sendToSentQPLLogger","useLSMessagingInitiatingSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(i||d("react")).useContext;function m(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){b!=null&&(yield d("MWMediaTraceHandler").logMediaSendStart(a,b,c,(k||(k=d("I64"))).of_int32(e)))});return n.apply(this,arguments)}function a(a){var e=a.ephemeralDurationInSec,f=a.onOptimisticMessageCreation,g=a.onUploadFailure,i=a.onUploadStart,n=a.onUploadSuccess,o=a.sendMessageLogger,p=a.skipUrlPreviewGen,q=a.threadKey,r=a.threadType,s=d("MWPActor.react").useActor();a=l(d("MWPReplyContext.react").MWPReplyContext);var t=a.reply,u=c("useLSMessagingInitiatingSource")();return d("Int64Hooks").useCallbackInt64(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,l){var v=l.dataTraceId,w=l.pluginType,x=l.s2sInstanceKey,y=l.setupS2SLogging,z=l.source,A=l.traceSendMessageAPI,B=l.transaction;l=l.voiceClip;var C=c("LSFactory")(B),D=d("OfflineThreadingId").createOfflineThreadingID(),E=d("MWPComposerMediaUploadUtil").getAudioAttachment(D,l.file,l.duration,l.waveformData);yield m(B,v,(k||(k=d("I64"))).one,2);var F=(yield B.threads.get(q)),G=d("IGDThreadTTLCUtils").isInstamadilloTTLCAudioEnabled(F);F=(yield d("IGDGetMessagePluginInfo").IGDGetMessagePluginInfo(B,t,function(){return(h||(h=b("Promise"))).resolve({openEb:G,pluginType:G?(j||(j=d("LSIntEnum"))).ofNumber(c("LSPendingTasksPluginType").IGD_INSTAMADILLO):w})}));var H=F.openEb;F=F.pluginType;C=(yield c("LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure")(C,{extraSendMessageParams:d("LSShape").ofRecord({attachments:c("LSVec").ofArray([d("LSShape").ofRecord(E)]),ephemeral_duration_in_sec:e,external_attachment_url:void 0,initiating_source:u,mark_read:!1,platform_ref:void 0,platform_token:void 0,plugin_type:F,reply_source_id:t==null?void 0:t.messageId,reply_source_type:t!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:t!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,source:z}),senderId:s,threadKey:q,threadType:r}));C=C[0];y(C);A.addAnnotationBoolean("is_instamadillo_ttlc",G&&H===!0);d("sendToSentQPLLogger").addSendToSentAnnotations(x,{bool:{is_instamadillo_ttlc:G&&H===!0}});yield B.messages_optimistic_context.add({externalAttachmentUrl:void 0,initiatingSource:u,markThreadRead:!1,messageId:void 0,offlineThreadingId:C,openEb:H,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:p,taskId:k.of_string(C),threadAttributionSource:z,threadKey:q});f!=null&&f({TAG:1,offlineThreadingId:C});F!=null&&(j||(j=d("LSIntEnum"))).unwrapIntEnum(F)===c("LSPendingTasksPluginType").IGD_INSTAMADILLO?yield c("issueSendInstamadilloMediaMessage")(B,[E],C):yield c("issueLSAudioMediaSendJob")(B,q,s,v,D,C,E,l,i,n,g);o(a,{actor:s,attachmentFbids:[E.attachment_fbid],attachmentType:d("MessagingLoggingUtils").convertI64ToAttachmentType(E.attachment_type),hasReply:t!=null,isInstamadilloTTLC:H,key:q,offlineThreadingId:C,pluginType:F,source:z,type:r})});return function(b,c){return a.apply(this,arguments)}}(),[q,e,u,t,s,r,p,f,o,i,n,g])}g["default"]=a}),98);
__d("useMWV2SendOpenVoiceClip",["Int64Hooks","MWPSendMessageLogger","useMWV2SendOpenVoiceClipImplShared"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.ephemeralDurationInSec,e=a.onOptimisticMessageCreation,f=a.onUploadFailure,g=a.onUploadStart,h=a.onUploadSuccess,i=a.skipUrlPreviewGen;a=a.thread;var j=d("Int64Hooks").useCallbackInt64(function(a,c){var e=c.actor,f=c.attachmentFbids,g=c.attachmentType,h=c.hasReply,i=c.isInstamadilloTTLC,j=c.key,k=c.offlineThreadingId,l=c.pluginType,m=c.source;c=c.type;e!=null&&d("MWPSendMessageLogger").log(a,j,c,e,k,f,m,g,h,l,i,b)},[b]);return c("useMWV2SendOpenVoiceClipImplShared")({ephemeralDurationInSec:b,onOptimisticMessageCreation:e,onUploadFailure:f,onUploadStart:g,onUploadSuccess:h,sendMessageLogger:j,skipUrlPreviewGen:i,threadKey:a.threadKey,threadType:a.threadType})}g["default"]=a}),98);
__d("useMWV2SendOpenMessage",["I64","Int64Hooks","LSGenerateTraceId","LSIntEnum","LSMessagingThreadTypeUtil","LSShape","MWPReplyContext.react","MWSharedMsgLogUtils","MWSharedS2SBaseAnnotations","MWV2ComposerActionsContext.react","MWV2SetupS2SLoggingShared","MultipleTabsLogger","ReQL","asyncToGeneratorRuntime","react","sendToSentQPLLogger","useAsyncReStore","useLSMessagingInitiatingSource","useMWLSDefaultThreadSource","useMWV2SendOpenMessageImpl","useMWV2SendOpenStagedMedia","useMWV2SendOpenVoiceClip"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).useContext;function a(a){var e=a.disableMarkRead,g=a.ephemeralDurationInSec,h=a.onOptimisticMessageCreation,l=a.onUploadFailure,m=a.onUploadStart,n=a.onUploadSuccess,o=a.pluginType,p=a.skipUrlPreviewGen,q=a.thread,r=c("useAsyncReStore")();a=k(d("MWPReplyContext.react").MWPReplyContext);var s=a.reply;a=c("useLSMessagingInitiatingSource")();var t=c("useMWLSDefaultThreadSource")(),u=c("useMWV2SendOpenVoiceClip")({ephemeralDurationInSec:g,onOptimisticMessageCreation:h,onUploadFailure:l,onUploadStart:m,onUploadSuccess:n,skipUrlPreviewGen:p,thread:q}),v=c("useMWV2SendOpenStagedMedia")(g,h,q),w=c("useMWV2SendOpenMessageImpl")({disableMarkRead:(l=e)!=null?l:!1,ephemeralDurationInSec:g,onOptimisticMessageCreation:h,skipUrlPreviewGen:p,thread:q}),x=d("LSMessagingThreadTypeUtil").isMessageRequest(q);m=k(d("MWV2ComposerActionsContext.react").MWV2ComposerActionsContext);var y=m.onMessageSendAttempt;return d("Int64Hooks").useCallbackInt64(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,g,h,k,l,m,n,p,z,A,B,C,D,E,F,G,H,I){A===void 0&&(A=!1);B===void 0&&(B=!1);var J=!1;y==null?void 0:y(!0);function K(a){C.addMarkerPoint(a,"AppTiming"),d("sendToSentQPLLogger").markSendToSentPoint(D,a)}var L=t(q.threadKey),M=c("LSGenerateTraceId")(),N={contents:1};E=q.eventStartTimestampMs!=null;G=q.threadType;var O=(yield r),P=c("MWV2SetupS2SLoggingShared")({db:O,isCommunityEvent:E,isMessageRequest:x,s2sInstanceKey:D,source:(i||(i=d("LSIntEnum"))).unwrapIntEnum(L),threadType:G,traceSendMessageAPI:C});H=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(O.tables.media_staging).filter(function(a){return!a.isSent&&(j||(j=d("I64"))).equal(a.threadKey,q.threadKey)})));var Q=d("MWSharedS2SBaseAnnotations").getMessageTypeParams({externalAttachmentUrl:l,hotEmojiSize:h,mediaStagings:H,messageText:a,reply:s,stickerId:g,threadType:q.threadType,voiceClip:n}),R=(yield d("MWSharedMsgLogUtils").getSendToSentAnnotations(q,Q,i.unwrapIntEnum(L))),S=(yield d("MultipleTabsLogger").hasMultipleTabs());return O.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){d("MWSharedMsgLogUtils").addSendMessageMetadataForInteractionTrace(C,Q,q);d("sendToSentQPLLogger").addSendToSentAnnotations(D,R);if(n!=null){(A===!1||B===!0)&&(yield u(O,{dataTraceId:M,pluginType:o,s2sInstanceKey:D,setupS2SLogging:P,source:L,traceSendMessageAPI:C,transaction:b,voiceClip:n}));return}var c=Q.hasGif,f=Q.hasHotEmoji,i=Q.hasSticker,r=Q.hasText;i||f?N.contents=4:c&&(N.contents=6);var s=e!=null?d("LSShape").ofRecord({mention_ids:e.map(function(a){return a.id}).join(","),mention_lengths:e.map(function(a){return String(a.length)}).join(","),mention_offsets:e.map(function(a){return String(a.offset)}).join(","),mention_types:e.length!==0?e.map(function(a){return a.type}).join(","):void 0}):void 0;K("create_optimistic_message_start");if(r||i||f||c){J=!0;if(A===!1||B===!0){yield w(O,{afterSend:z,attributionAppId:k,dataclassParams:I,dataTraceId:M,externalAttachmentUrl:l,hotEmojiSize:h,logSendPoint:K,mentionData:s,messageText:a,messageTypeParams:Q,multitabEnv:S,optimisticAttachmentPreview:m,platformToken:p,pluginType:o,profileRanges:e,richTextFormatType:F,s2sInstanceKey:D,setupS2SLogging:P,source:L,stickerID:g,traceSendMessageAPI:C,transaction:b});if(A===!0)return}}else z!=null&&(yield z(b));!i&&!c&&!f&&(yield v(O,{isFirstMessage:B,isFirstMessageText:J,mediaStagings:yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.media_staging).filter(function(a){return!a.isSent&&(j||(j=d("I64"))).equal(a.threadKey,q.threadKey)})),pluginType:o,s2sInstanceKey:D,sendFirstMessageSeparately:A,setupS2SLogging:P,source:L,traceSendMessageAPI:C,transaction:b}))});return function(a){return c.apply(this,arguments)}}(),"readwrite","ui",void 0,f.id+":234")});return function(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){return a.apply(this,arguments)}}(),[y,t,q,r,a,x,s,u,w,v,o])}g["default"]=a}),98);
__d("useMWV2OnSendOpenMessage",["I64","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","LSContactViewerRelationship","LSIntEnum","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWPActor.react","MWPReplyContext.react","MessageRequestsLog","MessengerWebUXLogger","ReQL","asyncToGeneratorRuntime","getInstamadilloLoggingExtraData","promiseDone","qpl","react","sendToSentQPLLogger","useCometInteractionTracing","useMWV2SendOpenMessage"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=h||d("react");var k=e.useContext,l=e.useMemo;function a(a){var e=a.afterSendMessage,f=a.checkWAStorageForLogging,g=a.disableMarkRead,h=a.ephemeralDurationInSec,m=a.isIGDW,n=a.onOptimisticMessageCreation,o=a.onUploadFailure,p=a.onUploadStart,q=a.onUploadSuccess,r=a.pluginType,s=a.skipUrlPreviewGen,t=a.thread,u=d("MWPActor.react").useActor();a=k(d("MWPReplyContext.react").MWPReplyContext);var v=a.clearReply,w=t.threadSubtype,x=l(function(){return{is_community_event:(t.eventStartTimestampMs!=null).toString(),is_cutover:(!1).toString(),is_secure:(!1).toString(),thread_id:(i||(i=d("I64"))).to_string(t.threadKey),thread_subtype:w&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(w)?(i||(i=d("I64"))).to_string(w):"",thread_type:i.to_string(t.threadType)}},[t,w]),y=c("useCometInteractionTracing")(c("qpl")._(30605384,"573"),"fast","INTERACTION",void 0,x),z=c("useMWV2SendOpenMessage")({disableMarkRead:g,ephemeralDurationInSec:h,onOptimisticMessageCreation:n,onUploadFailure:o,onUploadStart:p,onUploadSuccess:q,pluginType:r,skipUrlPreviewGen:s,thread:t}),A=c("MessengerWebUXLogger").useInteractionLogger(),B=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),C=c("getInstamadilloLoggingExtraData")(t);return d("Int64Hooks").useCallbackInt64(function(a,g,h,k,l,n,o,p,q,r,s,w,D,E,F,G,H){s===void 0&&(s=!1);w===void 0&&(w=!1);m===!0&&(A==null?void 0:A({eventName:"send_message",extraData:C,flowInstanceId:B}));var I=d("LSMessagingThreadTypeUtil").isMessageRequest(t);return y(function(m){var y=d("sendToSentQPLLogger").markSendToSentStart(f);d("sendToSentQPLLogger").addSendToSentAnnotations(y,{string:x});c("promiseDone")(z(a,g,h,k,l,n,o,p,q,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;r==null?void 0:r();if(!d("LSMessagingThreadTypeUtil").isOneToOne(t.threadType))return;b=(b=(yield d("ReQL").firstAsync(d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.participants,[]).getKeyRange(t.threadKey),d("ReQL").fromTableAscending(a.contacts)).filter(function(a){a[0];a=a[1];return!(i||(i=d("I64"))).equal(a.id,u)}))))==null?void 0:b[1];if(b==null)return;!(i||(i=d("I64"))).to_float(b.contactViewerRelationship)!==c("LSContactViewerRelationship").CONTACT_OF_VIEWER&&(yield a.contacts.put(babelHelpers["extends"]({},b,{contactViewerRelationship:(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER)})))});return function(b){return a.apply(this,arguments)}}(),s,w,m,y,void 0,E,F,G,H),function(){e(),v(t.threadKey,!1),I&&d("MessageRequestsLog").logActionConfirmed(t,1)})})},[m,t,y,A,C,B,f,x,z,u,e,v])}g["default"]=a}),98);
__d("CSFBChatComposer.react",["CSFBChatComposerView.react","CSFBChatSendOpenMessage","I64","MWMediaManager","MWPActor.react","QPLUserFlow","emptyFunction","fileInputAcceptValues","mwPushToast","qpl","react","useMWPComposerEditor","useMWV2FileDropzoneRegisterHandler","useMWV2OnSendOpenMessage"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useCallback,l=c("qpl")._(146881675,"2073"),m=c("qpl")._(146877045,"2117"),n=25,o=75;function a(a){var b=a.chatSupportUserNonce,e=a.isAttachmentSendingEnabled,f=a.isLargeAttachmentSendingEnabled;a=a.thread;var g=e,h=c("useMWV2OnSendOpenMessage")({afterSendMessage:function(){c("QPLUserFlow").addPoint(l,"client_send_message_complete")},skipUrlPreviewGen:!1,thread:a}),p=d("CSFBChatSendOpenMessage").useOnSendOpenMessage(a,function(){c("QPLUserFlow").addPoint(l,"client_send_message_complete")}),q=g?h:p;h=d("MWPActor.react").useActor();p=k(function(a,b){d("mwPushToast").mwPushErrorToast({body:b,title:a})},[]);function r(){return f!=null&&f?o:n}h=d("MWMediaManager").useMediaManager({chatSupportUserId:(i||(i=d("I64"))).to_string(h),chatSupportUserNonce:b,getMaxAttachmentSizeInMB:r,isChatSupportUser:!0,isLargeAttachmentSendingEnabled:f,onUploadFailure:function(a){return c("QPLUserFlow").endFailure(m,a)},onUploadStart:function(){return c("QPLUserFlow").start(m)},onUploadSuccess:function(){return c("QPLUserFlow").endSuccess(m)},showUploadFailureToast:p,thread:a});b=h.handleFileRemove;r=h.handleFileSelect;p=h.mediaStaging;c("useMWV2FileDropzoneRegisterHandler")(r);h=[].concat(d("fileInputAcceptValues").PHOTO_AND_VIDEO);var s=c("useMWPComposerEditor")({composerEntrypointForLogging:"CSFBChatComposer",isPreviewThread:!1,mediaStaging:p,onSendMessage:function(a,b,d,f,g,h,i,j,k,m,n,o){c("QPLUserFlow").start(l,{annotations:{bool:{isAttachmentEnabled:e},string:{messageType:"text"}}}),q(a,b,d,f,g,h,i,j,k,m,n,o)},onTypingStateChanged:c("emptyFunction"),threadKey:a.threadKey}),t=s.editor,u=s.editorElementRef,v=s.hasStuffToSend;s=s.sendMessage;return j.jsx(c("CSFBChatComposerView.react"),{editor:t,editorElementRef:u,hasStuffToSend:v,isAttachmentSendingEnabled:g,mediaStaging:p,onAttachmentRemoved:b,onAttachmentsAdded:r,policyProduct:"messaging_lightswitch",sendMessage:s,supportedFileTypes:h,surface:"mwp_cs_chat_composer",thread:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatBubbleEmphasisRing.react",["BaseThemeProvider.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");({borderRadius:22,borderStyle:"solid",borderWidth:2,content:"''",display:"block",pointerEvents:"none",position:"absolute",zIndex:1});var k={emphasis_animation:{animationDelay:"x1t83zlg",animationDuration:"xxkxylk",animationIterationCount:"x1v7wizp",animationName:"x1yrix95",animationTimingFunction:"x4hg4is",$$css:!0},emphasis_ring:{backgroundColor:"xjbqb8w",borderTopColor:"x1v8p93f",borderEndColor:"xogb00i",borderBottomColor:"x16stqrj",borderStartColor:"x1ftr3km",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x1gp4ovq",borderEndWidth:"xdio9jc",borderBottomWidth:"x1h2mt7u",borderStartWidth:"x7g060r",display:"x78zum5",maxWidth:"x1hvl878",position:"x1n2onr6","::after_borderTopStartRadius":"xquudas","::after_borderTopEndRadius":"x6p43zf","::after_borderBottomEndRadius":"x1wnhr99","::after_borderBottomStartRadius":"x1gquc79","::after_borderTopStyle":"xynf4tj","::after_borderEndStyle":"xdspwft","::after_borderBottomStyle":"x1r9ni5o","::after_borderStartStyle":"x1d52zm6","::after_borderTopWidth":"x31ga2r","::after_borderEndWidth":"xcmxnv6","::after_borderBottomWidth":"x13afdcp","::after_borderStartWidth":"x10va8jt","::after_content":"x100rkj9","::after_display":"xhkezso","::after_pointerEvents":"x2q1x1w","::after_position":"x1j6awrg","::after_zIndex":"xitxdhh","::after_borderTopColor":"x1yzler7","::after_borderEndColor":"xh3oo2y","::after_borderBottomColor":"xxqiif8","::after_borderStartColor":"xrh6a5","::after_bottom":"xdb1ctf","::after_end":"x4bhatf","::after_start":"xhg89tr","::after_left":null,"::after_right":null,"::after_top":"x7kqs8i","::before_borderTopStartRadius":"x2e93ah","::before_borderTopEndRadius":"xigdz7j","::before_borderBottomEndRadius":"x1vxwiij","::before_borderBottomStartRadius":"xfgw0w6","::before_borderTopStyle":"xnvurfn","::before_borderEndStyle":"xv1ta3e","::before_borderBottomStyle":"x1opv7go","::before_borderStartStyle":"x1dtnpoi","::before_borderTopWidth":"x1b8stmw","::before_borderEndWidth":"xyhsekn","::before_borderBottomWidth":"xmbliey","::before_borderStartWidth":"x1igdxxj","::before_content":"x10tli2e","::before_display":"x1fgarty","::before_pointerEvents":"xkk1bqk","::before_position":"x1hmns74","::before_zIndex":"x12maryy","::before_borderTopColor":"xtei6gu","::before_borderEndColor":"x1nwru9p","::before_borderBottomColor":"xxs4umj","::before_borderStartColor":"xg8j718","::before_bottom":"xe80sof","::before_end":"x105ji64","::before_opacity":"x1u3qutx","::before_start":"xbs7dl3","::before_left":null,"::before_right":null,"::before_top":"x51xajf",$$css:!0},emphasis_ring_before_xma:{borderBottomStyle:"x1sy0etr","::after_borderBottom":"x1bxl7c5","::after_borderBottomEndRadius":"x1qo8dsh","::after_borderBottomStartRadius":"x1oiup0q","::before_borderBottom":"xozyfcf","::before_borderBottomEndRadius":"x1nxuetn","::before_borderBottomStartRadius":"x1doa7m0",$$css:!0},emphasis_ring_connect_bottom_incoming:{"::after_borderBottomStartRadius":"x1573djm","::before_borderBottomStartRadius":"x106tphz",$$css:!0},emphasis_ring_connect_bottom_outgoing:{"::after_borderBottomEndRadius":"x1nb2ndt","::before_borderBottomEndRadius":"x7ft4bm",$$css:!0},emphasis_ring_connect_top_incoming:{"::after_borderTopStartRadius":"x14nzmgs","::before_borderTopStartRadius":"x58eeit",$$css:!0},emphasis_ring_connect_top_outgoing:{"::after_borderTopEndRadius":"xe41ffp","::before_borderTopEndRadius":"x1cbhpwz",$$css:!0}};b={"chat-outgoing-message-background-gradient":"none","chat-outgoing-message-bubble-background-color":"var(--mwp-primary-theme-color)"};var l={dark:b,light:b,type:"VARIABLES"};function a(a){var b=a.children,d=a.connectBottom,e=a.connectTop,f=a.outgoing;a=a.precedesXMA;var g=f?k.emphasis_ring_connect_top_outgoing:k.emphasis_ring_connect_top_incoming;f=f?k.emphasis_ring_connect_bottom_outgoing:k.emphasis_ring_connect_bottom_incoming;var i=[k.emphasis_animation,k.emphasis_ring,a?k.emphasis_ring_before_xma:d&&f,e&&g];return j.jsx(c("BaseThemeProvider.react"),{config:l,children:function(a,d){return j.jsx("div",{className:(h||(h=c("stylex")))(i,a),"data-testid":void 0,style:d,children:b})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWDownloadMediaInWorkerDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MAWDownloadMediaInWorker").__setRef("MAWDownloadMediaInWorkerDeferred");function a(a){h.onReady(function(b){return b.maybeDownloadMediaInWorker(a)})}function b(a){h.onReady(function(b){return b.downloadMediaInWorker(a)})}function d(a){h.onReady(function(b){return b.maybeDownloadMediaInWorkerWithPlaintextHash(a)})}function e(a){h.onReady(function(b){return b.maybeBulkDownloadMediaInWorker(a)})}g.maybeDownloadMediaInWorker=a;g.downloadMediaInWorker=b;g.maybeDownloadMediaInWorkerWithPlaintextHash=d;g.maybeBulkDownloadMediaInWorker=e}),98);
__d("MAWIssueReceiverFetchTaskDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MAWIssueReceiverFetchTask").__setRef("MAWIssueReceiverFetchTaskDeferred");function a(a,b,c,d,e){return h.load().then(function(f){return f.issueReceiverFetchTask(a,b,c,d,e)})}g.issueReceiverFetchTask=a}),98);
__d("MAWRetryReceiverFetchSticker",["FBLogger","MAWIssueReceiverFetchTaskDeferred","MAWMediaDownloadStatus","WAHashUtils","nullthrows","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){f==null?void 0:f.addPoint("receiver_fetch_retry_attempt");if(b==null){f==null?void 0:f.endFail("receiver_fetch_retry_no_attachment");return}var g=c("nullthrows")(b.receiverFetchId),h=b.messageId,i=b.threadKey,j=d("WAHashUtils").stringToPlaintextHash(h);e({tag:"IncreaseMediaDownloadRetryCount",value:{key:j}});c("promiseDone")(a,function(a){return d("MAWIssueReceiverFetchTaskDeferred").issueReceiverFetchTask(a,h,g,i,e)},function(a){f==null?void 0:f.endFail("receiver_fetch_task_fail"),e({tag:"UpdateMediaStatus",value:{details:"receiver_fetch_task_fail_"+a,key:j,status:c("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE,type:"main"}}),c("FBLogger")("messenger_web_media").catching(a).warn("Failed to issue media receiver fetch task for manual retry")})}g.retryReceiverFetchSticker=a}),98);
__d("useMAWBulkMediaDownloadManualRetry",["MAWDbMedia","MAWDownloadMediaInWorkerDeferred","MAWRetryReceiverFetchSticker","MAWStateContext.react","WAHashUtils","isReceiverFetchSticker","react","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useContext;function a(a,b){var e=c("useAsyncReStore")(),f=j(d("MAWStateContext.react").MAWDispatchContext),g=d("MAWStateContext.react").useMAWSelector(function(a){return a.mediaDownloadRetryCount}),h=d("MAWStateContext.react").useMAWSelector(function(a){return a.mediaDownloadStatus});return i(function(){a.forEach(function(a){var i=c("isReceiverFetchSticker")(a);if(i){b==null?void 0:b.start({isManualRetry:!0,manualRetryCount:(i=g[a.messageId])!=null?i:0,previousManualRetryErrorDetails:(i=h[a.messageId])==null?void 0:i.mainMediaStatusDetails});d("MAWRetryReceiverFetchSticker").retryReceiverFetchSticker(e,a,f,b);return}i=a.attachmentFbid;var j=isNaN(i);j=j?d("WAHashUtils").stringToPlaintextHash(i):d("MAWDbMedia").convertNumberToMediaId(parseInt(i,10));b==null?void 0:b.start({isManualRetry:!0,manualRetryCount:(i=g[j.toString()])!=null?i:0,previousManualRetryErrorDetails:(i=h[j.toString()])==null?void 0:i.mainMediaStatusDetails});f({tag:"SetMediaDownloadStatusState",value:{key:j,newMediaDownloadState:null}});f({tag:"IncreaseMediaDownloadRetryCount",value:{key:j}});d("MAWDownloadMediaInWorkerDeferred").downloadMediaInWorker({attachment:a,dispatch:f,mediaRenderQpl:b,triggerUIView:"manual-retry-thread"})})},[a,b,h,g,f,e])}g["default"]=a}),98);
__d("MAWIsXMAWithPlaintextHash",["I64","LSIntEnum","MessagingAttachmentType"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return!(h||(h=d("I64"))).equal(a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA))?!1:![a.xmaPreviewFbid,a.xmaHeaderImageFbid,a.xmaFaviconFbid].filter(Boolean).every(isFinite)}g.isXMAWithPlaintextHash=a}),98);
__d("useMAWMediaDownloadStatus",["react","useMAWBulkMediaDownloadStatus"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a,b,d){var e=i(function(){var c;return a!=null?[{attachment:a,mediaRenderQpl:b,statusKey:(c=d)!=null?c:a.attachmentFbid}]:[]},[a,d,b]);e=c("useMAWBulkMediaDownloadStatus")(e);return e.length>0?e[0]:null}g["default"]=a}),98);
__d("useMAWMaybeAutoTriggerDownload",["MAWDownloadMediaInWorkerDeferred","MAWGetIsMediaDownloadStatusEnabled","MAWIsXMAWithPlaintextHash","MAWMediaDownloadStatus","MAWRetryReceiverFetchSticker","MAWStateContext.react","WAHashUtils","gkx","isReceiverFetchSticker","react","useAsyncReStore","useMAWMediaDownloadStatus","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect,k=b.useRef;function a(a,b,e,f,g){var h,l=c("useMAWMediaDownloadStatus")(a,b,f),m=c("isReceiverFetchSticker")(a),n=(l==null?void 0:(h=l.status)==null?void 0:h.mainMediaStatus)===c("MAWMediaDownloadStatus").MISSING_FILE||(l==null?void 0:(h=l.status)==null?void 0:h.mainMediaStatus)===c("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE||c("gkx")("5850")&&!m&&(l==null?void 0:(h=l.status)==null?void 0:h.mainMediaStatus)===c("MAWMediaDownloadStatus").DOWNLOADING;l=c("usePrevious")(n);var o=k(!1),p=i(d("MAWStateContext.react").MAWDispatchContext),q=c("useAsyncReStore")();j(function(){n&&o.current===!1&&(o.current=!0,m?d("MAWRetryReceiverFetchSticker").retryReceiverFetchSticker(q,a,p,b):d("MAWIsXMAWithPlaintextHash").isXMAWithPlaintextHash(a)&&d("MAWGetIsMediaDownloadStatusEnabled").getIsMediaDownloadStatusForXMAsEnabled()?d("MAWDownloadMediaInWorkerDeferred").maybeDownloadMediaInWorkerWithPlaintextHash({attachment:a,dispatch:p,mediaRenderQpl:b,plaintextHash:f!=null?d("WAHashUtils").stringToPlaintextHash(f):void 0,triggerUIView:e,xmaMediaType:g}):d("MAWDownloadMediaInWorkerDeferred").maybeDownloadMediaInWorker({attachment:a,dispatch:p,mediaRenderQpl:b,triggerUIView:e}))},[a,b,n,l,e,p,o,m,q,f])}g["default"]=a}),98);
__d("MAWAttachmentStateHandlerContentBase.react",["FBLogger","MAWMediaDownloadStatusUIStateType","react","useMAWBulkMediaDownloadManualRetry","useMAWMaybeAutoTriggerDownload","useMAWMediaDownloadStatus","useMAWMediaStatusUIState"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");h||(h=c("react"));var j=b.useEffect,k=b.useMemo;function a(a){var b=a.attachmentsFromGroupToRetry,e=a.dbAttachment,f=a.descriptionForLogging,g=a.downloadStatusKeyOverride,h=a.errorComponentRenderer,i=a.errorWithBlurComponentRenderer,l=a.loadingPlaceholderRenderer,m=a.mediaRenderQpl,n=a.successfulComponentRenderer;a=a.xmaMediaType;var o=k(function(){return b!=null&&b.length>0?b:[e]},[e,b]);o=c("useMAWBulkMediaDownloadManualRetry")(o,m);var p=c("useMAWMediaStatusUIState")(e,m,g),q=p.downloadStatus;p=(p=c("useMAWMediaDownloadStatus")(e,m,g))!=null?p:{};var r=p.status;c("useMAWMaybeAutoTriggerDownload")(e,m,"thread",g,a);j(function(){var a,b={string:{call_site:f,download_status_main_details:r==null?void 0:r.mainMediaStatusDetails,download_status_main_media:String(r==null?void 0:r.mainMediaStatus),download_status_preview_details:r==null?void 0:r.previewMediaStatusDetails,download_status_preview_media:String(r==null?void 0:r.previewMediaStatus),download_status_ui_state:q}};m==null?void 0:m.addPoint("render-attachment-state-handler-content-wrapper-"+((a=q)!=null?a:"null"),b)},[m,q,r==null?void 0:r.mainMediaStatusDetails,r==null?void 0:r.mainMediaStatus,r==null?void 0:r.previewMediaStatusDetails,r==null?void 0:r.previewMediaStatus,f]);j(function(){switch(q){case"non_retryable_error":case"retryable_error":case"non_retryable_error_with_preview":case"retryable_error_with_preview":Boolean(r==null?void 0:r.mainMediaStatusDetails)?m==null?void 0:m.endFail(q+": "+(r==null?void 0:r.mainMediaStatusDetails)):m==null?void 0:m.endFail(q);break;case null:case"downloaded":case"loading":break;default:m==null?void 0:m.endFail("unknown_state",{string:{unknown_state_value:q}});break}},[m,q,f]);p=d("MAWMediaDownloadStatusUIStateType").isRetryableErrorState(q);switch(q){case null:case"loading":return l(f+".MAWAttachmentStateHandlerContentBase.NoMedia",!1);case"non_retryable_error":case"retryable_error":return h(p,o);case"non_retryable_error_with_preview":case"retryable_error_with_preview":return i==null?h(p,o):i(p,o);case"downloaded":return n(l);default:c("FBLogger")("messenger_web_media").mustfix("[MAW Attachment Content] Unknown MediaDownloadStatusUIState %s",q);return l(f+".MAWAttachmentStateHandlerContentBase.UnknownState",!1)}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXAspectRatioContainer.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={child:{height:"x5yr21d",start:"x17qophe",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0},childInner:{maxHeight:"xmz0i5r",maxWidth:"x193iq5w",$$css:!0},flex:{display:"x78zum5",maxWidth:"x193iq5w",$$css:!0},inner:function(a){return[{paddingBottom:a==null?null:"x18061mc",position:"x1n2onr6",width:"xh8yej3",$$css:!0},{"--paddingBottom":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]},outer:function(a,b,c){return[{maxHeight:c==null?null:"x1kb659o",maxWidth:b==null?null:"x10cxd3o",width:a==null?null:"x1bl4301",$$css:!0},{"--maxHeight":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(c),"--maxWidth":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(b),"--width":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]}};function a(a){var b=a.children,d=a.height,e=a.maxHeight,f=a.maxWidth;a=a.width;d=a/d;f=f!=null&&e!=null?"min("+f+"px, "+e*d+"px)":e!=null?e*d+"px":f;return j.jsx("div",babelHelpers["extends"]({className:"x78zum5 x193iq5w"},{children:j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.outer(a,(a=f)!=null?a:"initial",(f=e)!=null?f:"initial")),{children:j.jsx("div",babelHelpers["extends"]({},h.props(k.inner(100/d+"%")),{children:j.jsx("div",babelHelpers["extends"]({className:"x5yr21d x17qophe x10l6tqk x13vifvy xh8yej3"},{children:b==null?void 0:b(k.childInner)}))}))}))}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMessageBubbleCornerStyles.react",[],(function(a,b,c,d,e,f,g){"use strict";var h={flatBottom:{borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",$$css:!0},flatTop:{borderTopEndRadius:"x13lgxp2",borderTopStartRadius:"x168nmei",$$css:!0},rounded:{borderTopStartRadius:"xp5s12f",borderTopEndRadius:"x11ucwad",borderBottomEndRadius:"xgtuqic",borderBottomStartRadius:"x155c047",$$css:!0}},i={connectBottom:{borderBottomStartRadius:"x10y3i5r",$$css:!0},connectTop:{borderTopStartRadius:"x1lcm9me",$$css:!0}},j={connectBottom:{borderBottomEndRadius:"xrt01vj",$$css:!0},connectTop:{borderTopEndRadius:"x1yr5g0i",$$css:!0}};function a(a){var b,c,d,e;b=(b=a==null?void 0:a.align)!=null?b:"left";c=(c=a==null?void 0:a.connectBottom)!=null?c:!1;d=(d=a==null?void 0:a.connectTop)!=null?d:!1;e=(e=a==null?void 0:a.flatten)!=null?e:"none";a=(a=a==null?void 0:a.corners)!=null?a:"round";b=b==="right"?j:i;return[a==="round"&&h.rounded,d&&b.connectTop,c&&b.connectBottom,(e==="all"||e==="bottom")&&h.flatBottom,(e==="all"||e==="top")&&h.flatTop]}g.getMWXBubbleCornerStyles=a}),98);
__d("MWV2AttachmentLoadingPlaceholder.react",["MWXAspectRatioContainer.react","MWXGlimmer.react","MWXMessageBubbleCornerStyles.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect,k={glimmer:{display:"x1lliihq",height:"x5yr21d",width:"xh8yej3",$$css:!0}};function a(a){var b=a.connectBottom,e=a.connectTop,f=a.descriptionForLogging,g=a.hasAppAttribution,h=a.hasCornerStyles,l=h===void 0?!0:h,m=a.height;h=a.maxHeight;h=h===void 0?200:h;var n=a.maxWidth;n=n===void 0?480:n;var o=a.mediaRenderQpl,p=a.outgoing,q=a.width,r=a.xstyle;j(function(){var a={string:{call_site:f}};q!=null&&m!=null?o==null?void 0:o.addPoint("render-loading-placeholder",a):o==null?void 0:o.addPoint("render-loading-placeholder-null-dimensions",a);return function(){o==null?void 0:o.addPoint("unmount-loading-placeholder",a)}},[m,o,q,f]);if(q==null)return null;if(m==null)return null;var s=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:p===!0?"right":"left",connectBottom:b,connectTop:e,flatten:g===!0?"bottom":"none"});return i.jsx("div",{"data-testid":void 0,children:i.jsx(c("MWXAspectRatioContainer.react"),{height:m,maxHeight:h,maxWidth:n,width:q,children:function(a){return i.jsx(c("MWXGlimmer.react"),{index:1,xstyle:[a,k.glimmer,l===!0&&s,r]})}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWThreadViewAttachmentStateHandlerContent.react",["CometHeroHoldTrigger.react","MAWAttachmentStateHandlerContentBase.react","MWV2AttachmentLoadingPlaceholder.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react");function a(a){var b=a.attachmentsFromGroupToRetry,d=a.connectBottom,e=a.connectTop,f=a.dbAttachment,g=a.descriptionForLogging,h=a.downloadStatusKeyOverride,j=a.errorComponentRenderer,k=a.errorWithBlurComponentRenderer,l=a.loadingPlaceholderStyle,m=a.mediaRenderQpl,n=a.outgoing,o=a.placeholderHeight,p=a.placeholderMaxHeight,q=a.placeholderMaxWidth,r=a.placeholderWidth,s=a.successfulComponentRenderer;a=a.xmaMediaType;return i.jsx(c("MAWAttachmentStateHandlerContentBase.react"),{attachmentsFromGroupToRetry:b,dbAttachment:f,descriptionForLogging:g+".MAWThreadViewAttachmentStateHandlerContent",downloadStatusKeyOverride:h,errorComponentRenderer:j,errorWithBlurComponentRenderer:k,loadingPlaceholderRenderer:function(a,b){var g;return i.jsxs(i.Fragment,{children:[i.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:d,connectTop:e,descriptionForLogging:a,hasAppAttribution:(f==null?void 0:f.attributionAppName)!=null,height:o,maxHeight:(g=p)!=null?g:o,maxWidth:(g=q)!=null?g:r,mediaRenderQpl:m,outgoing:n,width:r,xstyle:l}),!b&&i.jsx(c("CometHeroHoldTrigger.react"),{description:a,hold:!0})]})},mediaRenderQpl:m,successfulComponentRenderer:s,xmaMediaType:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useGetMediaGroupStyles",["MWLSThreadDisplayContext","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useMemo,k=180,l=120,m={container:{display:"x78zum5",flexDirection:"xdt5ytf",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},fourPlusImagesStackContainer:{height:"x1gyaxfs",marginTop:"x1gslohp",width:"xt4sqew",$$css:!0},fourPlusImagesStackContainerChatTab:{height:"x89wwaf",marginTop:"x1gslohp",width:"xh6lk7j",$$css:!0},stackWithNoMargin:{marginTop:"xdj266r",$$css:!0}};function a(a,b){var e=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="ChatTab",f=null,g=null;b===2&&e?f="x78zum5 xdt5ytf x6ikm8r x10wlt62 x1isuwpm xq1dxzn":b===2&&!e?f="x78zum5 xdt5ytf x6ikm8r x10wlt62 x1en3kgc xafpxmx":b===3&&e?f="x78zum5 xdt5ytf x6ikm8r x10wlt62 xu3xrit xq1dxzn":b===3&&!e?f="x78zum5 xdt5ytf x6ikm8r x10wlt62 x1egiwwb xafpxmx":b===4&&e?f=(h||(h=c("stylex")))(m.container,m.fourPlusImagesStackContainerChatTab,c("gkx")("1353")===!0&&m.stackWithNoMargin):b===4&&!e&&(f=(h||(h=c("stylex")))(m.container,m.fourPlusImagesStackContainer,c("gkx")("1353")===!0&&m.stackWithNoMargin));e?g="x6s0dn4 x1exxf4d x1y71gwh x1nb4dca xu1343h xy80clv xm81vs4 x1tlxs6b x1g8br2z x1gn5b1j x230xth x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi x78zum5 xl56j7k x6ikm8r x10wlt62 x10l6tqk x1wkxgih x1mu601j x2aouup xi3av73 x1i9suas xygnafs":g="x6s0dn4 x1exxf4d x1y71gwh x1nb4dca xu1343h xy80clv xm81vs4 x1tlxs6b x1g8br2z x1gn5b1j x230xth x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi x78zum5 x1b51vyi xl56j7k x19aweqf x1e4dklr x1shn012 xfb3i0g x6ikm8r x10wlt62 x10l6tqk xzjbwwf";var i=j(function(){return{fourImageTile:[{bottom:0,left:17},{bottom:6,left:8,transform:"rotate(-4deg)"},{bottom:12,right:8,transform:"rotate(4deg)"},{bottom:18,left:8,transform:"rotate(-4deg)"}],threeImageTile:[{left:a?null:0,right:a?0:null,top:0},{left:a?0:null,right:a?null:0,top:e?100:160},{bottom:0,left:a?null:0,right:a?0:null}],twoImageTile:[{left:a?0:null,right:a?null:0,top:0},{bottom:0,left:a?null:0,right:a?0:null}]}},[a,e]);b=b===2?i.twoImageTile:b===3?i.threeImageTile:i.fourImageTile;return{containerStyles:f,coordinations:b,imageSize:e?l:k,wrapperStyles:g}}function b(a,b,c){var e=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="ChatTab",f=1,g=1;if(a!==!0||b===0||c===0)return{resizeRatio:f,scaleRatio:g};a===!0&&b!=null&&c!=null&&(b>=c?f=Math.ceil((e?l:k)/c):f=Math.ceil((e?l:k)/b));a===!0&&f===1&&b!=null&&c!=null&&(g=b>c?b/c:c/b);return{resizeRatio:f,scaleRatio:g}}g.IMAGE_SIZE=k;g.IMAGE_SIZE_CHAT_TAB=l;g.useGetMediaGroupStyles=a;g.useGetMediaGroupTileImageRatios=b}),98);
__d("MWMessageListImageSizingUtils",["justknobx","useGetMediaGroupStyles"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){if(e===!0)return{maxHeight:b==="Inbox"?d("useGetMediaGroupStyles").IMAGE_SIZE:d("useGetMediaGroupStyles").IMAGE_SIZE_CHAT_TAB,maxWidth:b==="Inbox"?d("useGetMediaGroupStyles").IMAGE_SIZE:d("useGetMediaGroupStyles").IMAGE_SIZE_CHAT_TAB};return b!=="Inbox"&&b!=="ChatTab"||a?{maxHeight:200,maxWidth:480}:{maxHeight:b==="Inbox"?c("justknobx")._("2546"):c("justknobx")._("2547"),maxWidth:b==="Inbox"?c("justknobx")._("2548"):c("justknobx")._("2549")}}g.getMaxPreviewHeightAndWidth=a}),98);
__d("MWXIconExclamationMarkCircle",["MWXSvgIcon","SVGIcon","cr:12407","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12407")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconRefreshAlt",["MWXSvgIcon","SVGIcon","cr:12552","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12552")),c("gkx")("23219"));g["default"]=a}),98);
__d("MediaDownloadStatusIconSize",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Small:"small",Large:"large"});c=a;f["default"]=c}),66);
__d("MWV2AttachmentErrorPlaceholderV2.react",["fbt","MAWVideoAudioPlaybackErrorHandlerUtils","MWXAspectRatioContainer.react","MWXIconExclamationMarkCircle","MWXIconRefreshAlt","MWXIconStrict.react","MWXMessageBubbleCornerStyles.react","MWXPressable.react","MWXText.react","MWXTooltip.react","MediaDownloadStatusIconSize","react","stylex","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useEffect,m={buttonLarge:{height:"xdd8jsf",marginTop:"xuqeo79",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"xbuoto1",width:"xvni27",$$css:!0},buttonSmall:{height:"xxk0z11",marginTop:"x7wgvq7",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x16hk5td",width:"xvy4d1p",$$css:!0},circleButton:{backgroundColor:"x18l40ae",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",opacity:"x1hc1fzr",$$css:!0},container:{alignItems:"x6s0dn4",cursor:"x1ypdohk",display:"x78zum5",start:"xtzzx4i",left:null,right:null,justifyContent:"xl56j7k",position:"x10l6tqk",top:"xwa60dl",$$css:!0},content:{alignItems:"x6s0dn4",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0},dark:{backgroundColor:"xhzw6zf",$$css:!0},galleryMediaStatusIcon:{height:"xxk0z11",width:"xvy4d1p",$$css:!0},light:{backgroundColor:"x1vtvx1t",$$css:!0},nonRetryableError:{alignItems:"x6s0dn4",backgroundColor:"x18l40ae",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",color:"x19rn6z",display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},threadMediaStatusIcon:{height:"xdd8jsf",width:"xvni27",$$css:!0}};function a(a){var b=a.attachment,e=a.connectBottom,f=a.connectTop,g=a.hasAppAttribution,j=a.height,n=a.iconSize,o=a.isRetryableError,p=a.maxHeight,q=a.maxWidth,r=a.mediaRenderQpl,s=a.onRetry,t=a.outgoing,u=a.width,v=a.withTooltip,w=a.xstyle;a=d("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(b,o,s);b=a.mediaStatusText;a=a.retryButton;l(function(){r==null?void 0:r.addPoint("render-error-placeholder",{bool:{is_retryable_error:o}})},[r,o]);var x=c("useCurrentDisplayMode")();j=(j=j)!=null?j:100;u=(u=u)!=null?u:200;var y=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:t===!0?"right":"left",connectBottom:e,connectTop:f,flatten:g===!0?"bottom":"none"});f=k.jsx(c("MWXAspectRatioContainer.react"),{height:j,maxHeight:(t=p)!=null?t:200,maxWidth:(e=q)!=null?e:480,width:u,children:function(a){return k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props([a,m.content,x==="dark"?m.dark:m.light,y,w]),{"data-testid":void 0,children:o?k.jsx(c("MWXPressable.react"),{display:"inline",label:h._(/*BTDS*/"__JHASH__BGxC_0TtXwE__JHASH__"),onPress:s,testid:void 0,xstyle:[m.circleButton,m.container,n===c("MediaDownloadStatusIconSize").Large&&m.buttonLarge,n===c("MediaDownloadStatusIconSize").Small&&m.buttonSmall],children:k.jsx(c("MWXIconStrict.react"),{color:"white",icon:c("MWXIconRefreshAlt"),size:n===c("MediaDownloadStatusIconSize").Large?24:12})}):k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props([m.nonRetryableError,n===c("MediaDownloadStatusIconSize").Large?m.threadMediaStatusIcon:m.galleryMediaStatusIcon]),{children:k.jsx(c("MWXIconStrict.react"),{color:"white",icon:c("MWXIconExclamationMarkCircle"),size:n===c("MediaDownloadStatusIconSize").Large?24:12})}))}))}});return v===!0?k.jsx(c("MWXTooltip.react"),{label:b,tooltip:k.jsxs(c("MWXText.react"),{color:"tooltip",type:"meta4",children:[b,a]}),children:f}):f}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWChatImageInsetShadow.react",["react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={imageShadow:{borderTopColor:"x1pdss0j",borderEndColor:"xtcpoma",borderBottomColor:"x81c4ja",borderStartColor:"x8g6rb3",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",bottom:"x1ey2m1c",boxSizing:"x9f619",end:"xds687c",start:"x17qophe",left:null,right:null,pointerEvents:"x47corl",position:"x10l6tqk",top:"x13vifvy",$$css:!0}};function a(a){a=a.xstyle;return i.jsx(d("react-strict-dom").html.div,{style:[j.imageShadow,a]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageListMediaPressableContainer.react",["I64","LSIntEnum","LSMediaUrlAttachment","MWPThreadCapabilitiesContext","MWXPressable.react","MessagingAttachmentType","cr:4509","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react")),l=h.useEffect;function a(a){var e=a.allowClickEventPropagation,f=a.ariaLabel,g=a.attachment,h=a.children,m=a.disabled,n=a.linkProps_,o=a.mediaRenderQpl,p=a.onHoverIn,q=a.onPress,r=a.overlayDisabled;r=r===void 0?!1:r;var s=a.testid;s=a.xstyle;a=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();a=a.blurMediaEnabled;var t=c("gkx")("24098")&&a;a=(i||(i=d("I64"))).equal(g.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))||(i||(i=d("I64"))).equal(g.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE));var u=(i||(i=d("I64"))).equal(g.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)),v=a?"Image":u?"Video":"Media";l(function(){o==null?void 0:o.addPoint("render-message-list-media-pressable-container",{bool:{is_blur_media:t},string:{media_type:v}})},[t,o,v]);return b("cr:4509")!=null&&(a||u)&&t?k.jsx(b("cr:4509"),{ariaLabel:f,disabled:m,linkProps:n,mediaType:v,onPress:q,overlayDisabled:r,testid:void 0,type:u?"video":"image",url:d("LSMediaUrlAttachment").previewUrl(g),xstyle:s,children:h}):k.jsx(c("MWXPressable.react"),{allowClickEventPropagation:e,"aria-label":f,disabled:m,linkProps:n,onHoverIn:p,onPress:function(){return q()},overlayDisabled:r,testid:void 0,xstyle:s,children:h})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWConvertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType",["WAArmadilloXMA.pb","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Not a valid ExtendedContentOverlayIconGlyph: ",""]);h=function(){return a};return a}function a(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.MEDIA_LABEL:return"media_label";case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.POST_LABEL:return"post_label";case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.WARNING:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE:default:d("WALogger").ERROR(h(),a);return"warning_screens"}}g.convertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType=a}),98);
__d("InformTreatmentTitle",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({MISINFORMATION:"misinformation",FALSE_NEWS:"false_news",MISLEADING_NEWS:"misleading_news",MISSING_CONTEXT:"missing_context",ALTERED_MEDIA:"altered_media",AI_GENERATED_CONTENT:"ai_generated_content"});c=a;f["default"]=c}),66);
__d("MWXIconEyeCross",["MWXSvgIcon","SVGIcon","cr:12408","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12408")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconInfoCircle",["MWXSvgIcon","SVGIcon","cr:12467","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12467")),c("gkx")("23219"));g["default"]=a}),98);
__d("MessengerWellbeingInformTreatmentFalcoEventLogger",["$InternalEnum","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MwbCmInformTreatmentEventFalcoEvent").__setRef("MessengerWellbeingInformTreatmentFalcoEventLogger"),i=c("requireDeferred")("MwbInformTreatmentShownImpressionFalcoEvent").__setRef("MessengerWellbeingInformTreatmentFalcoEventLogger");e=b("$InternalEnum")({AI_GENERATED_CONTENT:"ai_generated_content",MISINFORMATION:"misinformation"});function a(a){var b=babelHelpers["extends"]({},a);h.onReady(function(a){return a.log(function(){return babelHelpers["extends"]({},b)})})}function d(a){var b=babelHelpers["extends"]({},a);i.onReady(function(a){return a.log(function(){return babelHelpers["extends"]({},b)})})}g.MWInformTreatmentEventName=e;g.logForCM=a;g.logForPrivateChats=d}),98);
__d("useMWInformTreatmentFalcoEventLogger",["I64","Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","MWLSThread","MessengerWellbeingInformTreatmentFalcoEventLogger","ReQL","ReQLSuspense","useCommunityFolder","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){var b=a.message,e=(j||(j=c("useReStore")))(),g=d("MWLSThread").useThreadExn(b.threadKey);a=c("useCommunityFolder")(g);var k=(a=a==null?void 0:a.fbGroupId)!=null?a:(h||(h=d("I64"))).zero,l=d("LSMessagingThreadTypeUtil").isPublicCMThread(g.threadType),m=d("LSMessagingThreadTypeUtil").isOpenFnFThread(g),n=!(h||(h=d("I64"))).equal(b.displayedContentTypes,(i||(i=d("LSIntEnum"))).ofNumber(1)),o=d("ReQLSuspense").useFirst(function(){return n?d("ReQL").fromTableAscending(e.tables.attachments).getKeyRange(b.threadKey,b.messageId):d("ReQL").empty()},[n,e.tables.attachments,b.threadKey,b.messageId],f.id+":63");return d("Int64Hooks").useCallbackInt64(function(a,c){if(l)d("MessengerWellbeingInformTreatmentFalcoEventLogger").logForCM({attachment_id:o==null?void 0:o.attachmentFbid,event_name:a,group_id:(h||(h=d("I64"))).to_string(k),inform_treatment:c!=null?{name:c.name,type:c.type}:void 0,is_forward:b.isForwarded,message_id:b.messageId,thread_id:h.to_string(b.threadKey),thread_subtype:g.threadSubtype!=null?(i||(i=d("LSIntEnum"))).unwrapIntEnum(g.threadSubtype):void 0});else if(m&&a==="impression"){d("MessengerWellbeingInformTreatmentFalcoEventLogger").logForPrivateChats({inform_treatment_name:c!=null?c==null?void 0:c.name:void 0,inform_treatment_type:(a=c==null?void 0:c.type)!=null?a:void 0,thread_type:(i||(i=d("LSIntEnum"))).unwrapIntEnum(g.threadType)})}},[o==null?void 0:o.attachmentFbid,k,m,l,b.isForwarded,b.messageId,b.threadKey,g.threadSubtype,g.threadType])}g["default"]=a}),98);
__d("MWInformedTreatment.react",["fbt","FDSBlurredBackgroundImage.react","LSMessagingThreadTypeUtil","MWXColumn.react","MWXColumnItem.react","MWXIconEyeCross","MWXIconInfoCircle","MWXIconStrict.react","MWXImage.react","MWXText.react","MessengerWebUXLogger","ReQL","ReQLSuspense","gkx","qex","react","useMWInformTreatmentFalcoEventLogger","useMergeRefs","useReStore","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={overlay:{paddingTop:"xexx8yu",paddingEnd:"x1iji9kk",paddingBottom:"x18d9i69",paddingStart:"x1sln4lm",width:"xh8yej3",$$css:!0},post:{flexGrow:"x1iyjqo2",height:"x5yr21d",objectFit:"xl1xv1r",width:"xh8yej3",$$css:!0}},m={AI_GENERATED_CONTENT:{icon:c("MWXIconInfoCircle"),text:h._(/*BTDS*/"__JHASH__grx-CiLu-4Q__JHASH__")},ALTERED_MEDIA:{icon:c("MWXIconEyeCross"),text:h._(/*BTDS*/"__JHASH__m5P-u-BSHgt__JHASH__")},ALTERED_PHOTO:{icon:c("MWXIconEyeCross"),text:h._(/*BTDS*/"__JHASH__MMwXoLKk349__JHASH__")},CRUEL:{icon:c("MWXIconEyeCross"),text:h._(/*BTDS*/"__JHASH__i1O1Uvt1vZ6__JHASH__")},FALSE_NEWS:{icon:c("MWXIconInfoCircle"),text:h._(/*BTDS*/"__JHASH__MnSycojlY-Q__JHASH__")},MISLEADING_NEWS:{icon:c("MWXIconInfoCircle"),text:h._(/*BTDS*/"__JHASH__CYwjewQWzi8__JHASH__")},MISSING_CONTEXT:{icon:c("MWXIconInfoCircle"),text:h._(/*BTDS*/"__JHASH__RL7VH1G5kZU__JHASH__")},SENSITIVE:{icon:c("MWXIconEyeCross"),text:h._(/*BTDS*/"__JHASH__sovQqayBAJd__JHASH__")},VIOLENCE:{icon:c("MWXIconEyeCross"),text:h._(/*BTDS*/"__JHASH__sovQqayBAJd__JHASH__")}},n=h._(/*BTDS*/"__JHASH__zDjOAdn9yE8__JHASH__");function a(a,b,e,f){if(f==null||a==null||b==null||e==null)return!1;b=a==="ai_generated_content";e=f!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(f);a=f!=null&&d("LSMessagingThreadTypeUtil").isPublicCMThread(f);if(b)return c("qex")._("1581")===!0;else return e||a}function o(a){switch(a){case"ai_generated_content":return"ai_generated_content";case"misinformation":return"misleading_news";case"misleading_news":return"missing_context";case"missing_context":return"altered_media";case"altered_media":return"altered_media";case"false_news":return"false_news";default:return null}}function b(a){var b=a.dimension,e=a.gatingTitle,g=a.gatingType,h=a.isXMA,j=h===void 0?!1:h,p=a.mediaRenderQpl,q=a.messageId;h=a.previewUrl;var r=h===void 0?"":h,s=a.xstyle,t=(i||(i=c("useReStore")))();h=d("ReQLSuspense").useFirstExn(function(){return d("ReQL").fromTableAscending(t.tables.messages.index("messageId")).getKeyRange(q)},[t,q],f.id+":252");var u=c("gkx")("23219"),v=function(a){var b=Object.keys(m).find(function(b){return b===a.toUpperCase()});return b},w=function(a){var b;a=v(a);return a==null||((b=m[a])==null?void 0:b.icon)==null?c("MWXIconEyeCross"):m[a].icon},x=function(a){var b;a=v(a);return a==null||((b=m[a])==null?void 0:b.text)==null?null:m[a].text};a=function(a){switch(a){case"warning_screens":return k.jsx("div",babelHelpers["extends"]({className:"xtzzx4i x10l6tqk xwa60dl x11lhmoz xh8yej3"},{children:k.jsxs(c("MWXColumn.react"),{spacing:12,verticalAlign:"center",children:[k.jsx(c("MWXColumnItem.react"),{align:"center",children:k.jsx(c("MWXIconStrict.react"),{color:"white",icon:w(e),size:32})}),k.jsx(c("MWXColumnItem.react"),{children:k.jsx(c("MWXText.react"),{align:"center",color:"white",numberOfLines:1,type:u?"bodyLink3":"bodyLink4",children:x(e)})}),j?k.jsx(c("MWXColumnItem.react"),{children:k.jsx(c("MWXText.react"),{align:"center",color:"white",type:u?"meta3":"meta4",children:n})}):null]})}));case"media_label":case"post_label":return k.jsxs("div",babelHelpers["extends"]({className:"x6s0dn4 x1gevrdp x1fk37vd xdy0ngz xqb0rpr x1tp0a3f x107yiy2 xv8uw2v x1tfwpuw x2g32xy x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi x178xt8z xm81vs4 xso031l xy80clv xe80o0v x1ihrfj4 x78zum5 x10w6t97 x1k3u6ij xyqdw3p x1iji9kk xg8j3zb x16hj40l x10l6tqk xpse7mg x1tk7jg1 xuxw1ft x1vvkbs"},{children:[k.jsx(c("MWXIconStrict.react"),{color:"white",icon:w(e),size:24}),k.jsx(c("MWXText.react"),{align:"center",color:"white",type:u?"bodyLink3":"bodyLink4",children:x(e)})]}));default:return null}};var y=function(a){switch(a){case"warning_screens":case"media_label":case"post_label":return a;default:return null}},z=function(a){switch(a){case"media_label":case"post_label":return k.jsx("div",{style:b,children:k.jsx(c("MWXImage.react"),{alt:"",onError:function(){return p==null?void 0:p.endFail("load-image-error")},onLoad:function(){return p==null?void 0:p.endSuccess()},src:r,xstyle:l.post})});case"warning_screens":default:return k.jsxs("div",{style:b,children:[k.jsx(c("FDSBlurredBackgroundImage.react"),{alt:"",onError:function(){return p==null?void 0:p.endFail("load-image-error")},onLoad:function(){return p==null?void 0:p.endSuccess()},src:r,xstyle:[l.post,s,l.overlay]}),k.jsx("div",{className:"x18l40ae x1ey2m1c xtea3wc xds687c x17qophe x47corl x10l6tqk x13vifvy"})]})}},A=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"inform_treatment_chat_impression"}),B=c("useMWInformTreatmentFalcoEventLogger")({message:h});h=c("useSinglePartialViewImpression")({onImpressionStart:function(){var a=o(e),b=y(g.toLocaleLowerCase());a!=null&&b!=null&&B("impression",{name:a,type:b})}});A=c("useMergeRefs")(A,h);return k.jsxs("div",babelHelpers["extends"]({className:"x78zum5 x5yr21d x1n2onr6 xh8yej3"},{ref:A,children:[z(g.toLocaleLowerCase()),a(g.toLocaleLowerCase())]}))}b.displayName=b.name+" [from "+f.id+"]";g.checkIsInformedTreatmentVisible=a;g.getEventTitle=o;g.MWInformedTreatment=b}),226);
__d("MWXIconHd",["MWXSvgIcon","SVGIcon","cr:12459","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12459")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXMessageImage.react",["BaseImage.react","FDSBlurredBackgroundImage.react","MWXAspectRatioContainer.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={container:function(a){return[{maxWidth:a==null?null:"x10cxd3o",$$css:!0},{"--maxWidth":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]},image:{display:"x1lliihq",maxWidth:"x193iq5w",$$css:!0}};function a(a){var b=a.children,d=a.height,e=a.maxHeight,f=a.maxWidth,g=a.renderImagePlaceholder,i=a.shouldBlur,l=a.width,m=a.xstyle,n=babelHelpers.objectWithoutPropertiesLoose(a,["children","height","maxHeight","maxWidth","renderImagePlaceholder","shouldBlur","width","xstyle"]);a=l==null||d==null?j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.container(f)),{children:(a=g==null?void 0:g())!=null?a:j.jsx(c("BaseImage.react"),babelHelpers["extends"]({},n,{objectFit:"contain",style:{maxHeight:e+"px"},xstyle:k.image}))})):j.jsx(c("MWXAspectRatioContainer.react"),{height:d,maxHeight:e,maxWidth:f,width:l,children:function(a){var b;return(b=g==null?void 0:g())!=null?b:i!==!0?j.jsx(c("BaseImage.react"),babelHelpers["extends"]({height:d,width:l,xstyle:a},n)):j.jsx(c("FDSBlurredBackgroundImage.react"),babelHelpers["extends"]({xstyle:a},n))}});return j.jsxs("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(m),{children:[a,b]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageListImage.react",["LSMessagingThreadTypeUtil","MAWConvertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType","MWInformedTreatment.react","MWLSThread","MWXIconHd","MWXIconStrict.react","MWXImage.react","MWXMessageBubbleCornerStyles.react","MWXMessageImage.react","MWXPressable.react","MWXThreadThemeColor","ReQL","ReQLSuspense","gkx","qex","react","stylex","useMWInformTreatmentFalcoEventLogger","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;var l=b.useCallback,m=b.useState,n={appAttr:{alignItems:"x6s0dn4",borderBottomWidth:"xso031l",borderTopColor:"x1pdss0j",borderEndColor:"xtcpoma",borderBottomColor:"x81c4ja",borderStartColor:"x8g6rb3",borderEndWidth:"xm81vs4",borderStartWidth:"xy80clv",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x972fbf",boxSizing:"x9f619",display:"x78zum5",lineHeight:"x1rfph6h",paddingTop:"x1iorvi4",paddingEnd:"xsyo7zv",paddingBottom:"xjkvuk6",paddingStart:"x16hj40l",$$css:!0},appIcon:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xlup9mm",marginEnd:"x1w0mnb",objectFit:"x19kjcj4",width:"x1kky2od",$$css:!0},hdOverlay:function(a){return[{end:(a==="end"?"10px":void 0)==null?null:"x8bvjq0",position:"x10l6tqk",start:(a==="start"?"10px":void 0)==null?null:"x1ws1act",left:null,right:null,top:"xuivejd",$$css:!0},{"--end":(a==="end"?"10px":void 0)!=null?a==="end"?"10px":void 0:void 0,"--start":(a==="start"?"10px":void 0)!=null?a==="start"?"10px":void 0:void 0}]},hdOverlayContainer:function(a,b){return[{height:(a!=null?a+"px":"100%")==null?null:"x1f5funs",position:"x10l6tqk",start:"xtzzx4i",left:null,right:null,top:"xwa60dl",transform:"x11lhmoz",width:(b!=null?b+"px":"100%")==null?null:"x1bl4301",$$css:!0},{"--height":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a!=null?a+"px":"100%"),"--width":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(b!=null?b+"px":"100%")}]},pressable:{alignItems:"x6s0dn4",display:"x78zum5",flexShrink:"xs83m0k",justifyContent:"xl56j7k",maxHeight:"xmz0i5r",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function o(a){var b=a.attachment,e=a.connectBottom,f=a.connectTop,g=a.outgoing;a=a.xstyle;g=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:g===!0?"right":"left",connectBottom:e,connectTop:f,flatten:"top"});e=b;f=e.attributionAppName;if(f==null)return null;b=e.attributionAppIcon;return k.jsxs("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(n.appAttr,a,g),{children:[b!=null?k.jsx(c("MWXImage.react"),{alt:"",src:b,xstyle:n.appIcon}):null,k.jsx("span",babelHelpers["extends"]({className:"xzsf02u x1nxh6w3 x13faqbe"},{children:f}))]}))}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.attachment,e=a.overlayAlign;e=e===void 0?"end":e;var f=a.overlayHeight;a=a.overlayWidth;b=b;b=b.isHd===!0;return!b?null:k.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(n.hdOverlayContainer(f,a)),{children:k.jsx("div",babelHelpers["extends"]({},h.props(n.hdOverlay(e)),{"data-testid":void 0,children:k.jsx(c("MWXIconStrict.react"),{color:d("MWXThreadThemeColor").mwxThreadThemeColor("rgba(255,255,255,0.7)"),icon:c("MWXIconHd"),size:18})}))}))}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b=a.attachment,e=a.height,g=a.setIsBlurredImageVisible;a=a.width;var h=(i||(i=c("useReStore")))(),j=d("ReQLSuspense").useFirstExn(function(){return d("ReQL").fromTableAscending(h.tables.messages.index("messageId")).getKeyRange(b.messageId)},[b.messageId,h],f.id+":170"),l=c("useMWInformTreatmentFalcoEventLogger")({message:j});j=(j=d("MWLSThread").useThread(b.threadKey,function(a){return{isSecureThread:d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),threadType:a.threadType}}))!=null?j:{isSecureThread:!1,threadType:null};var m=j.isSecureThread;j=j.threadType;var o=b.gatingTitle,p=b.gatingType,q=b.previewUrl;j=d("MWInformedTreatment.react").checkIsInformedTreatmentVisible(o,p,q,j);if(p==null||o==null||!j)return null;j=p==="warning_screens";m=m?d("MAWConvertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType").convertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType(parseInt(p,10)):p;p=k.jsx(d("MWInformedTreatment.react").MWInformedTreatment,{dimension:{height:e+"px",width:a!=null?a+"px":"100%"},gatingTitle:o,gatingType:m,mediaRenderQpl:null,messageId:b.messageId,previewUrl:q});return j?k.jsx(c("MWXPressable.react"),{onPress:function(){var a=d("MWInformedTreatment.react").getEventTitle(o);g(!0);a!=null&&l("tap_to_reveal",{name:a,type:"warning_screens"})},overlayRadius:"normal",xstyle:n.pressable,children:p}):p}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b=a.attachment,e=a.connectBottom,f=a.connectTop,g=a.outgoing,h=a.overlayAlign,i=a.overlayHeight,j=a.overlayWidth,r=a.xstyle,s=babelHelpers.objectWithoutPropertiesLoose(a,["attachment","connectBottom","connectTop","outgoing","overlayAlign","overlayHeight","overlayWidth","xstyle"]);a=b.attributionAppName!=null;a=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:g===!0?"right":"left",connectBottom:e,connectTop:f,flatten:a===!0?"bottom":"none"});var t=m(!1),u=t[0],v=t[1];t=(t=d("MWLSThread").useThread(b.threadKey,function(a){return d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)||d("LSMessagingThreadTypeUtil").isPublicCMThread(a.threadType)}))!=null?t:!1;var w=c("gkx")("179"),x=b.gatingTitle==="misinformation"||b.gatingTitle==="misleading_news"||b.gatingTitle==="missing_context"||b.gatingTitle==="missing_context"||b.gatingTitle==="altered_media"||b.gatingTitle==="false_news";x=x&&w;w=!u&&b.gatingTitle!=null&&b.gatingType!=null&&t&&!x;u=l(function(){var a=s.height,c=s.maxHeight,d=s.maxWidth,e=s.width;return k.jsx(q,{attachment:b,height:a!=null?Math.min(a,c):c,setIsBlurredImageVisible:v,width:e!=null&&d!=null?Math.min(e,d):(a=e)!=null?a:d})},[b,s]);return k.jsxs(c("MWXMessageImage.react"),babelHelpers["extends"]({renderImagePlaceholder:w?u:void 0,xstyle:[n.root,r,a]},s,{children:[k.jsx(o,{attachment:b,connectBottom:e,connectTop:f,outgoing:g,xstyle:r}),c("qex")._("256")===!0&&k.jsx(p,{attachment:b,overlayAlign:h,overlayHeight:i,overlayWidth:j})]}))}a.displayName=a.name+" [from "+f.id+"]";g.MWPMessageListImageAppAttribution=o;g.MWPMessageListImage=a}),98);
__d("MWV2AttachmentProgressBar.react",["MWV2ComposerMediaProgressBar.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.attachment.offlineAttachmentId,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return b!=null?d("ReQL").fromTableAscending(e.tables.media_staging).getKeyRange(b):d("ReQL").empty()},[b],f.id+":24");return a!=null&&a.isSent?j.jsx(c("MWV2ComposerMediaProgressBar.react"),{height:5,mediaStaging:a}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWMediaViewerOpenQPLLogger",["qpl","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback,j=c("requireDeferred")("QPLUserFlow").__setRef("useMWMediaViewerOpenQPLLogger"),k=c("qpl")._(25298743,"1403"),l=6e3*10;function a(){var a=i(function(a){var b=a.attachmentType,c=a.entryPoint;a=a.isSecure;var d={attachmentType:b,entryPoint:c,isSecure:((b=a)!=null?b:!1).toString()};j.onReadyImmediately(function(a){a.start(k,{annotations:{string:babelHelpers["extends"]({},d)},cancelOnUnload:!0,timeoutInMs:l})})},[]),b=i(function(a){j.onReadyImmediately(function(b){b.endSuccess(k,{annotations:a})})},[]),c=i(function(a){j.onReadyImmediately(function(b){b.endCancel(k,{cancelReason:a})})},[]);return{endCancel:c,endSuccess:b,startFlow:a}}g.useMWMediaViewerOpenQPLLogger=a}),98);
__d("useMWMessageListAttachmentDimensions",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a,b){return i(function(){var c=b.previewWidthLarge,d=b.previewHeightLarge;return c!=null&&d!=null&&a==="Inbox"?[c,d]:[b.previewWidth,b.previewHeight]},[a,b])}g["default"]=a}),98);
__d("useMWV2FocusRowAfterClosingPushView",["MWV2MessageRowIsRowFocusedContext.react","react","useCometRouterState","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useLayoutEffect;function a(){var a=i(d("MWV2MessageRowIsRowFocusedContext.react").context),b=a.isDialogOpened,e=a.setIsDialogOpened,f=a.setFocused;a=c("useCometRouterState")();var g;if(a==null)g=0;else{a=a.pushViewStack;g=a==null?0:a.length}var h=c("usePrevious")(g);j(function(){if(h!=null){b===!0&&h>0&&g===0&&(e(function(){return!1}),f(function(){return!0}));return}},[b,h,g]);return e}g["default"]=a}),98);
__d("MWV2MediaViewerContainer.react",["MessengerBlurpleLogoSvg.react","UNTRANSLATED_STRING_FIXME","XMessengerDotComCometRootControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.actions,d=a.children;a=a.shouldShowMessengerLogo;return i.jsxs("div",babelHelpers["extends"]({className:"x1qjc9v5 xal61yo x9f619 x78zum5 xdt5ytf x1iyjqo2 x5yr21d x6ikm8r x10wlt62 x1n2onr6 x87ps6o xh8yej3 x1uvtmcs"},{"data-testid":void 0,children:[d,i.jsx("div",babelHelpers["extends"]({className:"x16q8cke x10l6tqk x1tk7jg1"},{children:((d=a)!=null?d:!1)?i.jsx("a",{"aria-label":c("UNTRANSLATED_STRING_FIXME")("Messenger"),href:c("XMessengerDotComCometRootControllerRouteBuilder").buildURL({}),children:i.jsx(c("MessengerBlurpleLogoSvg.react"),{height:"40",width:"40"})}):null})),i.jsx("div",babelHelpers["extends"]({className:"x92rtbv x10l6tqk x1tk7jg1"},{children:b}))]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MediaViewerControlsFallback.react",["fbt","MWXCircleButton.react","MWXIconCross","MWXRow.react","MWXRowItem.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.onClose;return j.jsx(c("MWXRow.react"),{paddingTop:0,spacing:8,children:j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXCircleButton.react"),{color:"white",icon:c("MWXIconCross"),label:h._(/*BTDS*/"__JHASH__tnRfHlva-bL__JHASH__"),onPress:a,size:36,type:"dark-overlay"})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2MediaViewerFallback.react",["MWV2MediaViewerContainer.react","MWV2MediaViewerControlsFallback.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.onClose;a=a.shouldShowMessengerLogo;return i.jsx(c("MWV2MediaViewerContainer.react"),{actions:i.jsx(c("MWV2MediaViewerControlsFallback.react"),{onClose:b}),shouldShowMessengerLogo:a,children:null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWV2MediaViewerShowDialog",["JSResourceForInteraction","MWV2MediaViewerFallback.react","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function k(a){return i.jsx(c("MWV2MediaViewerFallback.react"),{onClose:a})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWV2MediaViewer.react").__setRef("useMWV2MediaViewerShowDialog"),k),d=b[0],e=b[1];j(function(){a||e()},[e,a]);return[d,e]}g["default"]=a}),98);
__d("XCometMessengerMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("XCometMessengerPhotoControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_photo/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("useMWV2MediaViewerURL",["I64","Int64Hooks","LSIntEnum","MessagingAttachmentType","XCometMessengerMediaControllerRouteBuilder","XCometMessengerPhotoControllerRouteBuilder","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return d("Int64Hooks").useMemoInt64(function(){var b=(h||(h=d("I64"))).equal(a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE));return b&&c("justknobx")._("1284")===!1?c("XCometMessengerPhotoControllerRouteBuilder").buildURL({fbid:a.attachmentFbid,message_id:a.messageId,photo_ids:void 0}):c("XCometMessengerMediaControllerRouteBuilder").buildURL({attachment_id:a.attachmentFbid,message_id:a.messageId,thread_id:h.to_string(a.threadKey)})},[a.threadKey,a.attachmentType,a.messageId,a.attachmentFbid])}g["default"]=a}),98);
__d("MWV2ChatImage.react",["fbt","I64","LSAuthorityLevel","LSIntEnum","MWChatImageInsetShadow.react","MWLSThreadDisplayContext","MWMessageListMediaPressableContainer.react","MWPBumpEntityKey","MWPMessageListImage.react","MWV2AttachmentProgressBar.react","MWV2LogMessageClick","MWXMessageBubbleCornerStyles.react","MessagingAttachmentType","gkx","justknobx","qex","react","useGetMediaGroupInformation","useGetMediaGroupStyles","useMWMediaViewerOpenQPLLogger","useMWMessageListAttachmentDimensions","useMWV2FocusRowAfterClosingPushView","useMWV2MediaViewerShowDialog","useMWV2MediaViewerURL","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));b=l;var n=b.useCallback,o=b.useEffect,p={container:{display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},containerMinHeight:{minHeight:"xe0p6wg",$$css:!0}};function a(a){var b,e,f,g=a.attachment,l=a.connectBottom,q=a.connectTop,r=a.getPreviewUrl,s=a.isGroupedImage,t=a.isSecure,u=a.maxHeight,v=a.maxWidth,w=a.mediaRenderQpl,x=a.message,y=a.navigateToRouteForMediaViewer,z=a.onPressOverride,A=a.outgoing,B=a.renderUnsupportedAttachment,C=a.shouldBlur;a=n(function(){w==null?void 0:w.endFail("load-image-error")},[w]);var D=n(function(){w==null?void 0:w.endSuccess()},[w]),E=(i||(i=c("useReStore")))(),F=(b=y)!=null?b:!0;b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();b=c("useMWMessageListAttachmentDimensions")(b,g);var G=b[0];b=b[1];var H=c("useMWV2MediaViewerURL")(g),I=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:A===!0?"right":"left",connectBottom:l,connectTop:q});e=d("useGetMediaGroupStyles").useGetMediaGroupTileImageRatios(s,(j||(j=d("I64"))).to_float((e=b)!=null?e:(j||(j=d("I64"))).zero),j.to_float((e=G)!=null?e:(j||(j=d("I64"))).zero));var J=e.resizeRatio;e=e.scaleRatio;G=G!=null?(j||(j=d("I64"))).to_float(G)*J:void 0;b=b!=null?(j||(j=d("I64"))).to_float(b)*J:void 0;J=J>1;f=s===!1?u:(J===!0?(f=b)!=null?f:0:u)*e;J=s===!1?v:(J?(J=G)!=null?J:0:v)*e;e=c("gkx")("23009");var K=c("useMWV2FocusRowAfterClosingPushView")();y=c("useMWV2MediaViewerShowDialog")((y=y)!=null?y:!0);var L=y[0],M=y[1],N=c("useGetMediaGroupInformation")(x,t===!0,w);y=d("useMWMediaViewerOpenQPLLogger").useMWMediaViewerOpenQPLLogger();var O=y.startFlow,P=r(g,"MWV2ChatImage",w);o(function(){P!=null&&P.length>0&&(w==null?void 0:w.addPoint("render-chat-image",{bool:{has_blur:C}}))},[w,C,P]);if(P==null||P.length===0){w==null?void 0:w.endFail("empty_preview_url");return B!=null?B(g):null}y=F&&(j||(j=d("I64"))).gt(x.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL))?{passthroughProps:{origSrc:P},url:H}:void 0;r=function(){if(z)z();else{var a;d("MWV2LogMessageClick").log(E,x,28);O({attachmentType:"IMAGE",entryPoint:"thread_view",isSecure:(a=t)!=null?a:!1});K(function(){return!0});N!=null&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.thread","image_group_click_"+N.tileSize+"_tile");if(!F)return L({attachment:g},function(){})}};B=void 0;s===!0&&N!=null&&c("qex")._("512")===!0&&(N.groupSize===2?B=A?N.groupIndex%2===0?"start":"end":N.groupIndex%2===0?"end":"start":N.groupSize===3&&(B=A?N.groupIndex%2===1?"start":"end":N.groupIndex%2===1?"end":"start"));H=g.titleText==null&&(j||(j=d("I64"))).equal(g.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE))&&c("gkx")("5980")?h._(/*BTDS*/"__JHASH__pU-qp0o0-Iv__JHASH__"):h._(/*BTDS*/"__JHASH__mrw3CpFXi7r__JHASH__");return m.jsxs(c("MWMessageListMediaPressableContainer.react"),{attachment:g,disabled:j.le(x.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL)),linkProps_:y,mediaRenderQpl:w,onHoverIn:function(){if(!F)return M()},onPress:r,testid:void 0,xstyle:[p.container,I,c("justknobx")._("2723")&&p.containerMinHeight],children:[m.jsx(d("MWPMessageListImage.react").MWPMessageListImage,{alt:g.titleText!=null&&e?g.titleText:H,attachment:g,connectBottom:l,connectTop:q,height:b,maxHeight:f,maxWidth:J,onError:a,onLoad:D,outgoing:A,overlayAlign:B,overlayHeight:s===!0&&c("qex")._("512")===!0?u:void 0,overlayWidth:s===!0&&c("qex")._("512")===!0?v:void 0,shouldBlur:C,src:P,width:G}),(j||(j=d("I64"))).le(x.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL))?m.jsx(c("MWV2AttachmentProgressBar.react"),{attachment:g}):null,m.jsx(c("MWChatImageInsetShadow.react"),{xstyle:I})]},g.attachmentFbid)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2AttachmentPlaceholderWithBlurImage.react",["CometPlaceholder.react","FDSBlurredBackgroundImage.react","MWV2ChatImage.react","MWXAspectRatioContainer.react","MWXMessageBubbleCornerStyles.react","react","stylex","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={content:{alignItems:"x6s0dn4",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0},dark:{backgroundColor:"xhzw6zf",$$css:!0},gallery:{backgroundPosition:"x1bz1qqp",$$css:!0},light:{backgroundColor:"x1vtvx1t",$$css:!0}};function a(a){var b=a.connectBottom,e=a.connectTop,f=a.dbAttachment,g=a.getPreviewUrl,i=a.hasAppAttribution,m=a.height,n=a.isGroupedImage,o=a.maxHeight,p=a.maxWidth,q=a.mediaRenderQpl,r=a.message,s=a.outgoing,t=a.width,u=a.xstyle,v=c("useCurrentDisplayMode")();m=(a=m)!=null?a:100;t=(a=t)!=null?a:200;var w=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:s===!0?"right":"left",connectBottom:b,connectTop:e,flatten:i===!0?"bottom":"none"}),x=j.jsx(c("MWXAspectRatioContainer.react"),{height:m,maxHeight:(a=o)!=null?a:200,maxWidth:(i=p)!=null?i:480,width:t,children:function(a){return j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props([a,k.content,v==="dark"?k.dark:k.light,w,u]),{"data-testid":void 0}))}});return j.jsx("div",babelHelpers["extends"]({className:"x47corl"},{children:r!=null?j.jsx(c("CometPlaceholder.react"),{fallback:x,name:"MWV2AttachmentErrorPlaceholderWithBlurImage",children:j.jsx(c("MWV2ChatImage.react"),{attachment:f,connectBottom:b,connectTop:e,getPreviewUrl:g,isGroupedImage:n,isSecure:!0,maxHeight:(a=o)!=null?a:m,maxWidth:(i=p)!=null?i:t,mediaRenderQpl:null,message:r,navigateToRouteForMediaViewer:!1,outgoing:s,renderUnsupportedAttachment:function(){return x},shouldBlur:!0})}):j.jsx(c("CometPlaceholder.react"),{fallback:x,name:"MWV2AttachmentErrorPlaceholderWithBlurImage",children:j.jsx(l,{dbAttachment:f,fallback:x,getPreviewUrl:g,heightCalculated:m,maxHeight:o,maxWidth:p,mediaRenderQpl:q,widthCalculated:t})})}))}a.displayName=a.name+" [from "+f.id+"]";function l(a){var b=a.dbAttachment,d=a.fallback,e=a.getPreviewUrl,f=a.heightCalculated,g=a.maxHeight,h=a.maxWidth,i=a.mediaRenderQpl;a=a.widthCalculated;var l=e(b,"MWV2AttachmentErrorPlaceholderWithBlurImage.react",i);return l!=null?j.jsx(c("MWXAspectRatioContainer.react"),{height:f,maxHeight:g,maxWidth:h,width:a,children:function(a){return j.jsx(c("FDSBlurredBackgroundImage.react"),{src:l,xstyle:[a,k.gallery]})}}):d}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AttachmentErrorPlaceholderWithBlurImage.react",["MAWVideoAudioPlaybackErrorHandlerUtils","MWV2AttachmentPlaceholderWithBlurImage.react","MWXIconExclamationMarkCircle","MWXIconStrict.react","MWXText.react","MWXTooltip.react","MediaDownloadStatusIconSize","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useEffect,l={galleryMediaStatusIcon:{height:"xxk0z11",width:"xvy4d1p",$$css:!0},nonRetryableError:{alignItems:"x6s0dn4",backgroundColor:"x18l40ae",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",color:"x14ctfv",display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},threadMediaStatusIcon:{height:"xdd8jsf",width:"xvni27",$$css:!0}};function a(a){var b=a.connectBottom,e=a.connectTop,f=a.dbAttachment,g=a.getPreviewUrl,i=a.hasAppAttribution,m=a.height,n=a.iconSize,o=a.isGroupedImage,p=a.maxHeight,q=a.maxWidth,r=a.mediaRenderQpl,s=a.message,t=a.outgoing,u=a.width,v=a.withTooltip;a=a.xstyle;k(function(){r==null?void 0:r.addPoint("render-error-placeholder-with-blur-image",{bool:{has_message:s!=null}})},[r,s]);var w=d("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(f,!1),x=w.mediaStatusText;w=w.retryButton;n=j.jsxs(j.Fragment,{children:[j.jsx("div",babelHelpers["extends"]({className:"xtzzx4i x10l6tqk xwa60dl x11lhmoz x1vjfegm"},{children:j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props([l.nonRetryableError,n===c("MediaDownloadStatusIconSize").Large?l.threadMediaStatusIcon:l.galleryMediaStatusIcon]),{"data-testid":void 0,children:j.jsx(c("MWXIconStrict.react"),{color:"white",icon:c("MWXIconExclamationMarkCircle"),size:n===c("MediaDownloadStatusIconSize").Large?24:12})}))})),j.jsx(c("MWV2AttachmentPlaceholderWithBlurImage.react"),{connectBottom:b,connectTop:e,dbAttachment:f,getPreviewUrl:g,hasAppAttribution:i,height:m,isGroupedImage:o,maxHeight:p,maxWidth:q,mediaRenderQpl:r,message:s,outgoing:t,width:u,xstyle:a})]});return v===!0?j.jsx(c("MWXTooltip.react"),{label:x,tooltip:j.jsxs(c("MWXText.react"),{color:"tooltip",type:"meta4",children:[x,w]}),children:n}):n}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AttachmentRetriableErrorPlaceholderWithBlurImage.react",["fbt","MAWVideoAudioPlaybackErrorHandlerUtils","MWV2AttachmentPlaceholderWithBlurImage.react","MWXIconRefreshAlt","MWXIconStrict.react","MWXPressable.react","MWXText.react","MWXTooltip.react","MediaDownloadStatusIconSize","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useEffect,l={buttonLarge:{height:"xdd8jsf",marginTop:"xuqeo79",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"xbuoto1",width:"xvni27",$$css:!0},buttonSmall:{height:"xxk0z11",marginTop:"x7wgvq7",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x16hk5td",width:"xvy4d1p",$$css:!0},circleButton:{backgroundColor:"x18l40ae",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",opacity:"x1hc1fzr",$$css:!0},container:{alignItems:"x6s0dn4",cursor:"x1ypdohk",display:"x78zum5",start:"xtzzx4i",left:null,right:null,justifyContent:"xl56j7k",position:"x10l6tqk",top:"xwa60dl",$$css:!0}};function a(a){var b=a.connectBottom,e=a.connectTop,f=a.dbAttachment,g=a.getPreviewUrl,i=a.hasAppAttribution,m=a.height,n=a.iconSize,o=a.isGroupedImage,p=a.maxHeight,q=a.maxWidth,r=a.mediaRenderQpl,s=a.message,t=a.onRetry,u=a.outgoing,v=a.width,w=a.withTooltip;a=a.xstyle;k(function(){r==null?void 0:r.addPoint("render-error-placeholder-with-blur-image",{bool:{has_message:s!=null,is_retryable_error:!0}})},[r,s]);var x=d("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(f,!0,t),y=x.mediaStatusText;x=x.retryButton;t=j.jsxs(j.Fragment,{children:[j.jsx("div",babelHelpers["extends"]({className:"xtzzx4i x10l6tqk xwa60dl x11lhmoz x1vjfegm"},{children:j.jsx(c("MWXPressable.react"),{display:"inline",label:h._(/*BTDS*/"__JHASH__BGxC_0TtXwE__JHASH__"),onPress:t,testid:void 0,xstyle:[l.circleButton,l.container,n===c("MediaDownloadStatusIconSize").Large&&l.buttonLarge,n===c("MediaDownloadStatusIconSize").Small&&l.buttonSmall],children:j.jsx(c("MWXIconStrict.react"),{color:"white",icon:c("MWXIconRefreshAlt"),size:n===c("MediaDownloadStatusIconSize").Large?24:12})})})),j.jsx(c("MWV2AttachmentPlaceholderWithBlurImage.react"),{connectBottom:b,connectTop:e,dbAttachment:f,getPreviewUrl:g,hasAppAttribution:i,height:m,isGroupedImage:o,maxHeight:p,maxWidth:q,mediaRenderQpl:r,message:s,outgoing:u,width:v,xstyle:a})]});return w===!0?j.jsx(c("MWXTooltip.react"),{label:y,tooltip:j.jsxs(c("MWXText.react"),{color:"tooltip",type:"meta4",children:[y,x]}),children:t}):t}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MAWSecureImageAttachmentContent.react",["CometHeroHoldTrigger.react","CometPlaceholder.react","MAWThreadViewAttachmentStateHandlerContent.react","MWLSThreadDisplayContext","MWMessageListImageSizingUtils","MWV2AttachmentErrorPlaceholderV2.react","MWV2AttachmentErrorPlaceholderWithBlurImage.react","MWV2AttachmentLoadingPlaceholder.react","MWV2AttachmentRetriableErrorPlaceholderWithBlurImage.react","MWV2ChatImage.react","MediaDownloadStatusIconSize","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=a.attachmentsFromGroupToRetry,e=a.connectBottom,f=a.connectTop,g=a.dbAttachment,h=a.getPreviewUrl,k=a.isGroupedImage,l=a.mediaRenderQpl,m=a.message,n=a.onPressOverride,o=a.outgoing,p=a.previewHeight,q=a.previewWidth;j(function(){l==null?void 0:l.addPoint("render-image-attachment")},[l]);a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();a=d("MWMessageListImageSizingUtils").getMaxPreviewHeightAndWidth(!0,(a=a)!=null?a:void 0,k);var r=a.maxHeight,s=a.maxWidth;if(m==null||g==null)return i.jsxs(i.Fragment,{children:[i.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:e,connectTop:f,descriptionForLogging:"MAWSecureImageAttachmentContent.NoMedia",hasAppAttribution:(g==null?void 0:g.attributionAppName)!=null,height:p,maxHeight:r,maxWidth:s,mediaRenderQpl:l,outgoing:o,width:q}),i.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWSecureImageAttachmentContent.NoMedia",hold:!0})]});var t=function(a,b){return i.jsx(c("MWV2AttachmentErrorPlaceholderV2.react"),{attachment:g,connectBottom:e,connectTop:f,hasAppAttribution:g.attributionAppName!=null,height:p,iconSize:c("MediaDownloadStatusIconSize").Large,isRetryableError:a,maxHeight:r,maxWidth:s,mediaRenderQpl:l,onRetry:b,outgoing:o,width:q})};a=function(a,b){return a?i.jsx(c("MWV2AttachmentRetriableErrorPlaceholderWithBlurImage.react"),{connectBottom:e,connectTop:f,dbAttachment:g,getPreviewUrl:h,height:p,iconSize:c("MediaDownloadStatusIconSize").Large,isGroupedImage:k,maxHeight:r,maxWidth:s,mediaRenderQpl:l,message:m,onRetry:b,outgoing:o,width:q}):i.jsx(c("MWV2AttachmentErrorPlaceholderWithBlurImage.react"),{connectBottom:e,connectTop:f,dbAttachment:g,getPreviewUrl:h,height:p,iconSize:c("MediaDownloadStatusIconSize").Large,isGroupedImage:k,maxHeight:r,maxWidth:s,mediaRenderQpl:l,message:m,outgoing:o,width:q})};var u=function(a){return m==null?a("MAWSecureImageAttachmentContentV2.NoMessage",!1):i.jsx(c("CometPlaceholder.react"),{fallback:a("MAWSecureImageAttachmentContentV2.Suspense",!0),name:"MAWSecureImageAttachmentContentV2.Suspense",children:i.jsx(c("MWV2ChatImage.react"),{attachment:g,connectBottom:e,connectTop:f,getPreviewUrl:h,isGroupedImage:k,isSecure:!0,maxHeight:r,maxWidth:s,mediaRenderQpl:l,message:m,navigateToRouteForMediaViewer:!1,onPressOverride:n,outgoing:o,renderUnsupportedAttachment:function(){return t(!1)}})})};return i.jsx(c("MAWThreadViewAttachmentStateHandlerContent.react"),{attachmentsFromGroupToRetry:b,connectBottom:e,connectTop:f,dbAttachment:g,descriptionForLogging:"MAWSecureImageAttachmentContentV2",errorComponentRenderer:t,errorWithBlurComponentRenderer:a,mediaRenderQpl:l,outgoing:o,placeholderHeight:p,placeholderMaxHeight:r,placeholderMaxWidth:s,placeholderWidth:q,successfulComponentRenderer:u})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWAnimatedImageControlsUtil",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("9265")}g.shouldEnableGIFPlayPause=a}),98);
__d("MWAnimatedImageThumbnailWithPlayButton.react",["MAWAttachmentBlob.react","MAWImageUtils","MWLSThreadDisplayContext","MWMessageListImageSizingUtils","MWPMessageListImage.react","MWV2AttachmentLoadingPlaceholder.react","MWV2LogMessageClick","MWVideoPlayerPlayButton.react","MWXAspectRatioContainer.react","MWXImage.react","MWXMessageBubbleCornerStyles.react","MWXPressable.react","asyncToGeneratorRuntime","promiseDone","react","useAsyncReStore","useMWMediaViewerOpenQPLLogger","useMWV2FocusRowAfterClosingPushView","useMWV2MediaViewerShowDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useCallback,k=e.useEffect,l=e.useState,m={imageWithAppAttribution:{borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",bottom:"x1ey2m1c",position:"x1n2onr6",$$css:!0},wrapperForAppAttribution:{marginBottom:"x1ibc7va",$$css:!0}};function a(a){var e=a.altText,f=a.connectBottom,g=a.connectTop,h=a.dbAttachment,n=a.isInThread,o=a.isSecure,p=a.mediaRenderQpl,q=a.message,r=a.onPlay,s=a.onPress,t=a.outgoing,u=a.previewHeight,v=a.previewWidth,w=a.sourceURL,x=c("useAsyncReStore")();a=l(null);var y=a[0],z=a[1],A=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();a=d("MWMessageListImageSizingUtils").getMaxPreviewHeightAndWidth((a=o)!=null?a:!0,(o=A)!=null?o:void 0,!1);o=a.maxHeight;a=a.maxWidth;var B=j(function(){p==null?void 0:p.endSuccess({bool:{thumbnail_generated_for_gif:!0}})},[p]),C=j(function(){p==null?void 0:p.endFail("gif-thumbnail-render-failed")},[p]),D=c("useMWV2FocusRowAfterClosingPushView")(),E=c("useMWV2MediaViewerShowDialog")(!1),F=E[0];E=d("useMWMediaViewerOpenQPLLogger").useMWMediaViewerOpenQPLLogger();var G=E.startFlow;k(function(){var a=null;function c(){return e.apply(this,arguments)}function e(){e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){p==null?void 0:p.addPoint("gif-thumbnail-generation-started");var b=null;if(h==null&&w!=null)b=w;else try{(h==null?void 0:h.previewUrl)!=null?b=h==null?void 0:h.previewUrl:h!=null&&(b=d("MAWAttachmentBlob.react").getAttachmentBlob(h,"gifToBlob",p))}catch(a){return null}if(b==null)return null;b=(yield d("MAWImageUtils").generateGIFThumbnail(b,u,v));p==null?void 0:p.addPoint("gif-thumbnail-generation-completed");if(b!=null){p==null?void 0:p.addPoint("gif-thumbnail-generation-completed-successfully");b=new Blob([b.jpegThumbnail]);a=URL.createObjectURL(b);z(a)}});return e.apply(this,arguments)}c()["catch"](function(){p==null?void 0:p.endFail("gif-thumbnail-generation-failed"),z(null)});return function(){a!=null&&URL.revokeObjectURL(a)}},[h,p,u,v,w]);E=function(){q!=null&&c("promiseDone")(x,function(a){d("MWV2LogMessageClick").log(a,q,28)});G({attachmentType:"IMAGE",entryPoint:"thread_view",isSecure:!0});D(function(){return!0});if(h!=null)return F({attachment:h},function(){})};var H=(h==null?void 0:h.attributionAppName)!=null;if(y==null)return i.jsxs(c("MWXPressable.react"),{display:"block",onPress:n===!0?E:s,xstyle:H&&m.wrapperForAppAttribution,children:[i.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:f,connectTop:g,descriptionForLogging:"MAWSecureGIFAttachment.NoGIFThumbnail",hasAppAttribution:H,hasCornerStyles:n===!0,height:u,maxHeight:n===!0?o:u,maxWidth:n===!0?a:v,mediaRenderQpl:p,outgoing:t,width:v,xstyle:H&&m.imageWithAppAttribution}),h!=null&&H&&n===!0&&i.jsx("div",{className:"x1f1lzrh x10l6tqk xh8yej3",children:i.jsx(d("MWPMessageListImage.react").MWPMessageListImageAppAttribution,{attachment:h,connectBottom:f,connectTop:g,outgoing:t})}),i.jsx(c("MWVideoPlayerPlayButton.react"),{isVisible:!0,onClick:r,size:A==="Inbox"?"LARGE":"SMALL"})]});if(y!=null&&u!=null&&v!=null){var I=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:t===!0?"right":"left",connectBottom:f,connectTop:g});return i.jsx(c("MWXPressable.react"),{display:"block",onPress:n===!0?E:s,xstyle:H&&m.wrapperForAppAttribution,children:i.jsx(c("MWXAspectRatioContainer.react"),{height:u,maxHeight:n===!0?o:u,maxWidth:n===!0?a:v,width:v,children:function(a){var b;return i.jsxs(i.Fragment,{children:[i.jsx(c("MWXImage.react"),{alt:(b=h==null?void 0:h.accessibilitySummaryText)!=null?b:e,height:u,onError:C,onLoad:B,src:y,width:v,xstyle:[a,n===!0&&I,H&&m.imageWithAppAttribution]}),i.jsx(c("MWVideoPlayerPlayButton.react"),{isVisible:!0,onClick:r,size:A==="Inbox"?"LARGE":"SMALL"}),h!=null&&H&&n===!0&&i.jsx("div",{className:"x1f1lzrh x10l6tqk xh8yej3",children:i.jsx(d("MWPMessageListImage.react").MWPMessageListImageAppAttribution,{attachment:h,connectBottom:f,connectTop:g,outgoing:t})})]})}})})}return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWAnimatedImageAttachment.react",["MAWSecureImageAttachmentContent.react","MWAnimatedImageControlsUtil","MWAnimatedImageThumbnailWithPlayButton.react","MWLSThreadDisplayContext","MWMessageListImageSizingUtils","MWV2ChatImage.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useState;function a(a){var b=a.connectBottom,e=a.connectTop,f=a.dbAttachment,g=a.getPreviewUrl,h=a.isSecure,k=a.mediaRenderQpl,l=a.message,m=a.outgoing,n=a.previewHeight,o=a.previewWidth;a=a.renderUnsupportedAttachment;var p=d("MWAnimatedImageControlsUtil").shouldEnableGIFPlayPause(),q=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();q=d("MWMessageListImageSizingUtils").getMaxPreviewHeightAndWidth(h,(q=q)!=null?q:void 0,!1);var r=q.maxHeight;q=q.maxWidth;var s=j(!1),t=s[0],u=s[1];return p&&t===!1?i.jsx(c("MWAnimatedImageThumbnailWithPlayButton.react"),{connectBottom:b,connectTop:e,dbAttachment:f,isInThread:!0,isSecure:h,mediaRenderQpl:k,message:l,onPlay:function(){return u(!0)},outgoing:m,previewHeight:n,previewWidth:o}):h?i.jsx(c("MAWSecureImageAttachmentContent.react"),{connectBottom:b,connectTop:e,dbAttachment:f,getPreviewUrl:g,mediaRenderQpl:k,message:l,onPressOverride:p?function(){u(!1)}:void 0,outgoing:m,previewHeight:n,previewWidth:o}):i.jsx(c("MWV2ChatImage.react"),{attachment:f,connectBottom:b,connectTop:e,getPreviewUrl:g,isGroupedImage:!1,maxHeight:r,maxWidth:q,mediaRenderQpl:k,message:l,navigateToRouteForMediaViewer:!1,onPressOverride:p?function(){u(!1)}:void 0,outgoing:m,renderUnsupportedAttachment:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPAudioHighlightStylesHooks",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo,j={incoming:{backgroundColor:"x1arowe1",opacity:"x1ptxcow",$$css:!0},outgoing:{backgroundColor:"x14hiurz",opacity:"xz5rk10",$$css:!0},root:{transform:"x5i6ehr",$$css:!0}};function a(a){return i(function(){return[j.root,a?j.outgoing:j.incoming]},[a])}g.useHighlightStyles=a}),98);
__d("MWPAudioPlayerIcons.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.color;return i.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:i.jsx("path",{d:"M10 25.5v-15a1.5 1.5 0 012.17-1.34l15 7.5a1.5 1.5 0 010 2.68l-15 7.5A1.5 1.5 0 0110 25.5z",fill:a})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){a=a.color;return i.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:i.jsx("rect",{fill:a,height:"18",rx:"2",width:"18",x:"9",y:"9"})})}b.displayName=b.name+" [from "+f.id+"]";function c(a){a=a.color;return i.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:i.jsx("path",{d:"M11 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4zM21 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4z",fill:a})})}c.displayName=c.name+" [from "+f.id+"]";g.PlayIcon=a;g.StopIcon=b;g.PauseIcon=c}),98);
__d("MWPAudioPlaybackThreadContext.react",["I64","Int64Hooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));c=h;e=c.createContext;var k=c.useContext;c={threadKey:(i||(i=d("I64"))).zero};var l=e(c);function a(){return k(l).threadKey}function b(a){var b=a.children,c=a.threadKey;a=d("Int64Hooks").useMemoInt64(function(){return{threadKey:c}},[c]);return j.jsx(l.Provider,{value:a,children:b})}b.displayName=b.name+" [from "+f.id+"]";g.useMWPAudioPlaybackThreadKey=a;g.MWPAudioPlaybackThreadContextProvider=b}),98);
__d("MWPAudioPlaybackContext.react",["fbt","$InternalEnum","I64","Int64Hooks","MWPAudioPlaybackThreadContext.react","Promise","ReQL","ReQLSuspense","asyncToGeneratorRuntime","bx","clearTimeout","emptyFunction","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=k||(k=d("react")),n=k,o=n.createContext,p=n.useCallback,q=n.useContext,r=n.useEffect,s=n.useMemo,t=n.useRef,u=n.useState,v=b("$InternalEnum")({SLOW:.5,NORMAL:1,FAST:1.5,DOUBLE:2});function w(a){var b=new Audio();b.preload="auto";b.src=a;b.load();return b}function x(){return w(c("bx").getURL(c("bx")("577")))}function y(a){var b=Array.from(v.members()),c=b.findIndex(function(b){return b===a});c=c+1;return b[c%b.length]}function z(a){return h._(/*BTDS*/"__JHASH__T0e3ZJkGlxz__JHASH__",[h._param("playback rate",a,[0])])}z.displayName=z.name+" [from "+f.id+"]";n={activeAudio:null,activeMessageId:null,activeThreadKey:(l||(l=d("I64"))).zero,addMessageId:c("emptyFunction"),addNextPlayableUrl:c("emptyFunction"),clearActiveAudio:c("emptyFunction"),clearNextPlayableUrl:c("emptyFunction"),getMessageId:c("emptyFunction"),getNewOrExistingAudio:w,getNewOrExistingAudioWithRetry:function(){return(j||(j=b("Promise"))).resolve(w(""))},getNextPlayableUrl:c("emptyFunction"),maybeGetExistingAudio:c("emptyFunction"),onChangePlaybackRate:c("emptyFunction"),playbackRateLabel:z(v.NORMAL),setUseOutOfChatPlayback:c("emptyFunction")};var A=o(n);function a(a,b,c,e,f){var g=q(A),h=g.activeAudio,i=g.activeThreadKey,j=g.addMessageId,k=g.addNextPlayableUrl,m=g.clearNextPlayableUrl,n=g.getNewOrExistingAudio,o=g.setUseOutOfChatPlayback,p=d("MWPAudioPlaybackThreadContext.react").useMWPAudioPlaybackThreadKey();d("Int64Hooks").useEffectInt64(function(){if(!f||(l||(l=d("I64"))).is_zero(i)||(l||(l=d("I64"))).is_zero(p))return;o(!(l||(l=d("I64"))).equal(i,p));return function(){o((l||(l=d("I64"))).equal(i,p))}},[h,i,o,f,p]);return d("Int64Hooks").useMemoInt64(function(){if(a!=null&&a!==""){var d;d=a.concat((d=c)!=null?d:"");c!=null&&j(d,c);if(!f)return w(a);if(b!=null&&b!==""){var g;g=b.concat((g=e)!=null?g:"");k(d,g);e!=null&&j(g,e)}else m(d);return n(a,p,c)}},[j,k,m,n,c,e,b,a,f,p])}function e(a,c,e,f,g){var h=q(A),i=h.activeAudio,j=h.activeThreadKey,k=h.addMessageId,m=h.addNextPlayableUrl,n=h.clearNextPlayableUrl,o=h.getNewOrExistingAudioWithRetry,p=h.maybeGetExistingAudio,r=h.setUseOutOfChatPlayback,s=d("MWPAudioPlaybackThreadContext.react").useMWPAudioPlaybackThreadKey();d("Int64Hooks").useEffectInt64(function(){if(!g||(l||(l=d("I64"))).is_zero(j)||(l||(l=d("I64"))).is_zero(s))return;r(!(l||(l=d("I64"))).equal(j,s));return function(){r((l||(l=d("I64"))).equal(j,s))}},[i,j,r,g,s]);h=u(function(){var b;return(b=p(a,e))!=null?b:null});i=h[0];var t=h[1];d("Int64Hooks").useEffectInt64(function(){var d=function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(a!=null&&a!==""){var b;b=a.concat((b=e)!=null?b:"");e!=null&&k(b,e);if(!g){t(w(a));return}if(c!=null&&c!==""){var d;d=c.concat((d=f)!=null?d:"");m(b,d);f!=null&&k(d,f)}else n(b);d=(yield o(a,s,e));t(d);return}});return function(){return d.apply(this,arguments)}}();d()["catch"](function(){})},[k,m,n,o,e,f,c,a,g,s]);return i}function B(){var a=q(A),b=a.onChangePlaybackRate;a=a.playbackRateLabel;return[a,b]}function C(){var a=q(A),b=a.activeAudio,e=a.activeMessageId,g=a.activeThreadKey,h=a.clearActiveAudio,j=a.clearNextPlayableUrl,k=a.getMessageId;a=a.getNextPlayableUrl;var l=(i||(i=c("useReStore")))(),m=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(l.tables.threads).getKeyRange(g)},[l,g],f.id+":303"),n=b==null?void 0:b.src;e=n==null?void 0:n.concat((n=e)!=null?n:"");var o=e==null?null:a(e);n=d("ReQLSuspense").useFirst(function(){var a=o==null?null:k(o);return a==null?d("ReQL").empty():d("ReQL").fromTableAscending(l.tables.messages.index("messageId"),["isUnsent"]).getKeyRange(a).filter(function(a){return!a.isUnsent})},[l,k,o],f.id+":313");e!=null&&o!=null&&n==null&&j(e);return[b,h,m]}function D(a){a=a.children;var e=t(new Map()),f=t(new Map()),g=t([]),h=t(new Map()),i=t(new Set());r(function(){var a=g.current;return function(){while(a.length>0){var b=a.pop(),c=b[0],d=b[1];b=b[2];c.removeEventListener(d,b);c.pause()}}},[]);var k=u(v.NORMAL),n=k[0],o=k[1],q=s(function(){return z(n)},[n]);k=u((l||(l=d("I64"))).zero);var B=k[0],C=k[1];k=u(null);var D=k[0],E=k[1];k=u(null);var F=k[0],G=k[1];k=u(!1);var H=k[0],I=k[1],J=(F==null?void 0:F.paused)===!1,K=s(function(){return H&&J?F:null},[F,J,H]),L=p(function(a,b){h.current.set(a,b)},[]),M=p(function(a){return h.current.get(a)},[]),N=p(function(){G(function(a){a!=null&&a.pause();return null}),E(null)},[]),O=p(function(a){f.current["delete"](a)},[]),P=p(function(a,b,c){var d,i=a.concat((d=c)!=null?d:""),j=(d=e.current.get(i))!=null?d:w(a);j.playbackRate=n;d=function(a,b){j.addEventListener(a,b),g.current.push([j,a,b])};a=function(){var a=f.current.get(i);if(a!=null){var b=e.current.get(a),c=h.current.get(a);if(b!=null&&b.paused)return void x().play().then(function(){G(b);E(c);return b.play()["catch"](function(){G(null),E(null)})})}G(null);E(null)};d("ended",a);a=function(){for(var a of e.current.values())a!==j&&a.pause();G(j);E(c);C(b)};d("playing",a);e.current.set(i,j);return j},[n]),Q=p(function(a,b,c){var d,i=a.concat((d=c)!=null?d:""),j=(d=e.current.get(i))!=null?d:w(a);j.playbackRate=n;d=function(a,b){j.addEventListener(a,b),g.current.push([j,a,b])};a=function(){var a=f.current.get(i);if(a!=null){var b=e.current.get(a),c=h.current.get(a);if(b!=null&&b.paused)return void x().play().then(function(){G(b);E(c);return b.play()["catch"](function(){G(null),E(null)})})}G(null);E(null)};d("ended",a);a=function(){for(var a of e.current.values())a!==j&&a.pause();G(j);E(c);C(b)};d("playing",a);e.current.set(i,j);return j},[n]),R=p(function(a,d,f){var g=new(j||(j=b("Promise")))(function(b,g){var h=Q(a,d,f),j=a.concat((g=f)!=null?g:""),k=window.setTimeout(function(){h.readyState===0&&!i.current.has(j)&&(i.current.add(j),e.current["delete"](j),b(Q(a,d,f)))},2e3);h.addEventListener("durationchange",function(){c("clearTimeout")(k),b(h)})});return g},[Q]),S=p(function(a){return f.current.get(a)},[]),T=p(function(){o(function(a){a=y(a);for(var b of e.current.values())b.playbackRate=a;return a})},[]),U=p(function(a,b){f.current.set(a,b)},[]),V=p(function(a,b){if(a==null)return;b=a.concat((a=b)!=null?a:"");return e.current.get(b)},[]);k=d("Int64Hooks").useMemoInt64(function(){return{activeAudio:K,activeMessageId:D,activeThreadKey:B,addMessageId:L,addNextPlayableUrl:U,clearActiveAudio:N,clearNextPlayableUrl:O,getMessageId:M,getNewOrExistingAudio:P,getNewOrExistingAudioWithRetry:R,getNextPlayableUrl:S,maybeGetExistingAudio:V,onChangePlaybackRate:T,playbackRateLabel:q,setUseOutOfChatPlayback:I}},[K,D,L,B,U,N,O,M,P,R,S,T,q,V]);return m.jsx(A.Provider,{value:k,children:a})}D.displayName=D.name+" [from "+f.id+"]";g.useMWPAudioPlaybackElement=a;g.useMWPAudioPlaybackElementWithRetry=e;g.useMWPAudioPlaybackRate=B;g.useMWPAudioOutOfChatPlayback=C;g.MWPAudioPlaybackContextProvider=D}),226);
__d("MWPAudioPlayerUtils",["fbt","$InternalEnum","MWLSThreadDisplayContext","MWMediaRenderQplUtils","MWPAudioPlaybackContext.react","MWResponsiveLayoutContext.react","cancelAnimationFrame","getErrorNameFromMediaErrorCode","gkx","promiseDone","react","requestAnimationFrameAcrossTransitions","useMatchViewport","useStable"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i,l=k.createContext,m=k.useCallback,n=k.useContext,o=k.useEffect,p=k.useRef,q=k.useState,r=b("$InternalEnum").Mirrored(["PLAYER","RECORDER"]),s=l(r.PLAYER),t=c("gkx")("24145");function u(){var a=n(s);return t&&a===r.PLAYER}function a(a,b){if(b==null)return 0;b=b.getBoundingClientRect();var c=b.left;b=b.width;a=a.clientX-c;c=b>0&&a>0?a/b:0;return v(c,0,1)}function v(a,b,c){return Math.min(Math.max(b,a),c)}function e(a){var b=a.currentTime;a=a.duration;return j.jsx("div",{"aria-label":h._(/*BTDS*/"__JHASH__cCPjPb_WWZb__JHASH__"),"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Math.floor((a=b)!=null?a:0),role:"slider",style:{position:"absolute"},tabIndex:0})}e.displayName=e.name+" [from "+f.id+"]";function w(){var a=u();return a?{marginLeft:12,marginRight:12}:{marginLeft:6,marginRight:6}}function x(a){return m(function(b){var c=a.current;if(c!=null){b.stopPropagation();return c.updateHighlight(0)}},[a])}function y(a,b,d,e,f,g){f===void 0&&(f=!1);var h=p();o(function(){var d=function(a){var b=h.current;if(b!=null)return b.updateHighlight(a)};if(g){f?d(100):d(0);return}if(e){var i={contents:void 0},j,k=function e(f){var g;if(b.current!=null)g=b.current.currentTime/b.current.duration;else{var h=i.contents,k=0;h!=null?k=f-h:i.contents=f;g=k/(a*1e3)}h=Math.min(g*100,100);d(h);if(h<100){j=c("requestAnimationFrameAcrossTransitions")(e);return}};j=c("requestAnimationFrameAcrossTransitions")(k);return function(){j!=null&&c("cancelAnimationFrame")(j)}}if(b.current!=null){k=b.current.currentTime/b.current.duration;d(k*100)}},[a,e,g,h,b,f,d]);return h}var z=b("$InternalEnum").Mirrored(["ENDED","LOADING","NONE","PAUSED","PLAYING"]);function A(a,b,c,e,f,g,h,i){var j=u();a=d("MWPAudioPlaybackContext.react").useMWPAudioPlaybackElement(a,b,c,e,j);return C(a,j,f,g,h,i)}function B(a,b,c,e,f,g,h,i){var j=u();a=d("MWPAudioPlaybackContext.react").useMWPAudioPlaybackElementWithRetry(a,b,c,e,j);return C(a,j,f,g,h,i)}function C(a,b,e,f,g,h){var i=c("useStable")(function(){return e}),j=p(a),k=q(z.NONE),l=k[0],n=k[1];k=q(function(){var b;return(b=a==null?void 0:a.currentTime)!=null?b:0});var r=k[0],s=k[1];o(function(){if(a==null){n(z.NONE);h==null?void 0:h.addAnnotations({string:{audio_initial_state:"none"}});return}a.ended?(n(z.ENDED),h==null?void 0:h.addAnnotations({string:{audio_initial_state:"ended"}})):n(function(){if(a.paused){h==null?void 0:h.addAnnotations({string:{audio_initial_state:"paused"}});return z.PAUSED}h==null?void 0:h.addAnnotations({string:{audio_initial_state:"playing"}});return z.PLAYING});s(a.currentTime);j.current=a},[a,h]);o(function(){var a=j.current;h==null?void 0:h.addPoint("render-audio-player-controller",{bool:{has_audio:a!=null},"int":{audio_ready_state:a==null?void 0:a.readyState},string:{audio_duration_bucket:a!=null?d("MWMediaRenderQplUtils").convertDurationToStringBucket(a.duration):null}});if(a==null)return;var e=function(a){a=a.currentTarget;a=a.error;var b=c("getErrorNameFromMediaErrorCode")(a==null?void 0:a.code);h==null?void 0:h.endFail("load-audio-error",{string:{audio_error_message:a==null?void 0:a.message,audio_error_name:b}})},f=function(){h==null?void 0:h.endSuccess()},g=function(){n(z.PAUSED),h==null?void 0:h.addPoint("audio-paused",{"int":{audio_ready_state:a.readyState}})},i=function(){n(z.PLAYING),h==null?void 0:h.addPoint("audio-played",{"int":{audio_ready_state:a.readyState}})},k=function(){n(z.LOADING),h==null?void 0:h.addPoint("load-start",{"int":{audio_ready_state:a.readyState}})},l=function(){j.current!=null&&s(j.current.currentTime)},m=function(){j.current!=null&&(j.current.currentTime=0,s(0)),n(z.ENDED)},o=function(){h==null?void 0:h.addPoint("audio-duration-change",{"int":{audio_ready_state:a.readyState}})},p=function(){h==null?void 0:h.addPoint("loaded-metadata",{"int":{audio_ready_state:a.readyState}})},q=function(){h==null?void 0:h.addPoint("loaded-data",{"int":{audio_ready_state:a.readyState}})},r=function(){j.current=a,g(),h==null?void 0:h.addPoint("can-play",{"int":{audio_ready_state:a.readyState}}),f()},t=function(){h==null?void 0:h.addPoint("can-play-through",{"int":{audio_ready_state:a.readyState}})},u=function(){h==null?void 0:h.addPoint("audio-aborted",{"int":{audio_ready_state:a.readyState}})},v=function(){h==null?void 0:h.addPoint("audio-stalled",{"int":{audio_ready_state:a.readyState}})},w=function(){h==null?void 0:h.addPoint("audio-suspended",{"int":{audio_ready_state:a.readyState}})},x=function(){h==null?void 0:h.addPoint("audio-emptied",{"int":{audio_ready_state:a.readyState}})};a!=null&&a.readyState>=2&&f();a.addEventListener("loadstart",k);a.addEventListener("timeupdate",l);a.addEventListener("playing",i);a.addEventListener("pause",g);a.addEventListener("ended",m);a.addEventListener("error",e);a.addEventListener("durationchange",o);a.addEventListener("loadedmetadata",p);a.addEventListener("loadeddata",q);a.addEventListener("canplay",r);a.addEventListener("canplaythrough",t);a.addEventListener("stalled",v);a.addEventListener("suspend",w);a.addEventListener("abort",u);a.addEventListener("emptied",x);return function(){a.removeEventListener("loadstart",k),a.removeEventListener("timeupdate",l),a.removeEventListener("playing",i),a.removeEventListener("pause",g),a.removeEventListener("ended",m),a.removeEventListener("error",e),a.removeEventListener("durationchange",o),a.removeEventListener("loadedmetadata",p),a.removeEventListener("loadeddata",q),a.removeEventListener("canplay",r),a.removeEventListener("canplaythrough",t),a.removeEventListener("stalled",v),a.removeEventListener("suspend",w),a.removeEventListener("abort",u),a.removeEventListener("emptied",x),b||a.pause()}},[a,h,b]);k=m(function(){var a=j.current;if(a==null)return;switch(l){case z.NONE:case z.LOADING:return;case z.ENDED:case z.PAUSED:c("promiseDone")(a.play(),function(){return n(z.PLAYING)},function(a){i(),h==null?void 0:h.addAnnotations({string:{"play-error":a.name}})});h==null?void 0:h.addPoint("audio-play-clicked",{"int":{audio_ready_state:a.readyState}});return;case z.PLAYING:a.pause();n(z.PAUSED);h==null?void 0:h.addPoint("audio-pause-clicked",{"int":{audio_ready_state:a.readyState}});return}},[h,i,l]);var t=m(function(a){var b=j.current;if(b==null)return;b.currentTime=a;s(a)},[]);return[l,r,j,k,y(g,j,r,l===z.PLAYING,f,l===z.ENDED),t]}function D(){var a=d("MWPAudioPlaybackContext.react").useMWPAudioOutOfChatPlayback(),b=a[0],e=a[1];a=a[2];var f=q(function(){if(b==null)return z.NONE;return b.ended?z.ENDED:b.paused?z.PAUSED:z.PLAYING}),g=f[0],h=f[1];f=q(function(){return b!=null?b.duration-b.currentTime:0});var i=f[0],j=f[1];o(function(){if(b==null)return;var a=function(){return j(b.duration-b.currentTime)},d=function(){return h(z.LOADING)},e=function(){return h(z.ENDED)};b.addEventListener("timeupdate",a);b.addEventListener("loadstart",d);b.addEventListener("ended",e);c("promiseDone")(b.play(),function(){return h(z.PLAYING)});return function(){b.removeEventListener("timeupdate",a),b.removeEventListener("loadstart",d),b.removeEventListener("ended",e)}},[b]);f=m(function(){if(b==null)return;switch(g){case z.NONE:case z.LOADING:return;case z.ENDED:case z.PAUSED:c("promiseDone")(b.play(),function(){return h(z.PLAYING)});return;case z.PLAYING:b.pause();h(z.PAUSED);return}},[b,g]);return[a,g===z.PLAYING,b!=null&&a!=null&&t,i,f,e]}function E(a,b){var e=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),f=n(c("MWResponsiveLayoutContext.react"));f=f.cardsVisible;var g=c("useMatchViewport")("max","width",750),h=c("useMatchViewport")("max","width",1060),i=!1;g&&f===2?i=!0:h&&f===3&&(i=!0);return((g=a)!=null?g:e==="Inbox")?i?180:218:e==="ChatTab"&&b===!0?148:180}function F(a){var b=u();return b&&a===r.PLAYER?70:36}g.UseCase=r;g.UseCaseContext=s;g.isEnabled=t;g.useShowNewUX=u;g.getMousePos=a;g.ScreenReaderLabel=e;g.usePlaybackButtonContainerStyle=w;g.useResetHighlightProgress=x;g.useProgressLiveUpdate=y;g.State=z;g.useControlCenter=A;g.useControlCenterWithRetry=B;g.useOutOfChatControlCenter=D;g.useCalculatePlayerWidth=E;g.useCalculatePlayerHeight=F}),226);
__d("MWPAudioPlaybackIcon.react",["MWPAudioPlayerIcons.react","MWPAudioPlayerUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.disabled,c=a.hasEnded,e=a.isPaused,f=a.isPlaying;a=a.outgoing;var g=d("MWPAudioPlayerUtils").useShowNewUX();g=g?a?"var(--always-white)":"var(--progress-ring-neutral-foreground)":a?"var(--chat-outgoing-message-bubble-background-color)":void 0;if(f)return i.jsx(d("MWPAudioPlayerIcons.react").PauseIcon,{color:g});return e||c||b?i.jsx(d("MWPAudioPlayerIcons.react").PlayIcon,{color:g}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPAudioPlayerSharedStyles",[],(function(a,b,c,d,e,f,g){"use strict";a={bar:{backgroundColor:"x14hiurz",borderTopStartRadius:"x1inr27j",borderTopEndRadius:"x1vcqv9c",borderBottomEndRadius:"xfrm7hi",borderBottomStartRadius:"xpbad92",boxShadow:"x49dmcg",height:"xn3w4p2",position:"x10l6tqk",top:"xwa60dl",transform:"x1cb1t30",width:"x51ohtg",zIndex:"x1vjfegm",$$css:!0},common:{alignItems:"x6s0dn4",alignSelf:"xkh2ocl",backgroundAttachment:"x1nr1p0w",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"x1qughib",outline:"x1k4qllp",$$css:!0},commonIncoming:{backgroundColor:"x1xr0vuk",$$css:!0},commonOutgoing:{backgroundColor:"x11jlvup",$$css:!0},commonOutgoingReply:{backgroundImage:"xl54vp5",$$css:!0},commonReply:{outline:"x1ucz5p",$$css:!0},container:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"x1qughib",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},highlight:{height:"x5yr21d",start:"x17qophe",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0},incomingWaveFormStyle:{fill:"x1f9y4dh",$$css:!0},mask:{height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0},outgoingWaveFormStyle:{fill:"xe3v8dz",$$css:!0},playbackButtonContainer:{marginStart:"x1mnrxsn",marginEnd:"x1w0mnb",marginLeft:null,marginRight:null,$$css:!0},pressable:{alignItems:"x6s0dn4",backgroundColor:"x14hiurz",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",height:"xxk0z11",justifyContent:"xl56j7k",minWidth:"xnei2rj",$$css:!0},rightSideBottom:{backgroundColor:"x14hiurz",borderTopStartRadius:"xfj52jq",borderTopEndRadius:"xykzs3s",borderBottomEndRadius:"x17xv1ja",borderBottomStartRadius:"x1mvicbb",$$css:!0},rightSideImprove:{marginStart:"x16n37ib",marginEnd:"xq8finb",marginLeft:null,marginRight:null,width:"x1691je0",$$css:!0},rightSideMargin:{marginTop:"x1gslohp",$$css:!0},rightSideTop:{alignItems:"x6s0dn4",color:"x1a3ma36",display:"x78zum5",fontSize:"x1nxh6w3",fontWeight:"x1s688f",height:"xi0exxh",justifyContent:"xl56j7k",marginStart:"x1mnrxsn",marginEnd:"x1w0mnb",marginLeft:null,marginRight:null,position:"x1n2onr6",userSelect:"x87ps6o",width:"x1r9kitl",$$css:!0},scrubber:{alignItems:"x6s0dn4",display:"x78zum5",height:"x5yr21d",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},transparent:{height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6","::after_borderTopColor":"x14617ij","::after_borderEndColor":"x1b5s2of","::after_borderBottomColor":"xv84cap","::after_borderStartColor":"x15ngzmr","::after_borderTopStartRadius":"xwuuf8d","::after_borderTopEndRadius":"xpd6q6o","::after_borderBottomEndRadius":"x1n6g0fn","::after_borderBottomStartRadius":"xu4xob7","::after_borderTopStyle":"xynf4tj","::after_borderEndStyle":"xdspwft","::after_borderBottomStyle":"x1r9ni5o","::after_borderStartStyle":"x1d52zm6","::after_borderTopWidth":"x1gnji40","::after_borderEndWidth":"xymhjbi","::after_borderBottomWidth":"x1ekxc0f","::after_borderStartWidth":"x5arhyh","::after_bottom":"x14apmda","::after_content":"x100rkj9","::after_display":"xhkezso","::after_end":"xhyvd7x","::after_pointerEvents":"x2q1x1w","::after_position":"x1j6awrg","::after_start":"x1aneyt","::after_left":null,"::after_right":null,"::after_top":"xso615a",$$css:!0},transparentBar:{backgroundColor:"xjbqb8w",borderTopStartRadius:"x1inr27j",borderTopEndRadius:"x1vcqv9c",borderBottomEndRadius:"xfrm7hi",borderBottomStartRadius:"xpbad92",boxShadow:"x49dmcg",height:"xn3w4p2",position:"x10l6tqk",top:"xwa60dl",transform:"x1cb1t30",width:"x51ohtg",zIndex:"x1vjfegm",$$css:!0},waveform:{height:"xn3w4p2",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};g.styles=a}),98);
__d("MWPAudioPlayerButtons.react",["MWPAudioPlaybackContext.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","MWXPressable.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){a=a.outgoing;var b=d("MWPAudioPlayerUtils").useShowNewUX(),e=d("MWPAudioPlaybackContext.react").useMWPAudioPlaybackRate(),f=e[0];e=e[1];if(!b)return null;b=a?"var(--always-white)":"var(--progress-ring-neutral-foreground)";return j.jsx(c("MWXPressable.react"),{onPress:e,overlayDisabled:!0,children:j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.rightSideTop,d("MWPAudioPlayerSharedStyles").styles.rightSideMargin,d("MWPAudioPlayerSharedStyles").styles.rightSideBottom,d("MWPAudioPlayerSharedStyles").styles.rightSideImprove),style:{backgroundColor:"var(--placeholder-text-on-media)",borderRadius:10,color:b},children:f})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.disabled,e=a.icon,f=a.label;a.onHoverMove;a=a.onPress;var g=d("MWPAudioPlayerUtils").useShowNewUX(),h=g?{backgroundColor:"transparent"}:{};return j.jsx(c("MWXPressable.react"),{"aria-label":f,disabled:b,onPress:a,overlayDisabled:g,overlayRadius:"50%",style:h,testid:void 0,xstyle:d("MWPAudioPlayerSharedStyles").styles.pressable,children:e})}b.displayName=b.name+" [from "+f.id+"]";g.PlaybackRateButton=a;g.AudioPlayerPlaybackButton=b}),98);
__d("MWPAudioPlayerLabels",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._(/*BTDS*/"__JHASH__KhMMxBdqg3x__JHASH__");b=h._(/*BTDS*/"__JHASH__2rBFW-RfRDV__JHASH__");c=h._(/*BTDS*/"__JHASH__IubwmxlTNhe__JHASH__");g.playLabel=a;g.stopLabel=b;g.pauseLabel=c}),226);
__d("MWPAudioPlaybackButton.react",["fbt","MWPAudioPlaybackIcon.react","MWPAudioPlayerButtons.react","MWPAudioPlayerLabels","MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","MWXCircleButton.react","MWXIconExclamationMarkCircle","MWXIconRefreshAlt","MWXIconStrict.react","MWXSpinner.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function a(a){var b=a.isError,e=a.isLoading,f=a.isRetryableError,g=a.onPress,j=a.scrubberRef,l=a.disabled,m=a.hasEnded,n=a.isPaused,o=a.isPlaying;a=a.outgoing;var p=d("MWPAudioPlayerUtils").usePlaybackButtonContainerStyle();j=d("MWPAudioPlayerUtils").useResetHighlightProgress(j);var q=o||n;return e?k.jsx("div",{className:(i||(i=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.pressable),onMouseMove:q?j:void 0,style:p,children:k.jsx(c("MWXSpinner.react"),{color:"disabled",size:16})}):k.jsx("div",{onMouseMove:q?j:void 0,style:p,children:b!==!0?k.jsx(d("MWPAudioPlayerButtons.react").AudioPlayerPlaybackButton,{disabled:l,icon:k.jsx(c("MWPAudioPlaybackIcon.react"),{disabled:l,hasEnded:m,isPaused:n,isPlaying:o,outgoing:a}),label:o?d("MWPAudioPlayerLabels").pauseLabel:d("MWPAudioPlayerLabels").playLabel,onPress:g}):f===!0?k.jsx(c("MWXCircleButton.react"),{color:"black",icon:c("MWXIconRefreshAlt"),label:h._(/*BTDS*/"__JHASH__BGxC_0TtXwE__JHASH__"),onPress:g,size:40,type:"normal"}):k.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 xwcfey6 x14yjl9h xudhj91 x18nykt9 xww2gxu x14ctfv x78zum5 x1vqgdyp xl56j7k x100vrsf"},{children:k.jsx(c("MWXIconStrict.react"),{color:"black",icon:c("MWXIconExclamationMarkCircle"),size:20})}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWPAudioPlayerContainer.react",["MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef;function a(a){var b=a.audioEl,e=a.children,f=a.hasScrubber,g=a.mediaRenderQpl,i=a.scrubberRef,m=a.style,n=a.testid,o=a.useCase,p=d("MWPAudioPlayerUtils").useShowNewUX(),q=l();n=function(a){var c=b.current,e=q.current;c!=null&&e!=null&&Number.isFinite(c.duration)&&(c.currentTime=d("MWPAudioPlayerUtils").getMousePos(a,e)*c.duration)};a=function(a){if(q.current!=null&&i.current!=null)return i.current.updateHighlight(d("MWPAudioPlayerUtils").getMousePos(a,q.current)*100)};var r=function(){if(i.current!=null)return i.current.updateHighlight(0)},s=d("MWPAudioPlayerUtils").useCalculatePlayerHeight(o);s=babelHelpers["extends"]({cursor:f?"pointer":"default",height:s},m);m=f&&!p;k(function(){g==null?void 0:g.addPoint("render-audio-player-container",{bool:{show_new_ux:p},string:{use_case:o===d("MWPAudioPlayerUtils").UseCase.PLAYER?"Player":"Recorder"}})},[g,p,o]);return j.jsx(d("MWPAudioPlayerUtils").UseCaseContext.Provider,{value:o,children:j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.container),"data-testid":void 0,onClick:m?n:void 0,onMouseLeave:f?r:void 0,onMouseMove:m?a:void 0,ref:q,style:s,children:e})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPAudioPlayerScrubberBar.react",["fbt","MWPAudioPlayerSharedStyles","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");b=k.forwardRef(a);e=b;function a(a,b){var e=a.xPosition,f=a.currentTime;a=a.duration;return k.jsx("div",{"aria-label":h._(/*BTDS*/"__JHASH__cCPjPb_WWZb__JHASH__"),"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":f,className:(i||(i=c("stylex")))(f===0?d("MWPAudioPlayerSharedStyles").styles.transparentBar:d("MWPAudioPlayerSharedStyles").styles.bar),ref:b,role:"slider",style:{left:e.toFixed(2)+"%"}})}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),226);
__d("MWChatRecorderUtils",["DateConsts"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.reduce(function(a,b){return a+b.length},0)}function a(a){var b=h(a),c=new Float32Array(b);a.reduce(function(a,b){c.set(b,a);return a+b.length},0);return c}function b(a,b){var c=h([a,b]);return new Float32Array(c).map(function(c,d){c=Math.floor(d/2);if(d%2===0)return a[c];else return b[c]})}function i(a,b,c){c.forEach(function(c,d){c=Math.max(-1,Math.min(1,c));d=b+(d<<1);c=c<0?Math.abs(c)*-32768:Math.abs(c)*32767;a.setInt16(d,c,!0)})}function j(a,b,c){Array.from(c).forEach(function(d,e){d=c.charCodeAt(e);a.setUint8(b+e,d)})}function k(a){var b=a.numberOfChannels,c=a.sampleRate;a=a.samples;var d=a.length;d=d<<1;var e=new ArrayBuffer(44+d);e=new DataView(e);j(e,0,"RIFF");e.setUint32(4,36+d,!0);j(e,8,"WAVE");j(e,12,"fmt ");e.setUint32(16,16,!0);e.setUint16(20,1,!0);e.setUint16(22,b,!0);e.setUint32(24,c,!0);e.setUint32(28,c*b*2,!0);e.setUint16(32,b*2,!0);e.setUint16(34,16,!0);j(e,36,"data");e.setUint32(40,d,!0);i(e,44,a);return e}function c(a){var b=a.numberOfChannels,c=a.sampleRate;a=a.samples;b=k({numberOfChannels:b,sampleRate:c,samples:a});return new File([b],"audio_clip.wav",{type:"audio/wav"})}function e(a){var b=a.numberOfChannels,c=a.sampleRate;a=a.samples;var e=Float32Array.BYTES_PER_ELEMENT;a=a.byteLength/e/b;return a/c%d("DateConsts").SEC_PER_MIN}function l(a,b,c){return a+(b-a)*c}function f(a,b){var c=new Array(Math.ceil(b));if(b===0||a.length===0)return c;if(b===a.length)return Array.from(a);if(a.length===1)return c.fill(a[0]);c[0]=a[0];var d=(a.length-1)/(b-1);for(var e=1;e<b;e++){var f=e*d,g=Math.floor(f),h=Math.ceil(f);f=f-g;c[e]=l(a[g],a[h],f)}b>=2&&(c[c.length-1]=a[a.length-1]);return c}function m(a,b,c){var d=Math.min.apply(Math,a),e=Math.max.apply(Math,a),f=e-d,g=c-b;return a.map(function(a){return(a-d)/f*g+b})}g.getTotalBuffersLen=h;g.flattenBuffer=a;g.interleave=b;g.exportWAV=c;g.getAudioDuration=e;g.computeWaveformAmplitudes=f;g.linearConversion=m}),98);
__d("MWPAudioPlayerWaveform.react",["MWChatRecorderUtils","MWPAudioPlayerSharedStyles","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useLayoutEffect,l=b.useMemo,m=b.useRef,n=b.useState,o=Float32Array.of(.5,.1875,.375,.75,.5,1,1,.75,.25,.375,.75,1,1,.5,.75,1,.75,.75,.5,.25,.25,.375,.5,1,.75,.5,.5,.75,.25,.5,.75,1,.5,.25,.75),p=3,q=3,r=44,s=4;function t(a,b){var c=l(function(){return a==null||a===""?o:Float32Array.from(a.split(",").map(Number))},[a]);return l(function(){if(b<=0||c.length===0)return[];var a=Math.floor(b/(q*2));a=d("MWChatRecorderUtils").linearConversion(d("MWChatRecorderUtils").computeWaveformAmplitudes(c,a),s,r);return a.map(function(a,b){a=Math.ceil(a);var c=p,d=q;b=b*q*2;var e="calc(50% - "+a/2+"px)";return{height:a,rx:c,width:d,x:b,y:e}})},[b,c])}function u(a){var b=a.disabled,e=b===void 0?!1:b;b=a.hasEnded;var f=b===void 0?!1:b;b=a.isPlaying;var g=b===void 0?!1:b,i=a.outgoing,l=a.scrubberLeft;b=babelHelpers.objectWithoutPropertiesLoose(a,["disabled","hasEnded","isPlaying","outgoing","scrubberLeft"]);var o=m(null);a=n("auto");var p=a[0],q=a[1];k(function(){var a=o.current;q(function(){if(e)return"var(--disabled-button-text)";var b="auto";(f||g)&&(b=i===!0?"var(--non-media-pressed-on-dark)":"var(--secondary-button-background-on-dark)");if(a==null)return b;var c=a.getBoundingClientRect();c=c.left;return l>c?i===!0?"var(--always-white)":"var(--progress-ring-neutral-foreground)":b})},[e,f,g,i,l]);a=(h||(h=c("stylex")))(i===!0?d("MWPAudioPlayerSharedStyles").styles.outgoingWaveFormStyle:d("MWPAudioPlayerSharedStyles").styles.incomingWaveFormStyle);return j.jsx("rect",babelHelpers["extends"]({},b,{className:a,ref:o,style:{fill:p}}))}u.displayName=u.name+" [from "+f.id+"]";function a(a){var b=a.disabled,e=a.hasEnded,f=a.isListened,g=a.isPlaying,i=a.outgoing,l=a.scrubberLeft;a=a.waveformData;var o=m(null),p=n(0),q=p[0],r=p[1],s=e===!0||f===!0;k(function(){if(o.current!=null){var a=o.current.getBoundingClientRect();r(a.width)}},[]);p=t(a,q);return p.length===0?j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(d("MWPAudioPlayerSharedStyles").styles.waveform),{ref:o})):j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(d("MWPAudioPlayerSharedStyles").styles.waveform),{ref:o,children:j.jsx("svg",babelHelpers["extends"]({"aria-hidden":!0},h.props(d("MWPAudioPlayerSharedStyles").styles.mask),{children:p.map(function(a,c){return j.createElement(u,babelHelpers["extends"]({},a,{disabled:b,hasEnded:s,isPlaying:g,key:c,outgoing:i,scrubberLeft:l}))})}))}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPAudioPlayerHighlight.react",["fbt","MWPAudioPlayerScrubberBar.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","MWPAudioPlayerWaveform.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;var l=e.useImperativeHandle,m=e.useLayoutEffect,n=e.useRef,o=e.useState,p=k.forwardRef(a);function a(a,b){var e=a.audioEl,f=a.children,g=a.disabled,j=a.duration,p=a.hasEnded,r=a.isListened,s=a.isPlaying;s=s===void 0?!0:s;var t=a.onUpdateScrubber,u=a.outgoing,v=a.waveformData;a=a.xstyle;var w=d("MWPAudioPlayerUtils").useShowNewUX(),x=n(),y=n(),z=o(0),A=z[0],B=z[1];z=o(0);var C=z[0],D=z[1];m(function(){if((e==null?void 0:e.current)!=null&&y.current!=null&&j!=null&&j>0){var a=e.current.currentTime,b=y.current;D(q(b,a/j*100))}},[e,j]);l(b,function(){return{updateHighlight:function(a){var b=x.current,c=y.current;if(b==null)return;if(w){if(c!=null){c=q(c,a);D(c)}}else b.style.transform="translateX("+(a-100).toFixed(1)+"%)"}}},[w]);z=function(a){if(x.current!=null){var b,c;b=(b=x.current)==null?void 0:b.getBoundingClientRect();b=(b=b==null?void 0:b.left)!=null?b:0;b=a.clientX-b;c=(c=(c=x.current)==null?void 0:c.offsetWidth)!=null?c:0;B(b/c*100);if(j!=null&&j>0){b=d("MWPAudioPlayerUtils").getMousePos(a,x.current)*j;if(t!=null&&y.current!=null){c=y.current;t(b);D(q(c,b/j*100))}}}};b=Math.floor((b=e==null?void 0:(b=e.current)==null?void 0:b.currentTime)!=null?b:0);if(w){return k.jsxs(k.Fragment,{children:[f,k.jsxs("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(d("MWPAudioPlayerSharedStyles").styles.highlight,d("MWPAudioPlayerSharedStyles").styles.scrubber),{onMouseDownCapture:z,ref:x,children:[k.jsx(c("MWPAudioPlayerScrubberBar.react"),{currentTime:b,duration:(z=e==null?void 0:(f=e.current)==null?void 0:f.duration)!=null?z:0,ref:y,xPosition:A}),k.jsx(c("MWPAudioPlayerWaveform.react"),{disabled:g,hasEnded:p,isListened:r,isPlaying:s,outgoing:u,scrubberLeft:C,waveformData:v})]}))]})}return k.jsx("div",babelHelpers["extends"]({"aria-label":h._(/*BTDS*/"__JHASH__cCPjPb_WWZb__JHASH__"),"aria-valuemax":(z=e==null?void 0:(f=e.current)==null?void 0:f.duration)!=null?z:0,"aria-valuemin":0,"aria-valuenow":b},(i||(i=c("stylex"))).props(d("MWPAudioPlayerSharedStyles").styles.highlight,a),{ref:x,role:"slider"}))}a.displayName=a.name+" [from "+f.id+"]";function q(a,b){a.style.left=b.toFixed(2)+"%";a.style.transition="transform 1s ease-out";b=a.getBoundingClientRect();a=b.left;return a}function b(a){var b=a.disabled,c=a.hasScrubber,e=a.progressHighlightRef,f=a.scrubberRef,g=a.audioEl,h=a.children,i=a.currentTime,j=a.duration,l=a.hasEnded,m=a.isListened,n=a.isPlaying;n=n===void 0?!0:n;var o=a.onUpdateScrubber,q=a.outgoing,r=a.waveformData;a=a.xstyle;var s=d("MWPAudioPlayerUtils").useShowNewUX();return s?k.jsx(p,{audioEl:g,disabled:b,duration:j,hasEnded:l,isListened:m,isPlaying:n,onUpdateScrubber:o,outgoing:q,ref:e,waveformData:r,xstyle:a,children:h}):k.jsxs(k.Fragment,{children:[k.jsx(p,{ref:e,xstyle:a}),c?k.jsx(d("MWPAudioPlayerUtils").ScreenReaderLabel,{currentTime:i,duration:j}):null,k.jsx(p,{ref:f,xstyle:a}),h]})}b.displayName=b.name+" [from "+f.id+"]";g.MWPAudioPlayerHighlightV1=p;g.MWPAudioPlayerHighlightV2=b}),226);
__d("MWPAudioPlayerKeyCommands.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useMemo;function m(a){if(a>30)return 5;else if(a>10)return 3;else if(a>5)return 2;else if(a>2)return 1;else return.5}function a(a){var b=a.audioEl;a=a.children;var d=k(function(){if(b.current==null)return;var a=b.current.duration;b.current.currentTime-=m(a)},[b]),e=k(function(){if(b.current==null)return;var a=b.current.duration;b.current.currentTime+=m(a)},[b]),f=k(function(){b.current!=null&&(b.current.currentTime=0)},[b]),g=k(function(){if(b.current==null)return;var a=b.current.duration;b.current.currentTime=a},[b]),i=l(function(){var a;return[{command:{key:(a=c("CometKeys")).UP},description:h._(/*BTDS*/"__JHASH__0poPtptaPoq__JHASH__"),handler:e},{command:{key:a.DOWN},description:h._(/*BTDS*/"__JHASH__rYkfY7o-Wnk__JHASH__"),handler:d},{command:{key:a.LEFT},description:h._(/*BTDS*/"__JHASH__1Lid3qpGe7D__JHASH__"),handler:d},{command:{key:a.RIGHT},description:h._(/*BTDS*/"__JHASH__SFoCE2wpUn9__JHASH__"),handler:e},{command:{key:a.HOME},description:h._(/*BTDS*/"__JHASH__d6P7X8Ve8io__JHASH__"),handler:f},{command:{key:a.END},description:h._(/*BTDS*/"__JHASH__QXmXaNdkPYM__JHASH__"),handler:g}]},[d,e,f,g]);return j.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:i,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWPAudioPlayerTimer.react",["MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","formatDurationSeconds","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.disabled;b=b===void 0?!1:b;var e=a.outgoing;e=e===void 0?!0:e;a=a.time;var f=d("MWPAudioPlayerUtils").useShowNewUX();b=f?{color:e?b?"var(--disabled-button-text)":"var(--always-white)":b?"var(--disabled-button-text)":"var(--progress-ring-neutral-foreground)"}:{color:e?"var(--chat-composer-button-color)":"var(--always-black)",cursor:"pointer"};return j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.rightSideTop,!f&&d("MWPAudioPlayerSharedStyles").styles.rightSideBottom,f&&d("MWPAudioPlayerSharedStyles").styles.rightSideImprove),"data-testid":void 0,role:"timer",style:b,children:c("formatDurationSeconds")(a)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWNextAttachment",["I64","ReQL","ReQLSuspense","justknobx","qex","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){var e=(i||(i=c("useReStore")))(),g=d("ReQLSuspense").useFirst(function(){var a;c("qex")._("18")?a=d("ReQL").fromTableAscending(e.tables.messages.index("messageDisplayOrderOfflineThreadingId")).getKeyRange(b.threadKey).bounds({gt:d("ReQL").key(b.primarySortKey,b.offlineThreadingId)}):a=d("ReQL").fromTableAscending(e.tables.messages.index("messageDisplayOrder")).getKeyRange(b.threadKey).bounds({gt:d("ReQL").key(b.primarySortKey,b.secondarySortKey)});return a.filter(function(a){return(h||(h=d("I64"))).gt(a.primarySortKey,b.primarySortKey)}).filter(function(a){return a.secondarySortKey==null||b.secondarySortKey==null?!0:(h||(h=d("I64"))).gt((a=a.secondarySortKey)!=null?a:(h||(h=d("I64"))).zero,(a=b.secondarySortKey)!=null?a:(h||(h=d("I64"))).zero)}).filter(function(a){return!a.isUnsent})},[e,b.threadKey,b.primarySortKey,b.secondarySortKey],f.id+":27"),j=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.messages.index("messageId")).bounds({gt:d("ReQL").key(a.messageId)}).filter(function(a){return!a.isUnsent})},[e,a.messageId],f.id+":80"),k=d("ReQLSuspense").useFirst(function(){return c("justknobx")._("2376")?g!=null?d("ReQL").fromTableAscending(e.tables.attachments).getKeyRange(g.threadKey,g.messageId):d("ReQL").empty():j!=null?d("ReQL").fromTableAscending(e.tables.attachments).getKeyRange(j.threadKey,j.messageId):d("ReQL").empty()},[e,g,j],f.id+":88");return k}g["default"]=a}),98);
__d("fetch",[],(function(a,b,c,d,e,f){"use strict";a=window.fetch;b=a;f["default"]=b}),66);
__d("fetchMWPAudioWaveformDataForURL",["AudioContextSingleton","FBLogger","Promise","asyncToGeneratorRuntime","fetch"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){var b=[];for(var c=0;c<a.numberOfChannels;c++)b.push(a.getChannelData(c));a=b.reduce(function(a,b){return a+b.length},0);c=new Float32Array(a);for(a=0;a<b.length;a++)for(var d=0;d<b[a].length;d++)c[d*b.length+a]=b[a][d];return c}function j(a){var d=c("AudioContextSingleton").get();return new(h||(h=b("Promise")))(function(b,c){d.decodeAudioData(a,b,c)})}function a(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a.toString();try{var b=(yield c("fetch")(a));b=(yield b.arrayBuffer());b=(yield j(b));return i(b)}catch(b){c("FBLogger")("messenger_web_media","audio_waveform_error").catching(b).mustfix("Error fetching waveform data for URL: %s",a);return Float32Array.of()}});return k.apply(this,arguments)}g["default"]=a}),98);
__d("useMWAttachmentUpdater",["Int64Hooks","ReQL","asyncToGeneratorRuntime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=a.attachmentFbid,g=a.messageId,i=a.threadKey,j=(h||(h=c("useReStore")))();return d("Int64Hooks").useCallbackInt64(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield j.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=b.attachments;var c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b).getKeyRange(i,g,e)));c!=null&&(yield b.put(babelHelpers["extends"]({},c,a)))});return function(a){return c.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":26")});return function(b){return a.apply(this,arguments)}}(),[j,i,g,e])}g["default"]=a}),98);
__d("useMWPAudioWaveformData.react",["ConstUriUtils","FBLogger","asyncToGeneratorRuntime","fetchMWPAudioWaveformDataForURL","promiseDone","react","useMWAttachmentUpdater"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useCallback,j=e.useEffect,k=e.useState,l=3,m=",",n=["blob:","data:"];function a(a,e){var f=k(a.waveformData),g=f[0],h=f[1],o=c("useMWAttachmentUpdater")(a),p=i(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(e!=null&&e!==""){var a=d("ConstUriUtils").getUri(e);if(a!=null&&n.includes(a.getProtocol())){a=(yield c("fetchMWPAudioWaveformDataForURL")(a));a.length>l&&h(a.join(m))}}}),[e]);j(function(){if(g!=null&&g.length>l)return;c("promiseDone")(p())},[p,g]);j(function(){g!=null&&g.length>l&&g!==a.waveformData&&o({waveformData:g})["catch"](function(a){c("FBLogger")("messenger_web_media","audio_waveform_error").catching(a).mustfix("Error from updating attachment waveform data")})},[a.waveformData,o,g]);return g}g["default"]=a}),98);
__d("useMWPMarkAudioAttachmentAsConsumed.react",["FBLogger","react","useMWAttachmentUpdater"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a,b){var d=c("useMWAttachmentUpdater")(b),e=b.isAttachmentConsumed;i(function(){var b=a==null?void 0:a.current;if(b==null)return;var f=function(){(e==null||e===!1)&&void d({isAttachmentConsumed:!0})["catch"](function(a){c("FBLogger")("messenger_web_media","attachment_update_error").catching(a).mustfix("Error marking attachment as consumed.")})};b.addEventListener("ended",f);return function(){b.removeEventListener("ended",f)}},[a,e,d])}g["default"]=a}),98);
__d("MWAudioPlayer.react",["I64","MWMediaRenderQplUtils","MWPAudioHighlightStylesHooks","MWPAudioPlaybackButton.react","MWPAudioPlayerButtons.react","MWPAudioPlayerContainer.react","MWPAudioPlayerHighlight.react","MWPAudioPlayerKeyCommands.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerTimer.react","MWPAudioPlayerUtils","MWXMessageBubbleCornerStyles.react","react","requireDeferred","stylex","useMAWMediaStatusUIState","useMWNextAttachment","useMWPAudioWaveformData.react","useMWPMarkAudioAttachmentAsConsumed.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));b=i;var l=b.useEffect,m=b.useRef,n=c("requireDeferred")("MWChatAudioLog").__setRef("MWAudioPlayer.react");function o(){n.onReady(function(a){return a.logBrowserDenyAccess()})}function a(a){var b=a.attachment,e=a.connectBottom,f=a.connectTop,g=a.getPlayableUrl,i=a.isReply;i=i===void 0?!1:i;var n=a.isSecure,p=a.mediaRenderQpl,q=a.message,r=a.outgoing,s=a.renderUnsupportedAttachment;a=a.width;var t=b.playableDurationMs,u=(j||(j=d("I64"))).to_float((t=t)!=null?t:(j||(j=d("I64"))).zero)/1e3,v=c("useMWNextAttachment")(b,q);t=n?v:null;n=c("useMAWMediaStatusUIState")(t,p);t=n.downloadStatus;var w=g(b,"MWAudioPlayer",p),x=c("useMWPAudioWaveformData.react")(b,w);n=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:r===!0?"right":"left",connectBottom:e,connectTop:f});e=d("MWPAudioPlayerUtils").useControlCenter(w,v!=null&&(t==null||t==="downloaded")?g(v,"MWAudioPlayer"):void 0,q.messageId,v==null?void 0:v.messageId,o,!1,u,p);f=e[0];t=e[1];g=e[2];var y=e[3],z=e[4];e=e[5];c("useMWPMarkAudioAttachmentAsConsumed.react")(g,b);var A=j.gt((q=q.ephemeralDurationInSec)!=null?q:(j||(j=d("I64"))).zero,j.zero);q=f===d("MWPAudioPlayerUtils").State.NONE;var B=f===d("MWPAudioPlayerUtils").State.PLAYING,C=f===d("MWPAudioPlayerUtils").State.PAUSED,D=f===d("MWPAudioPlayerUtils").State.LOADING;f=f===d("MWPAudioPlayerUtils").State.ENDED;var E=B||C,F=m(),G=d("MWPAudioHighlightStylesHooks").useHighlightStyles(r);a=d("MWPAudioPlayerUtils").useCalculatePlayerWidth(a,A);a={width:a+"px"};var H=E?Math.max(u-t,0):0;l(function(){p==null?void 0:p.addPoint("render-audio-player",{bool:{has_next_attachment:v!=null,has_non_zero_duration:u>0,has_playable_url:Boolean(w),has_waveform:x!=null,is_disappearing_message:A},string:{audio_blob_duration_bucket:d("MWMediaRenderQplUtils").convertDurationToStringBucket(u)}})},[u,A,p,v,w,x]);if(w==null||w.length===0){p==null?void 0:p.endFail("empty_preview_url");if(s!=null)return s(b)}return k.jsx(c("MWPAudioPlayerKeyCommands.react"),{audioEl:g,children:k.jsx(c("MWPAudioPlayerContainer.react"),{audioEl:g,hasScrubber:E,mediaRenderQpl:p,scrubberRef:F,style:a,useCase:d("MWPAudioPlayerUtils").UseCase.PLAYER,testid:void 0,children:k.jsxs("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(d("MWPAudioPlayerSharedStyles").styles.common,n,r?d("MWPAudioPlayerSharedStyles").styles.commonOutgoing:d("MWPAudioPlayerSharedStyles").styles.commonIncoming,i&&d("MWPAudioPlayerSharedStyles").styles.commonReply,r&&i&&d("MWPAudioPlayerSharedStyles").styles.commonOutgoingReply),{children:[k.jsx(d("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV2,{audioEl:g,currentTime:t,duration:u,hasEnded:f,hasScrubber:E,isListened:b.isAttachmentConsumed===!0,isPlaying:B,onUpdateScrubber:e,outgoing:r,progressHighlightRef:z,scrubberRef:F,waveformData:x,xstyle:G,children:k.jsx(c("MWPAudioPlaybackButton.react"),{disabled:q,hasEnded:f,isLoading:D,isPaused:C,isPlaying:B,onPress:y,outgoing:r,scrubberRef:F})}),k.jsx("div",{children:B?k.jsxs(k.Fragment,{children:[k.jsx(c("MWPAudioPlayerTimer.react"),{outgoing:r,time:H}),k.jsx(d("MWPAudioPlayerButtons.react").PlaybackRateButton,{outgoing:r})]}):k.jsx(c("MWPAudioPlayerTimer.react"),{outgoing:r,time:H})})]}))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWResponsiveVideo.react",["CometObjectFitContainer.react","CometPlaceholder.react","MWLSThreadDisplayContext","MWPThreadCapabilitiesContext","MWXGlimmer.react","deferredLoadComponent","gkx","justknobx","react","requireDeferredForDisplay","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useMemo,m=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWChatVideoPlayer.react").__setRef("MWResponsiveVideo.react")),n={glimmer:{height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0},glimmerFallback:{borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",display:"x78zum5",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"xh8yej3",$$css:!0}};function o(a){return[a==="Inbox"?240:180,140]}function a(a){var b=a.autoPlaySetting,e=a.connectTopStyles,f=a.errorBoundaryFallback,g=a.fbid,i=a.height,p=a.loops,q=a.maxHeight,r=a.maxWidth,s=a.mediaRenderQpl,t=a.shouldForcePauseOnClick,u=a.src,v=a.width,w=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),x=l(function(){var a=v!=null?i!=null?[v,i]:[500,300]:[500,300];return a[0]/a[1]},[v,i]);a=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();a=a.hasLSThreadBitOffset;var y=c("gkx")("24098")&&a(46);a=l(function(){var a=o(w);if(c("justknobx")._("1704")===!0){var b;b=Math.min((b=v)!=null?b:500,r,q*x).toString()+"px"}else{var d;b=Math.min((d=v)!=null?d:500,r).toString()+"px"}return{maxHeight:q.toString()+"px",minHeight:y?a[1].toString(10)+"px":"",minWidth:y?a[0].toString(10)+"px":"",width:b}},[q,v,r,y,w,x]);k(function(){s==null?void 0:s.addPoint("render-responsive-video")},[s]);return j.jsxs("div",{className:"x193iq5w x11md1zd x450l9j x6ikm8r x10wlt62 x1n2onr6",style:a,children:[j.jsx("div",babelHelpers["extends"]({className:"x1ey2m1c xds687c x17qophe x10l6tqk x13vifvy x1vjfegm"},{children:j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(n.glimmerFallback,e),{children:j.jsx(c("MWXGlimmer.react"),{index:0,xstyle:n.glimmer})})),name:"MWResponsiveVideo",children:j.jsx(m,{autoPlaySetting:y?"off":b,controls:"mwchat",errorBoundaryFallback:f,fbid:g,hideExpandButton:!0,loopCount:p===!0?-1:0,mediaRenderQpl:s,originalHeight:(a=i)!=null?a:300,originalWidth:(e=v)!=null?e:500,sdSrc:u,shouldForcePauseOnClick:t})})})),j.jsx(c("CometObjectFitContainer.react"),{contentAspectRatio:x,objectFitMode:"CONTAINER_WIDTH_BASED_ASPECT_RATIO",children:null})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWVideoPlayerControllerContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({ref:{current:null}});g["default"]=b}),98);
__d("MWV2ChatVideo.react",["fbt","I64","LSAuthorityLevel","LSIntEnum","MWChatImageInsetShadow.react","MWLSThreadDisplayContext","MWMessageListMediaPressableContainer.react","MWResponsiveVideo.react","MWV2AttachmentProgressBar.react","MWV2LogMessageClick","MWVideoPlayerControllerContext.react","MWXGlimmer.react","MWXMessageBubbleCornerStyles.react","getVideoPlayerUserFacingErrorMessageFromError","react","recoverableViolation","useCometRouterDispatcher","useMWMediaViewerOpenQPLLogger","useMWV2FocusRowAfterClosingPushView","useMWV2MediaViewerShowDialog","useMWV2MediaViewerURL","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));b=l;var n=b.useContext,o=b.useEffect,p=b.useMemo,q=b.useRef,r={glimmer:{height:"xpyat2d",marginTop:"x1gslohp",width:"x1oysuqx",$$css:!0},root:{backfaceVisibility:"xlp1x4z",backgroundColor:"x1eb86dx",display:"x1lliihq",maxWidth:"x193iq5w",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function s(a){var b=a.attachment,e=a.autoPlaySetting,f=a.connectTop,g=a.getPlayableUrl,l=a.isSecure,p=a.loops,q=a.mediaRenderQpl,s=a.message,t=a.navigateToRouteForMediaViewer,u=t===void 0?!0:t;t=a.outgoing;var v=a.renderUnsupportedAttachment,w=(i||(i=c("useReStore")))(),x=c("useCometRouterDispatcher")(),y=c("useMWV2MediaViewerURL")(b);a=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:t?"right":"left",connectTop:f});var z=c("useMWV2FocusRowAfterClosingPushView")();t=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();f=c("useMWV2MediaViewerShowDialog")(u);var A=f[0],B=f[1],C=n(c("MWVideoPlayerControllerContext.react")),D=g(b,"MWV2ChatVideoInner",q),E=d("useMWMediaViewerOpenQPLLogger").useMWMediaViewerOpenQPLLogger();o(function(){q==null?void 0:q.addPoint("render-chat-video",{bool:{has_url:Boolean(D)}})},[q,D]);if(D==null||D===""){q==null?void 0:q.endFail("empty_preview_url");return v!=null?v(b):null}if((b==null?void 0:b.playableUrlMimeType)==="video/x-ms-wmv"&&!(j||(j=d("I64"))).equal(s.sendStatusV2,(k||(k=d("LSIntEnum"))).ofNumber(2)))return m.jsx(c("MWXGlimmer.react"),{index:1,xstyle:[a,r.glimmer]});f=b.previewHeight;g=b.previewWidth;return m.jsxs(c("MWMessageListMediaPressableContainer.react"),{ariaLabel:h._(/*BTDS*/"__JHASH__Sk-r4mWi0bD__JHASH__"),attachment:b,disabled:(j||(j=d("I64"))).le(s.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL)),mediaRenderQpl:q,onHoverIn:function(){if(!u)return B()},onPress:function(){var a;d("MWV2LogMessageClick").log(w,s,27);E.startFlow({attachmentType:"VIDEO",entryPoint:"thread_view",isSecure:(a=l)!=null?a:!1});z(function(){return!0});if(!u)return A({attachment:b},function(){});a=C.ref.current;if(a){var e=a.getCurrentState();e=e.volume;var f=a.getPlayheadPosition();x==null?void 0:x.go(y,{passthroughProps:{origSrc:D,startTimestamp:f,volumeSetting:e}});a.setMuted(!0,"product_initiated")}else c("recoverableViolation")("Missing controller","messenger_web_media",void 0,{trackOnly:!0})},overlayDisabled:!0,testid:void 0,xstyle:[r.root,a],children:[m.jsx(c("MWResponsiveVideo.react"),{autoPlaySetting:e,connectTopStyles:a,errorBoundaryFallback:v!=null?function(a){return v(b,a!=null?(a=c("getVideoPlayerUserFacingErrorMessageFromError")(a))!=null?a:void 0:void 0)}:void 0,fbid:b.attachmentFbid,height:f!=null?(j||(j=d("I64"))).to_float(f):void 0,loops:p,maxHeight:200,maxWidth:t==="Inbox"?500:167,mediaRenderQpl:q,shouldForcePauseOnClick:!0,src:D,width:g!=null?(j||(j=d("I64"))).to_float(g):void 0}),(j||(j=d("I64"))).le(s.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL))?m.jsx(c("MWV2AttachmentProgressBar.react"),{attachment:b}):null,m.jsx(c("MWChatImageInsetShadow.react"),{xstyle:a})]})}s.displayName=s.name+" [from "+f.id+"]";function a(a){var b=q(null),d=p(function(){return{ref:b}},[b]);return m.jsx(c("MWVideoPlayerControllerContext.react").Provider,{value:d,children:m.jsx(s,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWChatImageSize",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState;function a(a,b,c){var d=b!=null?b:!1,e=j();c=k();b=c[0];var f=c[1];i(function(){if(a==null)return;if(e.current==null&&!d){var b=new Image();b.src=a;b.onload=function(){return f({height:b.naturalHeight,width:b.naturalWidth})};e.current=b}return function(){f(function(){});var a=e.current;if(a==null)return;a.onload=null}},[a,d,f]);return b}g.useImageSize=a}),98);
__d("MWLikeSvgIcon.react",["cr:1798"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1798")}),98);
__d("MessengerHotLikeSVGReact.bs",["cssVar","cx","fbt","CurrentUser","MWLikeSvgIcon.react","MessengerEnvironment","bs_belt_Option","joinClasses","react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k,l=k||d("react"),m=j._(/*BTDS*/"__JHASH__dOmLcejOITd__JHASH__");function a(a){var b=a.className;a=a.color;b=b;a=a;var d,e=0;a==null||a===""?e=1:d=a;e===1&&(d=c("CurrentUser").isWorkUser()?"#373e4c":c("MessengerEnvironment").messengerui?"#0084ff":"#4080ff");return l.jsx("div",{className:c("joinClasses")(c("bs_belt_Option").getWithDefault(b,""),"_1i1j"),"data-testid":void 0,children:l.jsx(c("MWLikeSvgIcon.react"),{alt:m,color:d,size:"100%"})})}a.displayName=a.name+" [from "+f.id+"]";b="transparent";g.MessengerHotLikeSVGReact=a;g.cTRANSPARENT=b}),226);
__d("MWV2ChatEmojiHotLike.react",["LSHotEmojiSize","MessengerHotLikeSVGReact.bs","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={largeHotLike:{height:"x1wkxgih",width:"xygnafs",$$css:!0},likePreview:{display:"x78zum5","float":"x1guec7k",height:"x1dnml7z",width:"x7tvc40",$$css:!0},likePreviewV2:{display:"x78zum5",height:"xsdox4t",paddingTop:"x1yrsyyn",paddingBottom:"x10b6aqq",width:"x1useyqa",$$css:!0},mediumHotLike:{height:"x1to3lk4",width:"xjzaux3",$$css:!0},noCustomLikePreview:{display:"x78zum5",justifyContent:"xl56j7k",$$css:!0}};function a(a){var b=a.hotEmojiSize;a=a.xstyle;return j.jsx("div",babelHelpers["extends"]({"aria-label":"Like, thumbs up"},(h||(h=c("stylex"))).props([c("gkx")("23249")?[k.likePreview,k.noCustomLikePreview]:[k.likePreviewV2,b===c("LSHotEmojiSize").MEDIUM&&k.mediumHotLike,b===c("LSHotEmojiSize").LARGE&&k.largeHotLike],a]),{role:"img",children:j.jsx(d("MessengerHotLikeSVGReact.bs").MessengerHotLikeSVGReact,{color:"var(--mwp-primary-theme-color)"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StickerConstants",[],(function(a,b,c,d,e,f){a=Object.freeze({MOBILE_LIKE_STICKER_PACK_ID:"227877430692340",GRAVEYARD_PACK_ID:"604597256247273",LIKE_STICKER_ID:"227878347358915",HOT_LIKE_SMALL_STICKER_ID:"369239263222822",HOT_LIKE_MEDIUM_STICKER_ID:"369239343222814",HOT_LIKE_LARGE_STICKER_ID:"369239383222810",MRU_STICKER_PACK:"599061016853145",SEARCH_PACK_ID:"680229632032514",FEED_PACK_ID:"2239834712900285",OZ_PACK_ID:"1456625217993235",AVATARS_PACK_ID:"2191329907595522",TRENDING_STICKER_PACK_ID:"924487421216423",SPRITE_PADDING:"24",PayloadSource:{VIEW_ACTION:"view-action"},DEFAULT_FRAME_RATE:83,TRAY_SIZE:64,THREAD_SIZE:120});f["default"]=a}),66);
__d("Sticker.react",["cx","fbt","Arbiter","CurrentUser","JSResource","MessengerHotLikeSVGReact.bs","PaddedStickerConfig","StickerConstants","clearInterval","emptyFunction","getElementPosition","gkx","joinClasses","lazyLoadComponent","react","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");c("lazyLoadComponent")(c("JSResource")("GeoPopover.react").__setRef("Sticker.react"));var l=83;a=5e3;var m=10,n={CLICK:"click",HOVER:"hover",LOAD_AND_HOVER:"load_and_hover",ANIMATE_FOREVER:"animate_forever"};b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.__stopIntervalID=null,c.$1=!1,c.$2=k.createRef(),c.state={index:0,isHovered:!1,hasAnimated:!1,unsubscribeID:null},c.toggleAnimation=function(){c.isAnimating()?c.stopAnimation():c.startAnimation()},c.incrementFrameIndex=function(){c.shouldStopAnimating()?c.stopAnimation():c.setState({index:c.state.index+1})},c.onStickerClick=function(){if(!c.$3(c.props.packID))return;c.props.onStickerClick&&c.props.onStickerClick(c.props.packID,c.props.stickerID)},c.mouseLeft=function(){c.setState({isHovered:!1})},c.mouseEntered=function(){c.setState({isHovered:!0}),c.isAnimating()||c.startAnimation()},c.tabFocusSelected=function(){c.setState({isHovered:!0}),c.isAnimating()||c.startAnimation()},c.tabFocusUnselected=function(){c.setState({isHovered:!1})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){var a=this;this.$1=!0;this.props.onAttachmentLoad&&this.props.onAttachmentLoad();this.__stopIntervalID=null;(this.props.animationTrigger===n.LOAD_AND_HOVER||this.props.animationTrigger===n.ANIMATE_FOREVER)&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI&&this.startAnimation();if(this.props.subscribedThreadID&&this.props.frameCount&&this.props.frameCount>1){var b=c("Arbiter").subscribe(this.props.subscribedThreadID,function(b,c){a.isScrolledIntoView(c.scrollTop,c.viewHeight,c.top)});this.setState({unsubscribeID:b})}};e.componentWillUnmount=function(){this.$1=!1,this.state.unsubscribeID&&c("Arbiter").unsubscribe(this.state.unsubscribeID),this.isAnimating()&&c("clearInterval")(this.__stopIntervalID)};e.isAnimating=function(){return!!this.__stopIntervalID};e.getWidth=function(){var a;return Math.floor((a=this.props.sourceWidth)!=null?a:0)};e.getHeight=function(){var a;return Math.floor((a=this.props.sourceHeight)!=null?a:0)};e.preloadSprite=function(){var a=this,b=new window.Image();b.onload=function(){a.$1&&!a.state.hasAnimated&&(a.setState({hasAnimated:!0}),a.__stopIntervalID=c("setIntervalAcrossTransitions")(a.incrementFrameIndex,a.props.frameRate))};c("PaddedStickerConfig").ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI?b.src=this.props.paddedSpriteURI:b.src=this.props.spriteURI};e.isScrolledIntoView=function(a,b,d){var e=c("getElementPosition")(this.$2.current);d=a+e.y-d;b=a+b;e=d+e.height;this.props.frameCount&&this.props.frameCount>1&&!this.state.hasAnimated&&e-m<=b&&d+m>=a&&this.startAnimation()};e.startAnimation=function(){!this.state.hasAnimated&&this.props.spriteURI?this.preloadSprite():this.isAnimating()||(this.setState({hasAnimated:!0}),this.__stopIntervalID=c("setIntervalAcrossTransitions")(this.incrementFrameIndex,this.props.frameRate))};e.stopAnimation=function(){this.setState({index:0}),c("clearInterval")(this.__stopIntervalID),this.__stopIntervalID=null};e.shouldStopAnimating=function(){var a;if(!this.props.frameCount)return!0;var b=this.state.index%this.props.frameCount;if(this.props.animationTrigger===n.ANIMATE_FOREVER)return!1;a=(a=this.props.frameRate)!=null?a:l;if(!(b===0&&this.state.index*a>this.props.animationTime))return!1;return this.props.animationTrigger===n.CLICK?!0:!this.state.isHovered};e.getStyle=function(){var a,b=0,d=this.props.spriteURI;a=(a=this.props.scale)!=null?a:1;var e=this.getHeight()*a;a=this.getWidth()*a;if(c("PaddedStickerConfig").ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI){d=this.props.paddedSpriteURI;var f=240/Math.min(e,a);b=Math.floor(parseInt(c("StickerConstants").SPRITE_PADDING,10)/f)}f=this.props.frameCount?this.state.index%this.props.frameCount:0;var g=this.props.framesPerRow?f%this.props.framesPerRow*(a+b*2)+b:0;f=this.props.framesPerRow?Math.floor(f/this.props.framesPerRow)*(e+b*2)+b:0;var h=this.props.frameCount&&this.props.frameCount>1&&this.props.animationTrigger===n.CLICK||this.$3(this.props.packID);h=this.props.forceCursorPointer||h?"pointer":"default";if(!this.state.hasAnimated||!this.props.spriteURI||!d||!this.props.framesPerRow||!this.props.framesPerCol)return{backgroundImage:this.$4()||!this.props.sourceURI?null:"url("+this.props.sourceURI.toString()+")",backgroundRepeat:"no-repeat",backgroundSize:a+"px "+e+"px",cursor:h,height:e,width:a};else return{backgroundSize:(a+b*2)*this.props.framesPerRow+"px "+(e+b*2)*this.props.framesPerCol+"px",backgroundImage:"url("+d.toString()+")",backgroundPosition:-g+"px "+-f+"px",cursor:h,height:e,width:a,imageRendering:"-webkit-optimize-contrast"}};e.$3=function(a){return a&&a!=c("StickerConstants").MOBILE_LIKE_STICKER_PACK_ID&&a!=c("StickerConstants").GRAVEYARD_PACK_ID};e.getAriaLabel=function(){var a;return i._(/*BTDS*/"__JHASH__XuqBXexse6H__JHASH__",[i._param("pack name",(a=this.props.packName)!=null?a:""),i._param("sticker name",this.props.accessibilityLabel)])};e.render=function(){var a,b;this.props.animationTrigger===n.CLICK&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI?a=!0:(this.props.animationTrigger===n.HOVER||this.props.animationTrigger===n.LOAD_AND_HOVER)&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI&&(b=!0);var e=a?this.toggleAnimation:null;this.props.packID&&(e=this.onStickerClick);var f=this.props.className,g=null;this.$4()&&(f=c("joinClasses")(f,"_576q"),(!c("CurrentUser").isWorkUser()||c("gkx")("25482"))&&this.props.thread!=null?g=null:g=k.jsx(d("MessengerHotLikeSVGReact.bs").MessengerHotLikeSVGReact,{color:this.props.customColor}));return k.jsx("div",{"aria-label":this.getAriaLabel(),className:f,"data-testid":void 0,onBlur:this.tabFocusUnselected,onClick:e,onFocus:this.tabFocusSelected,onMouseEnter:b?this.mouseEntered:null,onMouseLeave:b?this.mouseLeft:null,role:"img",style:this.getStyle(),tabIndex:this.props.tabIndex,ref:this.$2,children:g})};e.$4=function(){return!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect?this.props.stickerID===c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||this.props.stickerID===c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID||this.props.stickerID===c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID:!1};return b}(k.Component);b.defaultProps={animationTime:a,accessibilityLabel:"",forceCursorPointer:!1,frameRate:l,onStickerClick:c("emptyFunction"),packID:null,packName:"",tabIndex:0};g["default"]=b}),226);
__d("getMWHotlikeSizeFromStickerId",["LSHotEmojiSize","StickerConstants"],(function(a,b,c,d,e,f,g){"use strict";var h=(b={},b[c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID]=c("LSHotEmojiSize").SMALL,b[c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID]=c("LSHotEmojiSize").MEDIUM,b[c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID]=c("LSHotEmojiSize").LARGE,b);function a(a){return(a=h[a])!=null?a:c("LSHotEmojiSize").NONE}g["default"]=a}),98);
__d("getMWIsDefaultHotlikeStickerId",["StickerConstants"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a===c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||a===c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID||a===c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID}g["default"]=a}),98);
__d("MWV2Sticker.react",["I64","MAWImageUtils","MWChatImageSize","MWLSThreadDisplayContext","MWV2ChatEmojiHotLike.react","Sticker.react","getMWHotlikeSizeFromStickerId","getMWIsDefaultHotlikeStickerId","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));b=i;var l=b.useEffect,m=b.useMemo;function n(a){var b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return m(function(){var c=b!=null?b==="Inbox"?.75:.5:.5;if(a<60)return 1;else if(a>d("MAWImageUtils").STICKER_THUMBNAIL_MAX_SIZE)return d("MAWImageUtils").STICKER_THUMBNAIL_MAX_SIZE/a;else return c},[a,b])}function a(a){var b,e=a.attachment,f=a.getPreviewUrl,g=a.mediaRenderQpl,i=a.renderUnsupportedAttachment,m=a.scale;a=a.xstyle;var o=f(e,"MWV2Sticker",g);f=e.previewHeight!=null?(j||(j=d("I64"))).to_int32(e.previewHeight):void 0;var p=e.previewWidth!=null?(j||(j=d("I64"))).to_int32(e.previewWidth):void 0;b=n((b=f)!=null?b:120);var q=p!=null&&f!=null;q=d("MWChatImageSize").useImageSize(o,q);p=p!=null&&f!=null?[p,f]:q!=null?[q.width,q.height]:[24,24];f=p[0];q=p[1];l(function(){o==null||o.length===0?g==null?void 0:g.endFail("load-image-error"):(g==null?void 0:g.addPoint("render-sticker"),g==null?void 0:g.endSuccess())},[o,g]);if(c("getMWIsDefaultHotlikeStickerId")(e.attachmentFbid)&&!c("gkx")("23249"))return k.jsx(c("MWV2ChatEmojiHotLike.react"),{hotEmojiSize:c("getMWHotlikeSizeFromStickerId")(e.attachmentFbid)});return o==null||o.length===0?i!=null?i(e):null:k.jsx(c("Sticker.react"),{accessibilityLabel:(p=e.accessibilitySummaryText)!=null?p:"",animationTrigger:"load_and_hover",className:(h||(h=c("stylex")))(a),customColor:"var(--chat-composer-button-color)",enablePopoverIfPassesGK:!0,frameCount:0,frameRate:void 0,framesPerCol:0,framesPerRow:0,packID:void 0,paddedSpriteURI:void 0,scale:(i=m)!=null?i:b,sourceHeight:q,sourceURI:o,sourceWidth:f,spriteURI:void 0,stickerID:e.attachmentFbid,tabIndex:-1,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("xmaLayouts",[],(function(a,b,c,d,e,f){"use strict";a={DEFAULT:"default",UNIFIED_LAYOUT:"unifiedLayout"};f.XMA_LAYOUTS=a}),66);
__d("MDSSolidMessageBubble.react",["MWXMessageBubbleCornerStyles.react","XPlatReactEnvironment","react","react-strict-dom","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=d("XPlatReactEnvironment").isWeb(),k={precedes_xma:{boxSizing:"x9f619",maxWidth:"xw5ewwj",width:"xh8yej3",$$css:!0},precedes_xma_web:{maxWidth:"x16it46q",width:"xh8yej3",$$css:!0}},l={bubble:{color:"x14ctfv",maxWidth:"x1okitfd",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xerhiuh",paddingBottom:"x1pn3fxy",paddingStart:"x12xxe5f",paddingEnd:"x1szedp3",paddingLeft:null,paddingRight:null,position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},bubbleOutline:{outline:"x1k4qllp",$$css:!0},bubbleWeb:{overflowWrap:"x1mzt3pk",wordBreak:"x13faqbe",$$css:!0},clip:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},m={background:{backgroundColor:"x1xr0vuk",borderTopColor:"x1jm4cbz",borderEndColor:"x1lmq8lz",borderBottomColor:"xrrpcnn",borderStartColor:"x1xtl47e",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x19livfd",borderEndWidth:"x2t687o",borderBottomWidth:"x3p3xfz",borderStartWidth:"x5od304",$$css:!0},opaque:{outline:"x1ucz5p",$$css:!0}},n={background:{backgroundColor:"x11jlvup",borderTopColor:"xpmdkuv",borderEndColor:"x154zaqr",borderBottomColor:"x12z03op",borderStartColor:"xyhp3ou",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x12lizq0",borderEndWidth:"xf766zg",borderBottomWidth:"x1ybe9c6",borderStartWidth:"x1ts5dru",$$css:!0},opaque:{backgroundAttachment:"x1nr1p0w",backgroundImage:"xl54vp5",outline:"x1ucz5p",$$css:!0}},o={background:{backgroundColor:"x1m3w7tb",borderTopColor:"x1jm4cbz",borderEndColor:"x1lmq8lz",borderBottomColor:"xrrpcnn",borderStartColor:"x1xtl47e",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x19livfd",borderEndWidth:"x2t687o",borderBottomWidth:"x3p3xfz",borderStartWidth:"x5od304",$$css:!0},opaque:{outline:"x1ucz5p",$$css:!0}};function a(a){var b,c=a.align,e=a.children,f=a.color,g=a.connectBottom,h=a.connectTop,p=a.xmaLayout;p=p===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:p;var q=a.xstyle,r=a.precedesXMA,s=a.testid;s=a.variant;a=a.isBackgroundTransparent;p=p!==d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&r===!0;r=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:c,connectBottom:g,connectTop:h,flatten:p?"bottom":"none"});c=f==="incoming"?m:f==="outgoing"?n:o;return i.jsx(d("react-strict-dom").html.div,{style:[l.clip,p&&j&&k.precedes_xma_web],children:i.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,role:"none",style:[l.bubble,a!==!0&&l.bubbleOutline,j&&l.bubbleWeb,p&&k.precedes_xma,p&&j&&k.precedes_xma_web,c.background,s==="opaque"&&c.opaque,r,q],children:e})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMessageBubble.react",["MDSSolidMessageBubble.react"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("MDSSolidMessageBubble.react")}),98);
__d("MWV2TombstonedMessage.react",["MWXMessageBubble.react","MWXText.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect,k={incoming:{color:"x18lvrbx",$$css:!0},message:{fontStyle:"x1k4tb9n",marginBottom:"x12nagc",marginTop:"x1gslohp",opacity:"x1ks1olk",$$css:!0},outgoing:{color:"xyk4ms5",$$css:!0}};function a(a){var b=a.children,e=a.isOutgoing,f=a.isReply,g=a.mediaRenderQpl;a=a.xstyle;j(function(){g==null?void 0:g.addPoint("render-tombstoned-message",{bool:{has_preview:!1}}),g==null?void 0:g.endSuccess()},[g]);return i.jsx(c("MWXMessageBubble.react"),{align:"right",children:i.jsx(c("MWXText.react"),{color:e?"white":"primary",type:"body3",children:i.jsx(d("react-strict-dom").html.div,{dir:"auto",style:[k.message,e?k.outgoing:k.incoming,a],children:b})}),color:f===!0?"quoted":e?"outgoing":"incoming",connectBottom:!1,connectTop:!1,testid:void 0,variant:"opaque"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageListAttachment.react",["fbt","I64","LSMediaUrlAttachment","MWAnimatedImageAttachment.react","MWAudioPlayer.react","MWLSThreadDisplayContext","MWMessageListImageSizingUtils","MWV2ChatImage.react","MWV2ChatVideo.react","MWV2Sticker.react","MWV2TombstonedMessage.react","gkx","react","recoverableViolation","stylex","useMWMessageListAttachmentDimensions"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k.useCallback;function a(a){var b=a.isOutgoing;a=a.xstyle;return l.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(a),{children:l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:b,children:h._(/*BTDS*/"__JHASH__962PS6SI-P2__JHASH__")})}))}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.attachment,e=a.connectTop,f=a.mediaRenderQpl,g=a.message,h=a.navigateToRouteForMediaViewer;a=a.outgoing;var i=m(function(a){return d("LSMediaUrlAttachment").playableUrl(a)},[]);return l.jsx(c("MWV2ChatVideo.react"),{attachment:b,autoPlaySetting:c("gkx")("8624")?"off":void 0,connectTop:e,getPlayableUrl:i,loops:!c("gkx")("8625"),mediaRenderQpl:f,message:g,navigateToRouteForMediaViewer:h,outgoing:a})}b.displayName=b.name+" [from "+f.id+"]";function e(a){var b=a.attachment,e=a.connectBottom,f=a.connectTop,g=a.isReply,h=a.mediaRenderQpl,i=a.message;a=a.outgoing;var j=m(function(a){return d("LSMediaUrlAttachment").playableUrl(a)},[]);return l.jsx(c("MWAudioPlayer.react"),{attachment:b,connectBottom:e,connectTop:f,getPlayableUrl:j,isReply:g,isSecure:!1,mediaRenderQpl:h,message:i,outgoing:a})}e.displayName=e.name+" [from "+f.id+"]";function n(a){var b,e=a.attachment,f=a.connectBottom,g=a.connectTop,h=a.isGroupedImage;h=h===void 0?!1:h;var i=a.mediaRenderQpl,k=a.message,n=a.navigateToRouteForMediaViewer,o=a.outgoing;a=a.renderUnsupportedAttachment;var p=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),q=c("useMWMessageListAttachmentDimensions")(p,e),r=q[0];q=q[1];var s=m(function(a){var b=a.previewUrlLarge;return b!=null&&p==="Inbox"?b:d("LSMediaUrlAttachment").previewUrl(a)},[p]);b=d("MWMessageListImageSizingUtils").getMaxPreviewHeightAndWidth(!1,(b=p)!=null?b:void 0,h);var t=b.maxHeight;b=b.maxWidth;if(e.previewUrlMimeType==="image/gif"){return l.jsx(c("MWAnimatedImageAttachment.react"),{connectBottom:f,connectTop:g,dbAttachment:e,getPreviewUrl:s,isSecure:!1,mediaRenderQpl:i,message:k,outgoing:o,previewHeight:(j||(j=d("I64"))).to_float((q=q)!=null?q:(j||(j=d("I64"))).zero),previewWidth:j.to_float((q=r)!=null?q:(j||(j=d("I64"))).zero)})}return l.jsx(c("MWV2ChatImage.react"),{attachment:e,connectBottom:f,connectTop:g,getPreviewUrl:s,isGroupedImage:h,maxHeight:t,maxWidth:b,mediaRenderQpl:i,message:k,navigateToRouteForMediaViewer:n,outgoing:o,renderUnsupportedAttachment:a})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.attachment;a=a.mediaRenderQpl;var e=m(function(a){var b;b=(b=d("LSMediaUrlAttachment").playableUrl(a))!=null?b:d("LSMediaUrlAttachment").previewUrl(a);if(b!=null)return b;c("recoverableViolation")("Sticker Attachment has no preview_url or playable_url: "+a.attachmentFbid,"messenger_web_media")},[]);return l.jsx(c("MWV2Sticker.react"),{attachment:b,getPreviewUrl:e,mediaRenderQpl:a})}o.displayName=o.name+" [from "+f.id+"]";g.MWMessageListAttachmentError=a;g.MWMessageListAttachmentVideo=b;g.MWMessageListAttachmentAudio=e;g.MWMessageListAttachmentImage=n;g.MWMessageListAttachmentSticker=o}),226);
__d("useAttachmentDataLS",["I64","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b,e=(i||(i=c("useReStore")))(),g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(e.tables.attachments).getKeyRange(a.threadKey,a.messageId).map(function(a){var b=j(e,a);return{attachment:a,attachmentCTAs:b}})},[a,e],f.id+":41").toSorted(function(a,b){return(h||(h=d("I64"))).compare(a.attachment.attachmentIndex,b.attachment.attachmentIndex)}),k=(b=g[0])==null?void 0:b.attachment;b=d("ReQLSuspense").useArray(function(){return k==null?d("ReQL").empty():d("ReQL").fromTableAscending(e.tables.attachment_items).getKeyRange(k.attachmentFbid).map(function(a){var b=j(e,a);return{attachmentItem:a,attachmentItemCTAs:b}})},[k,e],f.id+":60").reduce(function(a,b){var c=b.attachmentItem;b=b.attachmentItemCTAs;a[0].push(c);a[1].push(b);return a},[[],[]]);var l=b[0];b=b[1];var m=[];g.map(function(a){m.push(a.attachment)});if(l.length>0)b=b;else{g=(g=g[0])==null?void 0:g.attachmentCTAs;b=g?[g]:[]}return{attachmentCTAs:b,attachmentItems:l,attachments:m}}function j(a,b){var c={},e=b.attachmentCta1Id,g=b.attachmentCta2Id,h=b.attachmentCta3Id;b=b.defaultCtaId;c.defaultCta=b?d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.attachment_ctas).getKeyRange(b),f.id+":112"):void 0;c.attachmentCta1=e?d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.attachment_ctas).getKeyRange(e),f.id+":117"):void 0;c.attachmentCta2=g?d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.attachment_ctas).getKeyRange(g),f.id+":124"):void 0;c.attachmentCta3=h?d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.attachment_ctas).getKeyRange(h),f.id+":131"):void 0;return c}g.useAttachmentDataLS=a}),98);
__d("useMAWSeparateReadsSelectorCommon",["FBLogger","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(){return c("gkx")("7410")}function a(){return h()}function b(a,b,d,e){e===void 0&&(e=[]);try{var f,g;f=(f=a==null?void 0:a.length)!=null?f:0;g=(g=b==null?void 0:b.length)!=null?g:0;if(f===0&&g===0)return!0;if(f===g){var h=!0;for(var k=0;k<a.length;k++)(!j(a[k][0],b[k][0],d)||!j(a[k][1],b[k][1],d,e))&&(h=!1);return h}if(g>f){var l=i(a);k=b.filter(function(a){var b=a[0];a=a[1];b=l.get(String(b));if(b==null)return!0;j(b,a,d,e);return!1});h="Items present in LS and not in MAW: "+JSON.stringify(k)}else{var m=i(b);k=a.filter(function(a){var b=a[0];a=a[1];b=m.get(String(b));if(b==null)return!0;j(a,b,d,e);return!1});h="Items present in MAW and not in LS: "+JSON.stringify(k)}c("FBLogger")("messenger_e2ee_web","maw_ls_mismatch").warn("[%s] array length mismatch: MAW: %s vs LS: %s - %s",d,f,g,h);return!1}catch(a){c("FBLogger")("messenger_e2ee_web","maw_ls_diffing_failure").warn("[%s] maw and ls diffing failure",d,a);return!1}}function i(a){return a.reduce(function(a,b){var c=b[0];b=b[1];a.set(String(c),b);return a},new Map())}function d(a,b,d,e,f){f===void 0&&(f=[]);if((a==null?void 0:a.length)!==(b==null?void 0:b.length)){c("FBLogger")("messenger_e2ee_web","maw_ls_mismatch").warn("[%s] %s mismatch: %d vs %d - MAW: %s - LS: %s",d,"array length",a==null?void 0:a.length,b==null?void 0:b.length,JSON.stringify(a),JSON.stringify(b));return!1}else if((a==null?void 0:a.length)>0){a=[].concat(a).sort(e);b=[].concat(b).sort(e);for(e=0;e<a.length;e++)if(!j(a[e],b[e],d,f))return!1}return!0}function j(a,b,d,e){e===void 0&&(e=[]);if(a===b)return!0;if(a==null||b==null){c("FBLogger")("messenger_e2ee_web","maw_ls_mismatch").warn("[%s] %s: %s - %s",d,"null object",a==null?"MAW":"LS",a==null?JSON.stringify(b):JSON.stringify(a));return!1}if(typeof a==="object"&&typeof b==="object"){for(var f in a){if(e.includes(f))continue;if(!Object.prototype.hasOwnProperty.call(b,f)){c("FBLogger")("messenger_e2ee_web","maw_ls_mismatch").warn("[%s] %s missing in LS",d,f);return!1}if(typeof a[f]==="object"){if(JSON.stringify(a[f])!==JSON.stringify(b[f])){var g;c("FBLogger")("messenger_e2ee_web","maw_ls_mismatch").warn("[%s] %s mismatch: %s vs %s",d,f,(g=JSON.stringify(a[f]))!=null?g:"null",(g=JSON.stringify(b[f]))!=null?g:"null");return!1}}else if(a[f]!==b[f]){c("FBLogger")("messenger_e2ee_web","maw_ls_mismatch").warn("[%s] %s mismatch: %s vs %s - Objects: %s vs %s",d,f,String(a[f]),String(b[f]),JSON.stringify(a),JSON.stringify(b));return!1}}if(Object.keys(a).length!==Object.keys(b).length)for(g in b){if(e.includes(g))continue;if(!Object.prototype.hasOwnProperty.call(a,g)){c("FBLogger")("messenger_e2ee_web","maw_ls_mismatch").warn("[%s] %s missing in MAW - Objects: %s vs %s",d,g,JSON.stringify(a),JSON.stringify(b));return!1}}}return!0}g.isDiffingEnabled=h;g.useIsDiffingEnabled=a;g.compareMapAndLogDiffereneces=b;g.compareArraysAndLogDiffereneces=d;g.compareObjectsAndLogDiffereneces=j}),98);
__d("useMAWSeparateReadsSelector",["cr:10512","cr:10513","useMAWSeparateReadsSelectorCommon"],(function(a,b,c,d,e,f,g){"use strict";var h=3e3;function a(a,c,d,e){b("cr:10513")(a,c,d,h);return e?c:d}function c(a,c,d,e,f){b("cr:10512")(a,c,d,f,h);return e?c:d}function e(a,b,c,e,f){f===void 0&&(f=[]);d("useMAWSeparateReadsSelectorCommon").isDiffingEnabled()&&d("useMAWSeparateReadsSelectorCommon").compareMapAndLogDiffereneces(b,c,a,f);return e?b:c}g.useMAWSeparateReadsSelector=a;g.useMAWSeparateReadsArraySelector=c;g.mawSeparateReadsMapSelector=e}),98);
__d("useAttachmentData",["CometLruCache","I64","MAWMsg","MWPActor.react","cr:6737","cr:6964","qex","shouldUseImageGrouping","useAttachmentDataLS","useMAWSeparateReadsSelector"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("CometLruCache").create(50);function j(a,b,e,f){var g;if(!((g=c("qex")._("60"))!=null?g:!1))return!1;if(!b)return!1;if(!d("MAWMsg").isMediaMsg(a))return!1;g=c("shouldUseImageGrouping")(a,b);if(g)return!1;if(d("MAWMsg").isOptimistic(a)){i.set(a.offlineThreadingId,!0);return!1}return e&&f==null&&i.get(a.offlineThreadingId)===!0?!1:!0}function a(a,c){var e=d("MWPActor.react").useActor();e=(h||(h=d("I64"))).equal(a.senderId,e);var f=d("useAttachmentDataLS").useAttachmentDataLS(a),g=f.attachmentCTAs,i=f.attachmentItems;f=f.attachments;var k=b("cr:6737")(a,c),l=b("cr:6964")(a,c);l=d("MAWMsg").isReceiverFetchMsg(a)?l:k;k=d("useMAWSeparateReadsSelector").useMAWSeparateReadsArraySelector("Attachment",l?[l]:[],f,j(a,c,e,l),function(a,b){return a.attachmentFbid.localeCompare(b.attachmentFbid)});return{attachmentCTAs:g,attachmentItems:i,attachments:k}}g.useAttachmentData=a}),98);
__d("MWPAttachmentDataContext",["FBLogger","I64","ReQL","ReQLSuspense","react","useAttachmentData","useAttachmentDataLS","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j,m=l.createContext,n=l.useContext,o=m({attachmentCTAs:[],attachmentItems:[],attachments:[]});function a(a){var b=a.children,c=a.isSecureMessage;a=a.message;a=d("useAttachmentData").useAttachmentData(a,c);return k.jsx(o.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.attachmentData;a=a.children;return k.jsx(o.Provider,{value:b,children:a})}b.displayName=b.name+" [from "+f.id+"]";function e(a){var b=a.children;a=a.message;a=d("useAttachmentDataLS").useAttachmentDataLS(a);return k.jsx(o.Provider,{value:a,children:b})}e.displayName=e.name+" [from "+f.id+"]";function p(a){var b=n(o).attachments;a=q(a);if(b.length===0&&a.length>0){c("FBLogger")("messenger_web_media","attachment_context_missing").info("MWPAttachmentContext is not set, failed to retrieve attachments from context, instead retrieved attachments directly from LSDB");return a}return b}function q(a){var b=(h||(h=c("useReStore")))(),e=a.messageId,g=a.threadKey;return d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.tables.attachments).getKeyRange(g,e)},[b,e,g],f.id+":101").toSorted(function(a,b){return(i||(i=d("I64"))).compare(a.attachmentIndex,b.attachmentIndex)})}function r(a){var b=(i||(i=d("I64"))).to_int32(a.attachmentIndex);b=(b=n(o).attachmentCTAs[b])!=null?b:{};a=s(a);if((b==null?void 0:b.defaultCta)==null&&(a==null?void 0:a.defaultCta)!=null||(b==null?void 0:b.attachmentCta1)==null&&(a==null?void 0:a.attachmentCta1)!=null){c("FBLogger")("messenger_web_media","attachment_context_missing").info("MWPAttachmentContext is not set, failed to retrieve attachmentCTAs from context, instead retrieved attachmentCTAs directly from LSDB");return a}return b}function s(a){var b=(h||(h=c("useReStore")))(),d={};d.defaultCta=t(b,a==null?void 0:a.defaultCtaId);d.attachmentCta1=t(b,a==null?void 0:a.attachmentCta1Id);d.attachmentCta2=t(b,a==null?void 0:a.attachmentCta2Id);d.attachmentCta3=t(b,a==null?void 0:a.attachmentCta3Id);return d}function t(a,b){return d("ReQLSuspense").useFirst(function(){return b!=null?d("ReQL").fromTableAscending(a.tables.attachment_ctas).getKeyRange(b):d("ReQL").empty()},[a,b],f.id+":153")}function u(a){var b;b=(b=n(o).attachmentItems)!=null?b:[];a=v(a);if(b.length===0&&a.length>0){c("FBLogger")("messenger_web_media","attachment_context_missing").info("MWPAttachmentContext is not set, failed to retrieve attachmentItems from context, instead retrieved attachmentItems directly from LSDB");return a}return b}function v(a){var b=(h||(h=c("useReStore")))();return d("ReQLSuspense").useArray(function(){var c=a.attachmentFbid;return d("ReQL").fromTableAscending(b.tables.attachment_items).getKeyRange(c)},[a,b],f.id+":183")}g.MWPAttachmentDataContext=o;g.MWPAttachmentDataContextProvider=a;g.MWPAttachmentDataContextProviderMAW=b;g.MWPAttachmentDataContextProviderLS=e;g.useMWPGetAttachments=p;g.useMWPGetAttachmentCTAs=r;g.useMWPGetAttachmentItems=u}),98);
__d("MWPMessageHasXMA",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return[(h||(h=d("I64"))).and_((i||(i=d("LSIntEnum"))).ofNumber(1024),a.displayedContentTypes),h.and_(i.ofNumber(2048),a.displayedContentTypes),h.and_(i.ofNumber(536870912),a.displayedContentTypes)].some(function(a){return(h||(h=d("I64"))).to_int32(a)!==0})}g["default"]=a}),98);
__d("MWPMessageListColumn.react",["react","react-strict-dom","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={bubble:{minWidth:"xeuugli",$$css:!0},centered:{alignItems:"x6s0dn4",$$css:!0},customHeight:function(a){return[{height:a==null?null:"x1f5funs",$$css:!0},{"--height":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]},grow:{flexGrow:"x1iyjqo2",$$css:!0},justifyContentStart:{justifyContent:"x1nhvcw1",$$css:!0},paint:{backgroundColor:"x1eb86dx",$$css:!0},profile:{paddingEnd:"x1sxyh0",paddingStart:"x1nvil2r",$$css:!0},root:{alignItems:"x1h91t0o",alignSelf:"xkh2ocl",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"x13a6bvl",maxWidth:"x193iq5w",$$css:!0},selfCentered:{alignSelf:"xamitd3",$$css:!0},shrinkwrap:{flexGrow:"x1c4vz4f",$$css:!0},spacer:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0},vr:{backgroundColor:"x1eb86dx",width:"xh8yej3",$$css:!0},withGutters:{paddingEnd:"xe53cfu",paddingStart:"xrgni87",$$css:!0}};function k(a){var b=a.bubble,c=a.centered,e=a.children,f=a.grow,g=a.justifyContent,h=a.paint,k=a.profile;a.rounded;var l=a.selfCentered,m=a.shrinkwrap;a=a.withGutters;return i.jsx(d("react-strict-dom").html.div,{role:"none",style:[j.root,f===!0?j.grow:!1,m===!0?j.shrinkwrap:!1,h===!0?j.paint:!1,k===!0?j.profile:!1,a===!0?j.withGutters:!1,b===!0?j.bubble:!1,c===!0?j.centered:!1,l===!0?j.selfCentered:!1,g==="flex-start"?j.justifyContentStart:!1],children:e})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.children,c=a.grow;a=a.shrinkwrap;return i.jsx(k,{grow:c!=null?c:!1,paint:!0,shrinkwrap:a!=null?a:!1,withGutters:!0,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.children;a=a.selfCentered;return i.jsx(k,{paint:!0,profile:!0,selfCentered:a!=null?a:!1,shrinkwrap:!0,children:b})}b.displayName=b.name+" [from "+f.id+"]";function e(a){var b=a.children,c=a.paint;a=a.profile;return i.jsx(k,{paint:c!=null?c:!0,profile:a!=null?a:!1,selfCentered:!0,shrinkwrap:!0,children:b})}e.displayName=e.name+" [from "+f.id+"]";function l(a){var b=a.centered,c=a.children;a=a.paint;return i.jsx(k,{centered:b!=null?b:!1,paint:a!=null?a:!0,shrinkwrap:!0,children:c})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.children;a=a.paint;a=a===void 0?!0:a;return i.jsx(k,{grow:!0,paint:a,children:b})}m.displayName=m.name+" [from "+f.id+"]";function n(a){a=a.children;return i.jsx(k,{grow:!0,justifyContent:"flex-start",paint:!0,children:a})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.children;a=a.paint;c("vulture")("sfvKqnnVvZhICL_ZfZ-b2nqOLcE=");return i.jsx(k,{bubble:!0,paint:a,children:b})}o.displayName=o.name+" [from "+f.id+"]";function p(){return i.jsx(d("react-strict-dom").html.div,{role:"none",style:j.spacer})}p.displayName=p.name+" [from "+f.id+"]";function q(a){a=a.height;return i.jsx(d("react-strict-dom").html.div,{role:"none",style:[j.vr,j.customHeight(a)]})}q.displayName=q.name+" [from "+f.id+"]";g.MWPMessageListColumnWithGutters=a;g.MWPMessageListColumnProfile=b;g.MWPMessageListColumnSelfCentered=e;g.MWPMessageListColumnShrinkwrap=l;g.MWPMessageListColumnGrow=m;g.MWPMessageListColumnGrowJustified=n;g.MWPMessageListColumnBubble=o;g.MWPMessageListColumnHorizontalSpacer=p;g.MWPMessageListColumnVerticalRhythm=q}),98);
__d("mwpMessageIsReply",["LSIntEnum","LSMessageReplySourceTypeV2"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return a.replySourceTypeV2!=null&&(h||(h=d("LSIntEnum"))).toNumber(a.replySourceTypeV2)!==c("LSMessageReplySourceTypeV2").FORWARD}g["default"]=a}),98);
__d("mwpMessageWithAttachmentHasPoll",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return(h||(h=d("I64"))).to_int32(h.and_((i||(i=d("LSIntEnum"))).ofNumber(32),a.displayedContentTypes))!==0}g["default"]=a}),98);
__d("MWPMessageListAttachmentContainer.react",["MWPMessageHasXMA","MWPMessageListColumn.react","mwpMessageIsReply","mwpMessageWithAttachmentHasPoll","react","react-strict-dom","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={container:{maxWidth:"x193iq5w",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},container_for_poll:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",width:"xh8yej3",$$css:!0},container_for_top_margin:{marginTop:"x1gslohp",$$css:!0},container_for_xma:{width:"xh8yej3",$$css:!0},vr:{backgroundColor:"x1eb86dx",height:"x36qwtl",width:"xh8yej3",$$css:!0}};function a(a){var b=a.children,e=a.connectTop,f=a.hasTopMargin;f=f===void 0?!1:f;var g=a.message;a.outgoing;var h=a.paint;h=h===void 0?!0:h;var k=a.renderEmphasisRing,l=a.xmaLayout;a=a.xstyle;var m=c("MWPMessageHasXMA")(g),n=c("mwpMessageIsReply")(g),o=c("mwpMessageWithAttachmentHasPoll")(g);g=g.text;g=g!=null?g!=="":!1;o=i.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,style:[j.container,m?j.container_for_xma:!1,o?j.container_for_poll:!1,f?j.container_for_top_margin:!1,a!==null?a:!1],children:b});return i.jsxs(i.Fragment,{children:[e&&(l===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT||!m||!g)?i.jsx(d("react-strict-dom").html.div,{style:j.vr}):null,i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{paint:!n&&h,children:k!=null?k(o):o})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWSearchPluginUtils",["isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=(a=a==null?void 0:(a=a.split("?")[1])==null?void 0:a.split("&"))!=null?a:[];if(a.length===0)return null;var b=[],c=[],d=[],e="",f="",g="";a.forEach(function(a){a=a.split("=");var h=a[0];a=a[1];var i=decodeURIComponent(a);h.includes("source_titles")&&b.push(i.replaceAll("+"," "));h.includes("source_sub_titles")&&c.push(i.replaceAll("+"," "));h.includes("source_urls")&&d.push(i);h==="source_query"&&(e=a==null?"":i.replaceAll("+"," "));h==="source_query_url"&&(f=i);h==="header"&&(g=i)});return{header:g,source_query:e,source_query_url:f,source_sub_titles:c,source_titles:b,source_urls:d}}function b(a){if(a.cta1Type==="xma_gen_ai_search_plugin_response_search_engine_attribution"&&a.cta2Type==="xma_gen_ai_search_plugin_response_sources")return!0;return h(a)?!0:!1}function d(a){return a.cta1Type==="xma_gen_ai_search_plugin_response_sources"}function h(a){return a.cta1Type==="xma_gen_ai_search_plugin_response_sources"&&c("isStringNullOrEmpty")(a.headerTitle)}g.useSearchPluginSources=a;g.isSearchPlugin=b;g.isSearchSingleBubblePlugin=d;g.isSearchPluginWithoutAttributionLink=h}),98);
__d("MWPMessageListAttachment.react",["I64","LSIntEnum","MWPAttachmentDataContext","MWPMessageListAttachmentContainer.react","MWPThreadCapabilitiesContext","MWSearchPluginUtils","MWVerticalRhythm","MessagingAttachmentType","ReQL","ReQLSuspense","gkx","isMWBumpMessage","react","useReStore","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react")),m=i.useEffect;function n(a){return(j||(j=d("I64"))).equal(a.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))}function a(a){var b=a.connectBottom,e=a.connectTop,f=a.mediaRenderQpl,g=a.message,h=a.renderAudioAttachment,i=a.renderEmphasisRing,p=a.renderEphemeralMediaAttachment,q=a.renderFileAttachment,r=a.renderImageAttachment,s=a.renderImageGrid,t=a.renderMultipleAttachments,u=a.renderStickerAttachment,v=a.renderUnsupportedAttachment,w=a.renderUnsupportedMultipleAttachments,x=a.renderVideoAttachment,y=a.renderWrapper,z=a.renderXMAAttachment;a=a.xmaLayout;var A=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a,B=d("MWPAttachmentDataContext").useMWPGetAttachments(g);a=o((a=B[0])==null?void 0:a.attachmentCta1Id);var C=B.length>0?d("MWSearchPluginUtils").isSearchSingleBubblePlugin(B[0]):!1,D=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();D=D.blurMediaEnabled;D=c("gkx")("24098")&&D;var E=B.length>0?B[0]:null;m(function(){E!=null?(f==null?void 0:f.addAttachmentAnnotations==null?void 0:f.addAttachmentAnnotations(E),f==null?void 0:f.addPoint("render-message-list-attachment")):f==null?void 0:f.addPoint("missing-message-list-attachment")},[E,f]);if(c("isMWBumpMessage")(g))return null;if(B.length!==1)if(B.length>1&&B.every(n))D?D=B.map(function(a,b){return l.jsxs(l.Fragment,{children:[b!==0?l.jsx(c("MWVerticalRhythm"),{height:2}):null,l.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:e,message:g,renderEmphasisRing:i,xmaLayout:A,children:r(a,b!==0,b!==B.length-1,v)})]},a.attachmentFbid)}):D=l.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:e,message:g,renderEmphasisRing:i,xmaLayout:A,children:s(B)});else{if(B.length>1){D=t==null?void 0:t(B);if(D!=null)return D}D=w!=null?w(B):void 0}else{var F=B[0];s=F.attachmentType;t=!(j||(j=d("I64"))).equal(s,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO));w=F.attachmentType;s=function(){f==null?void 0:f.endSuccess();return v(F)};D=l.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:e,hasTopMargin:C,message:g,paint:t,renderEmphasisRing:i,xmaLayout:A,children:(j||(j=d("I64"))).equal(w,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))||(j||(j=d("I64"))).equal(w,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE))?r(F,e,b,v):(j||(j=d("I64"))).equal(w,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))?x(F):(j||(j=d("I64"))).equal(w,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO))?h(F):(j||(j=d("I64"))).equal(w,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER))||(j||(j=d("I64"))).equal(w,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").THIRD_PARTY_STICKER))?u(F):(j||(j=d("I64"))).equal(w,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA))?z(F,a):(j||(j=d("I64"))).equal(w,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE))?q(F):(j||(j=d("I64"))).equal(w,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE))||(j||(j=d("I64"))).equal(w,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO))?p(F):s()})}return D!=null?y!=null?y(D):D:null}a.displayName=a.name+" [from "+f.id+"]";function o(a){var b=(h||(h=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){var c;return d("ReQL").fromTableAscending(b.tables.attachment_ctas).getKeyRange((c=a)!=null?c:(j||(j=d("I64"))).zero)},[b,a],f.id+":221")}g["default"]=a}),98);
__d("MDSSvgIcon.react",["CometSVGIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,d=a.color,e=a.dataTestId;e=a.inline;e=e===void 0?!1:e;var f=a.size;f=f===void 0?24:f;a=a.viewBox;a=a===void 0?"0 0 36 36":a;return i.jsx(c("CometSVGIcon.react"),{color:d,"data-testid":void 0,inline:e,size:f,viewBox:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSSvgDocumentCompleteIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:[i.jsx("path",{clipRule:"evenodd",d:"M18 8c0-.6-.4-1-1-1h-6a2 2 0 00-2 2v18c0 1.1.9 2 2 2h14a2 2 0 002-2V17c0-.6-.4-1-1-1h-4a4 4 0 01-4-4V8zm-6 7c0-.6.4-1 1-1h2a1 1 0 110 2h-2a1 1 0 01-1-1zm1 3.5a1 1 0 100 2h10a1 1 0 100-2H13zm0 4.5a1 1 0 100 2h10a1 1 0 100-2H13z",fillRule:"evenodd"}),i.jsx("path",{d:"M22 14h4a1 1 0 00.7-1.7l-5-5A1 1 0 0020 8v4c0 1.1.9 2 2 2z"})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatFileIconV2.react",["MDSSvgDocumentCompleteIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){return i.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 xgx9qek x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xl56j7k x1iorvi4 x150jy0e xjkvuk6 x1e558r4"},{children:i.jsx(c("MDSSvgDocumentCompleteIcon.react"),{color:"primary",size:24})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatFilePreview.react",["fbt","FDSImageCover.react","MWChatFileIconV2.react","MWXCircleButton.react","MWXIconExclamationMarkCircle","MWXIconRefreshAlt","MWXIconStrict.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={imageCover:{maxHeight:"x138jeol",objectPosition:"x8ozjh4",$$css:!0}};function a(a){var b=a.attachment,d=a.fileName,e=a.isError,f=a.isRetryableError,g=a.onRetry;a=a.withPreview;b=(b=b)!=null?b:{};b=b.previewUrl;if(e===!0)return j.jsx("div",babelHelpers["extends"]({className:"x1ye3gou"},{children:j.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 xgx9qek x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 x10w6t97 xl56j7k x1td3qas"},{children:f===!0?j.jsx(c("MWXCircleButton.react"),{color:"primary",icon:c("MWXIconRefreshAlt"),label:h._(/*BTDS*/"__JHASH__BGxC_0TtXwE__JHASH__"),onPress:g,size:32,testid:void 0,type:"normal"}):j.jsx("div",{"data-testid":void 0,children:j.jsx(c("MWXIconStrict.react"),{color:"primary",icon:c("MWXIconExclamationMarkCircle"),size:20})})}))}));return b==null||!a?j.jsx("div",babelHelpers["extends"]({className:"x1ye3gou"},{children:j.jsx(c("MWChatFileIconV2.react"),{})})):j.jsx(c("FDSImageCover.react"),{alt:(e=d)!=null?e:"",src:b,style:k.imageCover})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWFIlePressableDirectDownload.react",["MWXPressable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,d=a.onPress,e=a.url;a=a.xstyle;return i.jsx(c("MWXPressable.react"),{children:b,display:"inline",linkProps:e!=null?{download:!0,target:"_blank",url:e}:void 0,onPress:d,overlayDisabled:!0,xstyle:a})}a.displayName=a.name+" [from "+f.id+"]";g.MWFilePressableDirectDownload=a}),98);
__d("MessengerFilePreviewGenerationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("606");b=d("FalcoLoggerInternal").create("messenger_file_preview_generation",a);e=b;g["default"]=e}),98);
__d("MWFileViewerLogger",["I64","LSIntEnum","MessengerFilePreviewGenerationFalcoEvent","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function b(){var b=function(){return Array.from((a.crypto||a.msCrypto).getRandomValues(new Uint32Array(2)))};return(h||(h=d("I64"))).to_string(b())}var j=c("gkx")("24035");function k(a,b){if(j){var e=b.attachment;return c("MessengerFilePreviewGenerationFalcoEvent").log(function(){return{attachment_id:b.attachmentID,entry_point:b.entryPoint,event:a,filesize:e!=null&&e.filesize!=null?(h||(h=d("I64"))).to_string(e.filesize):void 0,filetype:e==null?void 0:e.playableUrlMimeType,message_id:b.messageID.messageId,session_id:b.sessionId,thread_id:(h||(h=d("I64"))).to_string(b.thread.threadKey),thread_type:(i||(i=d("LSIntEnum"))).unwrapIntEnum(b.thread.threadType)}})}}function e(a){return k("file_viewer_direct_download",a)}g.generateSessionId=b;g.logFileViewerDirectDownload=e}),98);
__d("useMWFileOnPress",["MWFileViewerLogger","ReQL","asyncToGeneratorRuntime","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(a,e,f,g,i){var k=(h||(h=c("useReStore")))();return j(function(h){f==null?void 0:f(h),c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b,c=(yield (b=d("ReQL")).firstAsync(b.fromTableAscending(k.tables.threads).getKeyRange(a.threadId)));b=(yield b.firstAsync(b.fromTableAscending(k.tables.attachments).getKeyRange(a.threadId,a.messageId)));if(c){b={attachment:b,attachmentID:e,entryPoint:g,messageID:a,sessionId:i,thread:c};d("MWFileViewerLogger").logFileViewerDirectDownload(b)}})())},[f,k,a,e,g,i])}g["default"]=a}),98);
__d("MWFilePressable.react",["CometErrorBoundary.react","ConstUriUtils","FBLogger","MWFIlePressableDirectDownload.react","MWFileViewerLogger","goUriOnNewWindow","react","useMWFileOnPress"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=a.attachmentID,c=a.children,e=a.entryPoint,f=a.mediaRenderQpl,g=a.messageID,h=a.onPress,l=a.url;a=a.xstyle;j(function(){l!=null&&l.length>0?f==null?void 0:f.endSuccess():f==null?void 0:f.endFail("load-file-error")},[f,l]);return g!=null&&g.type==="sent"&&b!=null&&l!=null?i.jsx(k,{attachmentID:b,children:c,entryPoint:e,onPress:h,sentMessage:g.value,url:l,xstyle:a}):i.jsx(d("MWFIlePressableDirectDownload.react").MWFilePressableDirectDownload,{children:c,onPress:h,url:l,xstyle:a})}a.displayName=a.name+" [from "+f.id+"]";function k(a){var b=a.attachmentID,e=a.sentMessage,f=a.url,g=a.children,h=a.entryPoint,j=a.onPress;a=a.xstyle;var k=d("MWFileViewerLogger").generateSessionId();e=c("useMWFileOnPress")(e,b,j,h,k);return i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},onError:function(a){a=a?a.message:"Cannot open file viewer";c("FBLogger")("messenger_web_media","cannot_load_entry_point").mustfix(a);a=d("ConstUriUtils").getUri(f);a!=null&&c("goUriOnNewWindow")(a)},children:i.jsx(d("MWFIlePressableDirectDownload.react").MWFilePressableDirectDownload,{children:g,onPress:e,url:f,xstyle:a})})}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatAttachmentParserUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.startsWith("blob:");if(!b)return;b=a.length;return a.substring(5,b)}f.getBlobUrl=a}),66);
__d("formatFileSize",["fbt"],(function(a,b,c,d,e,f,g,h){var i=[function(a){return h._(/*BTDS*/"__JHASH__eMlnaQRXRvN__JHASH__",[h._param("value",a,[0])])},function(a){return h._(/*BTDS*/"__JHASH__3UzqYHovNJr__JHASH__",[h._param("value",a,[0])])},function(a){return h._(/*BTDS*/"__JHASH___CyxwP2Ni02__JHASH__",[h._param("value",a,[0])])},function(a){return h._(/*BTDS*/"__JHASH__B5cUSs7YWey__JHASH__",[h._param("value",a,[0])])},function(a){return h._(/*BTDS*/"__JHASH__7EGP9din_0A__JHASH__",[h._param("value",a,[0])])},function(a){return h._(/*BTDS*/"__JHASH__ghfLx6_Ho7n__JHASH__",[h._param("value",a,[0])])},function(a){return h._(/*BTDS*/"__JHASH__osT4Py2kL4R__JHASH__",[h._param("value",a,[0])])}],j=0;function a(a,b,c){b===void 0&&(b=1024);c===void 0&&(c=2);if(a==null)return null;if(a===0)return i[j](0);var d=Math.floor(Math.log(Math.abs(a))/Math.log(b));a=a/Math.pow(b,d);b=Math.pow(10,c);a=Math.round(a*b)/b;return i[d](a)}g["default"]=a}),226);
__d("MWV2ChatFileV2.react",["fbt","ConstUriUtils","I64","LSMediaUrlAttachment","MDSTextPairing.react","MWChatFilePreview.react","MWChatMessageId","MWFilePressable.react","MWV2ChatAttachmentParserUtils","formatFileSize","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react")),m=j.useMemo,n={root:{alignItems:"x6s0dn4",display:"x78zum5",userSelect:"x87ps6o",$$css:!0}};function a(a){var b=a.attachment,e=a.getPlayableUrlSecure;a=a.mediaRenderQpl;var f=m(function(){var a=b.filename;if(a!=null)return a;else return h._(/*BTDS*/"__JHASH__uiTAWyhPCWI__JHASH__")},[b]),g=m(function(){var a=b.filesize!=null?(k||(k=d("I64"))).to_int32(b.filesize):void 0;if(a!=null)return c("formatFileSize")(a);else return null},[b]),j=m(function(){if(e!=null){var a;a=(a=e(b))!=null?a:"";return d("ConstUriUtils").getUri(a)}else{a=d("LSMediaUrlAttachment").playableUrl(b);if(a!=null){var f=d("MWV2ChatAttachmentParserUtils").getBlobUrl(a);if(f!=null)return d("ConstUriUtils").getUri(f);else return d("ConstUriUtils").getUri(a)}}c("recoverableViolation")("Attachment has no playable_url "+b.attachmentFbid,"messenger_web_media")},[b,e]);return l.jsx(c("MWFilePressable.react"),{attachmentID:b.attachmentFbid,entryPoint:"chat_file_v4",mediaRenderQpl:a,messageID:d("MWChatMessageId").makeSent((k||(k=d("I64"))).to_string(b.threadKey),b.messageId,k.to_string(b.timestampMs)),url:j==null?void 0:j.toString(),children:l.jsxs("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(n.root,!1),{"data-testid":void 0,children:[l.jsx(c("MWChatFilePreview.react"),{attachment:b,withPreview:!1}),l.jsxs("div",babelHelpers["extends"]({className:"xzsf02u x1iyjqo2 x1s688f xz9dl7a xn6708d xsag5q8 x1ye3gou x13faqbe"},{children:[l.jsx(c("MDSTextPairing.react"),{headline:f,headlineLineLimit:3,level:4}),l.jsx("div",babelHelpers["extends"]({className:"x889kno"},{children:l.jsx(c("MDSTextPairing.react"),{body:g,bodyColor:"secondary",bodyLineLimit:1,level:4,testid:void 0})}))]}))]}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometPhotoGrid.react",["BaseAspectRatioContainer.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={item:{boxSizing:"x9f619",flexBasis:"x1yu6fn4",$$css:!0},itemEnlarged:{flexBasis:"x4pfjvb",$$css:!0},itemNarrowSpacing:{paddingTop:"x1nn3v0j",paddingEnd:"xg83lxy",paddingBottom:"x1120s5i",paddingStart:"x1h0ha7o",$$css:!0},itemWideSpacing:{paddingTop:"xyqdw3p",paddingEnd:"x10ogl3i",paddingBottom:"xg8j3zb",paddingStart:"x1k2j06m",$$css:!0},wrapper:{display:"x78zum5",flexDirection:"x1q0g3np",flexWrap:"x1a02dak",$$css:!0},wrapperNarrowSpacing:{marginTop:"x1kgmq87",marginEnd:"xwrv7xz",marginBottom:"xmgb6t1",marginStart:"x8182xy",$$css:!0},wrapperWideSpacing:{marginTop:"x1198e8h",marginEnd:"xj3m2qm",marginBottom:"x1huwwth",marginStart:"x1uirj4r",$$css:!0}};function k(a,b){return a<2&&b%3===2}function a(a){var b=a.children,e=a.spacing,f=e===void 0?"narrow":e;e=a.uniformGrid;var g=e===void 0?!1:e;a=i.Children.toArray(b);var h=a.length;return i.jsx(d("react-strict-dom").html.div,{style:[j.wrapper,f==="narrow"&&j.wrapperNarrowSpacing,f==="wide"&&j.wrapperWideSpacing],children:i.Children.map(a,function(a,b){return i.jsx(d("react-strict-dom").html.div,{style:[j.item,f==="wide"&&j.itemWideSpacing,f==="narrow"&&j.itemNarrowSpacing,!g&&k(b,h)&&j.itemEnlarged],children:i.jsx(c("BaseAspectRatioContainer.react"),{aspectRatio:1,children:a})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatImagesGrid.react",["fbt","CometPhotoGrid.react","FDSImageCover.react","LSMediaUrlAttachment","MWLSThreadDisplayContext","MWXMessageBubbleCornerStyles.react","MWXPressable.react","react","stylex","useMWV2MediaViewerURL"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useCallback,m=b.useMemo,n={large:{width:"x7cdydq",$$css:!0},pressable:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",display:"x1lliihq",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xh8yej3",$$css:!0},root:{maxWidth:"x193iq5w",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},small:{width:"x1so1ns2",$$css:!0}};function o(a){var b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return m(function(){var c=a.previewUrlLarge;if(c!=null&&b==="Inbox")return c;else return d("LSMediaUrlAttachment").previewUrl(a)},[a,b])}function p(a){var b=a.attachment,d=a.mediaRenderQpl;a=l(function(){d==null?void 0:d.endFail("load-image-error")},[d]);var e=l(function(){d==null?void 0:d.endSuccess()},[d]),f=o(b);b=c("useMWV2MediaViewerURL")(b);if(f==null){d==null?void 0:d.endFail("empty_preview_url");a();return null}var g=h._(/*BTDS*/"__JHASH__mrw3CpFXi7r__JHASH__");return k.jsx(c("MWXPressable.react"),{"aria-label":g,linkProps:{passthroughProps:{origSrc:f},url:b},overlayRadius:"compact",xstyle:function(){return[n.pressable]},children:k.jsx(c("FDSImageCover.react"),{alt:g,onError:a,onLoad:e,src:f})})}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.attachments,e=a.connectBottom,f=a.connectTop,g=a.mediaRenderQpl;a=a.outgoing;var h=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();a=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:a?"right":"left",connectBottom:e,connectTop:f});return k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(n.root,h==="Inbox"?n.large:n.small,a),{"data-testid":void 0,children:k.jsx(c("CometPhotoGrid.react"),{children:b.map(function(a){return k.jsx(p,{attachment:a,mediaRenderQpl:g},a.attachmentFbid)})})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MDSCautionTriangleSvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:i.jsx("path",{clipRule:"evenodd",d:"M19.747 8.027c-.764-1.367-2.73-1.367-3.494 0L6.757 25.025C6.012 26.358 6.977 28 8.504 28h18.992c1.528 0 2.492-1.642 1.747-2.975L19.747 8.027zm-3.159 5.97a1.414 1.414 0 112.824 0l-.353 6.005a1.06 1.06 0 01-2.118 0l-.353-6.005zm2.662 9.753a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2UnsupportedAttachment.react",["fbt","MDSCautionTriangleSvgIcon.react","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useEffect;function a(a){var b=a.attachment,d=a.mediaRenderQpl;a=b.descriptionText;k(function(){d==null?void 0:d.addPoint("render-unsupported-attachment")});return j.jsxs("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xjkvuk6 x1iorvi4 x87ps6o"},{children:[j.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 xgx9qek x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xl56j7k xmo9yow x1iorvi4 x150jy0e xjkvuk6 x1e558r4"},{children:j.jsx(c("MDSCautionTriangleSvgIcon.react"),{color:"primary",size:24})})),j.jsxs("div",babelHelpers["extends"]({className:"xzsf02u x1iyjqo2 x1s688f x13faqbe"},{children:[j.jsx(c("MWXText.react"),{type:"headline4",children:h._(/*BTDS*/"__JHASH__Uhh5LwoNOuv__JHASH__")}),a!=null?j.jsx("div",babelHelpers["extends"]({className:"x889kno"},{children:j.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:a})})):null]}))]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("LSMediaUrlAttachmentItem",["LSMediaUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.previewUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.previewUrlFallback:a.previewUrl}function b(a){var b=a.previewUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.previewUrlFallback:a.previewUrlLarge}function c(a){var b=a.playableUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.playableUrlFallback:a.playableUrl}function e(a){var b=a.faviconUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.faviconUrlFallback:a.faviconUrl}g.previewUrl=a;g.previewUrlLarge=b;g.playableUrl=c;g.faviconUrl=e}),98);
__d("MWPBaseXMAAttachmentItem.react",["BaseImage.react","I64","LSIntEnum","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","MNLSXMALayoutType","MWPThreadCapabilitiesContext","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react")),l=h,m=l.createContext,n=l.useContext,o=l.useMemo,p=new Set(["xma_rtc_video","xma_rtc_missed_video","xma_rtc_missed_group_video","xma_rtc_ended_video","xma_rtc_new_video_default","xma_rtc_new_video_from_fb_share","xma_rtc_new_video_from_fb_video_share","xma_rtc_new_video_from_cowatch_share","xma_rtc_cowatch_start_video"]),q=new Set(["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_missed_group_audio","xma_rtc_ended_audio","xma_rtc_new_audio_default","xma_rtc_new_audio_from_fb_share","xma_rtc_new_audio_from_fb_video_share","xma_rtc_new_audio_from_cowatch_share"]),r=m({hasAtLeastOneCta:!1,isDisabledRtcXma:!1,renderPressable:function(a){return null}});function a(a){var b=a.attachment,c=a.attachmentItem,e=a.children,f=a.renderPressable;a=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();a=a.hasLSThreadBitOffset;var g=a(25);a=a(24);b=b.defaultCtaType;var h=c.attachmentCta1Id!=null,i=b!=null?q.has(b)&&!g||p.has(b)&&!a:!1;c=o(function(){return{hasAtLeastOneCta:h,isDisabledRtcXma:i,renderPressable:f}},[f,h,i]);return k.jsx(r.Provider,{value:c,children:!h&&!i?f(e):e})}a.displayName=a.name+" [from "+f.id+"]";function b(a){a=a.children;var b=n(r);if(b.hasAtLeastOneCta&&!b.isDisabledRtcXma)return b.renderPressable(a);else return a}b.displayName=b.name+" [from "+f.id+"]";var s={container:{display:"x78zum5",position:"x1n2onr6",width:"xh8yej3",$$css:!0},image:{flexGrow:"x1iyjqo2",height:"xt7dq6l",maxWidth:"x193iq5w",objectFit:"xl1xv1r",$$css:!0}};function e(a){var b=a.attachmentItem;a=a.url;var e=b.previewHeight;b=b.previewWidth;return k.jsx(d("react-strict-dom").html.div,{style:s.container,children:k.jsx(c("BaseImage.react"),{height:e!=null?(i||(i=d("I64"))).to_int32(e):void 0,src:a,width:b!=null?(i||(i=d("I64"))).to_int32(b):void 0,xstyle:s.image})})}e.displayName=e.name+" [from "+f.id+"]";function t(a){var b,c=a.attachment,e=a.attachmentItem,f=a.description,g=a.getPreviewUrl,h=a.mediaRenderQpl;a=a.preferLargePreview;a=a===void 0?!1:a;var i=d("LSMediaUrlAttachmentItem").playableUrl(e),j=d("LSMediaUrlAttachment").previewUrlLarge(c);b=a?(b=d("LSMediaUrlAttachmentItem").previewUrlLarge(e))!=null?b:d("LSMediaUrlAttachmentItem").previewUrl(e):d("LSMediaUrlAttachmentItem").previewUrl(e);g=g==null?d("LSMediaUrlAttachment").previewUrl(c):g(c,e,"MWPBaseXMAAttachmentItem.getXMAAttachmentItemPreview - "+f,h);f=a&&j!=null?j:(c=b)!=null?c:g;h=e.playableUrlMimeType;a=h!=null?h.includes("video")?"video":h.includes("image")?"image":"unsupported":"unsupported";if(a==="video"&&i!=null)return{type:"Video",url:i};if(f!=null)return{type:"Image",url:f};return a==="image"&&i!=null?{type:"Image",url:i}:{hasPlayableUrl:i!=null,hasPreviewUrl:f!=null,mimeType:a,playableUrlMimeType:e.playableUrlMimeType,type:"Unsupported"}}function u(a,b){var e=a.xmaLayoutType!=null&&!(i||(i=d("I64"))).equal(a.xmaLayoutType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").HSCROLL)),f=b.titleText;f=f!=null||!e?f:a.titleText;b=b.subtitleText;e=b!=null||!e?b:a.subtitleText;return[f,e]}g.MWPBaseXMAAttachmentItemPressableContext=r;g.MWPBaseXMAAttachmentItemPressable=a;g.MWPBaseXMAAttachmentItemPressableNested=b;g.MWPBaseXMAAttachmentItemImage=e;g.getXMAAttachmentItemPreview=t;g.useTitleAndSubtitle=u}),98);
__d("useMWChatOpenTabByThreadKey",["I64","LSAuthorityLevel","LSContactType","LSFactory","LSIntEnum","LSVerifyThreadRowExistsStoredProcedure","MWPActor.react","Promise","ReQL","promiseDone","react","useMWBaseChatOpenTabForUser","useMWChatOpenTabForPage","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l;e=l||d("react");var m=e.useCallback,n=e.useMemo;function a(a,e){var g=(k||(k=c("useReStore")))(),l=c("useMWBaseChatOpenTabForUser")(void 0,e),o=l.openTabByThreadKey,p=c("useMWChatOpenTabForPage")(e),q=d("MWPActor.react").useActor(),r=n(function(){return new(h||(h=b("Promise")))(function(b,e){var h=(e=d("ReQL")).mergeJoin(e.fromTableAscending(g.tables.participants).getKeyRange(a).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,q)}),e.fromTableAscending(g.tables.contacts)),k={contents:function(){}};k.contents=h.subscribe(function(a,e){if(e.operation==="delete")return;a=e.value[1];if((i||(i=d("I64"))).ge(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){k.contents();return b(a)}});c("promiseDone")(e.firstAsync(h),function(e){if(e!=null){e=e[1];if((i||(i=d("I64"))).ge(e.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){k.contents();return b(e)}else return}c("promiseDone")(g.runInTransaction(function(b){return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(b),{syncGroup:(j||(j=d("LSIntEnum"))).ofNumber(1),threadKey:a,threadType:j.ofNumber(1)})},"readwrite",void 0,void 0,f.id+":89"))})})},[a,g]);return m(function(b){c("promiseDone")(r,function(e){var f=(i||(i=d("I64"))).to_string(a);e=e.contactType;if((i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE)))return p(f,!1);else return o(f,b)})},[r,o,p,a])}g["default"]=a}),98);
__d("MWXMAAttachmentActionTriggerWithOpenChatTab.react",["Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","ReQL","promiseDone","useAsyncReStore","useCometRouterDispatcher","useMWChatOpenTabByThreadKey","useMWNavigation","useShouldShowMessagingEntrypointInCometRoot"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.children;a=a.threadKey;return b(i(a))}function i(a){var b=c("useShouldShowMessagingEntrypointInCometRoot")("CHAT"),e=c("useCometRouterDispatcher")(),f=c("useMWChatOpenTabByThreadKey")(a,"chatInThread"),g=c("useAsyncReStore")(),i=c("useMWNavigation")();return d("Int64Hooks").useCallbackInt64(function(j){var k=(h||(h=d("LSIntEnum"))).ofNumber(22);c("promiseDone")(g,function(g){c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(g.tables.threads).getKeyRange(a)),function(c){var g=(c==null?void 0:c.threadType)!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(c.threadType);if(b){var h=j.metaKey||j.ctrlKey||j.shiftKey;if(!h)return f(g)}else if(e!=null&&c!=null)return i.openInbox({threadKey:a,threadType:c.threadType},"chatInThread",k);else return})})},[e,b,g,i,f,a])}g["default"]=a}),98);
__d("LsThreadType",[],(function(a,b,c,d,e,f){a=Object.freeze({COMMUNITY_FOLDER:17,COMMUNITY_GROUP:18,COMMUNITY_GROUP_UNJOINED:19,COMMUNITY_CHANNEL_CATEGORY:20,COMMUNITY_PRIVATE_HIDDEN_JOINED_THREAD:21,COMMUNITY_PRIVATE_HIDDEN_UNJOINED_THREAD:22,COMMUNITY_BROADCAST_JOINED_THREAD:23,COMMUNITY_BROADCAST_UNJOINED_THREAD:24,COMMUNITY_GROUP_INVITED_UNJOINED:25,COMMUNITY_SUB_THREAD:26,COMMUNITY_ANNOUNCEMENT_JOINED_THREAD:27,COMMUNITY_ANNOUNCEMENT_UNJOINED_THREAD:28,DISCOVERABLE_PUBLIC_CHAT:150,DISCOVERABLE_PUBLIC_CHAT_UNJOINED:151,DISCOVERABLE_PUBLIC_BROADCAST_CHAT:152,DISCOVERABLE_PUBLIC_BROADCAST_CHAT_UNJOINED:153,DISCOVERABLE_PUBLIC_CHAT_V2:154,DISCOVERABLE_PUBLIC_CHAT_V2_UNJOINED:155,ONE_TO_ONE:1,GROUP:2,ROOM:3,MONTAGE:4,MARKETPLACE:5,FOLDER:6,TINCAN_ONE_TO_ONE:7,TINCAN_GROUP_DISAPPEARING:8,CARRIER_MESSAGING_ONE_TO_ONE:10,CARRIER_MESSAGING_GROUP:11,TINCAN_ONE_TO_ONE_DISAPPEARING:13,PAGE_FOLLOW_UP:14,SECURE_MESSAGE_OVER_WA_ONE_TO_ONE:15,SECURE_MESSAGE_OVER_WA_GROUP:16,PINNED:101,LWG:102,XAC_GROUP:200,AI_BOT:201,GROUP_WITH_AI_BOT:202,UNKNOWN:0,SELF_THREAD:12,ARMADILLO_ONE_TO_ONE:-1,ARMADILLO_GROUP:-2});f["default"]=a}),66);
__d("XmaEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5680");b=d("FalcoLoggerInternal").create("xma_events",a);e=b;g["default"]=e}),98);
__d("MessengerWebUXLoggerXMAEventLoggingImpl",["CometPassiveGetRouterStateContext","CometProductAttribution","I64","LSMessagingThreadTypeUtil","LSXmaContentType","LsThreadType","WebUXLoggingEntryPointContextProvider","XmaEventsFalcoEvent","castToEnum","cr:1576","react","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=j.useCallback,l=j.useContext,m=j.useInsertionEffect,n=j.useRef;function a(){var a=p("xma_redirect_to_fb");return k(function(b){a(b)},[a])}function e(a){var b=p("xma_impression");return c("useSinglePartialViewImpression")({onImpressionStart:function(){b(a)}})}function f(){var a=p("xma_click");return k(function(b){a(b)},[a])}function o(){var a=p("xma_fb_opened");return k(function(b){a(b)},[a])}function p(a){var e=l(d("WebUXLoggingEntryPointContextProvider").WebUXEntryPointLoggingContext),f=n(e);m(function(){f.current=e});var g=l(c("CometPassiveGetRouterStateContext"));return k(function(e){var h,j=e.attachment.messageId;h=c("castToEnum")((i||(i=d("I64"))).to_int32((h=e.threadType)!=null?h:(i||(i=d("I64"))).zero),c("LsThreadType"),null);var k=e.threadType?d("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType):!1,l=e.attachment.threadKey,m=i.to_string(l),n=f.current,o=r(e.attachment),p=d("CometProductAttribution").getMinifiedTopMostRouteProductAttribution(g),t=e.attachment.xmaContentType;t=s(t);var u={click_category:e==null?void 0:e.clickCategory,click_target_type:o,entrypoint:n,event:(e==null?void 0:e.isDirectToExternal)===!0?"xma_redirect_to_external_app":a,is_facebook_installed:null,is_fb_content:t,thread_id:m,thread_type:h};if(k===!0&&b("cr:1576")!=null){var v=q(e.message);b("cr:1576").log(function(){return babelHelpers["extends"]({},u,v,{navigation_chain:p,thread_key:(i||(i=d("I64"))).to_string(l)})})}else c("XmaEventsFalcoEvent").log(function(){return babelHelpers["extends"]({},u,{attribution_id_v2:p,message_id:j})})},[a,g])}function q(a){return a==null?{}:{forward:a.isForwarded,message_sender_id:(i||(i=d("I64"))).to_string(a.senderId),message_sent_time:i.to_string(i.div(a.timestampMs,i.of_string("1000")))}}function r(a){var b=a.defaultCtaType,c=a.attachmentLoggingType;a=a.cta1Type;var d=35;b==="xma_rtc_missed_audio"?d=37:b==="xma_rtc_missed_video"?d=36:b==="xma_rtc_missed_group_audio"?d=67:b==="xma_rtc_missed_group_video"?d=66:b==="xma_rtc_audio"?d=17:b==="xma_rtc_video"?d=18:b==="xma_rtc_ended_audio"?d=57:b==="xma_rtc_ended_video"?d=56:b==="xma_rtc_new_audio_default"?d=68:b==="xma_live_location_sharing"?(d=38,a==="xma_live_location_sharing"&&(d=39)):b==="xma_shops_pdp"?d=61:b==="xma_open_native"?d=41:b==="xma_web_url"?d=35:c==="xma_open_contact_share"?d=64:b==="xma_customer_information"?d=65:c==="xma_appointment_confirmed"?d=70:b==="xma_montage_share"&&(d=82);return d}function s(a){if(a==null)return null;a=(i||(i=d("I64"))).to_int32(a);return a===c("LSXmaContentType").FB_FEED_SHARE||a===c("LSXmaContentType").FB_STORY_REPLY||a===c("LSXmaContentType").FB_STORY_SHARE||a===c("LSXmaContentType").FB_STORY_MENTION||a===c("LSXmaContentType").FB_FEED_VIDEO_SHARE||a===c("LSXmaContentType").FB_GAMING_CUSTOM_UPDATE||a===c("LSXmaContentType").FB_PRODUCER_STORY_REPLY||a===c("LSXmaContentType").FB_EVENT||a===c("LSXmaContentType").FB_FEED_POST_PRIVATE_REPLY||a===c("LSXmaContentType").FB_SHORT||a===c("LSXmaContentType").MSG_MEMORIES_SHARE||a===c("LSXmaContentType").LIVE_LOCATION||a===c("LSXmaContentType").MSG_RECEIVER_FETCH}g.useXMAEventsRedirectDefaultToFBLogger=a;g.useXMAEventsImpressionLoggerRef=e;g.useXMAEventsClickLogger=f;g.useXMAEventOpenInFBLogger=o}),98);
__d("LsDidTapCallToActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743852");b=d("FalcoLoggerInternal").create("ls_did_tap_call_to_action",a);e=b;g["default"]=e}),98);
__d("logXMACtaClicked",["I64","LsDidTapCallToActionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.cta,e=a.loggingDetails,f=a.source;if(e==null)return;a=b.actionContentBlob;var g=a!=null?i(a):"",n=a!=null?k(a):"",o=a!=null?j(a):"",p=a!=null?l(a):"",q=a!=null?m(a):"",r=e[1],s=e[0];c("LsDidTapCallToActionFalcoEvent").log(function(){return{action:{cta_type_unique_id:n,id:(h||(h=d("I64"))).to_string(b.ctaId),name:"",source:f,type:r},message:{campaign_id:o,id:b.messageId,marketing_message_impression_token:p,marketing_message_surface:q,notification_token:g},page:{id:s},target:{id:s},thread:{id:s}}})}function i(a){try{a=JSON.parse(a);a=a.notification_message_token;return a!=null?a:""}catch(a){return""}}function j(a){try{a=JSON.parse(a);a=a.mbs_mm_campaign_id;return a!=null?a:""}catch(a){return""}}function k(a){try{a=JSON.parse(a);a=a.mm_cta_unique_id;return a!=null?a:""}catch(a){return""}}function l(a){try{a=JSON.parse(a);a=a.mm_impression_token;return a!=null?a:""}catch(a){return""}}function m(a){try{a=JSON.parse(a);a=a.mm_surface;return a!=null?a:""}catch(a){return""}}g.logXMACtaClicked=a}),98);
__d("CustomerInformationTemplateFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5813");b=d("FalcoLoggerInternal").create("customer_information_template",a);e=b;g["default"]=e}),98);
__d("CometMarketplaceCreateDiscountedPriceDialogContentQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5428046370622309"}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters",["CometMarketplaceCreateDiscountedPriceDialogContentQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceCreateDiscountedPriceDialogContentQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceCreateDiscountedPriceDialogContentQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogNUXQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9194327047343487"}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters",["CometMarketplaceCreateDiscountedPriceDialogNUXQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceCreateDiscountedPriceDialogNUXQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceCreateDiscountedPriceDialogNUXQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceCreateDiscountedPriceDialog.entrypoint",["CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters","CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=d("WebPixelRatio").get();return{queries:{cometMarketplaceCreateDiscountedPriceDialogContentQueryReference:{parameters:c("CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters"),variables:{thread_id:a.threadId}},cometMarketplaceCreateDiscountedPriceDialogNUXQueryReference:{parameters:c("CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters"),variables:{contentParams:{pixelRatio:b},scale:b}}}}},root:c("JSResourceForInteraction")("CometMarketplaceCreateDiscountedPriceDialog.react").__setRef("CometMarketplaceCreateDiscountedPriceDialog.entrypoint")};g["default"]=a}),98);
__d("CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1746398");b=d("FalcoLoggerInternal").create("ctm_multi_photo_carousel_msgr_multi_photo_carousel_click",a);e=b;g["default"]=e}),98);
__d("LSSetClientCTAType",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(19).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({type_:a[1]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxSetClientCTATypeStoredProcedure";a.__tables__=["attachment_ctas"];e.exports=a}),null);
__d("LSMarkAsX",["LSIssueNewTask","LSSetClientCTAType"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(d){return c.storedProcedure(b("LSSetClientCTAType"),a[0],"xma_disabled_cta")},function(e){return d[0]=new c.Map(),d[0].set("cta_id",a[0]),d[0].set("order_id",a[1]),d[0].set("cta_type",a[2]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"p2m_mark_as_x",c.i64.cast([0,808]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxMarkAsXStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSMarkAsXStoredProcedure",["LSMarkAsX","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSMarkAsX"),e.ctaId,e.orderId,e.ctaType);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4973572169363354"}),null);
__d("GraphQLMessengerPlatformCtaPostHandlingMutation.graphql",["GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerPlatformCtaPostHandlingResponsePayload",kind:"LinkedField",name:"messenger_platform_cta_post_handling",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"GraphQLMessengerPlatformCtaPostHandlingMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"GraphQLMessengerPlatformCtaPostHandlingMutation",selections:c},params:{id:b("GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation"),metadata:{},name:"GraphQLMessengerPlatformCtaPostHandlingMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("MessengerPlatformClientTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setAppversion=function(a){this.$1.appversion=a;return this};c.setClientUserID=function(a){this.$1.client_userid=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setCountry=function(a){this.$1.country=a;return this};c.setDeviceid=function(a){this.$1.deviceid=a;return this};c.setExtraClientData=function(a){this.$1.extra_client_data=a;return this};c.setIsemployee=function(a){this.$1.isemployee=a;return this};c.setLoggingToken=function(a){this.$1.logging_token=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setRawclienttime=function(a){this.$1.rawclienttime=a;return this};c.setSessionid=function(a){this.$1.sessionid=a;return this};c.setThreadID=function(a){this.$1.thread_id=a;return this};return a}();c={appid:!0,appversion:!0,client_userid:!0,clienttime:!0,country:!0,deviceid:!0,extra_client_data:!0,isemployee:!0,logging_token:!0,name:!0,rawclienttime:!0,sessionid:!0,thread_id:!0};f["default"]=a}),66);
__d("XWebGraphQLMutationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/webgraphql/mutation/",{query_id:{type:"FBID"},variables:{type:"String"},doc_id:{type:"FBID"},legacy_response_format:{type:"Bool",defaultValue:!1}})}),null);
__d("WebGraphQLMutationHelper",["CurrentUser","WebGraphQLLegacyHelper","XWebGraphQLMutationController","base62"],(function(a,b,c,d,e,f,g){"use strict";var h=0;function a(a,b){return d("WebGraphQLLegacyHelper").getURI({controller:c("XWebGraphQLMutationController"),docID:a,variables:{input:babelHelpers["extends"]({client_mutation_id:c("base62")(h++),actor_id:c("CurrentUser").getID()},b)}})}g.getMutationURI=a}),98);
__d("XMNCommerceCTAPostProcessController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/cta/postprocess/",{cta_id:{type:"String",required:!0},message_id:{type:"String"}})}),null);
__d("MNCommerceCTAProcessor",["AsyncRequest","CurrentUser","GraphQLMessengerPlatformCtaPostHandlingMutation.graphql","MessengerPlatformClientTypedLogger","PopupWindow","WebGraphQLMutationHelper","XMNCommerceCTAPostProcessController","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.process=function(a,b){b===void 0&&(b=null);var e=d("PopupWindow").open("",500,1024);a=c("XMNCommerceCTAPostProcessController").getURIBuilder().setString("cta_id",a).setString("message_id",b).getURI();new(c("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(a){return e.location=a.payload}).send()};b.postHandle=function(a,b){a=d("WebGraphQLMutationHelper").getMutationURI(c("nullthrows")(c("GraphQLMessengerPlatformCtaPostHandlingMutation.graphql").params.id),{cta_id:a,message_id:b});new(c("AsyncRequest"))().setURI(a).send()};b.logCTAClick=function(a){var b=a==null?void 0:a.logging_token,d=b?JSON.parse(b).click_source:"UNKNOWN";d={action_id:a==null?void 0:a.id,action_type:a==null?void 0:a.action_type,action_url:(a==null?void 0:a.action_url)||(a==null?void 0:a.action_link),click_source:d,page_id:a==null?void 0:a.page_id};new(c("MessengerPlatformClientTypedLogger"))().setClientUserID(c("CurrentUser").getID()).setName("did_tap_call_to_action").setExtraClientData(JSON.stringify(d)).setLoggingToken(b).log()};return a}();b=new a();g["default"]=b}),98);
__d("MWBuyerShippingAddressRootQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24917306604535550"}),null);
__d("MWBuyerShippingAddressRootQuery.graphql",["MWBuyerShippingAddressRootQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"street1",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"street2",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"city_name",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"state_name",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"district",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"sub_district",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"postal_code",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"country_name",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"care_of",storageKey:null},n={alias:null,args:null,concreteType:"XFBPAYAddressAssociatedPhoneNumberResponse",kind:"LinkedField",name:"address_linked_phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"normalized_phone_number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"national_number",storageKey:null}],storageKey:null},o=[{kind:"Variable",name:"id",variableName:"id"}],p={alias:null,args:null,kind:"ScalarField",name:"country_id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWBuyerShippingAddressRootQuery",selections:[{alias:null,args:null,concreteType:"FBPayAccountExtended",kind:"LinkedField",name:"fbpay_account_extended",plural:!1,selections:[{alias:null,args:null,concreteType:"PAYFBPayAccount",kind:"LinkedField",name:"fbpay_account",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"shipping_addresses",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"MWBuyerShippingAddressSelectionAddressListItem",selections:[c,d,e,f,g,h,i,j,k,l,m,n],args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:o,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWBuyerShippingAddressSelectionPrivacyText"},p],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWBuyerShippingAddressRootQuery",selections:[{alias:null,args:null,concreteType:"FBPayAccountExtended",kind:"LinkedField",name:"fbpay_account_extended",plural:!1,selections:[{alias:null,args:null,concreteType:"PAYFBPayAccount",kind:"LinkedField",name:"fbpay_account",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"shipping_addresses",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"TypeDiscriminator",abstractKey:"__isPAYMailingAddress"},c,d,e,f,g,h,i,j,k,l,m,n],storageKey:null},c],storageKey:null}],storageKey:null},{alias:null,args:o,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messenger_privacy_policy_url",storageKey:null},p,c],storageKey:null}]},params:{id:b("MWBuyerShippingAddressRootQuery_facebookRelayOperation"),metadata:{},name:"MWBuyerShippingAddressRootQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWBuyerShippingAddressRootQuery",["MWBuyerShippingAddressRootQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h!==void 0?h:h=b("MWBuyerShippingAddressRootQuery.graphql");c=a;g["default"]=c}),98);
__d("MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="25001979722783703"}),null);
__d("MWChatCustomerFeedbackFormDataQuery.graphql",["MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],c={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};c=[{alias:null,args:[{kind:"Variable",name:"form_id",variableName:"formID"}],concreteType:"MessengerFeedbackFormDataResult",kind:"LinkedField",name:"messenger_feedback_form_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"form_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackBusinessPrivacyObject",kind:"LinkedField",name:"privacy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackFormScreenObject",kind:"LinkedField",name:"first_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerFeedbackQuestionObject",kind:"LinkedField",name:"feedback_questions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_default_title",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score_option",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"left_score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"right_score_label",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedBackQuestionFollowup",kind:"LinkedField",name:"follow_up",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatCustomerFeedbackFormDataQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatCustomerFeedbackFormDataQuery",selections:c},params:{id:b("MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation"),metadata:{},name:"MWChatCustomerFeedbackFormDataQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatCustomerFeedbackFormDataQuery",["CometRelay","MWChatCustomerFeedbackFormDataQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){a&&e({firstScreen:a.messenger_feedback_form_data.first_screen,formId:a.messenger_feedback_form_data.form_id,pageId:a.messenger_feedback_form_data.page_id,privacy:a.messenger_feedback_form_data.privacy})});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatCustomerFeedbackFormDataQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWChatCustomerFeedbackStateQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7662735127071179"}),null);
__d("MWChatCustomerFeedbackStateQuery.graphql",["MWChatCustomerFeedbackStateQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerFeedbackFormStateQueryObject",kind:"LinkedField",name:"messenger_feedback_form_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"form_state",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatCustomerFeedbackStateQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatCustomerFeedbackStateQuery",selections:c},params:{id:b("MWChatCustomerFeedbackStateQuery_facebookRelayOperation"),metadata:{},name:"MWChatCustomerFeedbackStateQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatCustomerFeedbackStateQuery",["CometRelay","MWChatCustomerFeedbackStateQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){if(a){e((a=a.messenger_feedback_form_state)==null?void 0:a.form_state)}});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatCustomerFeedbackStateQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWChatPIIFormScreenQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5021823607854583"}),null);
__d("MWChatPIIFormScreenQuery.graphql",["MWChatPIIFormScreenQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"},{defaultValue:null,kind:"LocalArgument",name:"screenIndex"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"},{kind:"Variable",name:"screen_index",variableName:"screenIndex"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerPIIFormSingleScreenObject",kind:"LinkedField",name:"messenger_pii_form_single_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerPIIFormScreenObject",kind:"LinkedField",name:"screen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"screen_title",storageKey:null},{alias:null,args:null,concreteType:"MessengerPIIQuestionObject",kind:"LinkedField",name:"questions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mask",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatPIIFormScreenQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatPIIFormScreenQuery",selections:c},params:{id:b("MWChatPIIFormScreenQuery_facebookRelayOperation"),metadata:{},name:"MWChatPIIFormScreenQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PiiActionFlowFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744182");b=d("FalcoLoggerInternal").create("pii_action_flow",a);e=b;g["default"]=e}),98);
__d("MWChatPIIFormScreenQuery",["CometRelay","MWChatPIIFormScreenQuery.graphql","PiiActionFlowFalcoEvent","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e,f,g){f=d("CometRelay").fetchQuery(f,j,{formID:a,screenIndex:e}).toPromise().then(function(d){if(d){d=d.messenger_pii_form_single_screen.screen;var e=d.questions.map(function(a){return{format:a.format,id:a.id,length:a.length,mask:a.mask,placeholder:a.placeholder,subtitle:a.subtitle,title:a.title,type:a.type}}),f={question_list_size:d.questions.length};c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_single_page_query_success",extra_data:JSON.stringify(f),form_id:a,page_id:b}});g({questions:e,screen_title:d.screen_title})}},function(d){c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_single_page_query_failure",extra_data:d.message,form_id:a,page_id:b}})});c("promiseDone")(f)},j=h!==void 0?h:h=b("MWChatPIIFormScreenQuery.graphql");a=function(a,b,c,d,e){i(a,b,c,d,function(a){return e(a)})};g.fetch=a}),98);
__d("MWChatPIIFormStateQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4923666631045015"}),null);
__d("MWChatPIIFormStateQuery.graphql",["MWChatPIIFormStateQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerPIIFormStateQueryObject",kind:"LinkedField",name:"messenger_pii_form_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatPIIFormStateQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatPIIFormStateQuery",selections:c},params:{id:b("MWChatPIIFormStateQuery_facebookRelayOperation"),metadata:{},name:"MWChatPIIFormStateQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatPIIFormStateQuery",["CometRelay","MWChatPIIFormStateQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){a&&e(a.messenger_pii_form_state.state)});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatPIIFormStateQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWChatReceiptDataQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7735392359808092"}),null);
__d("MWChatReceiptDataQuery.graphql",["MWChatReceiptDataQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"messageID"},c={defaultValue:null,kind:"LocalArgument",name:"receiptID"},d=[{alias:null,args:[{kind:"Variable",name:"message_id",variableName:"messageID"},{kind:"Variable",name:"receipt_id",variableName:"receiptID"}],concreteType:"ReceiptDataResult",kind:"LinkedField",name:"receipt_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"recipient_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"merchant_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"payment_method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cancellation_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_3",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"total_cost",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"total_tax",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shipping_cost",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtotal",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_time",storageKey:null},{alias:null,args:null,concreteType:"ReceiptItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumb_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"quantity",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Adjustment",kind:"LinkedField",name:"adjustments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"adjustment_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"display_adjustment_amount",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"MWChatReceiptDataQuery",selections:d,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"MWChatReceiptDataQuery",selections:d},params:{id:b("MWChatReceiptDataQuery_facebookRelayOperation"),metadata:{},name:"MWChatReceiptDataQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatReceiptDataQuery",["CometRelay","CometRelayEnvironment","MWChatReceiptDataQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,b,e){c("promiseDone")(d("CometRelay").fetchQuery(c("CometRelayEnvironment"),i,{messageID:b,receiptID:a}).toPromise().then(function(a){if((a==null?void 0:a.receipt_data)!=null){a=a.receipt_data;var b=a.items?a.items.map(function(a){return{description:a.description,name:a.name,price:a.price,quantity:a.quantity,thumb_url:a.thumb_url}}):[],c=a.adjustments?a.adjustments.map(function(a){return{adjustment_type:a.adjustment_type,display_adjustment_amount:a.display_adjustment_amount}}):[];e({address_line_1:a.address_line_1,address_line_2:a.address_line_2,address_line_3:a.address_line_3,adjustments:c,cancellation_url:a.cancellation_url,items:b,merchant_name:a.merchant_name,order_id:a.order_id,order_time:a.order_time,order_url:a.order_url,payment_method:a.payment_method,recipient_name:a.recipient_name,shipping_cost:a.shipping_cost,subtotal:a.subtotal,total_cost:a.total_cost,total_tax:a.total_tax})}}))};var i=h!==void 0?h:h=b("MWChatReceiptDataQuery.graphql");g.fetch=a}),98);
__d("MWLSPostbackCtaHandler",["AdsMessengerContext.react","Int64Hooks","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSShape","LSThreadAttributionTypeUtil","MWPActor.react","MWThreadKey.react","MessagePowerUp","promiseDone","react","useLSMessagingInitiatingSource","useLSMessagingSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useContext;function a(){var a=(h||(h=c("useReStore")))(),b=d("MWPActor.react").useActor(),e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),g=c("useLSMessagingInitiatingSource")(),j=c("useLSMessagingSource")(),l=k(d("AdsMessengerContext.react").AdsMessengerContext),m=l.onSendPostback;return d("Int64Hooks").useCallbackInt64(function(h,k){if(m!=null)return c("promiseDone")(m(h,k));var l=d("LSThreadAttributionTypeUtil").getSource(e,j);c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticSendMessageV2StoredProcedure")(c("LSFactory")(a),{extraSendMessageParams:d("LSShape").ofRecord({calculate_denormalizations:!0,initiating_source:(a=g)!=null?a:void 0,mark_read:!0,platform_token:h,power_up_style:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),reply_source_type:i.ofNumber(c("LSMessageReplySourceType").NONE),reply_source_type_v2:i.ofNumber(c("LSMessageReplySourceTypeV2").NONE),snippet_has_emoji:!1,source:l}),mailboxType:i.ofNumber(c("LSMailboxType").MESSENGER),senderId:b,snippet:k,text:k,threadKey:e,threadType:i.ofNumber(1)})},"readwrite",void 0,void 0,f.id+":50"))},[a,j,g,b,e,m])}g.usePostbackCtaHandler=a}),98);
__d("XP2PVerificationDialogBaseControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/p2p/verify/dialog/",Object.freeze({is_sender_flow:!1}),void 0);b=a;g["default"]=b}),98);
__d("MWP2PPaymentTransactionInformationVerify",["JSResourceForInteraction","XP2PVerificationDialogBaseControllerRouteBuilder","gkx","nullthrows","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("CometCompatModal.react").__setRef("MWP2PPaymentTransactionInformationVerify")),b=a[0];a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("CometP2PPaymentIDVFlow.react").__setRef("MWP2PPaymentTransactionInformationVerify"));var d=a[0];return i(function(a){a=a.id;if(c("gkx")("22992"))return d({transferId:c("nullthrows")(a)},function(){});else return b({params:{rel:"dialog-post",uri:c("XP2PVerificationDialogBaseControllerRouteBuilder").buildURL({id:c("nullthrows")(a),is_sender_flow:!1})}},function(){})},[b])}g.useP2PPaymentTransactionInformationVerify=a}),98);
__d("MarketplaceCometReviewOffersDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="26215706471376969"}),null);
__d("MarketplaceCometReviewOffersDialogQuery$Parameters",["MarketplaceCometReviewOffersDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MarketplaceCometReviewOffersDialogQuery_facebookRelayOperation"),metadata:{},name:"MarketplaceCometReviewOffersDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MarketplaceCometReviewOffersDialog.entrypoint",["JSResourceForInteraction","MarketplaceCometReviewOffersDialogQuery$Parameters","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.listingId;return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:c("MarketplaceCometReviewOffersDialogQuery$Parameters"),variables:{listingId:a,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("MarketplaceCometReviewOffersDialog.react").__setRef("MarketplaceCometReviewOffersDialog.entrypoint")};g["default"]=a}),98);
__d("ServicesCometLeadFormDialogRootQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8460785663932128"}),null);
__d("ServicesCometLeadFormDialogRootQuery$Parameters",["ServicesCometLeadFormDialogRootQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("ServicesCometLeadFormDialogRootQuery_facebookRelayOperation"),metadata:{},name:"ServicesCometLeadFormDialogRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("ViewFormDetailsModal.entrypoint",["JSResourceForInteraction","ServicesCometLeadFormDialogRootQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{queryRef:{parameters:c("ServicesCometLeadFormDialogRootQuery$Parameters"),variables:{responseID:a.responseID}}}}},root:c("JSResourceForInteraction")("ServicesCometLeadFormDialogRoot.react").__setRef("ViewFormDetailsModal.entrypoint")};g["default"]=a}),98);
__d("commitWorkplaceChatBotSubmitFeedbackMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6107272026057140"}),null);
__d("commitWorkplaceChatBotSubmitFeedbackMutation.graphql",["commitWorkplaceChatBotSubmitFeedbackMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:"results",args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"WorkplaceChatBotSubmitFeedbackResponsePayload",kind:"LinkedField",name:"workplace_chat_bot_submit_feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"commitWorkplaceChatBotSubmitFeedbackMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"commitWorkplaceChatBotSubmitFeedbackMutation",selections:c},params:{id:b("commitWorkplaceChatBotSubmitFeedbackMutation_facebookRelayOperation"),metadata:{},name:"commitWorkplaceChatBotSubmitFeedbackMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("commitWorkplaceChatBotSubmitFeedbackMutation",["CometRelay","Promise","commitWorkplaceChatBotSubmitFeedbackMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h!==void 0?h:h=b("commitWorkplaceChatBotSubmitFeedbackMutation.graphql");function a(a){var c=a.action_content_blob,e=a.config;return new(i||(i=b("Promise")))(function(a,b){d("CometRelay").commitMutation(e.environment,{mutation:j,onCompleted:function(b){a((b=b.results)==null?void 0:b.success)},onError:function(a){b(a)},variables:{input:{action_content_blob:c}}})})}g["default"]=a}),98);
__d("MerchantConfirmOrderDialog.entrypoint",["BizKitBIOOrderDetailActionsQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.orderID;return{queries:{MerchantConfirmOrderQueryReference:{parameters:b("BizKitBIOOrderDetailActionsQuery$Parameters"),variables:{orderID:a}}}}},root:c("JSResourceForInteraction")("MerchantConfirmOrderDialogContainer.react").__setRef("MerchantConfirmOrderDialog.entrypoint")};g["default"]=a}),98);
__d("useMerchantConfirmOrderDialog",["MerchantConfirmOrderDialog.entrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useMWXEntryPointDialog")(c("MerchantConfirmOrderDialog.entrypoint"),{orderID:a},void 0,void 0,{baseModalProps:{disableGeoToCometModalsCompatibility_DO_NOT_USE:!0}})}g["default"]=a}),98);
__d("useHandleMerchantConfirmOrderDialog",["react","useMerchantConfirmOrderDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo,k=b.useState;function a(){var a=k(null),b=a[0],d=a[1];a=k(!1);var e=a[0],f=a[1];a=c("useMerchantConfirmOrderDialog")((a=b)!=null?a:"");var g=a[0];i(function(){if(b!=null&&e){var a=function(){return f(!1)};g({orderID:b},a)}},[e,b,g]);return j(function(){return function(a){f(function(){return!0}),d(function(){return a})}},[f,d])}g["default"]=a}),98);
__d("MWChatPIIFormNuxQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5048028465289521"}),null);
__d("MWChatPIIFormNuxQuery.graphql",["MWChatPIIFormNuxQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"MessengerPIIFormFirstPartyPrivacyObject",kind:"LinkedField",name:"messenger_pii_nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatPIIFormNuxQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatPIIFormNuxQuery",selections:a},params:{id:b("MWChatPIIFormNuxQuery_facebookRelayOperation"),metadata:{},name:"MWChatPIIFormNuxQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatPIIFormNuxQuery",["CometRelay","MWChatPIIFormNuxQuery.graphql","PiiActionFlowFalcoEvent","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e,f){a=d("CometRelay").fetchQuery(a,j,{}).toPromise().then(function(a){if(a){c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_initial_query_success",extra_data:"",form_id:b,page_id:e}});if(a.messenger_pii_nux==null)f({description:"",seen:!0,title:"",url:"",url_text:""});else{var d;f({description:(d=a.messenger_pii_nux.description)!=null?d:"",seen:!1,title:(d=a.messenger_pii_nux.title)!=null?d:"",url:(d=a.messenger_pii_nux.url)!=null?d:"",url_text:(d=a.messenger_pii_nux.url_text)!=null?d:""})}}},function(a){c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_initial_query_failure",extra_data:a.message,form_id:b,page_id:e}})});c("promiseDone")(a)},j=h!==void 0?h:h=b("MWChatPIIFormNuxQuery.graphql");a=function(a,b,c,d){i(a,b,c,function(a){return d(a)})};g.fetch=a}),98);
__d("useMWChatShowPIIForm",["CometRelay","JSResourceForInteraction","MWChatPIIFormNuxQuery","MWChatPIIFormScreenQuery","MWChatPIIFormStateQuery","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback,j=c("JSResourceForInteraction")("MWChatPIIFormDialog.react").__setRef("useMWChatShowPIIForm");function a(){var a=c("useMWXLazyDialog")(j),b=a[0],e=d("CometRelay").useRelayEnvironment();return i(function(a){var c=a.color,f=a.currentIndex,g=a.firstScreen,h=a.formId,i=a.numScreens,j=a.pageId;d("MWChatPIIFormStateQuery").fetch(h,e,function(a){d("MWChatPIIFormNuxQuery").fetch(e,h,j,function(k){if(i>1){d("MWChatPIIFormScreenQuery").fetch(h,j,1,e,function(d){return b({color:c,ctaType:null,currentIndex:f,firstScreen:g,formId:h,numScreens:i,nuxData:k,pageId:j,secondScreen:(d=d)!=null?d:void 0,state:a})});return}else return b({color:c,ctaType:null,currentIndex:f,firstScreen:g,formId:h,numScreens:i,nuxData:k,pageId:j,secondScreen:void 0,state:a})})})},[e,b])}g["default"]=a}),98);
__d("LSOptimisticProcessMarketplaceCallFunctionCTA",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],void 0)?d[4]=d[5]:d[4]=c.i64.cast([0,1]),d[0]=d[4])})},function(e){return d[2]=new c.Map(),d[2].set("action_type",a[4]),d[2].set("attachment_fbid",a[2]),d[2].set("message_id",a[0]),d[2].set("target_id",a[3]),d[2].set("thread_key",a[1]),d[2].set("sync_group",d[0]),d[3]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),"process_marketplace_xma_cta",c.i64.cast([0,185]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticProcessMarketplaceCallFunctionCTAStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSOptimisticProcessMarketplaceCallFunctionCTAStoredProcedure",["LSOptimisticProcessMarketplaceCallFunctionCTA","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticProcessMarketplaceCallFunctionCTA"),e.messageId,e.threadKey,e.attachmentFbid,e.targetId,e.actionType);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("useMWLSMarketplaceXmaCtaHandler",["LSFactory","LSOptimisticProcessMarketplaceCallFunctionCTAStoredProcedure","MWThreadKey.react","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(){var a=(h||(h=c("useReStore")))(),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();return j(function(d,e,g,h){c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticProcessMarketplaceCallFunctionCTAStoredProcedure")(c("LSFactory")(a),{actionType:h,attachmentFbid:e,messageId:d,targetId:g,threadKey:b})},"readwrite",void 0,void 0,f.id+":38"))},[a,b])}g["default"]=a}),98);
__d("useMWLSOpenStaticLocationDialog.react",["I64","JSResourceForInteraction","MWThreadKey.react","Promise","ReQL","ReQLSuspense","promiseDone","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).useCallback;function a(){var a=(i||(i=c("useReStore")))(),e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),g=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatStaticLocationDialog.react").__setRef("useMWLSOpenStaticLocationDialog.react")),k=g[0];return l(function(g){c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.attachments).getKeyRange(e,g).map(function(b){b=b.defaultCtaId;b=b!=null?b:(j||(j=d("I64"))).zero;b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.attachment_ctas).getKeyRange(b),f.id+":40");if(b!=null)return b.nativeUrl})).then(function(a){a=(a=a)!=null?a:"";var c=a.split(","),d=c[0];c=c[1];if(d==null||c==null){var e;a=new URL(a).searchParams;d=(e=a.get("lat"))!=null?e:"";c=(e=a.get("long"))!=null?e:""}k({latitude:d,longitude:c},function(){});return(h||(h=b("Promise"))).resolve()}))},[a,e,k])}g["default"]=a}),98);
__d("P2MAttachBankSlipDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5342426462467736"}),null);
__d("P2MAttachBankSlipDialogQuery$Parameters",["P2MAttachBankSlipDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("P2MAttachBankSlipDialogQuery_facebookRelayOperation"),metadata:{},name:"P2MAttachBankSlipDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("P2MAttachBankSlipDialog.entrypoint",["JSResourceForInteraction","P2MAttachBankSlipDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.orderID;return{queries:{P2MAttachBankSlipDialogQueryReference:{parameters:b("P2MAttachBankSlipDialogQuery$Parameters"),variables:{orderID:a}}}}},root:c("JSResourceForInteraction")("P2MAttachBankSlipDialog.react").__setRef("P2MAttachBankSlipDialog.entrypoint")};g["default"]=a}),98);
__d("useMWUIAttachBankSlipDialog",["P2MAttachBankSlipDialog.entrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useMWXEntryPointDialog")(c("P2MAttachBankSlipDialog.entrypoint"),{orderID:a})}g["default"]=a}),98);
__d("useMWLSShowAttachBankSlip",["react","useMWUIAttachBankSlipDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo,k=b.useState;function a(){var a=k(null),b=a[0],d=a[1];a=k(!1);var e=a[0],f=a[1];a=c("useMWUIAttachBankSlipDialog")(b);var g=a[0];i(function(){b!=null&&e&&g({orderID:b},function(){return f(!1)})},[b,e,g]);return j(function(){return function(a){f(function(){return!0});return d(function(){return a})}},[f,d])}g["default"]=a}),98);
__d("FBP2MECPCheckoutDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("FBP2MECPCheckoutDialog.react").__setRef("FBP2MECPCheckoutDialog.entrypoint")};g["default"]=a}),98);
__d("useMWUIECPCheckoutDialog",["FBP2MECPCheckoutDialog.entrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){return c("useMWXEntryPointDialog")(c("FBP2MECPCheckoutDialog.entrypoint"),{entrypoint:a,orderID:b,pageID:d})}g["default"]=a}),98);
__d("useMWLSShowECPCheckout",["react","useMWUIECPCheckoutDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo,k=b.useState;function a(){var a=k(""),b=a[0],d=a[1];a=k("");var e=a[0],f=a[1];a=k("");var g=a[0],h=a[1];a=k(!1);var l=a[0],m=a[1];a=c("useMWUIECPCheckoutDialog")(g,b,e);var n=a[0];i(function(){if(b!=null&&l){n({entrypoint:g,orderID:b,pageID:e},function(){return m(!1)});return}},[g,b,e,l,n]);return j(function(){return function(a,b,c){m(function(){return!0}),d(function(){var a;return(a=b)!=null?a:""}),f(function(){return c}),h(function(){return a})}},[m,d])}g["default"]=a}),98);
__d("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9004923712962799"}),null);
__d("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery$Parameters",["CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidth.relayprovider","CometImmersivePhotoCanUserDisable3DMotion.relayprovider","CometUFIReactionsEnableShortName.relayprovider","CometUFIShareActionMigration.relayprovider","EventCometCardImage_prefetchEventImage.relayprovider","FBReelsMediaFooter_comet_enable_reels_ads_gk.relayprovider","GHLShouldChangeAdIdFieldName.relayprovider","GHLShouldChangeSponsoredDataFieldName.relayprovider","GroupsCometAdminActivityLogItemSeeDetailsDialogQuery_facebookRelayOperation","IsMergQAPolls.relayprovider","IsWorkUser.relayprovider","StoriesArmadilloReplyEnabled.relayprovider","WorkCometIsEmployeeGKProvider.relayprovider"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometAdminActivityLogItemSeeDetailsDialogQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider:b("GHLShouldChangeAdIdFieldName.relayprovider"),__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider:b("GHLShouldChangeSponsoredDataFieldName.relayprovider"),__relay_internal__pv__IsWorkUserrelayprovider:b("IsWorkUser.relayprovider"),__relay_internal__pv__CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidthrelayprovider:b("CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidth.relayprovider"),__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider:b("CometImmersivePhotoCanUserDisable3DMotion.relayprovider"),__relay_internal__pv__WorkCometIsEmployeeGKProviderrelayprovider:b("WorkCometIsEmployeeGKProvider.relayprovider"),__relay_internal__pv__IsMergQAPollsrelayprovider:b("IsMergQAPolls.relayprovider"),__relay_internal__pv__FBReelsMediaFooter_comet_enable_reels_ads_gkrelayprovider:b("FBReelsMediaFooter_comet_enable_reels_ads_gk.relayprovider"),__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider:b("CometUFIReactionsEnableShortName.relayprovider"),__relay_internal__pv__CometUFIShareActionMigrationrelayprovider:b("CometUFIShareActionMigration.relayprovider"),__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider:b("StoriesArmadilloReplyEnabled.relayprovider"),__relay_internal__pv__EventCometCardImage_prefetchEventImagerelayprovider:b("EventCometCardImage_prefetchEventImage.relayprovider")}}};e.exports=a}),null);
__d("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint",["GroupsCometAdminActivityLogItemSeeDetailsDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.routeProps;var c=a.adminActivityID,e=a.groupID;a=a.isManagementActivityLogTargetProfilePlus;c={adminActivityID:c,feedbackSource:0,feedLocation:"GROUP_ADMIN_TO_MEMBER_FEEDBACK",focusCommentID:null,groupID:e,isManagementActivityLogTargetProfilePlus:a,privacySelectorRenderLocation:"COMET_STREAM",renderLocation:"group_admin_to_member_feedback",scale:d("WebPixelRatio").get(),useDefaultActor:!1};return{queries:{queryReference:{parameters:b("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery$Parameters"),variables:c}}}},root:c("JSResourceForInteraction")("GroupsCometAdminActivityLogItemSeeDetailsDialog.react").__setRef("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint")};g["default"]=a}),98);
__d("GroupsCometAdmodChatsReviewDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9289186247798470"}),null);
__d("GroupsCometAdmodChatsReviewDialogQuery$Parameters",["GroupsCometAdmodChatsReviewDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometAdmodChatsReviewDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometAdmodChatsReviewDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometAdmodChatsReviewDialog.entrypoint",["GroupsCometAdmodChatsReviewDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.groupID,e=a.profileID;a=a.scale;return{queries:{queryReference:{parameters:c("GroupsCometAdmodChatsReviewDialogQuery$Parameters"),variables:{groupID:b,profileID:e,scale:a?a:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("GroupsCometAdmodChatsReviewDialog.react").__setRef("GroupsCometAdmodChatsReviewDialog.entrypoint")};b=a;g["default"]=b}),98);
__d("useMWLSShowMemberRequest",["GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint","GroupsCometAdmodChatsReviewDialog.entrypoint","WebPixelRatio","react","useCometDynamicEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useCometDynamicEntryPointDialog")(c("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint")),b=c("useCometDynamicEntryPointDialog")(c("GroupsCometAdmodChatsReviewDialog.entrypoint"));return i(function(c,e,f,g){if(c==null)return;g!=null&&g!=="0"?a({routeProps:{adminActivityID:g,groupID:e,isManagementActivityLogTargetProfilePlus:!1}},{activityLogTarget:"Group",groupID:e}):b({groupID:e,profileID:f,scale:d("WebPixelRatio").get()},{})},[a,b])}g["default"]=a}),98);
__d("P2MOffsiteBankTransferDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5004730099638134"}),null);
__d("P2MOffsiteBankTransferDialogQuery$Parameters",["P2MOffsiteBankTransferDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("P2MOffsiteBankTransferDialogQuery_facebookRelayOperation"),metadata:{},name:"P2MOffsiteBankTransferDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("P2MOffsiteBankTransferDialog.entrypoint",["JSResourceForInteraction","P2MOffsiteBankTransferDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.orderID;return{queries:{P2MOffsiteBankTransferDialogQueryReference:{parameters:b("P2MOffsiteBankTransferDialogQuery$Parameters"),variables:{input:{invoice_id:a}}}}}},root:c("JSResourceForInteraction")("P2MOffsiteBankTransferDialog.react").__setRef("P2MOffsiteBankTransferDialog.entrypoint")};g["default"]=a}),98);
__d("useMWUIOffsiteBankTransferDialog",["P2MOffsiteBankTransferDialog.entrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useMWXEntryPointDialog")(c("P2MOffsiteBankTransferDialog.entrypoint"),{orderID:a})}g["default"]=a}),98);
__d("useMWLSShowOffsiteBankTransfer",["react","useMWUIOffsiteBankTransferDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo,k=b.useState;function a(){var a=k(null),b=a[0],d=a[1];a=k(!1);var e=a[0],f=a[1];a=c("useMWUIOffsiteBankTransferDialog")(b);var g=a[0];i(function(){b!=null&&e&&g({orderID:b},function(){return f(!1)})},[b,e,g]);return j(function(){return function(a){f(function(){return!0});return d(function(){return a})}},[f,d])}g["default"]=a}),98);
__d("P2MInvoicerAndConsumerSwitcherQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6822387771217384"}),null);
__d("P2MInvoicerAndConsumerSwitcherQuery$Parameters",["P2MInvoicerAndConsumerSwitcherQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("P2MInvoicerAndConsumerSwitcherQuery_facebookRelayOperation"),metadata:{},name:"P2MInvoicerAndConsumerSwitcherQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("P2MOrderDetailDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7946922365423555"}),null);
__d("P2MOrderDetailDialogQuery$Parameters",["P2MOrderDetailDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("P2MOrderDetailDialogQuery_facebookRelayOperation"),metadata:{live:{polling_interval:1e4}},name:"P2MOrderDetailDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("P2MOrderDetailDialog.entrypoint",["JSResourceForInteraction","P2MInvoicerAndConsumerSwitcherQuery$Parameters","P2MOrderDetailDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.orderID;return{queries:{P2MInvoicerAndConsumerSwitcherQueryReference:{parameters:b("P2MInvoicerAndConsumerSwitcherQuery$Parameters"),variables:{orderID:a}},P2MOrderDetailDialogQueryReference:{parameters:b("P2MOrderDetailDialogQuery$Parameters"),variables:{orderID:a}}}}},root:c("JSResourceForInteraction")("P2MOrderDetailDialogContainer.react").__setRef("P2MOrderDetailDialog.entrypoint")};g["default"]=a}),98);
__d("useMWUIOrderDetailsDialog",["P2MOrderDetailDialog.entrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useMWXEntryPointDialog")(c("P2MOrderDetailDialog.entrypoint"),{orderID:a},void 0,void 0,{baseModalProps:{disableGeoToCometModalsCompatibility_DO_NOT_USE:!0}})}g["default"]=a}),98);
__d("useMWLSShowOrderDetails",["InteractionTracing","qpl","react","useMWUIOrderDetailsDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo,k=b.useState;function a(){var a=k(null),b=a[0],d=a[1];a=k(!1);var e=a[0],f=a[1];a=c("useMWUIOrderDetailsDialog")(b);var g=a[0];i(function(){if(b!=null&&e){var a="ctxo_performance.orderDetails.v2",d=c("InteractionTracing").startInteraction({interactionClass:"fast",qplEvent:c("qpl")._(341848280,"867"),tracePolicy:a,traceType:"INTERACTION"});g({interactionID:d,orderID:b},function(){f(!1),c("InteractionTracing").getPendingInteractions().forEach(function(b){var c;((c=b.getTrace())==null?void 0:c.tracePolicy)===a&&b.cancelTrace("[Manual Cancel] Dialog Closed",!0)})})}},[b,e,g]);return j(function(){return function(a){f(function(){return!0});return d(function(){return a})}},[f,d])}g["default"]=a}),98);
__d("FBPayHubTransactionDetailDialogQuery$Parameters",["cr:1932967"],(function(a,b,c,d,e,f,g){"use strict";f.exports=b("cr:1932967")}),34);
__d("FBPayHubTransactionDetailDialog.entrypoint",["FBPayHubTransactionDetailDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.transactionID;return{queries:{fBPayHubTransactionDetailDialogQueryReference:{parameters:b("FBPayHubTransactionDetailDialogQuery$Parameters"),variables:{transaction_id:a}}}}},root:c("JSResourceForInteraction")("FBPayHubTransactionDetailDialog.react").__setRef("FBPayHubTransactionDetailDialog.entrypoint")};g["default"]=a}),98);
__d("useMWUIPaymentDetailsDialog",["FBPayHubTransactionDetailDialog.entrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useMWXEntryPointDialog")(c("FBPayHubTransactionDetailDialog.entrypoint"),{transactionID:a})}g["default"]=a}),98);
__d("useMWLSShowPaymentDetails",["fbt","LSIntEnum","MWLSDatabaseLazySync","promiseDone","react","useMWUIPaymentDetailsDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;b=i||d("react");var k=b.useEffect,l=b.useMemo,m=b.useState;function a(){var a=m(null),b=a[0],e=a[1];a=m(!1);var f=a[0],g=a[1];a=c("useMWUIPaymentDetailsDialog")(b);var i=a[0],n=d("MWLSDatabaseLazySync").useSync((j||(j=d("LSIntEnum"))).ofNumber(15));k(function(){b!=null&&f&&i({title:h._(/*BTDS*/"__JHASH__NIyxBo8HYXZ__JHASH__"),transactionID:b},function(){return g(!1)})},[b,f,i]);return l(function(){return function(a){c("promiseDone")(n());g(function(){return!0});return e(function(){return a})}},[g,e,n])}g["default"]=a}),226);
__d("GroupsCometAdmodChatsPendingPostReviewDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="28210887565221781"}),null);
__d("GroupsCometAdmodChatsPendingPostReviewDialogQuery$Parameters",["CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidth.relayprovider","CometImmersivePhotoCanUserDisable3DMotion.relayprovider","FBReelsMediaFooter_comet_enable_reels_ads_gk.relayprovider","GHLShouldChangeAdIdFieldName.relayprovider","GHLShouldChangeSponsoredDataFieldName.relayprovider","GroupsCometAdmodChatsPendingPostReviewDialogQuery_facebookRelayOperation","IsMergQAPolls.relayprovider","IsWorkUser.relayprovider","WorkCometIsEmployeeGKProvider.relayprovider"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometAdmodChatsPendingPostReviewDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometAdmodChatsPendingPostReviewDialogQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider:b("GHLShouldChangeSponsoredDataFieldName.relayprovider"),__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider:b("GHLShouldChangeAdIdFieldName.relayprovider"),__relay_internal__pv__IsWorkUserrelayprovider:b("IsWorkUser.relayprovider"),__relay_internal__pv__CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidthrelayprovider:b("CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidth.relayprovider"),__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider:b("CometImmersivePhotoCanUserDisable3DMotion.relayprovider"),__relay_internal__pv__WorkCometIsEmployeeGKProviderrelayprovider:b("WorkCometIsEmployeeGKProvider.relayprovider"),__relay_internal__pv__IsMergQAPollsrelayprovider:b("IsMergQAPolls.relayprovider"),__relay_internal__pv__FBReelsMediaFooter_comet_enable_reels_ads_gkrelayprovider:b("FBReelsMediaFooter_comet_enable_reels_ads_gk.relayprovider")}}};e.exports=a}),null);
__d("GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint",["GroupsCometAdmodChatsPendingPostReviewDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.authorID,e=a.groupID,f=a.postID;a=a.scale;return{queries:{queryReference:{parameters:c("GroupsCometAdmodChatsPendingPostReviewDialogQuery$Parameters"),variables:{authorID:b,feedLocation:"GROUP_PENDING",focusCommentID:null,groupID:e,postID:f,privacySelectorRenderLocation:"COMET_STREAM",renderLocation:"group_pending_queue",scale:a?a:d("WebPixelRatio").get(),useDefaultActor:!1}}}}},root:c("JSResourceForInteraction")("GroupsCometAdmodChatsPendingPostReviewDialog.react").__setRef("GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint")};b=a;g["default"]=b}),98);
__d("useMWUIPendingPostDialog",["GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint","GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint","WebPixelRatio","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f,g){a=c("useMWXEntryPointDialog")(c("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint"),{routeProps:{adminActivityID:g,groupID:b,isManagementActivityLogTargetProfilePlus:!1}});e=c("useMWXEntryPointDialog")(c("GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint"),{authorID:e,groupID:b,postID:f,scale:d("WebPixelRatio").get()});return g!=null&&g!=="0"?a:e}g["default"]=a}),98);
__d("useMWLSShowPendingPost",["react","useMWUIPendingPostDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo,k=b.useState;function a(){var a=k(null),b=a[0],d=a[1];a=k("");var e=a[0],f=a[1];a=k("");var g=a[0],h=a[1];a=k("");var l=a[0],m=a[1];a=k("");var n=a[0],o=a[1];a=k(!1);var p=a[0],q=a[1];a=c("useMWUIPendingPostDialog")(b,e,g,l,n);var r=a[0];i(function(){b!=null&&p&&r({activityLogTarget:"Group",groupID:e},function(){return q(!1)})},[b,p]);return j(function(){return function(a,b,c,e,g){q(!0);d(a);f(b);h(c);m(e);return o(g)}},[q,d])}g["default"]=a}),98);
__d("useMWP2PPaymentRequestCancelDialog",["JSResourceForInteraction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatComposerP2PPaymentRequestCancelDialog.react").__setRef("useMWP2PPaymentRequestCancelDialog")),b=a[0];return i(function(a){a!=null&&b({id:a})},[b])}g["default"]=a}),98);
__d("useMWP2PPaymentTransactionDeclineDialog",["JSResourceForInteraction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatComposerP2PPaymentTransactionDeclineDialog.react").__setRef("useMWP2PPaymentTransactionDeclineDialog")),b=a[0];return i(function(a){a!=null&&b({id:a})},[b])}g["default"]=a}),98);
__d("getRingbackUrl",["URI"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){if(a==null)return null;a=new(h||(h=c("URI")))(a);a.addQueryData("users_to_ring",[b]);return a.toString()}g["default"]=a}),98);
__d("useMakeRoomRingback",["I64","LSIntEnum","MWThreadKey.react","Promise","RTWebPreCallHooks","ReQL","getRingbackUrl","promiseDone","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=(l||d("react")).useCallback;function a(){var a=d("RTWebPreCallHooks").useJoinMeetupCallback(),e=(i||(i=c("useReStore")))(),f=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();return m(function(g){var i=g.linkUrl;c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(f)).then(function(e){if(e!=null){(j||(j=d("I64"))).equal(e.threadType,(k||(k=d("LSIntEnum"))).ofNumber(1))?e=c("getRingbackUrl")(i,(j||(j=d("I64"))).to_string(e.threadKey)):(c("recoverableViolation")("Cannot ring a non user thread","rtc_www"),e=i);return(h||(h=b("Promise"))).resolve(a(e))}c("recoverableViolation")("Cannot find thread when trying to ring a user","rtc_www");return(h||(h=b("Promise"))).resolve()}),void 0,function(a){c("recoverableViolation")("Error making a ring back","rtc_www",{error:a.Error})})},[a,f,e])}g["default"]=a}),98);
__d("useP2PPaymentMethodAddDialog",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatComposerP2PPaymentMethodAddDialog.react").__setRef("useP2PPaymentMethodAddDialog")),b=a[0];return i(function(a){a!=null&&b({id:a},c("emptyFunction"))},[b])}g["default"]=a}),98);
__d("useP2PPaymentRequestConfirmDialog",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatComposerP2PPaymentRequestConfirmDialog.react").__setRef("useP2PPaymentRequestConfirmDialog")),b=a[0];return i(function(a){a!=null&&b({id:a},c("emptyFunction"))},[b])}g["default"]=a}),98);
__d("useP2PPaymentRequestDeclineDialog",["JSResourceForInteraction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatComposerP2PPaymentRequestDeclineDialog.react").__setRef("useP2PPaymentRequestDeclineDialog")),b=a[0];return i(function(a){a!=null&&b({id:a})},[b])}g["default"]=a}),98);
__d("ServicesApproveAppointmentMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5262522413766771"}),null);
__d("ServicesApproveAppointmentMutation.graphql",["ServicesApproveAppointmentMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"InstantBookingConfirmAppointmentResponsePayload",kind:"LinkedField",name:"instant_booking_confirm_appointment",plural:!1,selections:[{alias:null,args:null,concreteType:"NativeComponentFlowBookingRequest",kind:"LinkedField",name:"request",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"ServicesApproveAppointmentMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"ServicesApproveAppointmentMutation",selections:c},params:{id:b("ServicesApproveAppointmentMutation_facebookRelayOperation"),metadata:{},name:"ServicesApproveAppointmentMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("useServicesConfirmAppointmentBookingMutation",["RelayHooks","ServicesApproveAppointmentMutation.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=d("RelayHooks").useMutation(c("ServicesApproveAppointmentMutation.graphql")),b=a[0];a[1];return i(function(a){b({variables:{input:{referrer_ui_component:"BUBBLE",referrer_ui_surface:"MESSAGE",request_id:a}}})},[b])}g["default"]=a}),98);
__d("MWChatXmaThirdPartyActionHandler",["fbt","AdsMessengerContext.react","CometMarketplaceCreateDiscountedPriceDialog.entrypoint","CometRelay","CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent","CustomerInformationTemplateFalcoEvent","JSResourceForInteraction","LSFactory","LSMarkAsXStoredProcedure","MNCommerceCTAProcessor","MWBuyerShippingAddressRootQuery","MWChatCustomerFeedbackFormDataQuery","MWChatCustomerFeedbackStateQuery","MWChatPIIFormScreenQuery","MWChatPIIFormStateQuery","MWChatReceiptDataQuery","MWLSPostbackCtaHandler","MWP2PPaymentTransactionInformationVerify","MarketplaceCometReviewOffersDialog.entrypoint","Popup","ViewFormDetailsModal.entrypoint","asyncToGeneratorRuntime","cometPushToast","commitWorkplaceChatBotSubmitFeedbackMutation","emptyFunction","goUriOnNewWindow","promiseDone","react","requireDeferred","useAsyncReStore","useCometDynamicEntryPointDialog","useHandleMerchantConfirmOrderDialog","useMWChatShowPIIForm","useMWLSMarketplaceXmaCtaHandler","useMWLSOpenStaticLocationDialog.react","useMWLSShowAttachBankSlip","useMWLSShowECPCheckout","useMWLSShowMemberRequest","useMWLSShowOffsiteBankTransfer","useMWLSShowOrderDetails","useMWLSShowPaymentDetails","useMWLSShowPendingPost","useMWP2PPaymentRequestCancelDialog","useMWP2PPaymentTransactionDeclineDialog","useMWXLazyDialog","useMakeRoomRingback","useP2PPaymentMethodAddDialog","useP2PPaymentRequestConfirmDialog","useP2PPaymentRequestDeclineDialog","useServicesConfirmAppointmentBookingMutation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||d("react")).useCallback,k=c("requireDeferred")("ZenonUserActionLoggerCommon").__setRef("MWChatXmaThirdPartyActionHandler");function l(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatReceiptModal.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){var c=a.messageId;a=a.receiptId;if(a!=null){d("MWChatReceiptDataQuery").fetch(a,c,function(a){var c=h._(/*BTDS*/"__JHASH__PDJB6VYGeXn__JHASH__");return b({receipt:a,title:c})});return}},[b])}function m(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("PaymentsCometInfomationBottomSheetDialog.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){b({contentType:a.contentType.content_type,orderID:a.orderID,pageID:a.pageID},c("emptyFunction"))},[b])}function n(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("P2MCometAsyncControllerDialog.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){b({contentType:a.payload.action_type},c("emptyFunction"))},[b])}function o(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("PaymentsCometOffsitePaymentOnboaringDialog.react").__setRef("MWChatXmaThirdPartyActionHandler"),void 0,{baseModalProps:{disableGeoToCometModalsCompatibility_DO_NOT_USE:!0}}),b=a[0];return j(function(a){b({orderID:a.orderID},c("emptyFunction"))},[b])}function p(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("PaymentsCometBankSlipDetailsPanelDialog.react").__setRef("MWChatXmaThirdPartyActionHandler"),void 0,{baseModalProps:{disableGeoToCometModalsCompatibility_DO_NOT_USE:!0}}),b=a[0];return j(function(a){b({orderID:a.orderID},c("emptyFunction"))},[b])}function q(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("PaymentsCometPaymentSlipDetailslDialog.react").__setRef("MWChatXmaThirdPartyActionHandler"),void 0,{baseModalProps:{disableGeoToCometModalsCompatibility_DO_NOT_USE:!0}}),b=a[0];return j(function(a){b({paymentSlipID:a.orderID},c("emptyFunction"))},[b])}function r(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("PaymentsCometGCashIDOnboardingDialog.react").__setRef("MWChatXmaThirdPartyActionHandler"),void 0,{baseModalProps:{disableGeoToCometModalsCompatibility_DO_NOT_USE:!0}}),b=a[0];return j(function(a){var d;d=(d=a.contentType.extra_data)==null?void 0:d.payment_slip_detection_id;b({pageID:a.orderID,paymentSlipID:d==null?null:String(d)},c("emptyFunction"))},[b])}function s(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWBuyerShippingAddressRoot.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0],e=d("CometRelay").useRelayEnvironment();return j(function(a){c("CustomerInformationTemplateFalcoEvent").log(function(){return{consumer_id:a.actorId,event_type:"mw_xma_click",form_id:a.eeMessageId,page_id:a.pageId}});var f=d("CometRelay").loadQuery(e,c("MWBuyerShippingAddressRootQuery"),{id:a.pageId});b({actorId:a.actorId,eeMessageId:a.eeMessageId,initialQueryRef:f,messageId:a.messageId,pageId:a.pageId},function(){f.dispose()})},[e,b])}function t(){var a=d("CometRelay").useRelayEnvironment();return j(function(b){var e={environment:a};b=c("commitWorkplaceChatBotSubmitFeedbackMutation")({action_content_blob:b.feedbackActionContentBlob,config:e});e=b.then(function(){d("cometPushToast").cometPushSimpleToast("Feedback submitted!",2e3)},function(){d("cometPushToast").cometPushSimpleToast("Error in submitting feedback!",2e3)});c("promiseDone")(e)},[a])}var u=c("JSResourceForInteraction")("MWChatCustomerFeedbackDialog.react").__setRef("MWChatXmaThirdPartyActionHandler");function v(){var a=c("useMWXLazyDialog")(u),b=a[0],e=d("CometRelay").useRelayEnvironment();return j(function(a){var c=a.feedbackFormId;d("MWChatCustomerFeedbackStateQuery").fetch(c,e,function(a){a!=null&&d("MWChatCustomerFeedbackFormDataQuery").fetch(c,e,function(c){c!=null&&b({firstScreen:c.firstScreen,formId:c.formId,pageId:c.pageId,privacy:c.privacy,state:a})})})},[e,b])}function w(){var a=c("useMWXLazyDialog")(u),b=a[0],e=d("CometRelay").useRelayEnvironment();return j(function(a){var c=a.firstScreen,f=a.formId,g=a.pageId,h=a.privacy;d("MWChatCustomerFeedbackStateQuery").fetch(f,e,function(a){return b({firstScreen:c,formId:f,pageId:g,privacy:h,state:a})})},[e,b])}function x(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatPIIFormDialog.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0],e=d("CometRelay").useRelayEnvironment();return j(function(a){var c=a.ctaType,f=a.nuxData;a=a.piiForm;var g=a.color,h=a.currentIndex,i=a.firstScreen,j=a.formId,k=a.numScreens,l=a.pageId;d("MWChatPIIFormStateQuery").fetch(j,e,function(a){if(k>1){d("MWChatPIIFormScreenQuery").fetch(j,l,1,e,function(d){return b({color:g,ctaType:c,currentIndex:h,firstScreen:i,formId:j,numScreens:k,nuxData:f,pageId:l,secondScreen:d,state:a})});return}else return b({color:g,ctaType:c,currentIndex:h,firstScreen:i,formId:j,numScreens:k,nuxData:f,pageId:l,secondScreen:void 0,state:a})})},[e,b])}function y(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWInboxUrlWebviewDialog.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(){var a=h._(/*BTDS*/"__JHASH__HFLlRGYwWh7__JHASH__").toString();b({htmlBlob:a})},[b])}function z(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MessengerCometBookingDetailsModal.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({pageID:a.pageId,requestID:a.requestId})},[b])}function A(){var a=c("useCometDynamicEntryPointDialog")(c("ViewFormDetailsModal.entrypoint"));return j(function(b){return a({responseID:b.responseID},{responseID:b.responseID})},[a])}function B(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatLiveLocationDialog.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({})},[b])}function C(){var a=c("useMWLSOpenStaticLocationDialog.react")();return j(function(b){return a(b.msgId)},[a])}function D(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatBusinessBoardingPassDetail.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({boardingPassDetail:a})},[b])}function E(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatBusinessItineraryDetail.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({itineraryPayload:a})},[b])}function F(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatBusinessMessengerExtension.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({actionLink:a.actionLink,pageID:a.pageID,threadID:a.pageID,userID:a.userID},c("emptyFunction"))},[b])}function G(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatRichWidgetExtension.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({actionLink:a.actionLink,pageID:a.pageID},c("emptyFunction"))},[b])}function H(a){return j(function(b){k.onReady(function(a){return a.logClick({component:"start_call_button",surface:"admin_message"})});return a(b.hasVideo,b.threadId,b.trigger,b.representedID)},[a])}function I(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatGuestChatHistoryModal.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({guestID:a.guestId,pageID:a.pageId})},[b])}function J(){return j(function(a){return c("MNCommerceCTAProcessor").process(a.ctaId,a.messageId)},[])}function K(a){d("Popup").open(a,1024,500)}function L(a){if(a==="xma_p2m_mark_as_received")return"xma_p2m_mark_as_received";else if(a==="xma_p2m_mark_as_paid")return"xma_p2m_mark_as_paid";else if(a==="xma_p2m_mark_as_shipped")return"xma_p2m_mark_as_shipped";return null}function M(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("CometJoinRoomFromPortalDialog.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({linkUrl:a.linkUrl})},[b])}function N(){var a=c("useAsyncReStore")();return j(function(d,e,f){c("promiseDone")(a.then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield c("LSMarkAsXStoredProcedure")(c("LSFactory")(a),{ctaId:d,ctaType:e,orderId:f})});return function(b){return a.apply(this,arguments)}}(),"readwrite")});return function(b){return a.apply(this,arguments)}}()))},[a])}function O(){var a=c("useCometDynamicEntryPointDialog")(c("MarketplaceCometReviewOffersDialog.entrypoint"));return j(function(b){return a({listingId:b},{})},[a])}function P(){var a=c("useCometDynamicEntryPointDialog")(c("CometMarketplaceCreateDiscountedPriceDialog.entrypoint"));return j(function(b){return a({threadId:b},{})},[a])}function Q(){var a=d("AdsMessengerContext.react").useAdsMessengerContext(),b=a.isMessengerInAds,c=a.showAdsAISurveyModal;return j(function(a){b&&c!=null&&c({surveySessionID:a.survey_session_id})},[b,c])}function R(){var a=d("AdsMessengerContext.react").useAdsMessengerContext(),b=a.isMessengerInAds,c=a.showAdsAILowProbabilityEntitySelectionModal;return j(function(a){if(b&&c!=null){var d;c({adAccountID:a.adAccountID,allowDraftSelection:(d=a.allowDraftSelection)!=null?d:!1,threadKey:a.threadKey})}},[b,c])}function S(){var a=d("MWLSPostbackCtaHandler").usePostbackCtaHandler(),b=T(),e=d("AdsMessengerContext.react").useAdsMessengerContext(),f=e.maybeGetCallbackFromURI,g=e.maybeLogAdsAICtaClick;return j(function(d){var e=d.bot_response_id,h=d.ctaLabel,i=d.dialog,j=d.message,k=d.platformToken;d=d.url;i!=null&&b(babelHelpers["extends"]({},i,{bot_response_id:e}));var l=k!=null&&k.length>0;l&&a(k,j);k=d!=null&&d.length>0;if(d!=null&&k){j=f==null?void 0:f(d);j!=null?j():c("goUriOnNewWindow")(d)}g==null?void 0:g({bot_response_id:e,cta_label:h,has_dialog:i!=null,has_postback:l,has_url:k})},[f,g,a,b])}function T(){var a=d("AdsMessengerContext.react").useAdsMessengerContext(),b=a.isMessengerInAds,c=a.showAdsAISMAGModal;return j(function(a){b&&c!=null&&typeof a.use_case_params==="object"&&a.use_case_params!=null&&typeof a.use_case==="string"&&c({bot_response_id:a.bot_response_id,use_case:a.use_case,use_case_params:a.use_case_params})},[b,c])}function a(a,b){var e=l(),f=o(),g=p(),h=q(),i=r(),j=w(),k=v(),u=J(),U=x(),V=B(),W=C(),X=z(),aa=A(),ba=D(),ca=I(),da=E(),ea=F(),fa=G(),ga=c("useMWP2PPaymentRequestCancelDialog")(),ha=c("useP2PPaymentRequestConfirmDialog")(),ia=c("useP2PPaymentRequestDeclineDialog")(),ja=c("useMWP2PPaymentTransactionDeclineDialog")(),ka=c("useP2PPaymentMethodAddDialog")(),la=d("MWP2PPaymentTransactionInformationVerify").useP2PPaymentTransactionInformationVerify(),ma=H(b),na=c("useMakeRoomRingback")(),oa=M(),pa=m(),qa=n(),ra=t(),sa=c("useMWLSShowMemberRequest")(),ta=c("useMWLSShowPendingPost")(),ua=c("useMWLSShowECPCheckout")(),va=c("useMWLSShowPaymentDetails")(),Y=c("useMWLSShowOrderDetails")(),Z=N(),$=c("useMWLSShowAttachBankSlip")(),wa=c("useMWLSShowOffsiteBankTransfer")(),xa=s(),ya=c("useMWLSMarketplaceXmaCtaHandler")(),za=O(),Aa=P(),Ba=c("useMWChatShowPIIForm")(),Ca=y(),Da=c("useServicesConfirmAppointmentBookingMutation")(),Ea=Q(),Fa=R(),Ga=S(),Ha=T(),Ia=c("useHandleMerchantConfirmOrderDialog")();return function(b){if(b.NAME==="P2PPaymentTransactionInformationVerify")return la(b.VAL);if(b.NAME==="P2PPaymentTransactionDecline")return ja(b.VAL.id);if(b.NAME==="MakeWorkJoinableCallInvite"||b.NAME==="MakeRoomRingback")return na(b.VAL);if(b.NAME==="P2MCheckout"){var d=b.VAL;return ua("P2M_Regular",d.orderID,d.pageID)}if(b.NAME==="ShowCustomerFeedback")return j(b.VAL);if(b.NAME==="P2MInformationalMessageBottomSheet"){d=(d=b.VAL.contentType)==null?void 0:d.content_type;if(d==="payment_detection_merchant_slip_validation")return f(b.VAL);else if(d==="payment_detection_merchant_bank_account_verified_details")return g(b.VAL);else if(d==="order_details")return Y(b.VAL.orderID);else if(d==="unified_checkout")return $(b.VAL.orderID);else if(d==="payment_detection_confirmation_details")return h(b.VAL);else if(d==="merchant_external_payment_account")return i(b.VAL);return pa(b.VAL)}if(b.NAME==="P2MAsyncControllerDialog")return qa(b.VAL);if(b.NAME==="WorkplaceChatBotSubmitFeedback")return ra(b.VAL);if(b.NAME==="P2PPaymentRequestCancel")return ga(b.VAL.id);if(b.NAME==="SendImagePostback"){d=b.VAL;var l=d.loggingDetails;l!=null&&c("CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent").log(function(){return{consumer_id:l.consumer_id,event_data:{ad_id:l.ad_id,cta:"button",index:String(l.index)},event_location:"unknown",page_id:l.page_id}});return a(d.message,d.platformToken,d.image)}if(b.NAME==="ShowMessengerExtensions")return ea(b.VAL);if(b.NAME==="OpenAccountLink")return u(b.VAL);if(b.NAME==="ShowPIIForm")return Ba(b.VAL);if(b.NAME==="P2MOffsiteBankTransferCTA")return wa(b.VAL.orderID);if(b.NAME==="P2PPaymentTransactionReceiveMoney")return ka(b.VAL.id);if(b.NAME==="ShowBoardingPass")return ba(b.VAL);if(b.NAME==="P2MOrderDetails")return Y(b.VAL.orderID);if(b.NAME==="P2MMarkAsPaid"||b.NAME==="P2MMarkAsShipped"||b.NAME==="P2MMarkAsReceived")return Z(b.VAL.ctaId,b.VAL.ctaType,b.VAL.orderID);if(b.NAME==="P2MMarkAsX"){d=L(b.VAL.ctaType);if(d!=null)return Z(b.VAL.ctaId,d,b.VAL.orderID)}if(b.NAME==="ShowStaticLocationDetails")return W(b.VAL);if(b.NAME==="P2PPaymentTransactionDetails")return va(b.VAL.id);if(b.NAME==="P2PPaymentRequestDecline")return ia(b.VAL.id);if(b.NAME==="ShowBookingDetails")return X(b.VAL);if(b.NAME==="ViewFormDetails")return aa(b.VAL);if(b.NAME==="ShowOrderConfirmation")return e(b.VAL);if(b.NAME==="ShowCustomerFeedbackForm")return k(b.VAL);if(b.NAME==="ShowMessengerRichWidgetExtension")return fa(b.VAL);if(b.NAME==="ShowItinerary")return da(b.VAL);if(b.NAME==="OpenAccountLinkUrl")return K(b.VAL);if(b.NAME==="MakeJoinRoomFromPortal")return oa(b.VAL);if(b.NAME==="P2MAttachBankSlip")return $(b.VAL.orderID);if(b.NAME==="BuyerShippingAddress")return xa(b.VAL);if(b.NAME==="AdmodChatsShowPendingPost"){d=b.VAL;return ta(d.targetId,d.groupId,d.authorId,d.postId,d.activityLogItemId)}if(b.NAME==="P2PPaymentRequestConfirm")return ha(b.VAL.id);if(b.NAME==="MakeRtcCall")return ma(b.VAL);if(b.NAME==="ProcessMarketplaceCallFunction"){d=b.VAL;var m=d.actionType,n=d.attachmentFbid,o=d.messageId;d=d.targetId;return ya(o,n,d,m)}if(b.NAME==="ShowPIIFormForFormBuilder")return U(b.VAL);if(b.NAME==="ShowLiveLocationDetails")return V(b.VAL);if(b.NAME==="AdmodChatsShowMemberRequest"){o=b.VAL;return sa(o.targetId,o.groupId,o.profileId,o.activityLogItemId)}if(b.NAME==="ShowGuestChatHistory")return ca(b.VAL);if(b.NAME==="ShowInThreadFormDetails")return Ca();if(b.NAME==="ConfirmAppointmentBooking")return Da(b.VAL.requestID);if(b.NAME==="OpenMarketplaceDialog"){n=b.VAL;d=n.ctaType;m=n.listingId;o=n.threadId;switch(d){case"SHIPPED_DECLINED_OFFER_SEND_ANOTHER_PRICE":case"SHIPPED_EXPIRED_OFFER_SEND_ANOTHER_PRICE":if(o!=null)return Aa(o);else return;case"SHIPPED_OFFER_CANCEL":if(m!=null)return za(m);else return;default:return}}if(b.NAME==="ShowAdsAISurveyModal")return Ea(b.VAL);if(b.NAME==="ShowAdsAILowProbabilityEntitySelectionModal")return Fa(b.VAL);if(b.NAME==="HandleSMAGPostback")return Ga(b.VAL);if(b.NAME==="HandleSMAGDialog")return Ha(b.VAL);if(b.NAME==="ShowMerchantConfirmOrder")return Ia(b.VAL.orderID)}}e=a;g.useHandler=e}),226);
__d("LSLocalApplyOptimisticMessageWithAttachments",["LSArrayGetObjectAt","LSLocalApplyOptimisticMessage","LSSetMessageDisplayedContentTypes"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return c.storedProcedure(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],void 0,a[7],a[8],a[9],a[10],void 0,a[12],!0).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return d[2]=c.i64.of_int32(a[11].length),c.i64.gt(d[2],c.i64.cast([0,0]))?c.loopAsync(d[2],function(e){return d[3]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[11],d[3]).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(b){return d[6]=d[4].get("attachment_fbid"),d[7]=d[4].get("offline_attachment_id"),d[8]=d[4].get("attachment_type"),d[9]=d[4].get("filename"),d[10]=d[4].get("filesize"),d[11]=d[4].get("attachment_index"),d[12]=d[4].get("has_media"),d[13]=d[4].get("has_xma"),d[14]=d[4].get("playable_url"),d[15]=d[4].get("playable_url_mime_type"),d[16]=d[4].get("playable_duration_ms"),d[17]=d[4].get("preview_url"),d[18]=d[4].get("preview_url_mime_type"),d[19]=d[4].get("mini_preview"),d[20]=d[4].get("preview_width"),d[21]=d[4].get("preview_height"),d[22]=d[4].get("xma_layout_type"),d[23]=d[4].get("xmas_template_type"),d[24]=d[4].get("cta1_title"),d[25]=d[4].get("cta2_title"),d[26]=d[4].get("cta3_title"),d[27]=d[4].get("image_url"),d[28]=d[4].get("action_url"),d[29]=d[4].get("title_text"),d[30]=d[4].get("subtitle_text"),d[31]=d[4].get("description_text"),d[32]=d[4].get("source_text"),d[33]=d[4].get("original_file_hash"),d[34]=d[4].get("sound_bite_client_sound_key"),d[35]=d[4].get("sound_bite_visual"),d[36]=d[4].get("ephemeral_media_state"),d[37]=d[4].get("waveform_data"),d[38]=d[4].get("sampling_frequency_hz"),d[17]!==void 0?d[39]=d[17]:d[39]=d[14],c.filter(c.db.table(16).fetch([[[a[1],d[0],d[6]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&b.messageId===d[0]&&b.attachmentFbid===d[6]&&c.i64.gt(b.authorityLevel,c.i64.cast([0,20]))}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(16).put({threadKey:a[1],messageId:d[0],attachmentFbid:d[6],timestampMs:d[1],offlineAttachmentId:d[7],attachmentType:d[8],filename:d[9],filesize:d[10],attachmentIndex:d[11],hasMedia:d[12],hasXma:d[13],isSharable:!1,playableUrl:d[14],playableUrlMimeType:d[15],playableDurationMs:d[16],previewUrl:d[39],previewUrlMimeType:d[18],miniPreview:d[19],previewWidth:d[20],previewHeight:d[21],xmaLayoutType:d[22],xmasTemplateType:d[23],cta1Title:d[24],cta2Title:d[25],cta3Title:d[26],imageUrl:d[27],actionUrl:d[28],titleText:d[29],subtitleText:d[30],descriptionText:d[31],sourceText:d[32],ephemeralMediaState:d[36],originalFileHash:d[33],authorityLevel:c.i64.cast([0,20]),samplingFrequencyHz:d[38],waveformData:d[37]}):0})}])}):c.resolve()},function(e){return d[2]=c.i64.of_int32(a[11].length),c.i64.gt(d[2],c.i64.cast([0,0]))?c.storedProcedure(b("LSSetMessageDisplayedContentTypes"),a[1],d[0],d[1],a[3],!1,c.i64.neq(a[6],void 0)):c.resolve()},function(a){return a=[d[0],d[1]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxLocalApplyOptimisticMessageWithAttachmentsStoredProcedure";a.__tables__=["attachments"];e.exports=a}),null);
__d("LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure",["LSLocalApplyOptimisticMessageWithAttachments","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSLocalApplyOptimisticMessageWithAttachments"),e.senderId,e.threadKey,e.threadType,e.text,e.snippet,e.snippetHasEmoji,e.stickerId,e.replySourceId,e.replySourceType,e.replySourceTypeV2,e.isForwarded,e.attachments,e.mentionData);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MWLSImagePostbackCtaHandler",["ActorURI","I64","LSFactory","LSInsertNewMediaSendStoredProcedure","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure","LSMailboxType","LSMarkSubJobCompletedV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSResumeMediaSendJobStoredProcedure","LSShape","LSThreadAttributionTypeUtil","LSVec","MWPActor.react","MWThreadKey.react","MercuryConfig","MercuryLocalIDs","MessagePowerUp","MessagingAttachmentType","Promise","URI","cr:6057","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n=(k||d("react")).useMemo;function o(a,e,f,g,h,i,k){var n=d("MercuryLocalIDs").generateOfflineThreadingID();return c("LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure")(c("LSFactory")(a),{attachments:c("LSVec").ofArray([d("LSShape").ofRecord({action_url:void 0,attachment_fbid:n,attachment_index:(l||(l=d("I64"))).zero,attachment_type:(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE),cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,description_text:void 0,filename:"postback image.jpg",filesize:void 0,has_media:!0,has_xma:!1,image_url:void 0,mini_preview:void 0,offline_attachment_id:n,original_file_hash:void 0,playable_duration_ms:void 0,playable_url:void 0,playable_url_mime_type:void 0,preview_height:void 0,preview_url:g,preview_url_mime_type:"image/jpeg ",preview_width:void 0,source_text:void 0,subtitle_text:void 0,title_text:void 0,xma_layout_type:void 0,xmas_template_type:void 0})]),replySourceType:m.ofNumber(c("LSMessageReplySourceType").NONE),replySourceTypeV2:m.ofNumber(c("LSMessageReplySourceTypeV2").NONE),senderId:e,snippetHasEmoji:!1,threadKey:f,threadType:m.ofNumber(1)}).then(function(c){var e=c[0];return a.messages_optimistic_context.add({externalAttachmentUrl:void 0,initiatingSource:void 0,markThreadRead:!0,messageId:void 0,offlineThreadingId:e,platformRef:void 0,platformToken:h,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:(l||(l=d("I64"))).of_string(e),threadAttributionSource:i,threadKey:f}).then(function(){return(j||(j=b("Promise"))).resolve([e,n])})})}function a(a,e){var g=(h||(h=c("useReStore")))(),k=d("MWPActor.react").useActor(),p=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();return n(function(){return function(h,n,q){var r=(l||(l=d("I64"))).to_string(k),s=function(a){var e=a[1],h=a[0];c("promiseDone")(window.fetch(q).then(function(a){return a.blob()}).then(function(a){return b("cr:6057").load().then(function(b){return{XComposerPhotoUploader:b,blob:a}})}).then(function(a){var k=a.XComposerPhotoUploader;a=a.blob;k=new k({concurrentLimit:3,onUploadFailure:function(a,b){return!0},onUploadProgress:function(a,b){},onUploadStart:function(a){c("promiseDone")(g.runInTransaction(function(a){return c("LSInsertNewMediaSendStoredProcedure")(c("LSFactory")(a),{attachmentType:(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE),inMessageIndex:(l||(l=d("I64"))).zero,isSecure:!1,offlineAttachmentId:e,offlineThreadingId:h,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1})},"readwrite",void 0,void 0,f.id+":157"))},onUploadSuccess:function(a,b){a=b.response.payload.metadata[0];var i=a.image_id;if(i==null)return;c("promiseDone")(g.runInTransaction(function(a){return c("LSMarkSubJobCompletedV2StoredProcedure")(c("LSFactory")(a),{fbid:(l||(l=d("I64"))).of_string(i.toString()),offlineAttachmentId:e}).then(function(){return c("LSResumeMediaSendJobStoredProcedure")(c("LSFactory")(a),{jobId:h,pluginType:(l||(l=d("I64"))).zero})})},"readwrite",void 0,void 0,f.id+":182"))},retryLimit:1,uploadEndpoint:d("ActorURI").create(new(i||(i=c("URI")))(c("MercuryConfig").upload_url),r)});k.getAsyncUploadRequest([new File([a],"postback image.jpg",{type:"image/jpeg"})]).send();return(j||(j=b("Promise"))).resolve()}))},t=d("LSThreadAttributionTypeUtil").getSource(p,a);c("promiseDone")(g.runInTransaction(function(a){return c("LSOptimisticSendMessageV2StoredProcedure")(c("LSFactory")(a),{extraSendMessageParams:d("LSShape").ofRecord({calculate_denormalizations:!0,initiating_source:(a=e)!=null?a:void 0,mark_read:!0,power_up_style:(m||(m=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),reply_source_type:m.ofNumber(c("LSMessageReplySourceType").NONE),reply_source_type_v2:m.ofNumber(c("LSMessageReplySourceTypeV2").NONE),snippet_has_emoji:!1,source:t}),mailboxType:m.ofNumber(c("LSMailboxType").MESSENGER),senderId:k,snippet:h,text:h,threadKey:p,threadType:m.ofNumber(1)})},"readwrite",void 0,void 0,f.id+":225").then(function(a){return g.runInTransaction(function(a){return o(a,k,p,q,n,t,e).then(function(a){s(a)})},"readwrite",void 0,void 0,f.id+":255")}))}},[g,k,p])}g.usePostbackCtaHandler=a}),98);
__d("MWLSWebUrlCtaHandler",["JSResourceForInteraction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWInboxUrlWebviewDialog.react").__setRef("MWLSWebUrlCtaHandler")),b=a[0];return i(function(a){return b({htmlBlob:a},function(){})},[b])}g.useShowWebViewDialog=a}),98);
__d("useMWChatPollXMAActionHandler",["JSResourceForInteraction","MWThreadKey.react","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=d("MWThreadKey.react").useMWThreadKeyMemoized(),b=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatPollDetailsDialog.react").__setRef("useMWChatPollXMAActionHandler")),e=b[0];return i(function(b,c){if(a==null||b==null||c==null)return;return e({pollId:b,threadKey:a,title:c},function(){})},[e,a])}g["default"]=a}),98);
__d("LSCommunityInviteStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({ADDED_BUT_UNCONFIRMED:5,IN_COMMUNITY:0,INVITED:1,REQUEST_PENDING:2,UNENGAGED_MEMBER:4,UNREQUESTED:3});f["default"]=a}),66);
__d("MWCMStandaloneJoinDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWCMStandaloneJoinDialog.react").__setRef("MWCMStandaloneJoinDialog.entrypoint")};g["default"]=a}),98);
__d("MWCMStandaloneMemberJoinChatDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWCMStandaloneMemberJoinChatDialog.react").__setRef("MWCMStandaloneMemberJoinChatDialog.entrypoint")};g["default"]=a}),98);
__d("MWCMStandaloneRequestToJoinDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWCMStandaloneRequestToJoinDialog.react").__setRef("MWCMStandaloneRequestToJoinDialog.entrypoint")};g["default"]=a}),98);
__d("useMWLinkHashXMAActionHandler",["ConstUriUtils","FBLogger","I64","LSCommunityInviteStatus","LSFactory","LSIntEnum","LSOptimisticFetchPendingGroupInviteStoredProcedure","MWCMGetValidId","MWCMStandaloneJoinDialog.entrypoint","MWCMStandaloneMemberJoinChatDialog.entrypoint","MWCMStandaloneRequestToJoinDialog.entrypoint","ReQL","ReQLSuspense","XMessengerDotComCometCommunityThreadsControllerRouteBuilder","gkx","goUriOnNewWindow","promiseDone","qex","react","requireDeferred","useCometRouterDispatcher","useMWNavigation","useMWXEntryPointDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;b=i||d("react");var l=b.useCallback,m=b.useRef,n=c("requireDeferred")("C4gEngagementFalcoEvent").__setRef("useMWLinkHashXMAActionHandler"),o=["ch","cm"];function p(a){a=d("ConstUriUtils").getUri(a);if(a==null?void 0:a.isSubdomainOfDomain("m.me")){a=a==null?void 0:(a=a.getPath())==null?void 0:a.split("/").filter(function(a){return a!==""});return(a==null?void 0:a.length)===2&&o.includes(a[0])?a[1]:null}return null}function q(a,b,e,f,g,h){if(b==null)return;if(f==null){var i=c("XMessengerDotComCometCommunityThreadsControllerRouteBuilder").buildExtraURL("/c/{folder_id}/",{folder_id:(k||(k=d("I64"))).to_string(e)});if(a)return b.go(i,{});c("goUriOnNewWindow")("https://www.messenger.com"+i);return}if(a)return b.go(c("XMessengerDotComCometCommunityThreadsControllerRouteBuilder").buildURL({folder_id:(k||(k=d("I64"))).to_string(e),thread_key:k.to_string(f)}),{});c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(g.tables.threads).getKeyRange(f)),function(a){if(a!=null)return h.openInbox({threadKey:f,threadType:a.threadType},"xmaAttachment");else{a=c("XMessengerDotComCometCommunityThreadsControllerRouteBuilder").buildURL({folder_id:(k||(k=d("I64"))).to_string(e),thread_key:k.to_string(f)});c("goUriOnNewWindow")("https://www.messenger.com"+a)}})}function a(){var a=c("useMWXEntryPointDialog")(c("MWCMStandaloneRequestToJoinDialog.entrypoint"),{}),b=a[0];a=c("useMWXEntryPointDialog")(c("MWCMStandaloneJoinDialog.entrypoint"),{});var e=a[0];a=c("useMWXEntryPointDialog")(c("MWCMStandaloneMemberJoinChatDialog.entrypoint"),{});var g=a[0],i=(h||(h=c("useReStore")))(),o=c("useCometRouterDispatcher")(),r=c("gkx")("23433"),s=m(),t=c("useMWNavigation")();a=l(function(a,h){if(a==null)return c("FBLogger")("messenger_web_sharing").info("Invalid url to extract link hash");var l=p(a);if(l==null)return c("FBLogger")("messenger_web_sharing").info("Invalid link hash in url");c("promiseDone")(i.runInTransaction(function(a){return c("LSOptimisticFetchPendingGroupInviteStoredProcedure")(c("LSFactory")(a),{linkHash:l})},"readwrite",void 0,void 0,f.id+":195"));s.current=d("ReQL").fromTableAscending(i.tables.group_invitations_pending).getKeyRange(l).subscribe(function(a,m){if(m.operation!=="delete"){a=m.value;var p=a.communityId,u=a.communityJoinRequestStatus;m=a.isSubscribed;var v=a.threadId;if(!d("MWCMGetValidId").MWCMHasValidFbGroupId(p,!0))return;s.current==null?void 0:s.current();var w=d("ReQLSuspense").first(d("ReQL").fromTableAscending(i.tables.community_folders).getKeyRange(p),f.id+":222");if(h==="xma_join_community"||h==="xma_join_community_chat"){n.onReady(function(a){a.log(function(){return{action:"tap",client_extras:{has_invite:(w==null).toString(),has_pending_request:(k||(k=d("I64"))).to_string(u)},community_id:k.to_string(p),entry_point:"cm:xma",event:v==null?"request_to_join_community_initiated":"request_to_join_community_and_thread_initiated",surface:"message_thread",thread_id:v!=null?(k||(k=d("I64"))).to_string(v):void 0}})});if(w!=null&&(k||(k=d("I64"))).equal(w.inviteStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSCommunityInviteStatus").INVITED)))return e({folder:w});return c("qex")._("1827")===!0&&(w==null?void 0:w.isMember)===!0?m?q(r,o,p,v,i,t):g({linkHash:l}):b({linkHash:l})}if(o==null)return;n.onReady(function(a){a.log(function(){return{action:"tap",community_id:(k||(k=d("I64"))).to_string(p),entry_point:"cm:xma",event:v==null?"redirect_to_community":"redirect_to_community_and_thread",surface:"message_thread",thread_id:v!=null?(k||(k=d("I64"))).to_string(v):void 0}})});return q(r,o,p,v,i,t)}})},[o,i,r,e,b,g,t]);return a}g["default"]=a}),98);
__d("MWChannelPromptContributionsDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8537027919714444"}),null);
__d("MWChannelPromptContributionsDialogQuery$Parameters",["MWChannelPromptContributionsDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWChannelPromptContributionsDialogQuery_facebookRelayOperation"),metadata:{},name:"MWChannelPromptContributionsDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWChannelPromptContributionsDialog.entrypoint",["JSResourceForInteraction","MWChannelPromptContributionsDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{myQueryRef:{options:{fetchPolicy:"store-and-network"},parameters:b("MWChannelPromptContributionsDialogQuery$Parameters"),variables:{count:20,data:{prompt_id:a.promptId}}}}}},root:c("JSResourceForInteraction")("MWChannelPromptContributionsDialog.react").__setRef("MWChannelPromptContributionsDialog.entrypoint")};g["default"]=a}),98);
__d("MWChannelPromptContributionsDialogContainer.react",["CometHideLayerOnEscape.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,d=a.onClose;a=a.visibilityRef;return i.jsx(c("CometHideLayerOnEscape.react"),{onHide:d,children:i.jsx("div",babelHelpers["extends"]({className:"x1qjc9v5 xcrg951 x9f619 x78zum5 xdt5ytf x1iyjqo2 x5yr21d x1n2onr6"},{ref:a,children:b}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChannelPromptContributionsDialogFallback.react",["fbt","MWChannelPromptContributionsDialogContainer.react","MWXCircleButton.react","MWXGlimmer.react","MWXIconCross","MWXIconDots3Vertical","MWXRow.react","MWXRowItem.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={promptTitle:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x10w6t97",width:"xdzyupr",$$css:!0}};function a(a){a=a.onClose;return j.jsx(c("MWChannelPromptContributionsDialogContainer.react"),{onClose:a,children:j.jsxs(c("MWXRow.react"),{paddingHorizontal:16,paddingVertical:16,spacing:0,verticalAlign:"center",children:[j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXCircleButton.react"),{disabled:!0,icon:c("MWXIconDots3Vertical"),label:h._(/*BTDS*/"__JHASH__yyf5QdHy0uw__JHASH__"),size:28})}),j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXGlimmer.react"),{index:0,xstyle:k.promptTitle})}),j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconCross"),label:h._(/*BTDS*/"__JHASH__l-5nlfLCheV__JHASH__"),onPress:a,size:28})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWDidQueryPromptsNux",[],(function(a,b,c,d,e,f){"use strict";var g=!1;function a(){g=!0}function b(){return g}f.markDidQueryPromptsNux=a;f.getDidQueryPromptsNux=b}),66);
__d("MWRollcallContributionsDialogContainer.react",["CometHideLayerOnEscape.react","CometTheme.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,d=a.onClose;a=a.visibilityRef;return i.jsx(c("CometHideLayerOnEscape.react"),{onHide:d,children:i.jsx("div",babelHelpers["extends"]({className:"x1qjc9v5 xal61yo x9f619 x78zum5 xdt5ytf x1iyjqo2 x5yr21d x1n2onr6 x87ps6o x1uvtmcs"},{ref:a,children:i.jsx(c("CometTheme.react"),{style:{display:"contents"},theme:"dark",children:b})}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRollcallContributionsDialogFallback.react",["fbt","ix","MDSColumn.react","MDSColumnItem.react","MDSGlimmer.react","MDSRow.react","MDSRowItem.react","MWRollcallContributionsDialogContainer.react","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){var b;a=a.onClose;return k.jsxs(c("MWRollcallContributionsDialogContainer.react"),{onClose:a,children:[k.jsxs(c("MDSRow.react"),{paddingHorizontal:16,paddingVertical:16,spacing:0,verticalAlign:"center",children:[k.jsx(b=c("MDSRowItem.react"),{children:k.jsx(c("MWXIcon.react"),{"aria-label":h._(/*BTDS*/"__JHASH__l-5nlfLCheV__JHASH__"),icon:d("fbicon")._(i("478232"),16),onPress:a,size:20})}),k.jsx(b,{children:k.jsx(a=c("MDSGlimmer.react"),{index:0,xstyle:l.rollcallTitle})}),k.jsx(b,{children:k.jsx(c("MWXIcon.react"),{"aria-label":h._(/*BTDS*/"__JHASH__LLSQ7_q3mOX__JHASH__"),disabled:!0,icon:d("fbicon")._(i("816819"),16),size:20})})]}),k.jsx(c("MDSColumn.react"),{align:"center",expanding:!0,paddingVertical:20,spacing:20,verticalAlign:"center",children:k.jsxs(c("MDSColumnItem.react"),{children:[k.jsxs(c("MDSRow.react"),{align:"start",paddingHorizontal:0,paddingVertical:12,spacing:8,verticalAlign:"center",xstyle:l.contributionHeader,children:[k.jsx(b,{children:k.jsx(a,{index:0,xstyle:l.profilePicture})}),k.jsx(b,{children:k.jsx(a,{index:0,xstyle:l.profileName})})]}),k.jsx(a,{index:0,xstyle:l.contributionMedia})]})})]})}a.displayName=a.name+" [from "+f.id+"]";var l={contributionHeader:{width:"x1cvmir6",$$css:!0},contributionMedia:{borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",height:"xuo6tqj",marginBottom:"x1e56ztr",width:"x1cvmir6",$$css:!0},profileName:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",height:"x1qx5ct2",width:"x1oysuqx",$$css:!0},profilePicture:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x10w6t97",width:"x1td3qas",$$css:!0},rollcallTitle:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x10w6t97",width:"xdzyupr",$$css:!0}};g["default"]=a}),226);
__d("RollcallXmaCtaClickQplLogging",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("QPLUserFlow").endSuccess(c("qpl")._(127406705,"1680"))}function b(){c("QPLUserFlow").endFailure(c("qpl")._(127406705,"1680"),"fail to load roll call information")}function d(a,b,d){c("QPLUserFlow").start(c("qpl")._(127406705,"1680"),{annotations:{string:{cta_title:d,entry_point:a,source_type:b}}})}g.endSuccessXMACtaClickQplLogging=a;g.endFailureXMACtaClickQplLogging=b;g.startXMACtaClickQplLogging=d}),98);
__d("RollcallXmaViewerQplLogging",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("QPLUserFlow").endSuccess(c("qpl")._(127403136,"1137"))}function b(){c("QPLUserFlow").endFailure(c("qpl")._(127403136,"1137"),"error while doing actions in Rollcall viewer.")}function d(a,b,d){c("QPLUserFlow").start(c("qpl")._(127403136,"1137"),{annotations:{bool:{is_viewer_contribute:b},"int":{total_media_items:a},string:{source_type:d}}})}function e(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"added_reaction")}function f(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"unsend_contribution")}function h(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"reset_prompt")}function i(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"report_prompt")}function j(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"report_contribution")}function k(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"reply_contribution")}g.endSuccessXMARollCallViewerQplLogging=a;g.endFailureXMARollCallViewerQplLogging=b;g.startXMARollCallViewerQplLogging=d;g.addReactionRollCallViewerQplPoint=e;g.unsendContributionRollCallViewerQplPoint=f;g.resetPromptRollCallViewerQplPoint=h;g.reportPromptRollCallViewerQplPoint=i;g.reportContributionRollCallViewerQplPoint=j;g.replyContributionRollCallViewerQplPoint=k}),98);
__d("useRollcallContributionsXMAActionHandlerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23868899752758299"}),null);
__d("useRollcallContributionsXMAActionHandlerQuery.graphql",["useRollcallContributionsXMAActionHandlerQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"surface_nux_id",value:10706},{kind:"Literal",name:"trigger",value:"COMMUNITY_MESSAGING_PROMPT"}],c=[{kind:"Literal",name:"supported",value:"TDHjT"}],d={kind:"InlineFragment",selections:[{args:null,documentName:"useRollcallContributionsXMAActionHandlerQuery",fragmentName:"CometQuickPromotionMessengerWebPromptsNuxDialogRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebPromptsRendererStrategy",abstractKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useRollcallContributionsXMAActionHandlerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[d],storageKey:'renderer_strategy(supported:"TDHjT")'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useRollcallContributionsXMAActionHandlerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d],storageKey:'renderer_strategy(supported:"TDHjT")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}]},params:{id:b("useRollcallContributionsXMAActionHandlerQuery_facebookRelayOperation"),metadata:{},name:"useRollcallContributionsXMAActionHandlerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("useRollcallContributionsXMAActionHandler",["CometRelay","I64","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWChannelPromptContributionsDialog.entrypoint","MWChannelPromptContributionsDialogFallback.react","MWDidQueryPromptsNux","MWLSThread","MWRollcallContributionsDialogFallback.react","MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent","RollcallXmaCtaClickQplLogging","RollcallXmaViewerQplLogging","mwCMIsAnyCMThread","promiseDone","react","useMWXEntryPointDialog","useMWXLazyDialog","usePrevious","useRollcallContributionsXMAActionHandlerQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));e=i;var l=e.useCallback,m=e.useEffect,n=e.useState;function o(){var a=d("CometRelay").useRelayEnvironment();return function(){return d("CometRelay").fetchQuery(a,h!==void 0?h:h=b("useRollcallContributionsXMAActionHandlerQuery.graphql"),{}).toPromise()}}function a(){var a=n((j||(j=d("I64"))).zero),b=a[0],e=a[1];a=n("");var f=a[0],g=a[1];a=n(j.zero);var h=a[0],i=a[1];a=n(null);var p=a[0],q=a[1];a=n(null);var r=a[0],s=a[1],t=c("usePrevious")(b),u=c("usePrevious")(h);a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWRollcallContributionsDialog.react").__setRef("useRollcallContributionsXMAActionHandler"),function(a){return k.jsx(c("MWRollcallContributionsDialogFallback.react"),{onClose:a})});var v=a[0];a=c("useMWXEntryPointDialog")(c("MWChannelPromptContributionsDialog.entrypoint"),{promptId:j.to_string(h)},void 0,function(a){return k.jsx(c("MWChannelPromptContributionsDialogFallback.react"),{onClose:a})});var w=a[0];a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWCommunityMessagingPromptsNUXQuickPromotion.react").__setRef("useRollcallContributionsXMAActionHandler"));var x=a[0],y=o();a=d("MWLSThread").useThread(b,function(a){return a.threadType});var z=a!==void 0&&c("mwCMIsAnyCMThread")(a),A=a!==void 0&&d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a);m(function(){z!=null&&!(j||(j=d("I64"))).is_zero(b)&&!(j||(j=d("I64"))).is_zero(h)&&t!==b&&u!==h&&(d("RollcallXmaCtaClickQplLogging").startXMACtaClickQplLogging("xma_www_button",z?"cm_thread":"friends_family_thread","open_viewer"),d("MWDidQueryPromptsNux").getDidQueryPromptsNux()||d("MWDidQueryPromptsNux").markDidQueryPromptsNux(),A?(w({rollCallId:h,threadKey:b,xmaMessageId:f},function(){d("RollcallXmaViewerQplLogging").endSuccessXMARollCallViewerQplLogging(),e((j||(j=d("I64"))).zero),i(j.zero),q(null)}),c("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").log(function(){return{action_name:1,event_name:305,source:157,surface:7,thread_id:(j||(j=d("I64"))).to_string(b)}})):v({ctaType:r,rollCallId:h,scrollToContributionMessageId:p,threadKey:b},function(){d("RollcallXmaViewerQplLogging").endSuccessXMARollCallViewerQplLogging(),e((j||(j=d("I64"))).zero),g(""),i(j.zero),q(null)}),c("promiseDone")(y(),function(a){a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.eligible_promotions)==null?void 0:(a=a.nodes)==null?void 0:(a=a.find(function(a){return((a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)!=null}))==null?void 0:(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy;a&&x({asCreator:!1,rendererStrategy:a})}))},[z,u,t,h,w,b,p,y,x,r,v,f,A]);return l(function(a,b,c,d,f){g(f),e(b),i(a),q(c),s(d)},[])}g.useRollcallContributionsXMAActionHandler=a}),98);
__d("getMWLSOngoingCallServerInfoData",["ReQL"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("ReQL").fromTableAscending(a.tables.rtc_ongoing_calls_on_threads_v2).getKeyRange(b).map(function(a){return a.ongoingCallServerInfoData})}g["default"]=a}),98);
__d("getRTCCallStateOfLSRTCCallState",["FBLogger","LSRtcCallState"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a===2?!0:a===8}function a(a,b){switch(a){case c("LSRtcCallState").AUDIO_1TO1_CALL:return"AUDIO_1TO1_CALL";case c("LSRtcCallState").VIDEO_1TO1_CALL:return"VIDEO_1TO1_CALL";case c("LSRtcCallState").NO_ONGOING_CALL:return"NO_ONGOING_CALL";case c("LSRtcCallState").AUDIO_GROUP_CALL:return h(b)?"AUDIO_GROUP_CALL":"AUDIO_1TO1_CALL";case c("LSRtcCallState").VIDEO_GROUP_CALL:return h(b)?"VIDEO_GROUP_CALL":"VIDEO_1TO1_CALL";default:c("FBLogger")("messenger_web_calling").mustfix("Unknown RTCCallState: %sL and threadType %sL",a,b);return"NO_ONGOING_CALL"}}g["default"]=a}),98);
__d("useMWLSGetOngoingCallState",["MWLSThread","MWThreadKey.react"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();return d("MWLSThread").useThread(a,function(a){return a.ongoingCallState})}g["default"]=a}),98);
__d("useRTWebOutgoingGroupCallDialog",["JSResourceForInteraction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useRef,k=c("JSResourceForInteraction")("RTWebCometOutgoingGroupCallContentLS.react").__setRef("useRTWebOutgoingGroupCallDialog");function a(){var a=j(!1),b=c("useMWXLazyDialog")(k),d=b[0];return i(function(b){a.current||(a.current=!0,d(b,function(){a.current=!1}))},[a,d])}g["default"]=a}),98);
__d("useRTWebOutgoingUnsupportedBrowserDialog",["JSResourceForInteraction","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback,j=c("JSResourceForInteraction")("RTWebOutgoingUnsupportedBrowserDialogWrapper.react").__setRef("useRTWebOutgoingUnsupportedBrowserDialog");function a(){var a=c("useCometLazyDialog")(j),b=a[0];return i(function(a){b(a)},[b])}g["default"]=a}),98);
__d("useRTWebCometStartCallCallback",["Actor","RTWebPreCallHooks","react","useRTWebOutgoingGroupCallDialog","useRTWebOutgoingUnsupportedBrowserDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;e=d("RTWebPreCallHooks").createInviteAndStartCallCallbackHook(a,b);function a(){var a=d("Actor").useActor(),b=a[0],e=c("useRTWebOutgoingGroupCallDialog")();return i(function(a,c){var d=a.thread.id;a=a.trigger;e({onCall:c,threadID:d,trigger:a,viewer:b})},[e,b])}function b(){var a=d("Actor").useActor(),b=a[0],e=c("useRTWebOutgoingUnsupportedBrowserDialog")();return i(function(a){a=a.thread;var c=a.id;a=a.type;e({actorID:b,threadID:c,threadType:a})},[b,e])}g["default"]=e}),98);
__d("MWLSStartPhoneCall",["$InternalEnum","I64","Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","LSRtcCallState","MWPActor.react","MWThreadKey.react","Promise","ReQL","getMWLSOngoingCallServerInfoData","getRTCCallStateOfLSRTCCallState","promiseDone","recoverableViolation","useMWLSGetOngoingCallState","useRTWebCometStartCallCallback","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=b("$InternalEnum").Mirrored(["OngoingVideoCall","OngoingAudioCall"]);function a(){var a=(k||(k=c("useReStore")))(),e=c("useRTWebCometStartCallCallback")(),f=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),g=c("useMWLSGetOngoingCallState")(),m=d("MWPActor.react").useActor(),n=d("Int64Hooks").useCallbackInt64(function(k,l,n,o){var p=k?"video":"audio";c("promiseDone")((j||(j=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(f)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.participants,["contactId"]).getKeyRange(f).filter(function(a){return!(h||(h=d("I64"))).equal(a.contactId,m)}).map(function(a){return(h||(h=d("I64"))).to_string(a.contactId)})),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.mi_act_mapping_table).getKeyRange(f).map(function(a){return a.jid}))]).then(function(k){var m=k[0],q=k[1],r=k[2];if(m==null){c("recoverableViolation")("Cannot find thread when trying to call someone","rtc_www");return}return d("ReQL").firstAsync(c("getMWLSOngoingCallServerInfoData")(a,f)).then(function(a){return(j||(j=b("Promise"))).resolve(e({existingCall:g!=null&&a!=null?{call_state:c("getRTCCallStateOfLSRTCCallState")((i||(i=d("LSIntEnum"))).unwrapIntEnum(g),(i||(i=d("LSIntEnum"))).unwrapIntEnum(m.threadType)),initiator_fbid:null,server_info_data:a}:null,isE2eeMandated:d("LSMessagingThreadTypeUtil").isArmadilloSecure(m.threadType),mediaType:p,representedID:o,thread:{e2eeThreadID:r==null?void 0:(h||(h=d("I64"))).to_string(r),id:l,secureOneToOneThreadPeerId:q!=null&&(h||(h=d("I64"))).equal(m.threadType,(i||(i=d("LSIntEnum"))).ofNumber(15))?q:void 0,type:(i||(i=d("LSIntEnum"))).unwrapIntEnum(m.threadType)},trigger:n}))})}),void 0,function(a){c("recoverableViolation")("Error making a phone call","rtc_www",{error:a.Error})})},[m,e,f,a,g]),o=void 0;g!=null&&(h||(h=d("I64"))).equal(g,(i||(i=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").AUDIO_GROUP_CALL))?o=l.OngoingAudioCall:g!=null&&(h||(h=d("I64"))).equal(g,(i||(i=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").VIDEO_GROUP_CALL))&&(o=l.OngoingVideoCall);return[n,o]}g.useMakeRTCCall=a}),98);
__d("MWChatIsMessageRequest",["CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a!=null)if(a==="pending")return!0;else if(a==="other")return!c("CurrentUser").isWorkUser();else return!1;else return!1}g.fn=a}),98);
__d("logCallAttemptViaLocalhost",["MessengerDesktopDeeplinkEventFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.funnelSessionId;c("MessengerDesktopDeeplinkEventFalcoEvent").logImmediately(function(){return{event:"attempt_localhost_deeplink",eventLocation:"browser",eventType:"call",funnelSessionId:b,mobile_app_source:"unknown"}})}g["default"]=a}),98);
__d("MWStartRTCCallUtils",["$InternalEnum","I64","Int64Hooks","LSContactBitOffset","LSContactBlockedByViewerStatus","LSContactReachabilityStatusType","LSContactType","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWChatIsMessageRequest","MWPActor.react","MessengerDesktopDeepLinkUtils","MessengerDesktopLocalServerRequest","ODS","Promise","ReQL","ReQLSuspense","ZenonRTWebBrowserFeatureSupport","gkx","isFeatureLimitEnabled","logCallAttemptViaLocalhost","promiseDone","react","useIsReadOnlyFeatureLimitedWithThreadType","useMWGetOtherUserContact","useReStore","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n=j||d("react"),o=n.useCallback,p=n.useRef,q=b("$InternalEnum").Mirrored(["SECURE_VIDEO_UNSUPPORTED","SECURE_VOICE_UNSUPPORTED","VIDEO_SUPPORTED","VOICE_SUPPORTED","VIDEO_UNSUPPORTED","VOICE_UNSUPPORTED"]);function a(a){var e=p(c("uuidv4")()).current;return o(function(f,g,h){var j="/call?threadid="+g+"&isvideocall="+(f?1:0)+"&funnel_id="+e;(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","initiating_dapp_call");c("logCallAttemptViaLocalhost")({funnelSessionId:e});c("promiseDone")((i||(i=b("Promise"))).all([new(c("MessengerDesktopLocalServerRequest"))(j,d("MessengerDesktopDeepLinkUtils").PORT).setOnLoadEndHandler(function(){}).setErrorHandler(function(b){(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","call_failed_with_error_"+b),a(f,g,h)}).setTimeoutHandler(function(){(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","call_timed_out"),a(f,g,h)}).send()]))},[a,e])}function e(a,e,f){var g=p(c("uuidv4")()).current;return d("Int64Hooks").useCallbackInt64(function(h){var j=(k||(k=d("I64"))).to_string(a),l=e==="video"?1:0;j="/call?threadid="+j+"&isvideocall="+l+"&funnel_id="+g;(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","initiating_dapp_call");c("logCallAttemptViaLocalhost")({funnelSessionId:g});c("promiseDone")((i||(i=b("Promise"))).all([new(c("MessengerDesktopLocalServerRequest"))(j,d("MessengerDesktopDeepLinkUtils").PORT).setOnLoadEndHandler(function(){(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","call_loaded_successfully")}).setErrorHandler(function(a){(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","call_failed_with_error_"+a),f(h)}).setTimeoutHandler(function(){(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","call_timed_out"),f(h)}).send()]))},[e,g,a,f])}function r(a,b,e){a=s(a);var f,g=!1;if(a.length!==1)f=!1;else{var h,i=a[0];b=d("LSMessagingThreadTypeUtil").isOneToOne(b)&&i!=null&&!(k||(k=d("I64"))).equal(i.blockedByViewerStatus,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED));if(b)return[!1,!1];f=i!=null?(k||(k=d("I64"))).equal(i.contactType,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE)):!1;b=i!=null?(b=d("LSContactBitOffset").has(0,i))!=null?b:!0:!0;h=i!=null?(h=d("LSContactBitOffset").has(1,i))!=null?h:!0:!0;g=e&&i!=null&&i.blockedSinceTimestampMs==null&&!f&&(!b||!h)}if(!f)return[!g,!g];return c("gkx")("23431")?[a.every(function(a){return a==null?!0:d("LSContactBitOffset").has(17,a)}),a.every(function(a){return a==null?!0:d("LSContactBitOffset").has(16,a)})]:[!1,!1]}function s(a){var b=(h||(h=c("useReStore")))(),e=d("MWPActor.react").useActor();return d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.tables.participants,["contactId"]).getKeyRange(a).take(2).filter(function(a){return!(k||(k=d("I64"))).equal(a.contactId,e)}).map(function(a){return d("ReQLSuspense").first(d("ReQL").fromTableAscending(b.tables.contacts,["contactType","blockedSinceTimestampMs","capabilities","capabilities2","blockedByViewerStatus"]).getKeyRange(a.contactId),f.id+":301")})},[b,a,e],f.id+":290")}function t(a){var b=a.folderName,e=a.threadKey,g=a.threadType,i=(h||(h=c("useReStore")))(),j=d("MWPActor.react").useActor(),m=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(i.tables.participants,["threadKey","contactId"]).getKeyRange(e,j)},[i,e,j],f.id+":322")!=null,n=c("useMWGetOtherUserContact")(e,g,["contactReachabilityStatusType"].concat(d("LSContactBitOffset").contactCapabilityFields)),o=d("LSThreadBitOffset").has(25,a),p=d("LSThreadBitOffset").has(24,a),s=d("LSMessagingThreadTypeUtil").isArmadilloSecure(g),t=c("useIsReadOnlyFeatureLimitedWithThreadType")(g)&&(!s||c("isFeatureLimitEnabled")());a=r(e,a.threadType,s);var u=a[0];a=a[1];if(s&&(!d("ZenonRTWebBrowserFeatureSupport").isInsertableStreamsSupported()||!c("gkx")("23430")))return[q.SECURE_VOICE_UNSUPPORTED,q.SECURE_VIDEO_UNSUPPORTED];s=(n==null?void 0:n.contactReachabilityStatusType)!=null?(k||(k=d("I64"))).equal(n.contactReachabilityStatusType,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactReachabilityStatusType").REACHABLE)):!0;var v=n!=null&&d("LSContactBitOffset").has(64,n)&&c("gkx")("7458");n=n==null&&(k||(k=d("I64"))).equal(g,(l||(l=d("LSIntEnum"))).ofNumber(15));m=((k||(k=d("I64"))).equal(g,(l||(l=d("LSIntEnum"))).ofNumber(2))||(k||(k=d("I64"))).equal(g,(l||(l=d("LSIntEnum"))).ofNumber(16)))&&m||(k||(k=d("I64"))).equal(g,(l||(l=d("LSIntEnum"))).ofNumber(1))||(k||(k=d("I64"))).equal(g,(l||(l=d("LSIntEnum"))).ofNumber(15));g=d("MWChatIsMessageRequest").fn(b);b=!n&&!g&&!t&&m&&s&&!v;return b?[u&&o?q.VOICE_SUPPORTED:q.VOICE_UNSUPPORTED,a&&p?q.VIDEO_SUPPORTED:q.VIDEO_UNSUPPORTED]:[q.VOICE_UNSUPPORTED,q.VIDEO_UNSUPPORTED]}g.CanCallResult=q;g.useStartDesktopCall=a;g.useStartMessengerDesktopCall=e;g.useCanCall=t}),98);
__d("useShouldTryWithMessengerDesktop",["MWFacebookUserWithoutMessengerAccess","MessengerDesktopDeepLinkUtils","ODS","gkx","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useEffect,k=b.useRef,l=b.useState;function a(){var a=l(!1),b=a[0],e=a[1],f=k(!1),g=d("MWFacebookUserWithoutMessengerAccess").useIsFacebookUserWithoutMessengerAccess();j(function(){if(f.current)return;f.current=!0;if(g)return;if(c("gkx")("23670")||!d("MessengerDesktopDeepLinkUtils").isMessengerDesktopDeeplinkEligible())return;(i||(i=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","is_dapp_running");c("promiseDone")(d("MessengerDesktopDeepLinkUtils").isMessengerDesktopRunning(d("MessengerDesktopDeepLinkUtils").PORT).then(function(a){if(!a||a!==200){a||(i||(i=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","localhost_did_not_respond");a===500&&(i||(i=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","localhost_responded_but_crashed");return}e(!0)}))});return b}g["default"]=a}),98);
__d("useStartRTCCall",["MWLSStartPhoneCall","MWStartRTCCallUtils","useShouldTryWithMessengerDesktop"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useShouldTryWithMessengerDesktop")(),b=d("MWLSStartPhoneCall").useMakeRTCCall();b=b[0];var e=d("MWStartRTCCallUtils").useStartDesktopCall(b);return a?e:b}g["default"]=a}),98);
__d("xmaAttachmentUtils",["I64","LSIntEnum","MNXMAPreviewImageDecorationType"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){a=a.actionUrl;return(a==null?void 0:a.includes("groupcall"))===!0}function b(a){a=a.previewImageDecorationType;if(a==null)return!1;var b=(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").DXMA_LIVE));a=h.equal(a,i.ofNumber(c("MNXMAPreviewImageDecorationType").DXMA_LIVE_ENDED));return b||a}function e(a){var b=null;try{a=JSON.parse(a);a!=null&&typeof a==="object"&&Array.isArray(a)===!1&&a.postback_action_text!=null&&(b=a.postback_action_text)}catch(a){b=null}return b}g.isMeetingsAttachment=a;g.isLiveXMA=b;g.getPostbackTextFromCTAContentBlob=e}),98);
__d("useGetMWXMACtaRegistryHandler",["$InternalEnum","Actor","ConstUriUtils","CustomerInformationTemplateFalcoEvent","I64","LSIntEnum","MWChatXmaThirdPartyActionHandler","MWLSImagePostbackCtaHandler","MWLSPostbackCtaHandler","MWLSThreadDisplayContext","MWLSWebUrlCtaHandler","RoomsLinkUtils","XCometProfileControllerRouteBuilder","XCometStoriesControllerRouteBuilder","cr:131","cr:236","cr:4538","cr:4539","emptyFunction","gkx","isStringNullOrEmpty","nullthrows","useEmptyFunction","useLSMessagingInitiatingSource","useLSMessagingSource","useMWBaseChatOpenTabForUser","useMWChatPollXMAActionHandler","useMWLinkHashXMAActionHandler","useMWNavigation","useOpenSubthreadView","useRollcallContributionsXMAActionHandler","useStartRTCCall","xmaAttachmentUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(f=(e=b("cr:4539"))!=null?e:b("cr:131"))!=null?f:c("useEmptyFunction"),k=(f=(e=b("cr:4538"))!=null?e:b("cr:236"))!=null?f:c("useEmptyFunction"),l=b("$InternalEnum")({SUBTHREAD_LINK:"fb-messenger://community_subthread/"});function a(){var a=c("useLSMessagingInitiatingSource")(),b=c("useLSMessagingSource")(),e=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),f=c("useMWBaseChatOpenTabForUser")(void 0,"inboxInThread"),g=f.openTabForUser;f=d("Actor").useActor();var m=f[0];f=d("MWLSImagePostbackCtaHandler").usePostbackCtaHandler(b,a);b=c("useStartRTCCall")();var n=d("MWChatXmaThirdPartyActionHandler").useHandler(f,b),o=d("MWLSPostbackCtaHandler").usePostbackCtaHandler(),p=c("useMWLinkHashXMAActionHandler")(),q=c("useMWChatPollXMAActionHandler")(),r=d("useRollcallContributionsXMAActionHandler").useRollcallContributionsXMAActionHandler(),s=d("MWLSWebUrlCtaHandler").useShowWebViewDialog(),t=c("useMWNavigation")();a=k();var u=j({onSuccess:(f=a)!=null?f:c("emptyFunction")}),v=c("useOpenSubthreadView")();return function(a){var b=/^http(s)*\:\/\/m\.me\/([a-z0-9\.\_]+)$/i,f=a.actionUrl!=null&&b.test(a.actionUrl)?(b=a.actionUrl)==null?void 0:b.replace("m.me/","messenger.com/t/"):a.actionUrl,j=a.platformToken,k=a.type_,w=a.title,x=a.messageId,y=a.threadKey,z=a.attachmentFbid,A=a.targetId,B=A!=null?(h||(h=d("I64"))).to_string(A):null;b=["Title: "+w,"Type: "+k,"PlatformTokenPresent: "+(j!=null).toString(),"ActionUrlPresent: "+(f!=null).toString(),"ActionContentBlobPresent: "+(a.actionContentBlob!=null).toString()].join(", ");if(k==="xma_roll_call_open_viewer"||k==="xma_prompt_open_viewer_for_text"||k==="xma_roll_call_add_yours")return A==null?{actionType:"NOT_SUPPORTED",primaryInfo:void 0}:{actionType:"BUTTON",primaryInfo:function(){r(c("nullthrows")(A),y,null,k,x)},secondaryInfo:void 0};if(k==="xma_rtc_audio"||k==="xma_rtc_missed_audio"||k==="xma_rtc_new_audio_default"||k==="xma_rtc_ended_audio"){var C={hasVideo:!1,threadId:(h||(h=d("I64"))).to_string(y),trigger:k};A!=null&&(C.representedID=(h||(h=d("I64"))).to_string(A));return{actionType:"BUTTON",primaryInfo:function(){return n({NAME:"MakeRtcCall",VAL:C})},secondaryInfo:void 0}}if(k==="xma_rtc_video"||k==="xma_rtc_new_video_default"||k==="xma_rtc_new_video_from_fb_share"||k==="xma_rtc_new_video_from_fb_video_share"||k==="xma_rtc_missed_video"||k==="xma_rtc_ended_video")return{actionType:"BUTTON",primaryInfo:function(){return n({NAME:"MakeRtcCall",VAL:{hasVideo:!0,threadId:(h||(h=d("I64"))).to_string(y),trigger:k}})},secondaryInfo:void 0};if(k==="xma_postback"){var D=c("gkx")("3418")&&a.actionContentBlob!=null?d("xmaAttachmentUtils").getPostbackTextFromCTAContentBlob(a.actionContentBlob):null;return{actionType:"BUTTON",primaryInfo:function(){var a;return o(j,(a=D)!=null?a:w)},secondaryInfo:[(h||(h=d("I64"))).to_string(y),31]}}if(k==="xma_smag_postback"){var E=a.actionContentBlob!=null?JSON.parse(c("nullthrows")(a.actionContentBlob)):{},F=E.bot_response_id,G=E.dialog;return{actionType:"BUTTON",primaryInfo:function(){return n({NAME:"HandleSMAGPostback",VAL:{bot_response_id:F!=null?String(F):void 0,ctaLabel:a.title,dialog:G!=null?G:void 0,message:w,platformToken:j,url:f}})},secondaryInfo:void 0}}if(k==="xma_open_dialog"){if(f==null)return{actionType:"CTA_ERROR",primaryInfo:"Expected an open dialog url but didn't get any",secondaryInfo:"messenger_business_core_product"};E=(E=d("ConstUriUtils").getUri(f))==null?void 0:E.getQueryData==null?void 0:E.getQueryData();if(E==null)return{actionType:"CTA_ERROR",primaryInfo:"Expected a valid open dialog url but didn't get any",secondaryInfo:"messenger_business_core_product"};var H=String(E.page_id).toString(),I=String(E.guest_id).toString();return{actionType:"BUTTON",primaryInfo:function(){return n({NAME:"ShowGuestChatHistory",VAL:{guestId:I,pageId:H}})},secondaryInfo:void 0}}if(k==="xma_p2p_payment_details"||k==="xma_p2p_request_pay"||k==="xma_p2p_payment_details_receive_money"||k==="xma_p2p_verify_info"){var J=a.targetId;return J==null?{actionType:"CTA_ERROR",primaryInfo:"P2P Transaction encounterd without txn id",secondaryInfo:"messenger_privacy_web"}:{actionType:"BUTTON",primaryInfo:function(){return n({NAME:"P2PPaymentTransactionDetails",VAL:{currentStatus:null,id:(h||(h=d("I64"))).to_string(J)}})},secondaryInfo:void 0}}if(k==="fill_in_thread_form"||k==="filled_in_thread_form_successfully"){var K=a.actionContentBlob;return{actionType:"BUTTON",primaryInfo:function(){return n({NAME:"ShowInThreadFormDetails",VAL:JSON.parse(c("nullthrows")(K))})},secondaryInfo:void 0}}if(k==="xma_join_from_portal"&&f!=null)return{actionType:"BUTTON",primaryInfo:function(){return n({NAME:"MakeJoinRoomFromPortal",VAL:{linkUrl:f}})},secondaryInfo:void 0};if(k==="xma_live_location_sharing")return{actionType:"BUTTON",primaryInfo:function(){return n(a.nativeUrl!=null?{NAME:"ShowStaticLocationDetails",VAL:{msgId:x}}:{NAME:"ShowLiveLocationDetails",VAL:{messageId:x,titleString:w}})},secondaryInfo:void 0};if(k==="xma_web_url"){E=a.nativeUrl;if(E!=null&&E.includes("://timeline_review/")){E=(E=c("XCometProfileControllerRouteBuilder").buildUri({id:m,log_filter:"review",sk:"approve"}).setDomain("www.facebook.com"))==null?void 0:E.setProtocol("https");return{actionType:"URL",primaryInfo:c("nullthrows")(E).toString(),secondaryInfo:void 0}}if(f!=null&&f.includes("://location_share"))return{actionType:"BUTTON",primaryInfo:function(){return n({NAME:"ShowStaticLocationDetails",VAL:{msgId:x}})},secondaryInfo:void 0}}if(k==="contact_sharing_profile"&&a.targetId!=null){E=(E=c("XCometProfileControllerRouteBuilder").buildUri({id:(h||(h=d("I64"))).to_string(a.targetId)}).setDomain("www.facebook.com"))==null?void 0:E.setProtocol("https");return{actionType:"URL",primaryInfo:c("nullthrows")(E).toString(),secondaryInfo:void 0}}if(k==="contact_sharing_message"&&B!=null)return{actionType:"BUTTON",primaryInfo:function(){e==="ChatTab"?B!=null&&g({userId:B}):A!=null&&t.openInbox({clientThreadKey:void 0,threadKey:A,threadType:(i||(i=d("LSIntEnum"))).ofNumber(1)},"contactShareMessage")},secondaryInfo:void 0};if(k==="xma_join_community"||k==="xma_join_community_chat"||k==="xma_see_community"||k==="xma_see_community_chat")return{actionType:"BUTTON",primaryInfo:function(){return p(f,k)},secondaryInfo:void 0};var L=a.actionContentBlob;if(k==="xma_poll_details_button"||k==="xma_poll_details_card")return{actionType:"BUTTON",primaryInfo:function(){return q(A,L)},secondaryInfo:void 0};if(L!=null&&A!=null)try{var M=JSON.parse(L);if(k==="xma_admod_chat_member_request")return{actionType:"BUTTON",primaryInfo:function(){var a=M.activityLogItemID,b=M.groupID,c=M.profileID;return n({NAME:"AdmodChatsShowMemberRequest",VAL:{activityLogItemId:a!=null?JSON.stringify(a):"",groupId:b!=null?JSON.stringify(b):"",profileId:c!=null?JSON.stringify(c):"",targetId:A!=null?(h||(h=d("I64"))).to_string(A):""}})},secondaryInfo:void 0};else if(k==="xma_admod_chat_pending_post")return{actionType:"BUTTON",primaryInfo:function(){var a=M.activityLogItemID,b=M.authorID,c=M.groupID,e=M.postID;return n({NAME:"AdmodChatsShowPendingPost",VAL:{activityLogItemId:a!=null?JSON.stringify(a):"",authorId:b!=null?JSON.stringify(b):"",groupId:c!=null?JSON.stringify(c):"",postId:e!=null?JSON.stringify(e):"",targetId:A!=null?(h||(h=d("I64"))).to_string(A):""}})},secondaryInfo:void 0}}catch(a){if(k!=="marketplace_xma_call_function")return{actionType:"NOT_SUPPORTED",primaryInfo:void 0}}var N=a.targetId;if(N!=null){if(c("gkx")("3131")&&(k==="xma_merchant_confirm_order"&&(f==null||f===""))){var O={orderID:(h||(h=d("I64"))).to_string(N)};return{actionType:"BUTTON",primaryInfo:function(){return n({NAME:"ShowMerchantConfirmOrder",VAL:O})},secondaryInfo:void 0}}var P={ctaId:a.ctaId,ctaType:k,orderID:(h||(h=d("I64"))).to_string(N)};if(k==="xma_p2m_payment_details")return{actionType:"BUTTON",primaryInfo:function(){return n({NAME:"P2MOrderDetails",VAL:P})},secondaryInfo:void 0};else if(k==="xma_p2m_attach_receipt")return{actionType:"BUTTON",primaryInfo:function(){return n({NAME:"P2MAttachBankSlip",VAL:P})},secondaryInfo:void 0};else if(k==="xma_p2m_offsite_bank_transfer")return{actionType:"BUTTON",primaryInfo:function(){return n({NAME:"P2MOffsiteBankTransferCTA",VAL:P})},secondaryInfo:void 0};else if(k==="xma_p2m_mark_as_paid")return{actionType:"BUTTON",primaryInfo:function(){return n({NAME:"P2MMarkAsPaid",VAL:{ctaId:a.ctaId,ctaType:k,orderID:(h||(h=d("I64"))).to_string(N)}})},secondaryInfo:void 0};else if(k==="xma_p2m_mark_as_shipped")return{actionType:"BUTTON",primaryInfo:function(){return n({NAME:"P2MMarkAsShipped",VAL:{ctaId:a.ctaId,ctaType:k,orderID:(h||(h=d("I64"))).to_string(N)}})},secondaryInfo:void 0};else if(k==="xma_p2m_mark_as_received")return{actionType:"BUTTON",primaryInfo:function(){return n({NAME:"P2MMarkAsReceived",VAL:{ctaId:a.ctaId,ctaType:k,orderID:(h||(h=d("I64"))).to_string(N)}})},secondaryInfo:void 0};if(k==="xma_p2m_checkout"){var Q={orderID:(h||(h=d("I64"))).to_string(N),pageID:h.to_string(y)};return{actionType:"BUTTON",primaryInfo:function(){return n({NAME:"P2MCheckout",VAL:Q})},secondaryInfo:void 0}}if(k==="xma_p2m_informational_message_bottom_sheet"){var R={contentType:JSON.parse(c("nullthrows")(L)),orderID:(h||(h=d("I64"))).to_string(N),pageID:h.to_string(y)};return{actionType:"BUTTON",primaryInfo:function(){return n({NAME:"P2MInformationalMessageBottomSheet",VAL:R})},secondaryInfo:void 0}}}if(k==="xma_p2m_async_controller"){var S={payload:JSON.parse(c("nullthrows")(L))};return S.payload.action_type==="mark_as_x"&&N!=null?{actionType:"BUTTON",primaryInfo:function(){var b;return n({NAME:"P2MMarkAsX",VAL:{ctaId:a.ctaId,ctaType:(b=S.payload.extra_data.cta_type)!=null?b:"",orderID:(h||(h=d("I64"))).to_string(N)}})}}:{actionType:"BUTTON",primaryInfo:function(){return n({NAME:"P2MAsyncControllerDialog",VAL:S})}}}if(k==="xma_ads_ai_survey")return{actionType:"BUTTON",primaryInfo:function(){return n({NAME:"ShowAdsAISurveyModal",VAL:JSON.parse(c("nullthrows")(L))})},secondaryInfo:void 0};if(k==="XMA_ADS_AI_ASSET_SELECTION"){var T=L!=null?JSON.parse(c("nullthrows")(L)):{};return{actionType:"BUTTON",primaryInfo:function(){var a;return n({NAME:"ShowAdsAILowProbabilityEntitySelectionModal",VAL:{adAccountID:T.ad_account_id,allowDraftSelection:(a=T.allow_draft_selection)!=null?a:!1,threadKey:y}})},secondaryInfo:void 0}}if(k==="xma_customer_information"){var U=(h||(h=d("I64"))).to_string(y);c("CustomerInformationTemplateFalcoEvent").log(function(){return{consumer_id:m,event_type:"mw_xma_impression",form_id:a.attachmentFbid,page_id:U}});var aa={actorId:m,eeMessageId:a.attachmentFbid,messageId:a.messageId,pageId:U};return{actionType:"BUTTON",primaryInfo:function(){return n({NAME:"BuyerShippingAddress",VAL:aa})},secondaryInfo:void 0}}if(L==null&&(k==="xma_direct_send"||k==="xma_biz_inbox_form_send"||k==="xma_feedback_send"))return{actionType:"CTA_ERROR",primaryInfo:"Expected pii_form data but didn't get any",secondaryInfo:"mb_apix"};if(k==="xma_direct_send")return{actionType:"BUTTON",primaryInfo:function(){return n({NAME:"ShowPIIForm",VAL:JSON.parse(c("nullthrows")(L))})},secondaryInfo:[(h||(h=d("I64"))).to_string(y),45]};if(k==="xma_biz_inbox_form_send")return{actionType:"BUTTON",primaryInfo:function(){return n({NAME:"ShowPIIFormForFormBuilder",VAL:{ctaType:k,nuxData:{description:"",seen:!0,title:"",url:"",url_text:""},piiForm:JSON.parse(c("nullthrows")(L))}})},secondaryInfo:[(h||(h=d("I64"))).to_string(y),45]};if(k==="xma_feedback_send")return{actionType:"BUTTON",primaryInfo:function(){return n({NAME:"ShowCustomerFeedbackForm",VAL:{feedbackFormId:c("nullthrows")(L)}})},secondaryInfo:[(h||(h=d("I64"))).to_string(y),69]};if(k==="xma_workplace_chat_bot_submit_feedback"){var ba={feedbackActionContentBlob:c("nullthrows")(L)};return{actionType:"BUTTON",primaryInfo:function(){return n({NAME:"WorkplaceChatBotSubmitFeedback",VAL:ba})},secondaryInfo:void 0}}if(k==="xma_work_meetings_invite"){E=d("RoomsLinkUtils").getRoomsLinkHash((E=a==null?void 0:a.actionUrl)!=null?E:"");return E!=null?{actionType:"POPOVER_BUTTON",primaryInfo:E}:{actionType:"NOT_SUPPORTED",primaryInfo:void 0}}if(k==="xma_account_link")return f==null?{actionType:"CTA_ERROR",primaryInfo:"Expected an account link url but didn't get any",secondaryInfo:"mb_apix"}:{actionType:"BUTTON",primaryInfo:function(){return n({NAME:"OpenAccountLinkUrl",VAL:f})},secondaryInfo:[(h||(h=d("I64"))).to_string(y),49]};if(k==="xma_open_joinable_call_invite_url")return{actionType:"BUTTON",primaryInfo:function(){var a;return n({NAME:"MakeWorkJoinableCallInvite",VAL:{linkUrl:(a=f)!=null?a:""}})},secondaryInfo:void 0};if(k==="xma_montage_share"){if(a.targetId==null)return{actionType:"NOT_SUPPORTED",primaryInfo:void 0};E=(E=c("XCometStoriesControllerRouteBuilder").buildUri({card_id:window.btoa("S:_ISC:"+(h||(h=d("I64"))).to_string(a.targetId)),view_single:!0}).setDomain("www.facebook.com"))==null?void 0:E.setProtocol("https");return E==null?{actionType:"NOT_SUPPORTED",primaryInfo:void 0}:{actionType:"URL",primaryInfo:c("nullthrows")(E).toString(),secondaryInfo:void 0}}if(k==="marketplace_xma_call_function")return a.actionContentBlob==null||a.targetId==null?{actionType:"NOT_SUPPORTED",primaryInfo:void 0}:{actionType:"BUTTON",primaryInfo:function(){return n({NAME:"ProcessMarketplaceCallFunction",VAL:{actionType:c("nullthrows")(a.actionContentBlob),attachmentFbid:z,messageId:x,targetId:c("nullthrows")(a.targetId)}})},secondaryInfo:void 0};if(k==="marketplace_xma_open_dialog"){if(f==null||a.actionContentBlob==null)return{actionType:"CTA_ERROR",primaryInfo:"Expected an open dialog url and actionContentBlob but didn't get any",secondaryInfo:"messenger_business_core_product"};E=d("ConstUriUtils").getUri(f);if(E==null)return{actionType:"CTA_ERROR",primaryInfo:"Found invalid url when creating CTA",secondaryInfo:"messenger_business_core_product"};var ca=String(E.getQueryParam("listingID")).toString();return{actionType:"BUTTON",primaryInfo:function(){return n({NAME:"OpenMarketplaceDialog",VAL:{ctaType:c("nullthrows")(a.actionContentBlob),listingId:ca,threadId:(h||(h=d("I64"))).to_string(y)}})},secondaryInfo:void 0}}if(k==="xma_ctm_in_thread_multiphoto_reply_image"){if(a.actionContentBlob==null)return{actionType:"NOT_SUPPORTED",primaryInfo:void 0};try{E=JSON.parse(a.actionContentBlob);var V=E.action_prefill,da=E.ad_id,ea=E.customer_id,fa=E.index,ga=E.page_id,W=E.reply_image_uri;if(V==null||W==null)return{actionType:"NOT_SUPPORTED",primaryInfo:void 0};var ha='{"in_thread_multiphoto_xma_reply": true}';return{actionType:"BUTTON",primaryInfo:function(){return n({NAME:"SendImagePostback",VAL:{image:W,loggingDetails:{ad_id:da.toString(),consumer_id:ea.toString(),index:fa,page_id:ga.toString()},message:V,platformToken:c("isStringNullOrEmpty")(j)?ha:j}})},secondaryInfo:void 0}}catch(a){return{actionType:"NOT_SUPPORTED",primaryInfo:void 0}}}if(k==="xma_disabled_cta")return{actionType:"DISABLED_BUTTON",primaryInfo:void 0};if(k==="xma_open_native"){E=a.nativeUrl;if(E!=null&&E.startsWith("fb-messenger://user-thread/")){var X=E.substr("fb-messenger://user-thread/".length);return{actionType:"DEEPLINK",primaryInfo:{loggingDetails:[(h||(h=d("I64"))).to_string(y),33],threadKey:h.of_string(X)}}}if(E!=null&&E.startsWith(l.SUBTHREAD_LINK)){try{X=new URL(E),E=X.searchParams.get("subthread_fbid")}catch(a){E=null}if(v!=null&&E!=null){var ia=(h||(h=d("I64"))).of_string(E);return{actionType:"BUTTON",primaryInfo:function(){return v(ia)},secondaryInfo:void 0}}}var Y=a.actionContentBlob;if(Y!=null)return{actionType:"BUTTON",primaryInfo:function(){return s(Y)},secondaryInfo:void 0};if(f!=null)if(f.includes("://m.me/j/")){if(a.targetId!=null){var ja=(h||(h=d("I64"))).to_string(a.targetId);return{actionType:"BUTTON",primaryInfo:function(){return t.openInbox({threadKey:(h||(h=d("I64"))).of_string(ja),threadType:(i||(i=d("LSIntEnum"))).ofNumber(152)},"xmaAttachment")},secondaryInfo:void 0}}return{actionType:"BUTTON",primaryInfo:function(){return u==null?void 0:u(f)},secondaryInfo:void 0}}else return{actionType:"URL",primaryInfo:f,secondaryInfo:[(h||(h=d("I64"))).to_string(y),33]};return{actionType:"CTA_ERROR",primaryInfo:"No Url found while parsing Open Native XMA "+b,secondaryInfo:"messenger_privacy_web"}}var Z=a.targetId;if(Z!=null)if(k==="xma_services_confirm_booking")return{actionType:"BUTTON",primaryInfo:function(){return n({NAME:"ConfirmAppointmentBooking",VAL:{requestID:(h||(h=d("I64"))).to_string(Z)}})},secondaryInfo:void 0};else if(k==="xma_services_view_appointment_details"){if(f!=null){E=(X=d("ConstUriUtils").getUri(f))==null?void 0:X.getQueryData==null?void 0:X.getQueryData();var ka=String(E==null?void 0:E.asset_id).toString();return{actionType:"BUTTON",primaryInfo:function(){return n({NAME:"ShowBookingDetails",VAL:{pageId:ka,requestId:(h||(h=d("I64"))).to_string(Z)}})},secondaryInfo:void 0}}}else if(k==="lead_forms_response"&&f!==null)return{actionType:"BUTTON",primaryInfo:function(){return n({NAME:"ViewFormDetails",VAL:{responseID:(h||(h=d("I64"))).to_string(Z)}})},secondaryInfo:void 0};if(L!=null&&L.length>0&&L!=="{}"&&!L.includes("notification_message_token")&&!L.includes("contact_type"))return{actionType:"BUTTON",primaryInfo:function(){return s(L)},secondaryInfo:void 0};if(f!=null){if(a.enableExtensions===!0){var $={actionLink:f,pageID:(h||(h=d("I64"))).to_string(y),sourceTitle:(X=w)!=null?X:"",userID:h.to_string(y)};if(k==="xma_open_rich_widget")return{actionType:"BUTTON",primaryInfo:function(){return n({NAME:"ShowMessengerRichWidgetExtension",VAL:$})},secondaryInfo:[(h||(h=d("I64"))).to_string(y),33]};else return{actionType:"BUTTON",primaryInfo:function(){return n({NAME:"ShowMessengerExtensions",VAL:$})},secondaryInfo:[(h||(h=d("I64"))).to_string(y),33]}}return{actionType:"URL",primaryInfo:f,secondaryInfo:[(h||(h=d("I64"))).to_string(y),32]}}return{actionType:"CTA_ERROR",primaryInfo:"Unknown CTA encountered while parsing XMA. "+b,secondaryInfo:"messenger_privacy_web"}}}g["default"]=a}),98);
__d("useMWXMAInformedAttachmentLabel",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b,c){a===void 0&&(a="");c===void 0&&(c="");var d={ALTERED_MEDIA:h._(/*BTDS*/"__JHASH__pK0fcBDpaEV__JHASH__",[h._param("attachment item title",a)]),ALTERED_PHOTO:h._(/*BTDS*/"__JHASH__dJ_qZg1Bnj2__JHASH__",[h._param("attachment item title",a)]),FALSE_NEWS:h._(/*BTDS*/"__JHASH__9UILySlE-wD__JHASH__",[h._param("attachment item title",a)]),MISLEADING_NEWS:h._(/*BTDS*/"__JHASH__7LJaDiii2kF__JHASH__",[h._param("attachment item title",a)]),MISSING_CONTEXT:h._(/*BTDS*/"__JHASH__JiWZCmbD51v__JHASH__",[h._param("attachment item title",a)]),SENSITIVE:h._(/*BTDS*/"__JHASH__gmdVuVfF78Q__JHASH__",[h._param("attachment item title",a)])};return b==null||d[b]==null?a!=null&&a.length>0?c!=null&&c.length>0?h._(/*BTDS*/"__JHASH__MyCNS8a0zsm__JHASH__",[h._param("attachment item title",a),h._param("attachment item description",c)]):h._(/*BTDS*/"__JHASH__puD6Qkz5YPM__JHASH__",[h._param("attachment item title",a)]):h._(/*BTDS*/"__JHASH__jjBS3qmKgnt__JHASH__"):d[b]}g["default"]=a}),226);
__d("MWXMAAttachmentActionTriggerDefault.react",["BizInboxStateContext","I64","MWInboxRouteBuilder","MWLSThread","MWPAttachmentDataContext","MWXLink.react","MWXMAAttachmentActionTriggerWithOpenChatTab.react","MWXPressable.react","MessengerWebUXLogger","MessengerWebUXLoggerXMAEventLoggingImpl","ReQL","ReQLSuspense","isCometRouterUrl","justknobx","logXMACtaClicked","react","recoverableViolation","useGetMWXMACtaRegistryHandler","useMWXMAInformedAttachmentLabel","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useContext,m={link:{":hover_textDecoration":"x1lku1pv",$$css:!0}};function a(a){var b=a.attachment,e=a.attachmentItem,g=a.children;a=l(c("BizInboxStateContext"));a=a.pageID;var j=(h||(h=c("useReStore")))(),n=e.defaultCtaType,o=e.threadKey,p=c("useMWXMAInformedAttachmentLabel")(e==null?void 0:e.titleText,b==null?void 0:b.gatingTitle,b==null?void 0:b.subtitleText),q=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(j.tables.messages.index("messageId")).getKeyRange(b.messageId)},[j,b.messageId],f.id+":68"),r=d("MWPAttachmentDataContext").useMWPGetAttachmentCTAs(e),s=r.defaultCta;r=c("useGetMWXMACtaRegistryHandler")();var t=c("MessengerWebUXLogger").useInteractionLogger(),u=d("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventsClickLogger(),v=d("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventsRedirectDefaultToFBLogger(),w=d("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventOpenInFBLogger(),x=d("MWLSThread").useThread(o,function(a){return a.threadType}),y=b.defaultCtaType==="xma_prompt_open_viewer_for_text";if(s==null)return g;if(a!=null&&(n==="xma_rtc_audio"||n==="xma_rtc_missed_audio"||n==="xma_rtc_new_audio_default"||n==="xma_rtc_ended_audio")){a=babelHelpers["extends"]({},s,{targetId:(i||(i=d("I64"))).of_string(a)});a=r(a)}else a=r(s);switch(a.actionType){case"BUTTON":r=a;var z=r.primaryInfo,A=r.secondaryInfo;return k.jsx(c("MWXPressable.react"),{"aria-label":(r=e.titleText)!=null?r:e.defaultCtaTitle,hideHoverOverlay:y,onPress:function(){t==null?void 0:t({ctaType:n,eventName:"open_xma_attachment_cta",threadKey:o,threadType:x});d("logXMACtaClicked").logXMACtaClicked({cta:s,loggingDetails:A,source:1});u==null?void 0:u({attachment:b,clickCategory:2,message:q,threadType:x});v({attachment:b,message:q,threadType:x});return z()},children:g});case"DISABLED_BUTTON":return k.jsx(c("MWXPressable.react"),{"aria-label":(r=e.titleText)!=null?r:"",disabled:!0,children:g});case"URL":y=a.primaryInfo;var B=c("isCometRouterUrl")(y);if(!(y.startsWith("http")||y.startsWith("/")))return g;var C=a.secondaryInfo;return k.jsx(c("MWXLink.react"),{href:y,label:p,onClick:function(){d("logXMACtaClicked").logXMACtaClicked({cta:s,loggingDetails:C,source:1}),u==null?void 0:u({attachment:b,clickCategory:2,message:q,threadType:x}),v({attachment:b,isDirectToExternal:!B,message:q,threadType:x})},onNavigate:function(a){B&&a&&w({attachment:b,message:q,threadType:x})},target:c("justknobx")._("1677")?void 0:"_blank",xstyle_DEPRECATED:m.link,children:g});case"DEEPLINK":var D=function(){d("logXMACtaClicked").logXMACtaClicked({cta:s,loggingDetails:E,source:1}),u==null?void 0:u({attachment:b,clickCategory:2,message:q,threadType:x}),v==null?void 0:v({attachment:b,message:q,threadType:x})};e=a.primaryInfo;var E=e.loggingDetails;r=e.threadKey;var F=d("MWInboxRouteBuilder").buildURL({thread_key:(i||(i=d("I64"))).to_string(r)});return k.jsx(c("MWXMAAttachmentActionTriggerWithOpenChatTab.react"),{threadKey:r,children:function(a){return k.jsx(c("MWXLink.react"),{href:F,onClick:function(b){a(b);return D()},preventLocalNavigation:!0,xstyle_DEPRECATED:m.link,children:g})}});case"CTA_ERROR":c("recoverableViolation")(a.primaryInfo,a.secondaryInfo,void 0,{trackOnly:!0});return g;case"NOT_SUPPORTED":return g;case"POPOVER_BUTTON":return g}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentActionTrigger.react",["MWXMAAttachmentActionTriggerDefault.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.attachment,d=a.attachmentItem,e=a.children;a=a.isPressable;if(a)return i.jsx(c("MWXMAAttachmentActionTriggerDefault.react"),{attachment:b,attachmentItem:d,children:e});else return e}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRollCallXMAAttachmentItem.react",["BaseImage.react","MWXImage.react","MWXText.react","MWXVideoStatusListener.react","gkx","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect,l=b.useRef,m=160,n=213,o={avatar:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",$$css:!0},media:{backgroundColor:"xwcfey6",backgroundPosition:"x1xsqp64",backgroundSize:"x18d0r48",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",objectFit:"xl1xv1r",$$css:!0}};function a(a){var b=a.attachmentItem,d=a.mediaRenderQpl;a=b.faviconUrl;var e=b.playableUrl,f=b.previewUrl,g=b.subtitleText;b=b.titleText;k(function(){d==null?void 0:d.addPoint("render-roll-call-xma-attachment-item",{bool:{has_playable_url:!c("isStringNullOrEmpty")(e),has_preview_url:!c("isStringNullOrEmpty")(f)}}),!c("isStringNullOrEmpty")(e)&&!c("isStringNullOrEmpty")(f)&&(d==null?void 0:d.endSuccess())},[d,e,f]);var h=l(null),p=j(function(a){d==null?void 0:d.endFail("load-video-error",{string:{video_error_name:a}})},[d]),q=j(function(){d==null?void 0:d.endSuccess()},[d]);if(!c("isStringNullOrEmpty")(e))return i.jsxs("div",babelHelpers["extends"]({className:"xfh8nwu xoqspk4 x12v9rci x138vmkv xwfyxwz x1xx6w2s x6ikm8r x10wlt62 xq1dxzn"},{children:[i.jsx(c("MWXVideoStatusListener.react"),{onError:p,onLoad:q,videoRef:h}),i.jsx("video",babelHelpers["extends"]({className:"xwcfey6 x1xsqp64 x18d0r48 xfh8nwu xoqspk4 x12v9rci x138vmkv xl1xv1r"},{height:n,muted:!0,src:e,width:m}))]}));else if(!c("isStringNullOrEmpty")(f))return i.jsx("div",babelHelpers["extends"]({className:"xfh8nwu xoqspk4 x12v9rci x138vmkv xwfyxwz x1xx6w2s x6ikm8r x10wlt62 xq1dxzn"},{children:i.jsx(c("BaseImage.react"),{height:n,onError:d==null?void 0:d.endFail("load-image-error"),onLoad:d==null?void 0:d.endSuccess(),src:f,width:m,xstyle:o.media})}));else if(c("gkx")("7782")&&!c("isStringNullOrEmpty")(b)&&!c("isStringNullOrEmpty")(a))return i.jsxs("div",babelHelpers["extends"]({className:"xfh8nwu xoqspk4 x12v9rci x138vmkv xwfyxwz x1xx6w2s x6ikm8r x10wlt62 xq1dxzn x9bbmet x78zum5 xdt5ytf xz9dl7a xn6708d xsag5q8 x1ye3gou"},{children:[i.jsx(c("MWXImage.react"),{height:24,src:a,width:24,xstyle:o.avatar}),i.jsx("div",babelHelpers["extends"]({className:"x1iyjqo2 xyamay9 x1l90r2v x1pi30zi"},{children:i.jsx(c("MWXText.react"),{numberOfLines:6,type:"entityHeaderMeta3",children:b})})),c("isStringNullOrEmpty")(g)?null:i.jsx("div",babelHelpers["extends"]({className:"x2lah0s x84yb8i"},{children:i.jsx(c("MWXText.react"),{type:"body4",children:g})}))]}));return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSCTAIconType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,FB:1,FB_ALWAYS_WHITE:2,DOTS_THREE_HORIZONTAL:3,CHEVRON_DOWN:4,FB_INFO_SMALL:5,CAMERA:6,CIRCLED_X:7,PENCIL:8,META_HORIZON:9});f["default"]=a}),66);
__d("MWXMAAttachmentItemCtaButtonBase.react",["ix","AdsMessengerContext.react","I64","ImageIconSource","LSCTAIconType","LSIntEnum","MWInboxRouteBuilder","MWLSThread","MessengerWebUXLogger","react","recoverableViolation","requireDeferred"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react")),m=i.useEffect,n=c("requireDeferred")("ZenonUserActionLoggerCommon").__setRef("MWXMAAttachmentItemCtaButtonBase.react");function o(a){if(a==null)return null;switch((j||(j=d("LSIntEnum"))).toNumber(a)){case c("LSCTAIconType").NONE:return null;case c("LSCTAIconType").FB:return new(c("ImageIconSource"))(h("814640"),16,16);default:return null}}function a(a){var b=a.attachmentCta,e=a.ctaIconType,f=a.getCtaRegistryHandler;a.messageId;var g=a.renderButtonActionNonEventButton,h=a.renderDeeplinkActionButton,i=a.renderDisabledButtonActionButton,j=a.renderPopoverMenuButtonActionButton,p=a.renderUrlActionButton,q=a.threadKey,r=a.title,s=a.type;a=d("MWLSThread").useThread(q,function(a){return a.threadType});q=c("MessengerWebUXLogger").useImpressionLoggerRef({ctaType:s,eventName:"xma_attachment_cta",threadKey:q,threadType:a});m(function(){var a=["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_ended_audio","xma_rtc_video","xma_rtc_missed_video","xma_rtc_ended_video"].includes(s);a&&n.onReady(function(a){a.logImpression({surface:"admin_message"})})},[s]);a=d("AdsMessengerContext.react").useAdsMessengerContext();var t=a.isMessengerInAds;a=a.maybeGetCallbackFromURI;if(b==null)return s==="xma_disabled_cta"?l.jsx("div",babelHelpers["extends"]({className:"x18xmwgd x1iyjqo2 xs83m0k x1iorvi4 x150jy0e xjkvuk6 x1e558r4"},{ref:q,children:i(r)})):null;f=f(b);e=o(e);var u=null;switch(f.actionType){case"BUTTON":var v=f.secondaryInfo,w=f.primaryInfo;u=g(r,e,b,v,w);break;case"POPOVER_BUTTON":j&&(u=j(r,b,f.primaryInfo));break;case"URL":v=f.secondaryInfo;w=a==null?void 0:a(f.primaryInfo);t&&w!=null?u=g(r,e,b,v,w):u=p(r,e,b,v,f.primaryInfo);break;case"DISABLED_BUTTON":u=i(r);break;case"DEEPLINK":j=f.primaryInfo;a=j.loggingDetails;t=j.threadKey;g=d("MWInboxRouteBuilder").buildURL({thread_key:(k||(k=d("I64"))).to_string(t)});u=h(r,t,b,a,g);break;case"CTA_ERROR":c("recoverableViolation")(f.primaryInfo,f.secondaryInfo,void 0,{trackOnly:!0});u=null;break;case"NOT_SUPPORTED":u=null;break}return l.jsx("div",babelHelpers["extends"]({className:"x18xmwgd x1iyjqo2 xs83m0k x1iorvi4 x150jy0e xjkvuk6 x1e558r4"},{ref:q,children:u}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWCMPollsV1Enabled",["LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=(a=d("MWLSThread").useThread(a,function(a){return{pollsV1UICapability:d("LSThreadBitOffset").has(158,a)}}))!=null?a:{};a=a.pollsV1UICapability;return a===!0}g["default"]=a}),98);
__d("useMWHasPollsVotingEnabled",["LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=(a=d("MWLSThread").useThread(a,function(a){return d("LSThreadBitOffset").has(170,a)}))!=null?a:!1;return a}g["default"]=a}),98);
__d("MWXMAAttachmentItemCtaButton.react",["LSMessagingThreadTypeUtil","MDSButton.react","MWLSThread","MWXEntryPointPopoverTrigger.react","MWXMAAttachmentActionTriggerWithOpenChatTab.react","MWXMAAttachmentItemCtaButtonBase.react","MWXPopoverLoadingState.react","MWXTooltip.react","MessengerWebUXLogger","logXMACtaClicked","mwCMIsAnyCMThread","react","useGetMWXMACtaRegistryHandler","useMWCMPollsV1Enabled","useMWCMPollsV2Enabled","useMWHasPollsVotingEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={root:{minWidth:"xktpd3l",$$css:!0}};function a(a){var b=a.attachmentCta,e=a.ctaIconType,f=a.messageId,g=a.popoverMenu,h=a.threadKey,k=a.title;a=a.type;var l=c("MessengerWebUXLogger").useInteractionLogger(),m=d("MWLSThread").useThread(h,function(a){return a.threadType}),n={ctaType:a,eventName:"open_xma_attachment_cta",threadKey:h,threadType:m};m=c("useGetMWXMACtaRegistryHandler")();var o=c("useMWHasPollsVotingEnabled")(h),p=c("useMWCMPollsV1Enabled")(h),q=c("useMWCMPollsV2Enabled")(h),r=d("MWLSThread").useThread(h,function(a){return c("mwCMIsAnyCMThread")(a.threadType)}),s=d("MWLSThread").useThread(h,function(a){return d("LSMessagingThreadTypeUtil").isUnjoinedDiscoverablePublicBroadcastChannel(a.threadType)||d("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(a.threadType)});if(!o&&(a==="xma_poll_details_button"||a==="xma_poll_details_card"))return null;return((o=r)!=null?o:!1)&&!p&&!q&&a==="xma_poll_details_button"?null:i.jsx(c("MWXMAAttachmentItemCtaButtonBase.react"),{attachmentCta:b,ctaIconType:e,getCtaRegistryHandler:m,messageId:f,renderButtonActionNonEventButton:function(a,b,e,f,g){return i.jsx(c("MWXTooltip.react"),{tooltip:a,children:i.jsx(c("MDSButton.react"),{disabled:s,icon:b,isContainerTarget:!0,label:a,onPress:function(){l==null?void 0:l(n);d("logXMACtaClicked").logXMACtaClicked({cta:e,loggingDetails:f,source:2});return g()},type:"secondary"})})},renderDeeplinkActionButton:function(a,b,e,f,g){return i.jsx(c("MWXTooltip.react"),{tooltip:a,children:i.jsx(c("MWXMAAttachmentActionTriggerWithOpenChatTab.react"),{threadKey:b,children:function(b){return i.jsx(c("MDSButton.react"),{label:a,linkProps:{preventLocalNavigation:!0,url:g},onPress:function(a){b(a);l==null?void 0:l(n);return d("logXMACtaClicked").logXMACtaClicked({cta:e,loggingDetails:f,source:2})},type:"secondary"})}})})},renderDisabledButtonActionButton:function(a){return i.jsx(c("MWXTooltip.react"),{tooltip:a,children:i.jsx(c("MDSButton.react"),{disabled:!0,label:a,type:"secondary"})})},renderPopoverMenuButtonActionButton:g?function(a,b,e){return i.jsx(c("MWXEntryPointPopoverTrigger.react"),{align:"stretch",entryPointParams:{primaryInfo:e},fallback:i.jsx(c("MWXPopoverLoadingState.react"),{withArrow:!1,xstyle:j.root}),otherProps:{cta:b},popoverEntryPoint:g,popoverType:"menu",position:"below",preloadTrigger:"button",children:function(e,f){return i.jsx(c("MWXTooltip.react"),{tooltip:a,children:i.jsx(c("MDSButton.react"),{label:a,onPress:function(){l==null?void 0:l(n);d("logXMACtaClicked").logXMACtaClicked({cta:b,loggingDetails:void 0,source:2});return f()},ref:e,type:"secondary"})})}})}:void 0,renderUrlActionButton:function(a,b,e,f,g){return i.jsx(c("MWXTooltip.react"),{tooltip:a,children:i.jsx(c("MDSButton.react"),{disabled:s,icon:b,label:k,linkProps:{target:"_blank",url:g},onPress:function(){l==null?void 0:l(n),d("logXMACtaClicked").logXMACtaClicked({cta:e,loggingDetails:f,source:2})},type:"secondary"})})},threadKey:h,title:k,type:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPXMAIconParser",["ConstUriUtils","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){switch(a){case"clear":case"staticWhite":case"white":case"white70":case"black":case"black50":case"black34":case"black20":case"black12":case"black6":case"black4":case"bluegrey75":case"bluegrey50":case"placeholder-icon":case"blue":case"purple":case"gray":case"background":case"scarlet":case"steel":case"coregreen":case"coral":case"sky":case"coreblue":case"emerald":return"gray";case"red":return"cherry";case"green":return"lime";case"honey":return"lemon";default:c("recoverableViolation")("Unknown Icon color: "+a,"messenger_web_sharing");return"gray"}}function a(a){if(a==null)return;if(a.startsWith("https")||a.startsWith("blob"))return a;if(!a.startsWith("ls"))return;a=a.replace("ls","http");a=d("ConstUriUtils").getUri(a);if(a==null)return;var b=a.getQueryParam("icon");a=a.getQueryParam("circleColor");if(typeof b==="string"&&typeof a==="string"){a=h(a);return{color:a,icon:b}}return}g.parse=a}),98);
__d("MWXMAIconParser.react",["ix","MWPXMAIconParser","fbicon","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){switch(a){case"airplane":return d("fbicon")._(h("571771"),20);case"calendar":return d("fbicon")._(h("481118"),20);case"calendar-add":return d("fbicon")._(h("640913"),20);case"camcorder":return d("fbicon")._(h("493174"),20);case"camcorder-incoming":return d("fbicon")._(h("1096148"),20);case"camcorder-missed":return d("fbicon")._(h("662989"),20);case"camcorder-outgoing":return d("fbicon")._(h("1096150"),20);case"camcorder-plus":return d("fbicon")._(h("662993"),20);case"checkmark-circle":return d("fbicon")._(h("498146"),20);case"cross-circle":return d("fbicon")._(h("1501526"),20);case"currency-peso":return d("fbicon")._(h("1174630"),20);case"currency-pound":return d("fbicon")._(h("1174587"),20);case"currency-taka":return d("fbicon")._(h("182108"),20);case"currency-thai-baht":return d("fbicon")._(h("876716"),20);case"currency-usd":return d("fbicon")._(h("847056"),20);case"document-complete":return d("fbicon")._(h("728245"),20);case"friend-generic":return d("fbicon")._(h("502671"),20);case"friend-generic-checkmark":return d("fbicon")._(h("538342"),20);case"group":return d("fbicon")._(h("485091"),20);case"group-block":return d("fbicon")._(h("714636"),20);case"location":return d("fbicon")._(h("795388"),20);case"pin":return d("fbicon")._(h("481942"),20);case"phone":return d("fbicon")._(h("558161"),20);case"phone-incoming":return d("fbicon")._(h("1096151"),20);case"phone-outgoing":return d("fbicon")._(h("1096154"),20);case"shield":return d("fbicon")._(h("492714"),20);case"phone-missed":return d("fbicon")._(h("847457"),20);case"question-circle":return d("fbicon")._(h("1604445"),20);case"tag":return d("fbicon")._(h("502473"),20);case"watch":return d("fbicon")._(h("607169"),20);case"map":return d("fbicon")._(h("645715"),20);case"house-keyhole":return d("fbicon")._(h("1670302"),20);case"document":return d("fbicon")._(h("728245"),20);case"checkmark":return d("fbicon")._(h("477814"),20);case"shopping-cart":return d("fbicon")._(h("763120"),20);case"cross":return d("fbicon")._(h("478233"),20);default:c("recoverableViolation")("Unknown XMA Icon: "+a,"messenger_web_sharing");return}}function a(a){a=d("MWPXMAIconParser").parse(a);if(a==null)return;if(typeof a==="string")return a;var b=a.color;a=a.icon;a=i(a);if(a!=null)return{color:b,icon:a}}g.parse=a}),98);
__d("MWXMAAttachmentItemIcon.react",["FDSImageCover.react","FDSSkittleIcon.react","MWXMAIconParser.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=a.attachment,e=a.attachmentItem,f=a.getFaviconUrlXMA,g=a.mediaRenderQpl,h=d("MWXMAIconParser.react").parse((a=f(b,e,"MWXMAAttachmentItemIconImpl",g))!=null?a:"");j(function(){return g==null?void 0:g.addPoint("render-xma-attachment-item-icon",{bool:{has_icon:h!=null}})},[h,g]);if(h==null)return null;return typeof h==="string"?i.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 x5yr21d xq8finb"},{children:i.jsx(c("FDSImageCover.react"),{alt:"Icon for this message",src:h,style:{borderRadius:"50%",height:"36px",width:"36px"}})})):i.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 x5yr21d xq8finb"},{children:i.jsx(c("FDSSkittleIcon.react"),{color:h.color,icon:h.icon,size:36})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemIconWithPlaceholder.react",["CometPlaceholder.react","MWV2AttachmentLoadingPlaceholder.react","MWXMAAttachmentItemIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect,k={loadingPlaceholder:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",$$css:!0}};function a(a){var b=a.attachment,d=a.attachmentItem,e=a.getFaviconUrlXMA,f=a.mediaRenderQpl;j(function(){return f==null?void 0:f.addPoint("render-xma-attachment-item-icon-with-placeholder")},[f]);return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"MWXMAAttachmentItemIconWithPlaceholder.Suspense",height:36,width:36,xstyle:k.loadingPlaceholder}),name:"MWXMAAttachmentItemIconWithPlaceholder.Suspense",children:i.jsx(c("MWXMAAttachmentItemIcon.react"),{attachment:b,attachmentItem:d,getFaviconUrlXMA:e,mediaRenderQpl:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemListItemsBase.react",["LSMediaUrlAttachment","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.attachment,c=a.renderDefaultListItem,e=a.renderPercentageListItem;a=[{contactUrlExpirationTimestampList:b.listItemContactUrlExpirationTimestampList1,contactUrlFallbackList:b.listItemContactUrlFallbackList1,contactUrlList:d("LSMediaUrlAttachment").listItemContactUrlList1(b),id:b.listItemId1,progressBarFilledPercentage:b.listItemProgressBarFilledPercentage1,titleText:b.listItemTitleText1,totalCount:b.listItemTotalCount1},{contactUrlExpirationTimestampList:b.listItemContactUrlExpirationTimestampList2,contactUrlFallbackList:b.listItemContactUrlFallbackList2,contactUrlList:d("LSMediaUrlAttachment").listItemContactUrlList2(b),id:b.listItemId2,progressBarFilledPercentage:b.listItemProgressBarFilledPercentage2,titleText:b.listItemTitleText2,totalCount:b.listItemTotalCount2},{contactUrlExpirationTimestampList:b.listItemContactUrlExpirationTimestampList3,contactUrlFallbackList:b.listItemContactUrlFallbackList3,contactUrlList:d("LSMediaUrlAttachment").listItemContactUrlList3(b),id:b.listItemId3,progressBarFilledPercentage:b.listItemProgressBarFilledPercentage3,titleText:b.listItemTitleText3,totalCount:b.listItemTotalCount3}];var f=[];a.forEach(function(a){var b=a.contactUrlExpirationTimestampList,c=a.contactUrlFallbackList,d=a.contactUrlList,e=a.id,g=a.progressBarFilledPercentage,h=a.titleText;a=a.totalCount;if(e!=null){d=d!=null?d.split(","):[];var i=b!=null?b.split(","):[],j=c!=null?c.split(","):[];f.push({contacts:d.map(function(a,b){return{url:a,urlExpirationTimestamp:i[b],urlFallback:j[b]}}),id:e,progressBarFilledPercentage:g,titleText:h,totalCount:a})}});return i.jsx(d("react-strict-dom").html.ul,{children:f.map(function(a){var b=a.progressBarFilledPercentage;return b!=null?e(a,b):c(a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemListItems.react",["I64","MWChatPollFacepile.react","MWLSThreadDisplayContext","MWXMAAttachmentItemListItemsBase.react","MWXText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a){var b=a.attachment,e=a.onPollOptionFacepilePress,f=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return j.jsx(c("MWXMAAttachmentItemListItemsBase.react"),{attachment:b,renderDefaultListItem:function(a){return j.createElement("li",babelHelpers["extends"]({className:"xwwskcc x1q0q8m5 xso031l x1l1xfun x13fuv20 x178xt8z x14vqqas xsag5q8 xz9dl7a"},{key:(i||(i=d("I64"))).to_string(a.id)}),j.jsxs("div",{children:[j.jsx(c("MWChatPollFacepile.react"),{contactWithBorder:!1,contacts:a.contacts.map(function(a){return{name:void 0,profile_picture_url:a.url}}),countOverride:a.totalCount!=null?(i||(i=d("I64"))).to_int32(a.totalCount):void 0,limit:9,overflowStyle:"overlayLastPhoto",size:"large"}),a.titleText!=null?j.jsx("div",babelHelpers["extends"]({className:"xsgj6o6 x1xmf6yo"},{children:j.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:2,type:"body4",children:a.titleText})})):null]}))},renderPercentageListItem:function(a,b){return j.createElement("li",babelHelpers["extends"]({className:"x14vqqas"},{key:(i||(i=d("I64"))).to_string(a.id)}),j.jsxs("div",babelHelpers["extends"]({className:"x78zum5 x1qughib"},{children:[a.titleText!=null?j.jsx(c("MWXText.react"),{numberOfLines:f==="Inbox"?3:1,type:"headline4",children:a.titleText}):null,j.jsx("div",babelHelpers["extends"]({className:"x1i64zmx"},{children:j.jsx(c("MWChatPollFacepile.react"),{contacts:a.contacts.map(function(a){return{name:void 0,profile_picture_url:a.url}}),countOverride:a.totalCount!=null?(i||(i=d("I64"))).to_int32(a.totalCount):void 0,direction:"reversed",gap:"negative",onPress:e!=null?function(){e(a.id)}:void 0,size:"small"})}))]})),j.jsx("div",babelHelpers["extends"]({className:"x1wpzbip x1lq5wgf xgqcy7u x30kzoy x9jhf4c xdk7pt xod5an3 x1xmf6yo"},{children:j.jsx("div",{className:"xsqyzxx x1lq5wgf xgqcy7u x30kzoy x9jhf4c xdk7pt",style:{width:i.to_string(b)+"%"}})})))}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MNXMASubtitleDecorationType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,THREADS_ICON:1,FACEBOOK_ICON:2,EXTERNAL_LINK_ICON:3,MESSENGER_ICON:4,INSTAGRAM_ICON:5,OCULUS_ICON:6});f["default"]=a}),66);
__d("MWXIconChevronLeft",["MWXSvgIcon","SVGIcon","cr:12366","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12366")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconChevronRight",["MWXSvgIcon","SVGIcon","cr:12368","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12368")),c("gkx")("23219"));g["default"]=a}),98);
__d("MessageMarkdownCodeblockLanguages",[],(function(a,b,c,d,e,f){a=Object.freeze({ASP:"asp",ASPX:"aspx",BASH:"bash",C:"c",CLJ:"clj",CLJC:"cljc",CLJX:"cljx",CLOJURE:"clojure",COFFEESCRIPT:"coffeescript",CPLUSPLUS:"cplusplus",CPP:"cpp",CPP2:"c++",CQL:"cql",CS:"cs",CSHARP:"csharp",CSS:"css",CURL:"curl",D:"d",DART:"dart",DIFF:"diff",DOCKERFILE:"dockerfile",ECMASCRIPT:"ecmascript",ERL:"erl",ERLANG:"erlang",GO:"go",GQL:"gql",GRADLE:"gradle",GRAPHQL:"graphql",GROOVY:"groovy",HANDLEBARS:"handlebars",HBS:"hbs",HTML:"html",HTTP:"http",JAVA:"java",JAVASCRIPT:"javascript",JL:"jl",JRUBY:"jruby",JS:"js",JSON:"json",JSX:"jsx",JULIA:"julia",KOTLIN:"kotlin",KT:"kt",LESS:"less",LIQUID:"liquid",LUA:"lua",MACRUBY:"macruby",MARKDOWN:"markdown",ML:"ml",MSSQL:"mssql",MYSQL:"mysql",NODE:"node",OBJC:"objc",OBJCPP:"objcpp",OBJCPP2:"objc++",OBJECTIVEC:"objectivec",OBJECTIVECPLUSPLUS:"objectivecplusplus",OBJECTIVECPP:"objectivecpp",OCAML:"ocaml",PERL:"perl",PGSQL:"pgsql",PHP:"php",PL:"pl",PLSQL:"plsql",POSTGRES:"postgres",POSTGRESQL:"postgresql",POWERSHELL:"powershell",PS1:"ps1",PY:"py",PYTHON:"python",R:"r",RAKE:"rake",RB:"rb",RBX:"rbx",RS:"rs",RUBY:"ruby",RUST:"rust",SASS:"sass",SCALA:"scala",SCSS:"scss",SH:"sh",SHELL:"shell",SOL:"sol",SOLIDITY:"solidity",SQL:"sql",SQLITE:"sqlite",STYL:"styl",STYLUS:"stylus",SWIFT:"swift",TS:"ts",TYPESCRIPT:"typescript",XHTML:"xhtml",XML:"xml",YAML:"yaml",YML:"yml",ZSH:"zsh"});f["default"]=a}),66);
__d("MessengerFormattingConfig",[],(function(a,b,c,d,e,f){a=Object.freeze({boldConfig:{pattern:"([\\s_~'\"(]|^)\\*(\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s_~'\"(]|^)\\*(?:\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)"},italicConfig:{pattern:"([\\s*~'\"(]|^)_(\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*~'\"(]|^)_(?:\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)"},strikethroughConfig:{pattern:"([\\s*_'\"(]|^)~(\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_'\"(]|^)~(?:\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)"},codeConfig:{pattern:"([\\s*_~'\"(]|^)`([^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_~'\"(]|^)`(?:[^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)"},codeBlockConfig:{pattern:"(```)([\\s\\S]+?)```",nonCapturingPattern:"(```)([\\s\\S]+?)```"},codeBlockV2Config:{pattern:"(`{3,})(?:(?:((.*?)(?:\\r\\n?|\\n|\\u2028))([\\s\\S]*?))|(.+?))\\1\\s*?(?:\\r\\n?|\\n|\\u2028|$)",nonCapturingPattern:"(`{3,})([\\s\\S]+?)\\1\\s*((\\r\\n)|\\r|\\n|\\u2028|$)"},blockQuoteConfig:{pattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*?((\\r\\n)|\\r|\\n|$)",nonCapturingPattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*((\\r\\n)|\\r|\\n|$)"},multipleInlineBlockQuoteConfig:{pattern:"((^> )(.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*",nonCapturingPattern:"(^> (.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*"},singleInlineBlockQuoteConfig:{pattern:"(^> ?)(.*?$)",nonCapturingPattern:"^> ?(.*?$)"},linkConfig:{pattern:"\\[([^\\[\\]]+)\\]\\(((?:https?|ftp):\\/\\/(-\\.)?(?:[^\\s\\/?\\.#-]+\\.?)+(?:\\/[^\\s]*)?)\\)",nonCapturingPattern:"\\[([^\\[\\]]+)\\]\\(((?:https?|ftp):\\/\\/(-\\.)?(?:[^\\s\\/?\\.#-]+\\.?)+(?:\\/[^\\s]*)?)\\)"},bulletedList:{pattern:"(^[-*+])\\s+(.*)",nonCapturingPattern:"(^[-*+])\\s+(.*)"},numberedList:{pattern:"(^(\\d)+\\.)\\s+(.*)",nonCapturingPattern:"(^\\d+\\.)\\s+(.*)"}});f["default"]=a}),66);
__d("MWChatTextFormattingUtils",["$InternalEnum","MessageMarkdownCodeblockLanguages","MessengerFormattingConfig","UnicodeUtils","gkx","justknobx","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("$InternalEnum").Mirrored(["CodeBlock","InlineCode","BlockQuote","InlineQuote","Bold","Italics","StrikeThrough","Link","BulletedList","NumberedList"]),j=new Set(Object.values(c("MessageMarkdownCodeblockLanguages"))),k=[i.CodeBlock,i.BlockQuote,i.InlineQuote,i.InlineCode,i.Bold,i.Italics,i.StrikeThrough],l=[i.Link,i.BulletedList,i.NumberedList];function m(a){var b,d=function(a){return a[2]},e=function(a){return new Map()},f=1,g=!0,h=function(a){return!0};switch(a){case i.Bold:b=c("MessengerFormattingConfig").boldConfig.pattern;break;case i.Italics:b=c("MessengerFormattingConfig").italicConfig.pattern;break;case i.StrikeThrough:b=c("MessengerFormattingConfig").strikethroughConfig.pattern;break;case i.InlineCode:b=c("MessengerFormattingConfig").codeConfig.pattern;break;case i.BlockQuote:b=c("MessengerFormattingConfig").blockQuoteConfig.pattern;g=!1;break;case i.InlineQuote:h=function(a){return a.trim()!==">"};b=c("MessengerFormattingConfig").singleInlineBlockQuoteConfig.pattern;g=!1;break;case i.CodeBlock:d=function(a){var b,c;b=((b=a[3])!=null?b:"").trim().toLowerCase();c=(c=a[4])!=null?c:a[5];a=(a=a[2])!=null?a:"";return b===""||j.has(b)?c:a+c};b=c("MessengerFormattingConfig").codeBlockV2Config.pattern;g=!1;break;case i.Link:d=function(a){return a[1]};e=function(a){return new Map([["link",a[2]]])};b=c("MessengerFormattingConfig").linkConfig.pattern;g=!1;break;case i.BulletedList:b=c("MessengerFormattingConfig").bulletedList.pattern;g=!1;break;case i.NumberedList:b=c("MessengerFormattingConfig").numberedList.pattern;g=!1;d=function(a){return a[3]};e=function(a){return new Map([["index",a[2]]])};break}if(b==null)throw c("unrecoverableViolation")("No formatting config found for given format","messenger_comet");return{getCleanText:d,getExtraData:e,hasClosingTag:g,regExp:new RegExp(b,"gm"),tagIndex:f,validator:h}}function a(a,b){b===void 0&&(b=!1);var e=[];if(b){b=c("gkx")("3883");b=b?[i.Link]:l;b=[].concat(k,b)}else b=k;b.forEach(function(b){var f=m(b),g=f.getCleanText,i=f.getExtraData,j=f.hasClosingTag,k=f.regExp,l=f.tagIndex;f=f.validator;var n;if(!f(a))return;f=function(){if(n==null)return"break";var f=(h||(h=d("UnicodeUtils"))).substr(a,0,n.index);f=f.length-h.strlen(f);var k=n.index-f,m=h.strlen(n[0]);j&&(k+=n[l].length,m-=n[l].length);f=function(a){var b=k+m,c=a.offset+a.length;return b>a.offset&&k<c};var o=g(n),p=i(n);if(!e.find(f)){if(e.length>0){f=e[e.length-1];if(f.entity.format===b&&f.offset+f.length+1===k){f.entity.text+="\n"+o;f.length+=m+1;return"continue"}}f=c("justknobx")._("3420");f=f&&((f=(f=p.get("link"))==null?void 0:f.includes("from_ads_ai=1"))!=null?f:!1);e.push({entity:{__typename:f?"AdsAILinkFormatting":"MessengerTextFormatting",extraData:p,format:b,text:o},length:m,offset:k})}};_loop:while((n=k.exec(a))!=null){var o=f();switch(o){case"break":break _loop;case"continue":continue}}});return e}g.MessengerTextFormattingEntity=i;g.getFormattingRanges=a}),98);
__d("MessageProfileRangeTypeUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="p")return"p";else if(a==="thread"||a==="t")return"t";else if(a==="thread_active"||a==="a")return"a";else if(a==="s")return"s";else if(a==="ai")return"ai";else if(a==="c")return"cc";else if(a==="cu")return"cu";else return"n"}f.ofString=a}),66);
__d("MWV2ChatTextParserUtils",["CurrentEnvironment","EmojiRenderer","EmoticonRenderer","I64","LSContactTypeExact","LSIntEnum","MWChatTextFormattingUtils","MWLSContactTypeExactUtils","MessageProfileRangeTypeUtils","ReQL","ReQLSuspense","UnicodeUtils","XCometVanityURLControllerRouteBuilder","getURLRanges","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=new RegExp("/^[ \\r\\n\\s]*$/");function a(a){var b=d("EmojiRenderer").parse(a).map(function(a){return{length:a.length,offset:a.offset}}),c=d("EmoticonRenderer").parse(a).map(function(a){return{length:a.chars.length,offset:a.offset}});b=b.concat(c).sort(function(a,b){return a.offset-b.offset|0});if(b.length===0)return!1;var e={contents:0},f={contents:0};c=b.some(function(b){e.contents===b.offset?(e.contents=e.contents+b.length|0,f.contents=e.contents):f.contents=b.offset;var c=a.substring(e.contents,f.contents);e.contents=b.offset+b.length|0;return k.test(c)===!1});b=e.contents!==a.length&&!k.test(a.substring(f.contents));if(c)return!1;else return!b}function b(a,b){b===void 0&&(b=!1);var e=c("getURLRanges")(a),f=[];a=d("MWChatTextFormattingUtils").getFormattingRanges(a,b);e.forEach(function(a){var b=a.entity.url;b=b.startsWith("https://m.me/j/")||c("CurrentEnvironment").facebookdotcom&&b.startsWith("https://www.messenger.com/channel/");b={entity:{__typename:b?"MessengerLink":"Link",target:"blank",uri:a.entity.url},length:a.length,offset:a.offset};f.push(b)});return f.concat(a)}function l(a,b){b===void 0&&(b=!1);if(c("gkx")("23433"))return(b?"/e2ee/t/":"/t/")+a;else return(b?"/messages/e2ee/t/":"/messages/t/")+a}function m(a,b){try{a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange((h||(h=d("I64"))).of_string(b)),f.id+":127")}catch(b){a=void 0}if(a==null)return l(b);var e=a.contactTypeExact;if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").FB_USER)))return"https://www.facebook.com"+c("XCometVanityURLControllerRouteBuilder").buildURL({vanity:b});if(!d("MWLSContactTypeExactUtils").isIgContact(e))return l(b);e=a.secondaryName;if(e!=null)return"https://www.instagram.com/"+e+"/";else return l(b)}function e(a,b,c,e,f,g,i,k){b=b.split(",");var n=c.split(","),o=e.split(","),p=f.split(",");return b.reduce(function(b,c,e){var f=d("MessageProfileRangeTypeUtils").ofString(p[e]);if(n[e]==null||o[e]==null)return b;var q=Number(n[e]);e=Number(o[e]);var r=(j||(j=d("UnicodeUtils"))).strlen(g.slice(0,e));r=e-r;e=e-r;if(f==="t"||f==="a"){r=k&&i!=null?(h||(h=d("I64"))).to_string(i):c;b.push({entity:{__typename:k?"Thread":"Profile",id:c,uri:l(r,k)},length:q,offset:e})}else f==="p"?b.push({entity:{__typename:"Profile",id:c,uri:m(a,c)},length:q,offset:e}):f==="cc"?b.push({entity:{__typename:"CommunityChannel",threadKey:(h||(h=d("I64"))).of_string(c)},length:q,offset:e}):f==="s"||f==="cu"?b.push({entity:{__typename:"Command"},length:q,offset:e}):f==="ai"&&b.push({entity:{__typename:"Ai"},length:q,offset:e});return b},[])}g.isEmojiOnlyMessage=a;g.findRanges=b;g.findRangesForMentions=e}),98);
__d("MWXMessageTextWithEntities.react",["cr:5671","cr:5867","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){if(b("cr:5671")!=null)return i.jsx(b("cr:5671"),babelHelpers["extends"]({},a));if(b("cr:5867")!=null){var c=a.seeLessLinkProps,d=a.seeMoreLinkProps;a=babelHelpers.objectWithoutPropertiesLoose(a,["seeLessLinkProps","seeMoreLinkProps"]);c=(c=c)!=null?c:{};var e=c.color_DEPRECATED;c=babelHelpers.objectWithoutPropertiesLoose(c,["color_DEPRECATED"]);d=(d=d)!=null?d:{};var f=d.color_DEPRECATED;d=babelHelpers.objectWithoutPropertiesLoose(d,["color_DEPRECATED"]);return i.jsx(b("cr:5867"),babelHelpers["extends"]({seeLessLinkProps:babelHelpers["extends"]({color_DEPRECATED:e==="primary"?"primary":void 0},c),seeMoreLinkProps:babelHelpers["extends"]({color_DEPRECATED:f==="primary"?"primary":void 0},d)},a))}return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatStrikethroughText.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react");function a(a){a=a.children;return i.jsx("s",{children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMessageBlockQuote.react",["react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={forwarded:{height:"x5yr21d",marginTop:"x1gslohp",marginEnd:"x11i5rnm",marginBottom:"x12nagc",marginStart:"x1mh8g0r",paddingStart:"x1ye3gou",position:"x1n2onr6",whiteSpace:"x126k92a",wordWrap:"x1vvkbs",$$css:!0},fullLine:{bottom:"x19ip775",top:"xnfr1j",$$css:!0},line:{borderTopStartRadius:"x13zp6kq",borderTopEndRadius:"x1mcfq15",borderBottomEndRadius:"xrosliz",borderBottomStartRadius:"x1wb7cse",bottom:"xbfrwjf",start:"x17qophe",left:null,right:null,position:"x10l6tqk",top:"xndqk7f",width:"xfo62xy",$$css:!0},lineIncomingColor:{backgroundColor:"xtyxhl7",$$css:!0},lineOutgoingColor:{backgroundColor:"xppy7ju",$$css:!0}};function a(a){var b=a.children,c=a.fullLine;c=c===void 0?!1:c;var e=a.outgoing;e=e===void 0?!0:e;a=a.xstyle;return i.jsxs(d("react-strict-dom").html.blockquote,{style:[j.forwarded,a],children:[i.jsx(d("react-strict-dom").html.div,{style:[j.line,c?j.fullLine:void 0,e?j.lineOutgoingColor:j.lineIncomingColor]}),b]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatTextFormatting",["MWChatStrikethroughText.react","MWChatTextFormattingUtils","MWXLink.react","MWXMessageBlockQuote.react","MWXText.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={codeBlock:{backgroundColor:"xmjcpbm",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",whiteSpace:"x126k92a",$$css:!0},codeInline:{$$css:!0}};function k(a,b){switch(b.format){case d("MWChatTextFormattingUtils").MessengerTextFormattingEntity.Bold:return i.jsx(d("react-strict-dom").html.b,{children:b.text});case d("MWChatTextFormattingUtils").MessengerTextFormattingEntity.Italics:return i.jsx(d("react-strict-dom").html.i,{children:b.text});case d("MWChatTextFormattingUtils").MessengerTextFormattingEntity.StrikeThrough:return i.jsx(c("MWChatStrikethroughText.react"),{children:b.text});case d("MWChatTextFormattingUtils").MessengerTextFormattingEntity.CodeBlock:return i.jsx(d("react-strict-dom").html.div,{style:j.codeBlock,children:i.jsx(c("MWXText.react"),{type:"body4",children:i.jsx(d("react-strict-dom").html.code,{children:b.text})})});case d("MWChatTextFormattingUtils").MessengerTextFormattingEntity.InlineCode:return i.jsx(d("react-strict-dom").html.code,{style:j.codeInline,children:b.text});case d("MWChatTextFormattingUtils").MessengerTextFormattingEntity.BlockQuote:case d("MWChatTextFormattingUtils").MessengerTextFormattingEntity.InlineQuote:return i.jsx(c("MWXMessageBlockQuote.react"),{outgoing:!0,children:b.text});case d("MWChatTextFormattingUtils").MessengerTextFormattingEntity.Link:return i.jsx(c("MWXLink.react"),{href:b.extraData.get("link"),rel:"external",target:"_blank",children:i.jsx("u",{children:b.text})});case d("MWChatTextFormattingUtils").MessengerTextFormattingEntity.BulletedList:return i.jsx("ul",babelHelpers["extends"]({className:"x1rg5ohu xtaz4m5 xdj266r x11i5rnm xat24cr x1mh8g0r xnc8h47"},{children:b.text.split("\n").map(function(a,b){return i.jsx("li",{children:a},b)})}));case d("MWChatTextFormattingUtils").MessengerTextFormattingEntity.NumberedList:return i.jsx("ol",babelHelpers["extends"]({className:"x1rg5ohu x3yw8vx xdj266r x11i5rnm xat24cr x1mh8g0r xnc8h47"},{start:b.extraData.get("index"),children:b.text.split("\n").map(function(a,b){return i.jsx("li",{children:a},b)})}))}}k.displayName=k.name+" [from "+f.id+"]";function a(a,b){switch(b.format){case d("MWChatTextFormattingUtils").MessengerTextFormattingEntity.BlockQuote:case d("MWChatTextFormattingUtils").MessengerTextFormattingEntity.InlineQuote:return i.jsx(c("MWXMessageBlockQuote.react"),{outgoing:!1,children:b.text});default:return k(a,b)}}a.displayName=a.name+" [from "+f.id+"]";g.messageRenderer=k;g.messageIncomingRenderer=a}),98);
__d("MWMessageTableFocusTable.react",["fbt","CometKeys","FocusTable.react","emptyFunction","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i;i||d("react");var j="messages_table";a=function(a,b,c){return c.getAttribute("data-scope")===j};b=d("FocusTable.react").createFocusTable(a);e={key:c("CometKeys").UP};f={key:c("CometKeys").DOWN};d={key:c("CometKeys").LEFT};var k={key:c("CometKeys").RIGHT};e=[{command:e,description:h._(/*BTDS*/"__JHASH__HYvhkJNYo2M__JHASH__"),handler:c("emptyFunction")},{command:f,description:h._(/*BTDS*/"__JHASH__6tFY25IlnV4__JHASH__"),handler:c("emptyFunction")},{command:d,description:h._(/*BTDS*/"__JHASH__6tFY25IlnV4__JHASH__"),handler:c("emptyFunction")},{command:k,description:h._(/*BTDS*/"__JHASH__HYvhkJNYo2M__JHASH__"),handler:c("emptyFunction")}];g.scopeID=j;g.scopeQuery=a;g.FocusTable=b;g.commandConfigs=e}),226);
__d("MWMessageCellFocusTable.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","FocusTable.react","MWMessageTableFocusTable.react","focusScopeQueries","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");b=d("FocusTable.react").createFocusTable(d("focusScopeQueries").tabbableScopeQuery);var k={key:c("CometKeys").ESCAPE},l={key:c("CometKeys").ENTER},m={key:c("CometKeys").SPACE},n=h._(/*BTDS*/"__JHASH__dr5LK8JTLfs__JHASH__"),o=h._(/*BTDS*/"__JHASH__NgBmedKphX2__JHASH__");function a(a){var b=a.children,e=a.onEnter,f=a.onEscape;a=a.onSpace;var g=[];f!=null&&g.push({command:k,description:n,handler:f});e!=null&&g.push({command:l,description:o,handler:e});a!=null&&g.push({command:m,description:o,handler:a});return j.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:d("MWMessageTableFocusTable.react").commandConfigs.concat(g),xstyle:!1,children:b})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.FocusTable=b;g.keyCommands=e}),226);
__d("useMWPCombineTextRenderers",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b={};a.forEach(function(a){if(a==null)return;var c=a[0];a=a[1];var d=b[c];b[c]=d!=null?d.concat([a]):[a]});return b}f["default"]=a}),66);
__d("getMAWLinkEntityRenderer.react",["E2EEMessagingLinkContext.react","MWMessageCellFocusTable.react","MWXLink.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.encryptedLink,e=a.target,f=a.testid,g=a.xstyle;return function(a,f){return i.jsx(d("MWMessageCellFocusTable.react").FocusTable[2],{children:i.jsx("span",{role:"gridcell",children:i.jsx(d("E2EEMessagingLinkContext.react").E2EEMessagingLinkProvider,{isSecure:b,children:i.jsx(c("MWXLink.react"),{encryptedLink:b,href:f.uri,target:e,testid:void 0,xstyle_DEPRECATED:g,children:a})})})})}}g["default"]=a}),98);
__d("useMWPLinkRendererFactory",["MWPThreadCapabilitiesContext","getMAWLinkEntityRenderer.react","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),e=b.disableLinks;return function(b,d,f,g){return c("gkx")("24165")&&e?void 0:[f,c("getMAWLinkEntityRenderer.react")({encryptedLink:a,target:g,testid:d,xstyle:b})]}}g["default"]=a}),98);
__d("useMWTextRenderers",["AdsMessengerContext.react","CometErrorBoundary.react","GroupsCometJoinChatDialog.entrypoint","I64","MWCMThreadTypes.react","MWChatTextFormatting","MWInboxCommunityThreadsRouteBuilder","MWLSThread","MWMessageCellFocusTable.react","MWNavigationContext","MWXLink.react","goUriOnNewWindow","react","useCommunityFolder","useMWCMShouldGoToFullScreenChatHook","useMWNavigation","useMWPCombineTextRenderers","useMWPLinkRendererFactory","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;var k=b.useCallback,l=b.useMemo,m={bold:{fontWeight:"x1s688f",$$css:!0},colorForLink:{color:"x1heor9g",$$css:!0},highlight:{backgroundColor:"xacajkf",borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",paddingTop:"x1nn3v0j",paddingEnd:"x4uap5",paddingBottom:"x1120s5i",paddingStart:"xkhd6sd",$$css:!0},underline:{color:"x1heor9g",textDecoration:"x1bvjpef",textDecorationLine:"xujl8zx",$$css:!0}};function n(a){var b=a.folder,e=a.node,f=a.thread;a=c("useMWNavigation")();var g=a.openTabOrInbox;a=(a=f.hasPendingInvitation)!=null?a:!1;var h=c("useMWCMShouldGoToFullScreenChatHook")(),k={invited:a,shouldGoToMessenger:h,surface:"unknown"};a={groupID:(i||(i=d("I64"))).to_string(b.fbGroupId),threadID:i.to_string(f.threadKey)};h=c("useMWXEntryPointDialog")(c("GroupsCometJoinChatDialog.entrypoint"),a);var l=h[0],m=function(){return l(k)};return j.jsx(d("MWMessageCellFocusTable.react").FocusTable[2],{children:j.jsx("span",babelHelpers["extends"]({className:"x1s688f"},{role:"gridcell",children:j.jsx(c("MWXLink.react"),{onClick:function(){if(d("MWCMThreadTypes.react").isUnjoinedCMThread(f.threadType))return m();else return g({clientThreadKey:f.clientThreadKey,threadKey:f.threadKey,threadType:f.threadType},"mention")},children:e})}))})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.folder,c=a.thread,e=(i||(i=d("I64"))).to_string(b.folderId),f=i.to_string(c.threadKey);b=k(function(){return d("MWInboxCommunityThreadsRouteBuilder").buildURL({folder_id:e,thread_key:f})},[e,f]);return j.jsx(d("MWNavigationContext").Provider,{children:a.children,value:b})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.communityLinkFallback,e=a.node;a=a.threadKey;a=d("MWLSThread").useThreadExn(a);var f=c("useCommunityFolder")(a);return f!=null?j.jsx(o,{folder:f,thread:a,children:j.jsx(n,{folder:f,node:e,thread:a})}):b}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b;a=a.entity;var e=d("AdsMessengerContext.react").useAdsMessengerContext();e=e.maybeGetCallbackFromURI;var f=(b=a.extraData.get("link"))!=null?b:"",g=e==null?void 0:e(f);return j.jsx(d("MWMessageCellFocusTable.react").FocusTable[2],{children:j.jsx("span",babelHelpers["extends"]({className:"x1s688f"},{role:"gridcell",children:j.jsx(c("MWXLink.react"),{onClick:function(){g!=null?g():c("goUriOnNewWindow")(f)},children:j.jsx("u",{children:a.text})})}))})}q.displayName=q.name+" [from "+f.id+"]";var r=["Command",function(a){return j.jsx(d("MWMessageCellFocusTable.react").FocusTable[2],{children:j.jsx("span",babelHelpers["extends"]({className:"x1s688f"},{role:"gridcell",children:a}))})}],s=["Ai",function(a){return j.jsx(d("MWMessageCellFocusTable.react").FocusTable[2],{children:j.jsx("span",babelHelpers["extends"]({className:"x1s688f"},{role:"gridcell",children:a}))})}],t=[function(a,b){return j.jsx(q,{entity:b})}],u=["CommunityChannel",function(a,b){var e=j.jsx(d("MWMessageCellFocusTable.react").FocusTable[2],{children:j.jsx("span",babelHelpers["extends"]({className:"x1s688f"},{role:"gridcell",children:a}))});return j.jsx(c("CometErrorBoundary.react"),{fallback:function(){return e},children:j.jsx(p,{communityLinkFallback:e,node:a,threadKey:b.threadKey})})}];function a(a,b,e){var f=c("useMWPLinkRendererFactory")(b),g=c("useMWPLinkRendererFactory")(!1),h=c("useMWPCombineTextRenderers")(l(function(){return[f([m.underline],"chat_message_regular_link","Link",e),f([m.underline],"chat_message_messenger_link","MessengerLink","_self"),f([m.bold,m.colorForLink],"profile_link","Profile",e),g([m.bold,m.colorForLink],"thread_link","Thread",e),f([m.highlight],"highlight","Highlight",e),r,s,u]},[f,e]));return l(function(){return babelHelpers["extends"]({},h,{AdsAILinkFormatting:t,MessengerTextFormatting:[a?d("MWChatTextFormatting").messageRenderer:d("MWChatTextFormatting").messageIncomingRenderer]})},[h,a])}g["default"]=a}),98);
__d("MWXMAAttachmentItemBodyText.react",["MWV2ChatTextParserUtils","MWXMessageTextWithEntities.react","MWXText.react","justknobx","react","useMWTextRenderers"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("justknobx")._("2986");function a(a){var b=a.bodyText;a=a.outgoing;a=c("useMWTextRenderers")(a,!1);var e=d("MWV2ChatTextParserUtils").findRanges(b,j);return i.jsx(c("MWXText.react"),{color:"primary",type:"meta3",children:i.jsx(c("MWXMessageTextWithEntities.react"),{ranges:e,renderers:a,text:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentSubtitleDecoration.react",["ix","Int64Hooks","LSIntEnum","MNXMASubtitleDecorationType","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function a(a){var b=a.subtitleDecorationType;return d("Int64Hooks").useMemoInt64(function(){switch((j||(j=d("LSIntEnum"))).toNumber(b)){case c("MNXMASubtitleDecorationType").THREADS_ICON:return k.jsx(c("MWXIcon.react"),{color:"secondary",icon:d("fbicon")._(h("380222"),16)});default:return null}},[b])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSVerifiedType",[],(function(a,b,c,d,e,f){a=Object.freeze({NOT_VERIFIED:0,DEFAULT:1,VERIFIED_FOOTER:2,VERIFIED_HEADER_TITLE_ONLY:3,VERIFIED_CONTENT_TITLE_ONLY:4});f["default"]=a}),66);
__d("MWXIconBadgeCheckmark",["MWXSvgIcon","SVGIcon","cr:12309","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12309")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXMALiveAttachmentItemMainText.react",["I64","LSIntEnum","LSVerifiedType","MWXIconBadgeCheckmark","MWXIconStrict.react","MWXTextPairing.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var b=a.attachment,e=a.bodyLineLimit,f=a.facePileElement,g=a.headlineLineLimit;a=a.title;var h=b.verifiedType!=null?(i||(i=d("I64"))).equal(b.verifiedType,(j||(j=d("LSIntEnum"))).ofNumber(c("LSVerifiedType").DEFAULT)):!1;a=k.jsxs("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xl56j7k"},{children:[a,h&&k.jsx("div",babelHelpers["extends"]({className:"xsgj6o6"},{children:k.jsx(c("MWXIconStrict.react"),{color:"mds-accent",icon:c("MWXIconBadgeCheckmark"),size:12})}))]}));return k.jsxs("div",babelHelpers["extends"]({className:"x193iq5w x126k92a xh8yej3"},{children:[k.jsx(c("MWXTextPairing.react"),{body:b.captionBodyText,bodyColor:"secondary",bodyLineLimit:e,headline:a,headlineLineLimit:g,level:4,testid:void 0,textAlign:"center"}),f]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemMainText.react",["fbt","I64","LSIntEnum","Locale","MNLSXMALayoutType","MNXMASubtitleDecorationType","MWXIconChevronLeft","MWXIconChevronRight","MWXIconStrict.react","MWXMAAttachmentItemBodyText.react","MWXMAAttachmentSubtitleDecoration.react","MWXMALiveAttachmentItemMainText.react","MWXText.react","MWXTextPairing.react","react","stylex","xmaAttachmentUtils","xmaLayouts"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||d("react"),n={hscroll:{paddingEnd:"xsyo7zv",paddingStart:"x16hj40l",$$css:!0},root:{maxWidth:"x193iq5w",whiteSpace:"x126k92a",width:"xh8yej3",$$css:!0},withIcon:{paddingBottom:"xg8j3zb",paddingTop:"xyqdw3p",$$css:!0}};function a(a){var b,e=a.attachment,f=a.bodyLineLimit,g=a.bodyText,j=a.facePileElement,o=a.hasIcon,p=a.headlineLineLimit,q=a.isHscroll;a.isStandalone;var r=a.outgoing;r=r===void 0?!1:r;var s=a.subtitleText,t=a.title;a=a.xmaLayout;b=(k||(k=d("I64"))).equal((b=e.xmaLayoutType)!=null?b:(k||(k=d("I64"))).zero,(l||(l=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").THREAD_SHORTCUT));if(d("xmaAttachmentUtils").isLiveXMA(e)){var u;return m.jsx(c("MWXMALiveAttachmentItemMainText.react"),{attachment:e,bodyLineLimit:f,facePileElement:j,headlineLineLimit:p,title:(u=t)!=null?u:""})}u=h._(/*BTDS*/"__JHASH__SFJQf-uN6yj__JHASH__");var v=h._(/*BTDS*/"__JHASH__-LANapr3SYq__JHASH__"),w=d("Locale").isRTL()?c("MWXIconChevronLeft"):c("MWXIconChevronRight");w=t!==""?b?m.jsxs("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 x1qughib"},{children:[m.jsx(c("MWXText.react"),{color:r?"white":"secondary",type:"meta2",children:t}),m.jsx(c("MWXIconStrict.react"),{color:r?"white":"secondary",icon:w,size:12})]})):m.jsx(c("MWXTextPairing.react"),{headline:b?u:t,headlineLineLimit:p,level:4,testid:void 0,textAlign:e.attachmentLoggingType==="xma_view_event"?"center":"start"}):null;p=s!==""?b?m.jsxs("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 x1nhvcw1"},{children:[j,m.jsx("div",babelHelpers["extends"]({className:"x1k70j0n"},{children:m.jsx(c("MWXText.react"),{color:r?"white":"secondary",type:"meta2",children:e.replyCount==null||(k||(k=d("I64"))).equal(e.replyCount,(k||(k=d("I64"))).zero)?s:(k||(k=d("I64"))).gt((u=e.replyCount)!=null?u:(k||(k=d("I64"))).zero,(k||(k=d("I64"))).of_int32(20))?h._(/*BTDS*/"__JHASH__Dd3JSX2bl8X__JHASH__"):h._(/*BTDS*/"__JHASH__J-X-Y424pwe__JHASH__",[h._plural((k||(k=d("I64"))).to_int32((t=e.replyCount)!=null?t:(k||(k=d("I64"))).zero),"number")])})}))]})):m.jsx("div",babelHelpers["extends"]({className:"x889kno"},{children:m.jsx(c("MWXTextPairing.react"),{body:b?v:s,bodyColor:"secondary",bodyLineLimit:f,level:4,testid:void 0})})):null;u=(j=e.subtitleDecorationType)!=null?j:(k||(k=d("I64"))).zero;t=(l||(l=d("LSIntEnum"))).toNumber(u)===c("MNXMASubtitleDecorationType").THREADS_ICON?m.jsx("div",babelHelpers["extends"]({className:"x1emribx x1k70j0n"},{children:m.jsx(c("MWXMAAttachmentSubtitleDecoration.react"),{subtitleDecorationType:u})})):null;b=e.captionBodyText!=null&&e.captionBodyText.length>0?m.jsx(c("MWXText.react"),{color:"primary",type:"meta3",children:e.captionBodyText}):null;v=g!=null&&g.length>0?m.jsx(c("MWXMAAttachmentItemBodyText.react"),{bodyText:g,outgoing:r}):null;return m.jsxs("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(n.root,o?n.withIcon:q?n.hscroll:!1),{children:[a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&w!==null?m.jsx("div",babelHelpers["extends"]({className:"xahult9"},{children:w})):b!=null?m.jsx("div",babelHelpers["extends"]({className:"x1e56ztr"},{children:w})):w,b,m.jsxs("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5"},{children:[t,p]})),v!=null&&m.jsx("div",babelHelpers["extends"]({className:"x889kno"},{children:v}))]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXMAEventFacepiles.react",["ALT_PLACEHOLDER_FIXME","FDSPressableFacepile.react","I64","MWXText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||d("react"),l={facepile:{display:"x78zum5",flexDirection:"xdt5ytf",maxWidth:"x193iq5w",paddingTop:"x889kno",paddingBottom:"x1a8lsjc",$$css:!0},root_center_aligned:{display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},root_start_aligned:{display:"x78zum5",justifyContent:"x1nhvcw1",$$css:!0}};function a(a){var b=a.avatarText,e=a.count,f=a.cta,g=a.size;g=g===void 0?32:g;var i=a.urls;a=a.xstyle;var m=e!=null?(j||(j=d("I64"))).le(e,(j||(j=d("I64"))).of_int32(9)):!1;f=m?void 0:{target:"_blank",url:f==null?void 0:f.actionUrl};m=m?i.map(function(a){return{alt:c("ALT_PLACEHOLDER_FIXME"),source:{uri:a}}}):i.slice(0,9).map(function(a){return{alt:c("ALT_PLACEHOLDER_FIXME"),source:{uri:a}}});var n=b==null?l.root_center_aligned:l.root_start_aligned;return m.length>0?k.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(n),{"data-testid":void 0,children:k.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(l.facepile,a),{role:"gridcell",children:k.jsx(c("FDSPressableFacepile.react"),{count:e!=null?(j||(j=d("I64"))).to_int32(e):i.length,isOverlapping:!0,isTextInline:b!=null,items:m,linkProps:f,size:g,text:b!=null?k.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:b}):void 0})}))})):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getLSMediaAttachmentAvatarViewUrlList",["I64","LSMediaUrlUtils","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.avatarViewUrlExpirationTimestampList,e=a.avatarViewUrlFallbackList;a=a.avatarViewUrlList;if(c("isStringNullOrEmpty")(a))if(!c("isStringNullOrEmpty")(b))return[];else if(e!=null)return e.split(", ");else return[];if(c("isStringNullOrEmpty")(b))return[];if(e==null)return[];a=a.split(", ");var f=b.split(", "),g=e.split(", ");return a.map(function(a,b){var c;try{c=d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(f[b]))}catch(a){c=!0}if(c){return(c=g[b])!=null?c:""}else return a})}g["default"]=a}),98);
__d("MWXMAAttachmentItemBody.react",["I64","LSIntEnum","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","MAWIsXMAWithPlaintextHash","MDSTextPairing.react","MNLSXMALayoutType","MWLSThread","MWPAttachmentDataContext","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemCtaButton.react","MWXMAAttachmentItemIcon.react","MWXMAAttachmentItemIconWithPlaceholder.react","MWXMAAttachmentItemListItems.react","MWXMAAttachmentItemMainText.react","MWXMAEventFacepiles.react","MessengerWebUXLoggerXMAEventLoggingImpl","ReQL","ReQLSuspense","cr:13018","getLSMediaAttachmentAvatarViewUrlList","react","stylex","useReStore","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=j||(j=d("react")),n=j.useEffect,o={buttonHorizontal:{flex:"x98rzlu",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",width:"xj35x94",$$css:!0},buttonsOnly:{marginTop:"xdj266r",$$css:!0},buttonsWrapper:{justifySelf:"x1qab1bc",marginTop:"x14vqqas",$$css:!0},buttonsWrapperHorizontal:{display:"x78zum5",flexDirection:"x1q0g3np",justifySelf:"x1qab1bc",marginTop:"x14vqqas",$$css:!0},description:{display:"x78zum5",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",marginEnd:"xw3qccf",$$css:!0},hasFavicon:{paddingEnd:"x4uap5",paddingStart:"xkhd6sd",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",marginTop:"x14vqqas",marginEnd:"xq8finb",marginBottom:"xod5an3",marginStart:"x16n37ib",minHeight:"xisnujt",$$css:!0},rootWithHeaderAndNoMedia:{marginTop:"xdj266r",$$css:!0},subthreadFacepiles:{marginEnd:"xmo9yow",marginTop:"x1k70j0n",paddingTop:"xexx8yu",paddingBottom:"x18d9i69",$$css:!0},xmaUnifiedtyles:{marginEnd:"xktsk01",marginBottom:"x1yztbdb",marginStart:"x1d52u69",marginTop:"x14vqqas",$$css:!0}};function a(a){var e,g=a.attachment,j=a.attachmentItem,s=a.bodyLineLimit,t=a.buttonLayout,u=a.ctaPopoverMenu,v=a.facepiles,w=a.getFaviconUrlXMA,x=a.headlineLineLimit,y=a.isHscroll,z=a.isPressable,A=a.isSearchSingleBubblePlugin;A=A===void 0?!1:A;var B=a.isSecureThread,C=a.isStandalone,D=a.mediaRenderQpl,E=a.onPollOptionFacepilePress,F=a.outgoing;F=F===void 0?!1:F;a=a.xmaLayout;var G=d("MWPAttachmentDataContext").useMWPGetAttachmentCTAs(j),H=G.attachmentCta1,I=G.attachmentCta2;G=G.attachmentCta3;var J=!1;J=d("LSMediaUrlAttachment").faviconUrl(g)!=null||d("LSMediaUrlAttachmentItem").faviconUrl(j)!=null||g.hasXmaFavicon===!0;n(function(){return D==null?void 0:D.addPoint("render-xma-attachment-item-body",{bool:{has_icon:J}})},[J,D]);e=(k||(k=d("I64"))).equal((e=g.xmaLayoutType)!=null?e:(k||(k=d("I64"))).zero,(l||(l=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").THREAD_SHORTCUT));var K=!Boolean(j.titleText)&&!Boolean(j.subtitleText)&&!J,L=Boolean(j.titleText)||!C?j.titleText:g.titleText,M=Boolean(j.subtitleText)||!C?j.subtitleText:g.subtitleText,N=Boolean(j.bodyText)||!C?j.bodyText:g.bodyText,O=c("getLSMediaAttachmentAvatarViewUrlList")(g);v=(v=v)!=null?v:O.length!==0&&!e?[m.jsx(c("MWXMAEventFacepiles.react"),{avatarText:g.avatarViewContextText,count:g.avatarCount,cta:H,urls:O},"xma-event-facepiles")]:[];e=B&&g.xmaFaviconFbid!=null&&d("MAWIsXMAWithPlaintextHash").isXMAWithPlaintextHash(g);w=!Boolean(L)&&!Boolean(M)?[]:[m.jsx(c("MWXMAAttachmentActionTrigger.react"),{attachment:g,attachmentItem:j,isPressable:z,children:m.jsxs("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(o.description,(B=J)!=null?B:o.hasFavicon),{children:[e&&b("cr:13018")!=null?m.jsx(b("cr:13018"),{dbAttachment:g,iconSize:32,plaintextHash:g.xmaFaviconFbid,xmaIcon:m.jsx(c("MWXMAAttachmentItemIcon.react"),{attachment:g,attachmentItem:j,getFaviconUrlXMA:w,mediaRenderQpl:D}),xmaMediaType:"favicon"}):m.jsx(c("MWXMAAttachmentItemIconWithPlaceholder.react"),{attachment:g,attachmentItem:j,getFaviconUrlXMA:w,mediaRenderQpl:D}),m.jsx(c("MWXMAAttachmentItemMainText.react"),{attachment:g,bodyLineLimit:s,bodyText:N,facePileElement:(k||(k=d("I64"))).equal((z=g.avatarCount)!=null?z:(k||(k=d("I64"))).zero,(k||(k=d("I64"))).zero)?null:m.jsx(c("MWXMAEventFacepiles.react"),{avatarText:g.avatarViewContextText,count:g.avatarCount,cta:H,size:24,urls:O,xstyle:o.subthreadFacepiles}),hasIcon:J,headlineLineLimit:x,isHscroll:y,isStandalone:C,outgoing:F,subtitleText:(B=M)!=null?B:"",title:(e=L)!=null?e:"",xmaLayout:a})]}))},"xma-action-trigger")];N=g.listItemsDescriptionText;z=g.listItemsDescriptionSubtitleText;O=g.cta2IconType;y=g.cta3IconType;C=g.listItemId1;F=g.listItemsSecondaryDescriptionText;M=g.messageId;B=g.threadKey;L=j.cta1IconType;e=j.cta1Title;var P=j.cta1Type,Q=j.cta2Title,R=j.cta2Type,S=j.cta3Title,T=j.cta3Type;K=P!=null&&e!=null&&H!=null?[m.createElement("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(t==="horizontal"?o.buttonsWrapperHorizontal:o.buttonsWrapper,K?o.buttonsOnly:!1),{key:"xma-cta-button"}),m.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(t==="horizontal"?o.buttonHorizontal:!1),{children:m.jsx(c("MWXMAAttachmentItemCtaButton.react"),{attachmentCta:H,ctaIconType:L,messageId:M,threadKey:B,title:e,type:P})})),R!=null&&Q!=null&&I!=null?m.jsxs(m.Fragment,{children:[m.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(t==="horizontal"?o.buttonHorizontal:!1),{children:m.jsx(c("MWXMAAttachmentItemCtaButton.react"),{attachmentCta:I,ctaIconType:O,messageId:M,popoverMenu:u,threadKey:B,title:Q,type:R})})),T!=null&&S!=null&&G!=null?m.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(t==="horizontal"?o.buttonHorizontal:!1),{children:m.jsx(c("MWXMAAttachmentItemCtaButton.react"),{attachmentCta:G,ctaIconType:y,messageId:M,threadKey:B,title:S,type:T})})):null]}):null)]:[];H=N!=null?[m.jsx(p,{headlineLineLimit:x,listItemsDescriptionText:N},"xma-list-items-description-text")]:[];L=z!=null?[m.jsx(q,{bodyLineLimit:s,value:z},"xma-list-items-description-subtitle-text")]:[];e=C!=null?[m.jsx(c("MWXMAAttachmentItemListItems.react"),{attachment:g,onPollOptionFacepilePress:E},"list-item-1")]:[];P=F!=null?[m.jsx(r,{bodyLineLimit:s,listItemsSecondaryDescriptionText:F},"xma-list-items-secondary-description-text")]:[];I=[w,H,L,v,e,P,K].reduce(function(a,b){return a.concat(b)},[]);O=!1;O=d("LSMediaUrlAttachment").previewUrl(g)!=null||d("LSMediaUrlAttachmentItem").playableUrl(j)!=null||d("LSMediaUrlAttachmentItem").previewUrl(j)!=null||d("LSMediaUrlAttachmentItem").previewUrlLarge(j)!=null||g.hasXmaPreview===!0;var U=(i||(i=c("useReStore")))();u=d("MWLSThread").useThread(B,function(a){return a.threadType});Q=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(U.tables.messages.index("messageId")).getKeyRange(g.messageId)},[U,g.messageId],f.id+":429");R=d("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventsImpressionLoggerRef({attachment:g,clickCategory:1,message:Q,threadType:u});return A?null:I.length===0?null:m.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(o.root,a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?o.xmaUnifiedtyles:!1,a!==d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&!O&&g.headerTitle!=null?o.rootWithHeaderAndNoMedia:!1),{ref:R,children:I.map(function(a,b){return m.jsx(m.Fragment,{children:a},String(b))})}))}a.displayName=a.name+" [from "+f.id+"]";function p(a){var b=a.headlineLineLimit;a=a.listItemsDescriptionText;return m.jsx("div",babelHelpers["extends"]({className:"x78zum5 x1q0g3np x1iyjqo2 xl56j7k xw3qccf"},{children:m.jsx(c("MDSTextPairing.react"),{headline:a,headlineLineLimit:b,level:4,textAlign:"center"})}))}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b=a.bodyLineLimit;a=a.value;return m.jsx("div",babelHelpers["extends"]({className:"x78zum5 xl56j7k xwib8y2 x889kno"},{children:m.jsx(c("MDSTextPairing.react"),{body:a,bodyColor:"secondary",bodyLineLimit:b,level:4,textAlign:"center"})}))}q.displayName=q.name+" [from "+f.id+"]";function r(a){var b=a.bodyLineLimit;a=a.listItemsSecondaryDescriptionText;return m.jsx("div",babelHelpers["extends"]({className:"xod5an3"},{children:m.jsx(c("MDSTextPairing.react"),{body:a,bodyColor:"secondary",bodyLineLimit:b,level:4})}))}r.displayName=r.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemImageDimensionCalculator",["I64","LSIntEnum","MNLSXMALayoutType","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,e,f,g){var j=b.previewWidth!=null?(h||(h=d("I64"))).to_int32(b.previewWidth):0,k=a.previewWidth!=null?(h||(h=d("I64"))).to_int32(a.previewWidth):0,l=a.previewWidthLarge!=null?(h||(h=d("I64"))).to_int32(a.previewWidthLarge):0;j=j>0?j:k>0?k:l;k=b.previewHeight!=null?(h||(h=d("I64"))).to_int32(b.previewHeight):0;l=a.previewHeight!=null?(h||(h=d("I64"))).to_int32(a.previewHeight):0;var m=a.previewHeightLarge!=null?(h||(h=d("I64"))).to_int32(a.previewHeightLarge):0;k=k>0?k:l>0?l:m;l=b.defaultCtaType;l==="xma_montage_share"?m=!0:m=b.imageUrl==null?g:j===k;l=j!==0?k!==0?j/(k*1):0:0;a.xmaLayoutType!=null&&(h||(h=d("I64"))).equal(a.xmaLayoutType,(i||(i=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").STANDARD_DXMA))&&(l===0&&(l=2),m=!0);b=e;g={height:l===0?106:b/l,width:b};a={};f===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&(k>j&&(g.height=b,g.width=l===0?106:b*l),a={aspectRatio:void 0,flexGrow:"0",height:g.height.toString()+"px",margin:"auto",width:g.width.toString()+"px"});e={height:(l===0?b-106:b/l).toString()+"px",width:b.toString()+"px"};return{aspectRatio:l,dimensions:g,dimensionsStyle:{height:g.height.toString()+"px",width:g.width.toString()+"px"},expand:m,informedTreatmentCardDimension:e,unifiedStyles:a}}g.calculateDimensions=a}),98);
__d("MWXIconClock",["MWXSvgIcon","SVGIcon","cr:12373","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12373")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXMAEarlyAccessOverlay.react",["fbt","I64","LSIntEnum","MNXMAPreviewImageDecorationType","MWXColumn.react","MWXColumnItem.react","MWXIconClock","MWXIconStrict.react","MWXRow.react","MWXRowItem.react","MWXText.react","ServerTime","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react"));b=i;var m=b.useEffect,n=b.useMemo,o=b.useState,p={pill:{backgroundColor:"xatbrnm",borderTopStartRadius:"x107yiy2",borderTopEndRadius:"xv8uw2v",borderBottomEndRadius:"x1tfwpuw",borderBottomStartRadius:"x2g32xy",$$css:!0}};function a(a){var b=a.attachment;a=o(d("ServerTime").getMillis());var e=a[0],f=a[1];m(function(){if(b.previewOverlayCountdownExpiry!=null&&b.previewImageDecorationType!==null&&(j||(j=d("I64"))).equal(b.previewImageDecorationType,(k||(k=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").PILL))&&c("gkx")("1643")){var a=window.setInterval(function(){f(d("ServerTime").getMillis())},1e3);return function(){return window.clearInterval(a)}}},[b.previewImageDecorationType,b.previewOverlayCountdownExpiry,e]);a=n(function(){var a=b.previewOverlayCountdownExpiry;if(a!=null){a=(j||(j=d("I64"))).to_float(a)*1e3-e;var c=Math.floor(a/36e5),f=Math.floor(a/6e4)%60;a=Math.floor(a/1e3)%60;return c<0&&f<0&&a<0?null:c?h._(/*BTDS*/"__JHASH__z-6zXNtvXEV__JHASH__",[h._param("hours",c)]):f?h._(/*BTDS*/"__JHASH__J0Qi9lOhYJe__JHASH__",[h._param("minutes",f)]):a?h._(/*BTDS*/"__JHASH__0RhXAr4DyYr__JHASH__",[h._param("seconds",a)]):null}},[b.previewOverlayCountdownExpiry,e]);if(b.previewImageDecorationType==null||!c("gkx")("1643"))return null;if((j||(j=d("I64"))).equal(b.previewImageDecorationType,(k||(k=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").BLUR)))return l.jsx("div",babelHelpers["extends"]({className:"x1h6ucep x1ey2m1c x78zum5 xds687c x17qophe x10l6tqk x13vifvy"},{children:l.jsx(c("MWXRow.react"),{align:"center",expanding:!0,children:l.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:l.jsxs(c("MWXColumn.react"),{spacing:16,children:[l.jsx(c("MWXColumnItem.react"),{align:"center",children:l.jsx(c("MWXIconStrict.react"),{color:"white",icon:c("MWXIconClock"),size:20})}),l.jsx(c("MWXColumnItem.react"),{align:"center",children:l.jsx(c("MWXText.react"),{color:"white",type:"body2",children:h._(/*BTDS*/"__JHASH__wNWq__FwzYH__JHASH__")})})]})})})}));return(j||(j=d("I64"))).equal(b.previewImageDecorationType,(k||(k=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").PILL))?a!=null&&l.jsx("div",babelHelpers["extends"]({className:"x1ey2m1c x78zum5 xds687c x17qophe x10l6tqk x13vifvy"},{children:l.jsx(c("MWXRow.react"),{align:"end",expanding:!0,verticalAlign:"top",children:l.jsxs(c("MWXRow.react"),{paddingHorizontal:8,paddingVertical:0,spacingHorizontal:4,xstyle:p.pill,children:[l.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:l.jsx(c("MWXIconStrict.react"),{color:"white",icon:c("MWXIconClock"),size:16})}),l.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:l.jsx(c("MWXText.react"),{color:"white",type:"body4",children:a})})]})})})):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXIconLive",["MWXSvgIcon","SVGIcon","cr:12483","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12483")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXMALivePill.react",["fbt","I64","LSIntEnum","MNXMAPreviewImageDecorationType","MWXRow.react","MWXRowItem.react","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react"),m={pill:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",paddingTop:"x1nn3v0j",paddingBottom:"x1120s5i",paddingStart:"x16hj40l",paddingEnd:"xsyo7zv",paddingLeft:null,paddingRight:null,textTransform:"xtvhhri",$$css:!0},pillLive:{backgroundColor:"x1cdvf7c",$$css:!0},pillLiveEnded:{backgroundColor:"x2bj2ny",$$css:!0}};function a(a){a=a.previewImageDecorationType;a=(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").DXMA_LIVE_ENDED));return l.jsx(c("MWXRow.react"),{paddingHorizontal:0,paddingVertical:0,spacingHorizontal:0,xstyle:[m.pill,a?m.pillLiveEnded:m.pillLive],children:l.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:l.jsx(c("MWXText.react"),{color:a?"primary":"white",type:"bodyLink4",children:h._(/*BTDS*/"__JHASH__naqiogLE-_g__JHASH__")})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXMALiveOverlay.react",["fbt","MWXColumn.react","MWXColumnItem.react","MWXIconLive","MWXIconStrict.react","MWXMALivePill.react","MWXRow.react","MWXRowItem.react","MWXText.react","react","xmaAttachmentUtils"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.attachment;a=a.isUnjoined;var e=b.previewImageDecorationType;if(e==null)return null;b=d("xmaAttachmentUtils").isLiveXMA(b);e=j.jsx(c("MWXMALivePill.react"),{previewImageDecorationType:e});return b?a?j.jsx("div",babelHelpers["extends"]({className:"x1h6ucep x1ey2m1c x78zum5 xds687c x17qophe x10l6tqk x13vifvy"},{children:j.jsx(c("MWXRow.react"),{align:"center",expanding:!0,children:j.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:j.jsxs(c("MWXColumn.react"),{spacing:16,children:[j.jsx(c("MWXColumnItem.react"),{align:"center",children:j.jsx(c("MWXIconStrict.react"),{color:"white",icon:c("MWXIconLive"),size:36})}),j.jsx(c("MWXColumnItem.react"),{align:"center",children:j.jsx(c("MWXText.react"),{color:"primaryOnMedia",type:"body2",children:h._(/*BTDS*/"__JHASH__Ck-x9Kir4L3__JHASH__")})})]})})})})):j.jsx("div",babelHelpers["extends"]({className:"x1ey2m1c x78zum5 xds687c x17qophe x10l6tqk x13vifvy"},{children:j.jsx(c("MWXRow.react"),{align:"end",expanding:!0,verticalAlign:"top",children:j.jsx(c("MWXRowItem.react"),{children:e})})})):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXMAAttachmentItemImage.react",["FDSImageCover.react","I64","LSIntEnum","LSMessagingThreadTypeUtil","MAWConvertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType","MNXMAPreviewImageDecorationType","MWInformedTreatment.react","MWXMAAttachmentItemImageDimensionCalculator","MWXMAEarlyAccessOverlay.react","MWXMALiveOverlay.react","ReQL","ReQLSuspense","gkx","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));b=k;var m=b.useEffect,n=b.useRef;function a(a){var b=a.attachment,e=a.attachmentItem,g=a.cardWidth,k=a.isStandalone,o=a.mediaRenderQpl,p=a.previewUrl,q=a.testid;q=a.xmaLayout;var r=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(r.tables.threads,["threadType"]).getKeyRange(b.threadKey)},[r,b.threadKey],f.id+":61");var s=a!=null&&d("LSMessagingThreadTypeUtil").isUnjoinedDiscoverablePublicBroadcastChannel(a==null?void 0:a.threadType),t=a!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),u=b.gatingTitle,v=b.gatingType;a=d("MWInformedTreatment.react").checkIsInformedTreatmentVisible(u,v,p,a==null?void 0:a.threadType);e=d("MWXMAAttachmentItemImageDimensionCalculator").calculateDimensions(b,e,g,q,k);g=b.previewImageDecorationType!=null&&(i||(i=d("I64"))).equal(b.previewImageDecorationType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").BLUR))&&c("gkx")("1643");q=s&&b.previewImageDecorationType!=null&&((i||(i=d("I64"))).equal(b.previewImageDecorationType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").DXMA_LIVE))||(i||(i=d("I64"))).equal(b.previewImageDecorationType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").DXMA_LIVE_ENDED)));k=g||q?{filter:"blur(15px)",transform:"scale(1.1)"}:{};var w=n(null);m(function(){var a=w.current;a!=null&&a.complete&&(o==null?void 0:o.endSuccess())},[o]);if(p.length===0||p===""){o==null?void 0:o.endFail("empty_preview_url");return null}if(u!=null&&v!=null&&a){g=t?d("MAWConvertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType").convertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType(parseInt(v,10)):v;return l.jsx(d("MWInformedTreatment.react").MWInformedTreatment,{dimension:e.informedTreatmentCardDimension,gatingTitle:u,gatingType:g,isXMA:!0,mediaRenderQpl:o,messageId:b.messageId,previewUrl:p})}return e.expand?l.jsxs("div",babelHelpers["extends"]({className:"x78zum5 x6ikm8r x10wlt62 x1n2onr6 xh8yej3"},{"data-testid":void 0,children:[l.jsx("img",{alt:"",onError:function(){return o==null?void 0:o.endFail("load-image-error")},onLoad:function(){return o==null?void 0:o.endSuccess()},ref:w,src:p,style:babelHelpers["extends"]({aspectRatio:e.aspectRatio,flexGrow:"1",height:"auto",maxWidth:"100%",objectFit:"cover"},e.unifiedStyles,k)}),l.jsx(c("MWXMAEarlyAccessOverlay.react"),{attachment:b}),l.jsx(c("MWXMALiveOverlay.react"),{attachment:b,isUnjoined:s})]})):l.jsx("div",{className:"x78zum5 x6ikm8r x10wlt62 x1n2onr6 xh8yej3","data-testid":void 0,style:e.dimensionsStyle,children:l.jsx(c("FDSImageCover.react"),{alt:"",onError:function(){return o==null?void 0:o.endFail("load-image-error")},onLoad:function(){return o==null?void 0:o.endSuccess()},src:p,style:{bottom:"0",left:"0",position:"absolute",right:"0",top:"0"}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemDefaultImagePreview.react",["CometPlaceholder.react","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemImage.react","nullthrows","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=a.attachment,d=a.attachmentItem,e=a.attachmentPreview,f=a.cardWidth,g=a.isPressable,h=a.isStandalone,l=a.mediaRenderQpl,m=a.renderLoadingPlaceholder;a=a.xmaLayout;j(function(){l==null?void 0:l.addPoint("render-xma-attachment-item-default-image-preview",{bool:{has_attachment_preview_url:Boolean(e.url)}}),Boolean(e.url)||(l==null?void 0:l.endFail("image-missing-preview-url"))},[e.url,l]);return!Boolean(e.url)?null:i.jsx(c("CometPlaceholder.react"),{fallback:m("MWXMAAttachmentItemDefaultImagePreview.Suspense",!0),name:"MWXMAAttachmentItemDefaultImagePreview",children:i.jsx(k,{attachment:b,attachmentItem:d,cardWidth:f,isPressable:g,isStandalone:h,mediaRenderQpl:l,previewUrl:c("nullthrows")(e.url),xmaLayout:a})})}a.displayName=a.name+" [from "+f.id+"]";function k(a){var b=a.attachment,d=a.attachmentItem,e=a.cardWidth,f=a.isPressable,g=a.isStandalone,h=a.mediaRenderQpl,k=a.previewUrl;a=a.xmaLayout;j(function(){h==null?void 0:h.addPoint("render-xma-attachment-item-default-image-preview-impl")},[h]);return i.jsx(c("MWXMAAttachmentActionTrigger.react"),{attachment:b,attachmentItem:d,isPressable:f,children:i.jsx(c("MWXMAAttachmentItemImage.react"),{attachment:b,attachmentItem:d,cardWidth:e,isStandalone:g,mediaRenderQpl:h,previewUrl:k,testid:void 0,xmaLayout:a})})}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemDefaultUnsupportedPreview.react",["MWXMALivePill.react","react","xmaAttachmentUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=a.attachment,e=a.mediaRenderQpl,f=b.previewImageDecorationType,g=d("xmaAttachmentUtils").isLiveXMA(b);j(function(){e==null?void 0:e.addPoint("render-xma-attachment-item-default-unsupported-preview",{bool:{has_preview_image_decoration_type:f!=null,is_live_xma:g}}),d("xmaAttachmentUtils").isLiveXMA(b)&&f!=null?e==null?void 0:e.endSuccess():e==null?void 0:e.endFail("missing-xma-media")},[b,g,e,f]);return d("xmaAttachmentUtils").isLiveXMA(b)&&f!=null?i.jsx("div",babelHelpers["extends"]({className:"x78zum5 xzueoph xkrivgy x1gryazu xhrpt6u"},{children:i.jsx(c("MWXMALivePill.react"),{previewImageDecorationType:f})})):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemAttribution.react",["react","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.attachment;c("vulture")("Ueb4e8CSUdzDFFVoBwQ7SOefVuM=");a=a;var b=a.attributionAppIcon;a=a.attributionAppName;return b!=null&&a!=null?i.jsxs("div",babelHelpers["extends"]({className:"x6s0dn4 x1gn5b1j x230xth x78zum5 x1rfph6h x1iorvi4 xsyo7zv xjkvuk6 x16hj40l"},{children:[i.jsx("img",babelHelpers["extends"]({className:"x14yjl9h xudhj91 x18nykt9 xww2gxu xlup9mm x1kky2od"},{src:b})),i.jsx("span",babelHelpers["extends"]({className:"xzsf02u x1nxh6w3 x1mnrxsn x13faqbe"},{children:a}))]})):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemDefaultVideoPreview.react",["CometObjectFitContainer.react","CometPlaceholder.react","I64","MWXGlimmer.react","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemAttribution.react","deferredLoadComponent","nullthrows","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useEffect,l=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWChatVideoPlayer.react").__setRef("MWXMAAttachmentItemDefaultVideoPreview.react")),m={glimmer:{height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0}};function a(a){var b=a.attachment,d=a.attachmentItem,e=a.attachmentPreview,f=a.isPressable,g=a.mediaRenderQpl;a=a.renderLoadingPlaceholder;k(function(){g==null?void 0:g.addPoint("render-xma-attachment-item-default-video-preview",{bool:{has_attachment_preview_url:Boolean(e.url)}}),Boolean(e.url)||(g==null?void 0:g.endFail("video-missing-preview-url"))},[e.url,g]);return!Boolean(e.url)?null:j.jsx(c("CometPlaceholder.react"),{fallback:a("MWXMAAttachmentItemDefaultVideoPreview.Suspense",!0),name:"MWXMAAttachmentItemDefaultVideoPreview",children:j.jsx(n,{attachment:b,attachmentItem:d,isPressable:f,mediaRenderQpl:g,playableUrl:c("nullthrows")(e.url)})})}a.displayName=a.name+" [from "+f.id+"]";function n(a){var b,e=a.attachment,f=a.attachmentItem,g=a.isPressable,h=a.mediaRenderQpl;a=a.playableUrl;k(function(){h==null?void 0:h.addPoint("render-xma-attachment-item-default-video-preview-impl")},[h]);b=(b=e.shouldAutoplayVideo)!=null?b:!1;return j.jsxs(c("MWXMAAttachmentActionTrigger.react"),{attachment:e,attachmentItem:f,isPressable:g,children:[j.jsx(p,{attachmentItem:f,testid:void 0,children:j.jsx(l,{controls:b?"none":"mwchat",fbid:f.attachmentFbid,hideExpandButton:!1,mediaRenderQpl:h,originalHeight:f.previewHeight!=null?(i||(i=d("I64"))).to_int32(f.previewHeight):0,originalWidth:f.previewWidth!=null?(i||(i=d("I64"))).to_int32(f.previewWidth):0,sdSrc:a,shouldForcePauseOnClick:!0})}),b?j.jsx(c("MWXMAAttachmentItemAttribution.react"),{attachment:e}):null]})}n.displayName=n.name+" [from "+f.id+"]";function o(){return j.jsx("div",babelHelpers["extends"]({className:"x78zum5 x5yr21d x6ikm8r x10wlt62 x10l6tqk xh8yej3"},{children:j.jsx(c("MWXGlimmer.react"),{index:0,xstyle:m.glimmer})}))}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.attachmentItem,e=a.children;a=a.testid;a=(i||(i=d("I64"))).to_int32((a=b.previewWidth)!=null?a:(i||(i=d("I64"))).zero);b=i.to_int32((b=b.previewHeight)!=null?b:(i||(i=d("I64"))).zero);a=a!==0?b!==0?a/b:0:0;b=b>250&&a<.8;return j.jsx(c("CometObjectFitContainer.react"),{contentAspectRatio:b?.8:a,testid:void 0,children:j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx(o,{}),name:"MWXMAAttachmentItemVideoContainer",children:e})})}p.displayName=p.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemDefaultPreviewInner.react",["LSMediaUrlAttachment","LSMediaUrlAttachmentItem","MWLSThreadDisplayContext","MWPBaseXMAAttachmentItem.react","MWXMAAttachmentItemDefaultImagePreview.react","MWXMAAttachmentItemDefaultUnsupportedPreview.react","MWXMAAttachmentItemDefaultVideoPreview.react","react","xmaAttachmentUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=a.attachment,e=a.attachmentItem,f=a.cardWidth,g=a.getPreviewUrlXMA,h=a.isPressable,k=a.isStandalone,l=a.mediaRenderQpl,m=a.renderLoadingPlaceholder;a=a.xmaLayout;var n=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),o=n==="Inbox",p=d("MWPBaseXMAAttachmentItem.react").getXMAAttachmentItemPreview({attachment:b,attachmentItem:e,description:"MWXMAAttachmentItemDefaultPreviewImpl",getPreviewUrl:g,mediaRenderQpl:l,preferLargePreview:o}),q=(p.type==="Video"||p.type==="Image")&&p.url.length>0,r=d("xmaAttachmentUtils").isLiveXMA(b);j(function(){l==null?void 0:l.addPoint("render-xma-attachment-item-default-preview-impl",{bool:{attachment_has_playable_url:Boolean(d("LSMediaUrlAttachment").playableUrl(b)),attachment_has_preview_url:Boolean(d("LSMediaUrlAttachment").previewUrl(b)),attachment_has_preview_url_large:Boolean(d("LSMediaUrlAttachment").previewUrlLarge(b)),attachment_item_has_playable_url:Boolean(d("LSMediaUrlAttachmentItem").playableUrl(e)),attachment_item_has_preview_url:Boolean(d("LSMediaUrlAttachmentItem").previewUrl(e)),attachment_item_has_preview_url_large:Boolean(d("LSMediaUrlAttachmentItem").previewUrlLarge(e)),has_media:q,has_playable_url:p.hasPlayableUrl,has_preview_url:p.hasPreviewUrl,has_url:Boolean(p.url),is_large_surface:o,is_live_xma:r,is_preview_url_callback_fct_set:g!=null},string:{attachment_preview_type:p.type,playable_url_mime_type:p.playableUrlMimeType,preview_url_mime_type:p.mimeType}})},[b,e,p.hasPlayableUrl,p.hasPreviewUrl,p.mimeType,p.playableUrlMimeType,p.type,p.url,g,q,o,r,l]);switch(p.type){case"Video":return i.jsx(c("MWXMAAttachmentItemDefaultVideoPreview.react"),{attachment:b,attachmentItem:e,attachmentPreview:p,isPressable:h,mediaRenderQpl:l,renderLoadingPlaceholder:m});case"Image":return i.jsx(c("MWXMAAttachmentItemDefaultImagePreview.react"),{attachment:b,attachmentItem:e,attachmentPreview:p,cardWidth:f,isPressable:h,isStandalone:k,mediaRenderQpl:l,renderLoadingPlaceholder:m,xmaLayout:a});case"Unsupported":return i.jsx(c("MWXMAAttachmentItemDefaultUnsupportedPreview.react"),{attachment:b,mediaRenderQpl:l})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemDefaultPreview.react",["CometHeroHoldTrigger.react","CometPlaceholder.react","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","LSMessagingThreadTypeUtil","MWV2AttachmentLoadingPlaceholder.react","MWXMAAttachmentItemDefaultPreviewInner.react","MWXMAAttachmentItemImageDimensionCalculator","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect,k={loadingPlaceholder:{borderTopStartRadius:"x168nmei",borderTopEndRadius:"x13lgxp2",borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};function a(a){var b=a.attachment,e=a.attachmentItem,f=a.cardWidth,g=a.getPreviewUrlXMA,h=a.isPressable,l=a.isStandalone,m=a.mediaRenderQpl,n=a.threadType;a=a.xmaLayout;var o=d("LSMediaUrlAttachment").previewUrl(b)!=null||d("LSMediaUrlAttachmentItem").playableUrl(e)!=null||d("LSMediaUrlAttachmentItem").previewUrl(e)!=null||d("LSMediaUrlAttachmentItem").previewUrlLarge(e)!=null||b.hasXmaPreview===!0;j(function(){m==null?void 0:m.addPoint("render-xma-attachment-item-default-preview",{bool:{attachment_has_playable_url:Boolean(d("LSMediaUrlAttachment").playableUrl(b)),attachment_has_preview_url:Boolean(d("LSMediaUrlAttachment").previewUrl(b)),attachment_has_preview_url_large:Boolean(d("LSMediaUrlAttachment").previewUrlLarge(b)),attachment_item_has_playable_url:Boolean(d("LSMediaUrlAttachmentItem").playableUrl(e)),attachment_item_has_preview_url:Boolean(d("LSMediaUrlAttachmentItem").previewUrl(e)),attachment_item_has_preview_url_large:Boolean(d("LSMediaUrlAttachmentItem").previewUrlLarge(e)),has_attachment_fbid:Boolean(b.attachmentFbid),has_media:b.hasMedia,has_preview:o,has_xma_preview:b.hasXmaPreview,is_attachment_fbid_number:!isNaN(b.attachmentFbid),is_preview_url_callback_fct_set:g!=null},string:{attachment_item_playable_url_mime_type:b.playableUrlMimeType,attachment_item_preview_url_mime_type:b.previewUrlMimeType,attachment_playable_url_mime_type:b.playableUrlMimeType,attachment_preview_url_mime_type:b.previewUrlMimeType}}),o||(m==null?void 0:m.endSuccess())},[b,e,g,o,m]);var p=d("MWXMAAttachmentItemImageDimensionCalculator").calculateDimensions(b,e,f,a,l),q=p.dimensions.width,r=p.dimensions.height;p=p.aspectRatio;var s=f/(p>0?p:1);p=n!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(n);if(!o)return null;n=function(a,b){return i.jsxs(i.Fragment,{children:[i.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:a,height:r,maxHeight:s,maxWidth:f,mediaRenderQpl:m,width:q,xstyle:k.loadingPlaceholder}),!b&&i.jsx(c("CometHeroHoldTrigger.react"),{description:a,hold:!0})]})};return p&&o&&b.hasMedia===!1?n("MWXMAAttachmentItemDefaultPreview.NoMedia",!1):i.jsx(c("CometPlaceholder.react"),{fallback:o&&n("MWXMAAttachmentItemDefaultPreview.Suspense",!0),name:"MWXMAAttachmentItemDefaultPreview",children:i.jsx(c("MWXMAAttachmentItemDefaultPreviewInner.react"),{attachment:b,attachmentItem:e,cardWidth:f,getPreviewUrlXMA:g,isPressable:h,isStandalone:l,mediaRenderQpl:m,renderLoadingPlaceholder:n,xmaLayout:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemHeaderIcon.react",["FDSImageCover.react","FDSSkittleIcon.react","MWXMAIconParser.react","react","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=a.attachment,e=a.getHeaderUrlXMA,f=a.mediaRenderQpl;a=a.xmaLayout;a=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;e=e(b,"MWXMAAttachmentItemHeaderIcon",f);var g=e==null?void 0:d("MWXMAIconParser.react").parse(e);j(function(){return f==null?void 0:f.addPoint("render-xma-attachment-item-header-icon",{bool:{has_icon:g!=null}})},[g,f]);if(g==null)return null;if(typeof g==="string"){b=a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?"40px":"32px";return i.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 x5yr21d xq8finb"},{children:i.jsx(c("FDSImageCover.react"),{alt:"Icon for this message's header",src:g,style:{borderRadius:"50%",height:b,width:b}})}))}return i.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 x5yr21d xq8finb"},{children:i.jsx(c("FDSSkittleIcon.react"),{color:g.color,icon:g.icon,size:36})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemHeaderIconWithPlaceholder.react",["CometPlaceholder.react","MWV2AttachmentLoadingPlaceholder.react","MWXMAAttachmentItemHeaderIcon.react","react","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect,k={loadingPlaceholder:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",$$css:!0}};function a(a){var b=a.attachment,e=a.getHeaderUrlXMA,f=a.mediaRenderQpl;a=a.xmaLayout;a=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;j(function(){return f==null?void 0:f.addPoint("render-xma-attachment-item-header-icon-with-placeholder")},[f]);var g=a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?40:32;return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 x5yr21d xq8finb"},{children:i.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"MWXMAAttachmentItemHeaderIconWithPlaceholder.Suspense",height:g,width:g,xstyle:k.loadingPlaceholder})})),name:"MWXMAAttachmentItemHeaderIconWithPlaceholder",children:i.jsx(c("MWXMAAttachmentItemHeaderIcon.react"),{attachment:b,getHeaderUrlXMA:e,mediaRenderQpl:f,xmaLayout:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemHeader.react",["ix","I64","LSIntEnum","LSMediaUrlAttachment","LSVerifiedType","MAWIsXMAWithPlaintextHash","MWSearchPluginUtils","MWXIcon.react","MWXMAAttachmentItemHeaderIcon.react","MWXMAAttachmentItemHeaderIconWithPlaceholder.react","MWXText.react","MWXTextPairing.react","cr:13018","fbicon","react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react")),n=j.useEffect,o={root:{alignItems:"x6s0dn4",display:"x78zum5",marginTop:"x14vqqas",marginEnd:"xq8finb",marginBottom:"xod5an3",marginStart:"x16n37ib",$$css:!0},withBorder:{borderBottomColor:"x1nb4dca",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",$$css:!0}};function a(a){var e=a.attachment,f=a.getHeaderUrlXMA,g=a.isSecureThread,j=a.mediaRenderQpl;a=a.xmaLayout;a=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;n(function(){return j==null?void 0:j.addPoint("render-xma-attachment-item-header",{bool:{has_title:e.headerTitle!=null}})},[e.headerTitle,j]);var p=e.headerTitle;if(p==null)return null;var q=e.headerSubtitleText,r=d("LSMediaUrlAttachment").headerImageUrl(e)!=null||e.hasXmaHeaderImage===!0,s=a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT,t=d("MWSearchPluginUtils").isSearchSingleBubblePlugin(e),u=e.verifiedType!=null?(k||(k=d("I64"))).equal(e.verifiedType,(l||(l=d("LSIntEnum"))).ofNumber(c("LSVerifiedType").DEFAULT)):!1;g=g&&e.receiverFetchId==null&&d("MAWIsXMAWithPlaintextHash").isXMAWithPlaintextHash(e);return m.jsxs("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(o.root,s?o.withBorder:!1),{children:[r!=null&&g&&b("cr:13018")!=null&&m.jsx(b("cr:13018"),{dbAttachment:e,iconSize:a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?40:32,plaintextHash:e.xmaHeaderImageFbid,xmaIcon:m.jsx(c("MWXMAAttachmentItemHeaderIcon.react"),{attachment:e,getHeaderUrlXMA:f,mediaRenderQpl:j,xmaLayout:a}),xmaMediaType:"headerImage"}),r!=null&&!g&&m.jsx(c("MWXMAAttachmentItemHeaderIconWithPlaceholder.react"),{attachment:e,getHeaderUrlXMA:f,mediaRenderQpl:j,xmaLayout:a}),(s||t)&&q!==null&&q!=null&&q!==""?m.jsx(c("MWXTextPairing.react"),{headline:p,level:4,meta:q}):m.jsx(c("MWXText.react"),{type:"bodyLink3",children:p}),u?m.jsx("div",babelHelpers["extends"]({className:"x78zum5 xsgj6o6"},{children:m.jsx(c("MWXIcon.react"),{color:"highlight",icon:d("fbicon")._(h("494936"),12)})})):null]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemDefaultXMAContent.react",["LSIntEnum","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","LSMessagingThreadTypeUtil","MAWIsXMAWithPlaintextHash","MAWLocalizationType","MAWXMAUtils","MNLSXMALayoutType","MWRollCallXMAAttachmentItem.react","MWSearchPluginUtils","MWV2TombstonedMessage.react","MWXMAAttachmentActionTriggerDefault.react","MWXMAAttachmentItemBody.react","MWXMAAttachmentItemDefaultPreview.react","MWXMAAttachmentItemHeader.react","cr:5326","getMAWLocalizedFallbackMsgSnippet","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useEffect;function a(a){var e=a.attachment,f=a.attachmentItem,g=a.bodyLineLimit,h=a.buttonLayout,l=a.cardWidth,m=a.ctaPopoverMenu,n=a.facepiles,o=a.getFaviconUrlXMA,p=a.getHeaderUrlXMA,q=a.getPreviewUrlXMA,r=a.headlineLineLimit,s=a.isHscroll,t=a.isPressable,u=a.isStandalone,v=a.mediaRenderQpl,w=a.onPollOptionFacepilePress,x=a.outgoing;x=x===void 0?!1:x;var y=a.threadType;a=a.xmaLayout;var z=e.defaultCtaType,A=e.xmaContentType,B=y!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(y),C=e.xmaLayoutType!==void 0&&(i||(i=d("LSIntEnum"))).toNumber(e.xmaLayoutType)===c("MNLSXMALayoutType").SHARED_STACK,D=d("MWSearchPluginUtils").isSearchSingleBubblePlugin(e);k(function(){v==null?void 0:v.addPoint("render-xma-attachment-default-content",{bool:{is_roll_call:C},string:{default_cta_type:z}})},[z,C,v]);if(C)return j.jsx(c("MWRollCallXMAAttachmentItem.react"),{attachmentItem:f,mediaRenderQpl:v});if(d("MAWXMAUtils").isXMAFBStory(A)){A=d("LSMediaUrlAttachment").previewUrl(e)!=null||d("LSMediaUrlAttachmentItem").playableUrl(f)!=null||d("LSMediaUrlAttachmentItem").previewUrl(f)!=null||d("LSMediaUrlAttachmentItem").previewUrlLarge(f)!=null||e.hasXmaPreview===!0;if(!A)return j.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:x,mediaRenderQpl:v,children:c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.UNAVAILABLE_STORY)})}if(z==="xma_montage_share")return j.jsx(c("MWXMAAttachmentItemDefaultPreview.react"),{attachment:e,attachmentItem:f,cardWidth:l,getPreviewUrlXMA:q,isPressable:t,isStandalone:u,mediaRenderQpl:v,threadType:y,xmaLayout:a});A=B&&e.receiverFetchId==null&&d("MAWIsXMAWithPlaintextHash").isXMAWithPlaintextHash(e);return j.jsxs(j.Fragment,{children:[D?j.jsx(c("MWXMAAttachmentActionTriggerDefault.react"),{attachment:e,attachmentItem:f,children:j.jsx(c("MWXMAAttachmentItemHeader.react"),{attachment:e,getHeaderUrlXMA:p,isSecureThread:B,mediaRenderQpl:v,xmaLayout:a})}):j.jsx(c("MWXMAAttachmentItemHeader.react"),{attachment:e,getHeaderUrlXMA:p,isSecureThread:B,mediaRenderQpl:v,xmaLayout:a}),A&&b("cr:5326")!=null?j.jsx(b("cr:5326"),{attachment:e,attachmentItem:f,cardWidth:l,getPreviewUrlXMA:q,isPressable:t,isStandalone:u,mediaRenderQpl:v,xmaLayout:a}):j.jsx(c("MWXMAAttachmentItemDefaultPreview.react"),{attachment:e,attachmentItem:f,cardWidth:l,getPreviewUrlXMA:q,isPressable:t,isStandalone:u,mediaRenderQpl:v,threadType:y,xmaLayout:a}),j.jsx(c("MWXMAAttachmentItemBody.react"),{attachment:e,attachmentItem:f,bodyLineLimit:g,buttonLayout:h,ctaPopoverMenu:m,facepiles:n,getFaviconUrlXMA:o,headlineLineLimit:r,isHscroll:s,isPressable:t,isSearchSingleBubblePlugin:D,isSecureThread:B,isStandalone:u,mediaRenderQpl:v,onPollOptionFacepilePress:w,outgoing:x,xmaLayout:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAPrivateAttachment.react",["fbt","ix","IconSource","LSMessagingThreadTypeUtil","MAWConvertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType","MWInformedTreatment.react","MWLSThread","MWXIcon.react","MWXMAAttachmentActionTrigger.react","MWXText.react","emptyFunction","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useEffect,m={sensitiveContent:{alignItems:"x6s0dn4",backdropFilter:"x1qb2erx",backgroundColor:"x1av1boa",display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",justifyContent:"xl56j7k",textAlign:"x2b8uid",width:"xni59qk",$$css:!0}};function a(a){var b=a.attachment,e=a.attachmentItem,f=a.getPreviewUrlXMA;f=f===void 0?c("emptyFunction"):f;var g=a.isPressable,h=a.mediaRenderQpl,i=b.defaultCtaType,j=f(b,e,"MWXMAPrivateAttachment",h);f=(a=d("MWLSThread").useThread(b.threadKey,function(a){return{isSecureThread:d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),threadType:a.threadType}}))!=null?a:{isSecureThread:!1,threadType:null};var p=f.isSecureThread;a=f.threadType;f=b.gatingTitle;var q=b.gatingType,r=d("MWInformedTreatment.react").checkIsInformedTreatmentVisible(f,q,j,a);l(function(){return h==null?void 0:h.addPoint("render-xma-private-attachment",{bool:{has_preview_url:j!=null,is_inform_treatment_visible:r,is_secure_thread:p},string:{default_cta_type:i}})},[i,r,p,h,j]);if(f!=null&&q!=null&&r){a=p?d("MAWConvertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType").convertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType(parseInt(q,10)):q;return k.jsxs(k.Fragment,{children:[k.jsx("div",babelHelpers["extends"]({className:"x1iu8u7t xh8yej3"},{children:k.jsx(d("MWInformedTreatment.react").MWInformedTreatment,{dimension:{height:"100%",width:"100%"},gatingTitle:f,gatingType:a,isXMA:!0,mediaRenderQpl:h,messageId:b.messageId,previewUrl:j,xstyle:m.sensitiveContent})})),k.jsx(o,{attachment:b,attachmentItem:e,isPressable:g,mediaRenderQpl:h,showPreview:!1})]})}return i==="xma_montage_share"?k.jsx(n,{attachment:b,mediaRenderQpl:h}):k.jsx(o,{attachment:b,attachmentItem:e,isPressable:g,mediaRenderQpl:h,showPreview:!0})}a.displayName=a.name+" [from "+f.id+"]";function n(a){var b=a.attachment,d=a.mediaRenderQpl;l(function(){d==null?void 0:d.addPoint("render-xma-private-attachment-preview"),d==null?void 0:d.endSuccess({bool:{is_private_xma_preview:!0}})},[d]);a=new(c("IconSource"))("FB",i("1423125"),32);b=b.defaultCtaType;if(b==="xma_montage_share")return k.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x1qb2erx xjw5052 x78zum5 xdt5ytf x1dr9wh xl56j7k x2b8uid xni59qk"},{children:k.jsx("div",babelHelpers["extends"]({className:"x14vqqas xq8finb xod5an3 x16n37ib"},{children:k.jsx(c("MWXIcon.react"),{icon:a})}))}));b=h._(/*BTDS*/"__JHASH__EXLuTpYr-at__JHASH__");return k.jsxs("div",babelHelpers["extends"]({className:"x6s0dn4 xzudefj x78zum5 xdt5ytf xl56j7k x2b8uid x1iu8u7t xh8yej3"},{children:[k.jsx("div",babelHelpers["extends"]({className:"x14vqqas xq8finb xod5an3 x16n37ib"},{children:k.jsx(c("MWXIcon.react"),{icon:a})})),k.jsx(c("MWXText.react"),{color:"white",type:"bodyLink4",children:b})]}))}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.attachment,d=a.attachmentItem,e=a.isPressable,f=a.mediaRenderQpl;a=a.showPreview;l(function(){f==null?void 0:f.addPoint("render-xma-private-attachment-private-body")},[f]);return k.jsxs(c("MWXMAAttachmentActionTrigger.react"),{attachment:b,attachmentItem:d,isPressable:e,children:[k.jsx(k.Fragment,{children:a===!0&&k.jsx(n,{attachment:b,mediaRenderQpl:f})}),k.jsx("div",babelHelpers["extends"]({className:"x78zum5 x1q0g3np x1iyjqo2 xw3qccf"},{children:k.jsx("div",babelHelpers["extends"]({className:"x78zum5 xdt5ytf x1iyjqo2 xl56j7k x14vqqas xq8finb xod5an3 x16n37ib x193iq5w xisnujt x1jzhcrs xh8yej3"},{children:k.jsx(c("MWXText.react"),{type:"meta4",children:h._(/*BTDS*/"__JHASH__N1DOsSnTIti__JHASH__")})}))}))]})}o.displayName=o.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXMAAttachmentItem.react",["I64","LSIntEnum","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","MAWXMAUtils","MNLSXMALayoutType","MWCMThreadTypes.react","MWLSThreadDisplayContext","MWPBaseXMAAttachmentItem.react","MWPThreadCapabilitiesContext","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemDefaultXMAContent.react","MWXMAPrivateAttachment.react","ReQL","ReQLSuspense","WAArmadilloXMA.pb","react","stylex","useReStore","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=l||(l=d("react"));b=l;var n=b.useCallback,o=b.useEffect,p={root:{display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",$$css:!0},withBorder:{borderTopColor:"x1exxf4d",borderEndColor:"x1y71gwh",borderBottomColor:"x1nb4dca",borderStartColor:"xu1343h",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",$$css:!0}},q=new Set(["xma_rtc_video","xma_rtc_missed_video","xma_rtc_missed_group_video","xma_rtc_ended_video","xma_rtc_new_video_default","xma_rtc_new_video_from_fb_share","xma_rtc_new_video_from_fb_video_share","xma_rtc_new_video_from_cowatch_share","xma_rtc_cowatch_start_video"]),r=new Set(["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_missed_group_audio","xma_rtc_ended_audio","xma_rtc_new_audio_default","xma_rtc_new_audio_from_fb_share","xma_rtc_new_audio_from_fb_video_share","xma_rtc_new_audio_from_cowatch_share"]);function a(a){var b=a.attachment,e=a.attachmentItem,g=a.bodyLineLimit;g=g===void 0?3:g;var l=a.cardWidth;l=l===void 0?300:l;var s=a.ctaPopoverMenu,t=a.facepiles,u=a.getFaviconUrlXMA,v=a.getHeaderUrlXMA;v=v===void 0?d("LSMediaUrlAttachment").headerImageUrl:v;var w=a.getPreviewUrlXMA,x=a.headlineLineLimit;x=x===void 0?3:x;var y=a.isHscroll,z=a.isStandalone,A=a.mediaRenderQpl,B=a.onPollOptionFacepilePress,C=a.outgoing;C=C===void 0?!1:C;a=a.xmaLayout;a=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;var D=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),E=D.rtcVideoCallEnabled;D=D.rtcVoiceCallEnabled;var F=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="Inbox",G=n(function(a,b,c,e){a=d("MWPBaseXMAAttachmentItem.react").getXMAAttachmentItemPreview({attachment:a,attachmentItem:b,description:"MWXMAAttachmentItem.getDefaultUrl - "+c,mediaRenderQpl:e,preferLargePreview:F});switch(a.type){case"Video":case"Image":return a.url;case"Unsupported":return}},[F]),H=(h||(h=c("useReStore")))(),I=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(H.tables.threads,["threadType"]).getKeyRange(b.threadKey)},[H,b.threadKey],f.id+":131"),J=b.defaultCtaType,K=J!=null?r.has(J)&&!D||q.has(J)&&!E:!1;J=(D=b.shouldAutoplayVideo)!=null?D:!1;E=J&&b.attributionAppIcon!=null&&b.attributionAppName!=null;D=(k||(k=c("stylex")))(p.root,E?p.withBorder:!1);J=e.attachmentCta1Id!=null;var L=b.gatingType===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE.toString(),M=I?d("MWCMThreadTypes.react").isUnjoinedCMThread(I.threadType):!1,N=(i||(i=d("I64"))).equal((E=b.xmaLayoutType)!=null?E:(i||(i=d("I64"))).zero,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").THREAD_SHORTCUT)),O=b.cta1Type==="xma_join_community"||b.cta1Type==="xma_join_community_chat";E=M&&N||K||O;var P=F&&d("MAWXMAUtils").isXMAContactShare(b.xmaContentType)?"horizontal":"vertical";o(function(){return A==null?void 0:A.addPoint("render-xma-attachment-item",{bool:{is_join_xma:O,is_private_xma:L,is_rtc_xma_disabled:K,is_subthread_xma:N,is_unjoined_cm_thread:M}})},[A,K,L,M,N,O]);return m.jsx(c("MWXMAAttachmentActionTrigger.react"),{attachment:b,attachmentItem:e,isPressable:!J&&!E,children:m.jsx("div",{className:D,"data-testid":void 0,children:L?m.jsx(c("MWXMAPrivateAttachment.react"),{attachment:b,attachmentItem:e,getPreviewUrlXMA:(D=w)!=null?D:G,isPressable:J&&!E,mediaRenderQpl:A}):m.jsx(c("MWXMAAttachmentItemDefaultXMAContent.react"),{attachment:b,attachmentItem:e,bodyLineLimit:g,buttonLayout:P,cardWidth:l,ctaPopoverMenu:s,facepiles:t,getFaviconUrlXMA:(D=u)!=null?D:function(a,b){return(a=(a=d("LSMediaUrlAttachment").faviconUrl(a))!=null?a:d("LSMediaUrlAttachmentItem").faviconUrl(b))!=null?a:""},getHeaderUrlXMA:v,getPreviewUrlXMA:(e=w)!=null?e:G,headlineLineLimit:x,isHscroll:y,isPressable:J&&!E,isStandalone:z,mediaRenderQpl:A,onPollOptionFacepilePress:B,outgoing:C,threadType:I==null?void 0:I.threadType,xmaLayout:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentHorizontalItems.react",["fbt","AdsMessengerContext.react","FDSHScroll.react","I64","MWXMAAttachmentItem.react","MWXMessageBubbleCornerStyles.react","gkx","justknobx","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m=284,n={centerElement:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",$$css:!0},firstElement:{borderBottomEndRadius:"xrt01vj",borderTopEndRadius:"x1yr5g0i",borderTopStartRadius:"x1lcm9me",$$css:!0},flexibleContainer:{"@media (max-width: 1439px)_maxWidth":"x1bu0bv6","@media (min-width: 1440px)_maxWidth":"x6vbh5p",$$css:!0},hScrollContainerPadding:{paddingBottom:"x18d9i69",paddingTop:"xexx8yu",$$css:!0},lastElement:{borderBottomStartRadius:"x10y3i5r",borderTopStartRadius:"x1lcm9me",$$css:!0},spacer:{marginTop:"xifccgj",$$css:!0}};function a(a){var b=a.attachmentItems,e=a.fullWidthContainer;e=e===void 0?!1:e;var f=a.hasText,g=f===void 0?!1:f,k=a.xstyle,o=a.cardWidth,p=babelHelpers.objectWithoutPropertiesLoose(a,["attachmentItems","fullWidthContainer","hasText","xstyle","cardWidth"]);f=d("AdsMessengerContext.react").useAdsMessengerContext();a=f.isMessengerInAds;var q=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles();f=c("justknobx")._("3407")&&c("gkx")("8519");return l.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(!e&&n.flexibleContainer),{children:l.jsx(d("FDSHScroll.react").Container,{accessibilityLabel:h._(/*BTDS*/"__JHASH__grvWiY5ySlo__JHASH__"),cardWidth:o!=null?{type:"fixed",width:o}:{minWidth:m,type:"responsive"},containerXStyle:a&&f?n.hScrollContainerPadding:void 0,gap:8,children:b.map(function(a,e){var f=e===0;e=e===b.length-1;var h=!f&&!e;return l.jsx(d("FDSHScroll.react").Child,{expanding:!0,children:l.jsx("div",babelHelpers["extends"]({className:"xjbqb8w x5yr21d xh8yej3"},{children:l.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(q,k,f&&g&&n.firstElement,e&&g&&n.lastElement,h&&g&&n.centerElement,g&&n.spacer),{children:l.jsx(c("MWXMAAttachmentItem.react"),babelHelpers["extends"]({},p,{attachmentItem:a,cardWidth:o,isStandalone:!1}))}))}))},(j||(j=d("I64"))).to_string(a.attachmentIndex))})})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWPResponsiveImageGrid.react",["BaseImage.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={gridImage:{bottom:"x1ey2m1c",height:"x5yr21d",end:"xds687c",start:"x17qophe",left:null,right:null,objectFit:"xl1xv1r",objectPosition:"x115dhu7",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0}};function a(a){a=a.urls;return i.jsx("ul",babelHelpers["extends"]({className:"x78zum5 x1a02dak x8182xy x1kgmq87"},{children:a.map(function(a){return i.createElement("li",babelHelpers["extends"]({className:"x1yu6fn4"},{key:a}),i.jsx("div",babelHelpers["extends"]({className:"xqtp20y x12mruv9 xr9ek0c x1vrad04 x1n2onr6"},{children:i.jsx(c("BaseImage.react"),{src:a,xstyle:j.gridImage})})))})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPXMAIgProfile.react",["MWPResponsiveImageGrid.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo,k=function(a){a=a.previewUrl;return a};function a(a){var b=a.attachmentItems;a=j(function(){return b.map(k).filter(Boolean)},[b]);return i.jsx("div",babelHelpers["extends"]({className:"x193iq5w xgqtt45 xdzyupr"},{children:i.jsx(c("MWPResponsiveImageGrid.react"),{urls:a})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemIgProfile.react",["LSMediaUrlAttachment","MWPXMAIgProfile.react","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemHeader.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useEffect;function a(a){var b=a.attachment,e=a.attachmentItems,f=a.getHeaderUrlXMA;f=f===void 0?d("LSMediaUrlAttachment").headerImageUrl:f;var g=a.mediaRenderQpl;a=a.xstyle;k(function(){g==null?void 0:g.endSuccess()},[g]);var i=e[0];return j.jsx(c("MWXMAAttachmentActionTrigger.react"),{attachment:b,attachmentItem:i,isPressable:!0,children:j.jsxs("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(a),{"data-testid":void 0,children:[j.jsx(c("MWXMAAttachmentItemHeader.react"),{attachment:b,getHeaderUrlXMA:f,isSecureThread:!1,mediaRenderQpl:g}),j.jsx(c("MWPXMAIgProfile.react"),{attachmentItems:e})]}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChannelPromptTimerPill.react",["fbt","I64","MWXText.react","formatDate","react","stylex","useServerTime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||d("react"),m={blue:{backgroundColor:"xwnonoy",$$css:!0},gray:{backgroundColor:"x1d2osyd",$$css:!0},timerPillContainer:{borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",height:"x1qx5ct2",justifyContent:"xl56j7k",marginBottom:"x1e56ztr",marginTop:"x1gslohp",marginEnd:"xkrivgy",marginStart:"x1gryazu",maxWidth:"x10aut6u",paddingEnd:"x1sxyh0",paddingStart:"xurb0ha",width:"xeq5yr9",$$css:!0}};function a(a){a=a.countdownTimestampMs;a=(k||(k=d("I64"))).to_float(a);var b=new Date(a),e=c("useServerTime")();a=e.getTime()>=a;e=b.getDay()!==e.getDay();e=a?h._(/*BTDS*/"__JHASH__ZVTrlU5XFyD__JHASH__"):e?h._(/*BTDS*/"__JHASH__n-gZnixlPi3__JHASH__"):h._(/*BTDS*/"__JHASH__mdS85EDmHlw__JHASH__",[h._param("time",c("formatDate")(b,"g:i A"))]);return l.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(m.timerPillContainer,a?m.gray:m.blue),{children:l.jsx(c("MWXText.react"),{color:"white",numberOfLines:1,type:"meta4",children:e})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWRollCallTimerPill.react",["fbt","I64","MWXText.react","react","useInterval"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));b=i;var l=b.useMemo,m=b.useState;function n(a){var b=1e3,c=b*60,d=c*60,e=d*24;a=a;var f=Math.floor(a/e);a-=f*e;e=Math.floor(a/d);a-=e*d;d=Math.floor(a/c);a-=d*c;c=Math.floor(a/b);a-=c*b;return{days:f,hours:e,minutes:d,seconds:c}}function a(a){var b=a.attachment;a=l(function(){var a;return(j||(j=d("I64"))).to_float((a=b.countdownTimestampMs)!=null?a:(j||(j=d("I64"))).zero)},[b.countdownTimestampMs]);var e=m(Date.now()),f=e[0],g=e[1];e=f>a;c("useInterval")(function(){g(Date.now())},e?6e4:1e3,[g]);if(!e){e=n(a-f);var i=e.minutes;e=e.seconds;i=("0"+i).slice(-2)+":"+("0"+e).slice(-2)}else if(b.cta1Type==="xma_roll_call_open_viewer")i=h._(/*BTDS*/"__JHASH__iEcmesFoHMR__JHASH__");else{e=n(f-a);f=e.days;a=e.hours;e=e.minutes;f>30?i=h._(/*BTDS*/"__JHASH__FgpGUEY9N0G__JHASH__"):f>0?i=h._(/*BTDS*/"__JHASH__UZjF4IaHC-f__JHASH__",[h._param("days",f)]):a>0?i=h._(/*BTDS*/"__JHASH__4LZO7x78s0P__JHASH__",[h._param("hours",a)]):i=h._(/*BTDS*/"__JHASH__JXYYWJwIx9x__JHASH__",[h._param("minutes",Math.max(1,e))])}return k.jsx("div",babelHelpers["extends"]({className:"x1h0vfkc x1a2cdl4 xnhgr82 x1qt0ttw xgk8upj x9f619 x78zum5 xdt5ytf x1qx5ct2 xl56j7k xkrivgy x1gryazu x1sxyh0 xurb0ha xeq5yr9"},{children:k.jsx(c("MWXText.react"),{numberOfLines:1,type:"meta4",children:i})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXMAAttachmentSharedStackFrontCard.react",["CometContainerPressable.react","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MWChannelPromptTimerPill.react","MWChatPollFacepile.react","MWLSThread","MWPAttachmentDataContext","MWRollCallTimerPill.react","MWXMAAttachmentItemCtaButton.react","MWXSpinner.react","MWXText.react","MessengerWebUXLoggerXMAEventLoggingImpl","ReQL","ReQLSuspense","getLSMediaAttachmentAvatarViewUrlList","react","stylex","useCurrentDisplayMode","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=l||(l=d("react")),n=l.useEffect,o={containerPressable:{height:"x5yr21d",$$css:!0},frontCard:{backgroundColor:"x9bbmet",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",boxShadow:"x28gwc1",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x1odjw0f",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",width:"xh8yej3",$$css:!0},frontCardDarkMode:{boxShadow:"xdxoyvu",$$css:!0}};function a(a){var b=a.attachment,e=a.mediaRenderQpl;a=a.xstyle;var g=c("getLSMediaAttachmentAvatarViewUrlList")(b),l=d("MWPAttachmentDataContext").useMWPGetAttachmentCTAs(b);l=l.attachmentCta1;var p=(h||(h=c("useReStore")))(),q=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(p.tables.messages.index("messageId")).getKeyRange(b.messageId)},[p,b.messageId],f.id+":87"),r=d("MWLSThread").useThread(b.threadKey,function(a){return a.threadType});q=d("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventsImpressionLoggerRef({attachment:b,clickCategory:1,message:q,threadType:r});var s=(j||(j=d("LSIntEnum"))).toNumber(b.authorityLevel)===c("LSAuthorityLevel").OPTIMISTIC,t=c("useCurrentDisplayMode")()==="dark",u=r===void 0?!1:d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(r),v=b.countdownTimestampMs;v=v!=null&&!(k||(k=d("I64"))).equal(v,(k||(k=d("I64"))).zero)?u?m.jsx(c("MWChannelPromptTimerPill.react"),{countdownTimestampMs:v}):m.jsx(c("MWRollCallTimerPill.react"),{attachment:b}):null;n(function(){e==null?void 0:e.endSuccess()},[e]);t=m.jsxs("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(o.frontCard,t&&o.frontCardDarkMode,a),{ref:q,children:[v,m.jsx("div",babelHelpers["extends"]({className:"x78zum5 xdt5ytf x1iyjqo2 x1xmf6yo"},{children:m.jsx(c("MWXText.react"),{align:"center",numberOfLines:3,type:"headlineEmphasized4",children:b.titleText})})),m.jsx("div",babelHelpers["extends"]({className:"xr1yuqi xkrivgy x4ii5y1 x1gryazu"},{children:s?m.jsx(c("MWXSpinner.react"),{color:"disabled",size:24}):m.jsx(c("MWChatPollFacepile.react"),{contacts:g.map(function(a){return{name:void 0,profile_picture_url:a}}),countOverride:u&&b.avatarCount!=null?(k||(k=d("I64"))).to_float(b.avatarCount):void 0,direction:"reversed",gap:"negative",isPrompt:u,limit:u?3:void 0,size:u?"mediumLarge":"large"})})),m.jsx("div",babelHelpers["extends"]({className:"x1xmf6yo"},{children:l!=null&&b.cta1Title!=null&&b.cta1Type!=null?m.jsx(c("MWXMAAttachmentItemCtaButton.react"),{attachmentCta:l,messageId:b.messageId,threadKey:b.threadKey,title:b.cta1Title,type:b.cta1Type}):null}))]}));a=r===void 0?!1:d("LSMessagingThreadTypeUtil").isJoinedDiscoverablePublicBroadcastChannel(r);return a?m.jsx(c("CometContainerPressable.react"),{xstyle:o.containerPressable,children:t}):t}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentSharedStackItem.react",["Locale","MWXMAAttachmentItem.react","MWXMAAttachmentSharedStackConstants","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={stackItem:{borderTopStartRadius:"x107yiy2",borderTopEndRadius:"xv8uw2v",borderBottomEndRadius:"x1tfwpuw",borderBottomStartRadius:"x2g32xy",bottom:"x1ey2m1c",boxShadow:"x28gwc1",start:"x17qophe",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",$$css:!0}};function a(a){var b=a.attachment,e=a.attachmentItem,f=a.index,g=a.mediaRenderQpl,i=a.totalItems;a=a.xstyle;var l=f%2===0?-4:4,m=0,n=0;switch(f){case 0:m=0;n=-12;break;case 1:m=58;n=-20;break;case 2:m=34;n=-28;break}d("Locale").isRTL()&&(m*=-1,l*=-1);return(b.defaultCtaType==="xma_prompt_open_viewer_for_text"||b.defaultCtaType==="xma_roll_call_open_viewer")&&e.previewUrl===void 0&&e.titleText===void 0?null:j.jsx("div",{className:(h||(h=c("stylex")))(k.stackItem,a),style:{height:d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_HEIGHT,transform:"rotate("+l+"deg) translateX("+m+"px) translateY("+n+"px)",width:d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_WIDTH,zIndex:i-f},children:j.jsx(c("MWXMAAttachmentItem.react"),{attachment:b,attachmentItem:e,cardWidth:d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_WIDTH,isHscroll:!1,isStandalone:!1,mediaRenderQpl:g})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentSharedStackLayout.react",["LSMessagingThreadTypeUtil","MWLSThread","MWXMAAttachmentSharedStackConstants","MWXMAAttachmentSharedStackItem.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useMemo,l={centered:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",$$css:!0},stackContainer:{position:"x1n2onr6",$$css:!0}};function a(a){var b,e=a.attachment,f=a.attachmentItems,g=a.centered;g=g===void 0?!1:g;var i=a.children;a=a.xstyle;b=(b=d("MWLSThread").useThread(e.threadKey,function(a){return d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)}))!=null?b:!1;var m=b?f.slice(1,4):f.slice(0,3);b=k(function(){switch(m.length){case 0:return d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_HEIGHT+8;case 1:return d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_HEIGHT+20;case 2:return d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_HEIGHT+30;default:return d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_HEIGHT+40}},[m.length]);f=d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_WIDTH+64;return j.jsxs("div",{className:(h||(h=c("stylex")))(l.stackContainer,a,g&&l.centered),style:{height:b,width:f},children:[m.map(function(a,b){return j.jsx(c("MWXMAAttachmentSharedStackItem.react"),{attachment:e,attachmentItem:a,index:b,mediaRenderQpl:null,totalItems:m.length},b)}),j.jsx("div",{className:"x1ey2m1c x10l6tqk x3f4u1h",style:{height:d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_HEIGHT,width:d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_WIDTH,zIndex:m.length+1},children:i})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentSubthreadShortcutLayout.react",["MWXMessageBubbleCornerStyles.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={background:{backgroundColor:"x1xr0vuk",$$css:!0},centered:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",$$css:!0},outgoingBackground:{backgroundAttachment:"x1nr1p0w",backgroundColor:"x11jlvup",backgroundImage:"xl54vp5",color:"x14ctfv",$$css:!0}};function a(a){var b=a.children,e=a.outgoing;a=a.xstyle;var f=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles();return j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(f,a,k.centered,e?k.outgoingBackground:k.background),{children:b}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentVerticalLayout.react",["CometPlaceholder.react","MWLSThreadDisplayContext","MWXGlimmer.react","MWXMessageBubbleCornerStyles.react","react","react-strict-dom","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={centered:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",$$css:!0},glimmer:{height:"x1m3v4wt",width:"xdzyupr",$$css:!0},glimmerChatTabWidth:{width:"x1t9vceh",$$css:!0},glimmerMissingPreview:{height:"xqvfhly",$$css:!0}};function a(a){var b=a.attachment,e=a.centered;e=e===void 0?!1:e;var f=a.children,g=a.connectBottom,h=a.connectTop,k=a.hasText;k=k===void 0?!1:k;var l=a.outgoing,m=a.xmaLayout;a=a.xstyle;l=l?"right":"left";k=k;l=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:l,connectBottom:g,connectTop:h,flatten:m!==d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&k?"top":"none"});g=[l,e&&j.centered];h=(b==null?void 0:b.previewHeightLarge)==null&&(b==null?void 0:b.previewHeight)==null;m=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="ChatTab";return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("MWXGlimmer.react"),{index:1,xstyle:[j.glimmer,m&&j.glimmerChatTabWidth,h&&j.glimmerMissingPreview].concat(g)}),name:"MWXMAAttachmentVerticalLayout",children:i.jsx(d("react-strict-dom").html.div,{style:[a,g],children:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachment.react",["I64","Int64Hooks","LSIntEnum","LSXmaContentType","MNLSXMALayoutType","MWLSThreadDisplayContext","MWPAttachmentDataContext","MWXMAAttachmentHorizontalItems.react","MWXMAAttachmentItem.react","MWXMAAttachmentItemIgProfile.react","MWXMAAttachmentSharedStackFrontCard.react","MWXMAAttachmentSharedStackLayout.react","MWXMAAttachmentSubthreadShortcutLayout.react","MWXMAAttachmentVerticalLayout.react","react","recoverableViolation","stylex","xmaAttachmentUtils","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||d("react");function m(a){return{attachmentCta1Id:a.attachmentCta1Id,attachmentCta2Id:a.attachmentCta2Id,attachmentCta3Id:a.attachmentCta3Id,attachmentFbid:a.attachmentFbid,attachmentIndex:a.attachmentIndex,cta1Title:a.cta1Title,cta1Type:a.cta1Type,cta2Title:a.cta2Title,cta2Type:a.cta2Type,cta3Title:a.cta3Title,cta3Type:a.cta3Type,dashManifest:a.dashManifest,defaultActionEnableExtensions:!1,defaultActionUrl:void 0,defaultButtonType:void 0,defaultCtaId:a.defaultCtaId,defaultCtaTitle:a.defaultCtaTitle,defaultCtaType:a.defaultCtaType,defaultWebviewHeightRatio:void 0,faviconUrl:a.faviconUrl,faviconUrlExpirationTimestampMs:a.faviconUrlExpirationTimestampMs,faviconUrlFallback:a.faviconUrlFallback,imageUrl:a.imageUrl,messageId:a.messageId,originalPageSenderId:a.originalPageSenderId,playableUrl:a.playableUrl,playableUrlExpirationTimestampMs:a.playableUrlExpirationTimestampMs,playableUrlFallback:a.playableUrlFallback,playableUrlMimeType:a.playableUrlMimeType,previewHeight:a.previewHeight,previewUrl:a.previewUrl,previewUrlExpirationTimestampMs:a.previewUrlExpirationTimestampMs,previewUrlFallback:a.previewUrlFallback,previewUrlLarge:a.previewUrlLarge,previewUrlMimeType:a.previewUrlMimeType,previewWidth:a.previewWidth,subtitleText:a.subtitleText,threadKey:a.threadKey,titleText:a.titleText}}var n={cardWidth:{maxWidth:"xw5ewwj",width:"xh8yej3",$$css:!0},cardWidthChatTab:{maxWidth:"x1i5r0r9",width:"xh8yej3",$$css:!0},liveCardWidth:{marginBottom:"x1e56ztr",width:"xdzyupr",$$css:!0},liveCardWidthChatTab:{marginBottom:"x1e56ztr",width:"x1t9vceh",$$css:!0},outgoing_xma:{marginStart:"x1gryazu",$$css:!0},storyCardWidth:{maxWidth:"x18qnofl",width:"xh8yej3",$$css:!0}},o={card:{height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",verticalAlign:"xxymvpz",$$css:!0},opaqueCard:{backgroundColor:"x1xr0vuk",$$css:!0},rootForHScrollInChatTab:{maxWidth:"xaka53j",$$css:!0}};function a(a){var b=a.attachment,e=a.bodyLineLimit,f=a.cardWidth,g=a.connectBottom,i=a.connectTop,p=a.ctaPopoverMenu,q=a.facepiles,r=a.fullWidthContainer;r=r===void 0?!1:r;var s=a.getFaviconUrlXMA,t=a.getHeaderUrlXMA,u=a.getPreviewUrlXMA,v=a.hasText;v=v===void 0?!1:v;var w=a.headlineLineLimit,x=a.mediaRenderQpl,y=a.onPollOptionFacepilePress,z=a.outgoing,A=a.xmaLayout;A=A===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:A;a=a.xstyle;var B=b.attachmentType,C=b.cta1Type,D=b.defaultCtaType,E=b.isBorderless,F=b.xmaContentType,G=b.xmaLayoutType,H=d("MWPAttachmentDataContext").useMWPGetAttachmentItems(b),I=d("Int64Hooks").useMemoInt64(function(){return G!=null?[(j||(j=d("I64"))).equal(G,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").HSCROLL)),(j||(j=d("I64"))).equal(G,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").XCENTER)),(j||(j=d("I64"))).equal(G,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").SINGLE)),(j||(j=d("I64"))).equal(G,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").SHARED_STACK)),(j||(j=d("I64"))).equal(G,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").THREAD_SHORTCUT)),(j||(j=d("I64"))).equal(G,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").STANDARD_DXMA))]:[!1,!1,!1]},[G]),J=I[0],K=I[1],L=I[2],M=I[3],N=I[4];I=I[5];var O=d("xmaAttachmentUtils").isLiveXMA(b),P=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),Q=null;M?Q=l.jsx(c("MWXMAAttachmentSharedStackLayout.react"),{attachment:b,attachmentItems:H,children:l.jsx(c("MWXMAAttachmentSharedStackFrontCard.react"),{attachment:b,mediaRenderQpl:x})}):N?Q=l.jsx(c("MWXMAAttachmentSubthreadShortcutLayout.react"),{outgoing:z,xstyle:o.card,children:l.jsx(c("MWXMAAttachmentItem.react"),{attachment:b,attachmentItem:H[0],bodyLineLimit:e,cardWidth:f,ctaPopoverMenu:p,facepiles:q,getFaviconUrlXMA:s,getHeaderUrlXMA:t,getPreviewUrlXMA:u,headlineLineLimit:w,isHscroll:J,isStandalone:!0,mediaRenderQpl:x,outgoing:z,xmaLayout:A})}):J?Q=l.jsx(c("MWXMAAttachmentHorizontalItems.react"),{attachment:b,attachmentItems:H,bodyLineLimit:e,cardWidth:f,ctaPopoverMenu:p,facepiles:q,fullWidthContainer:r,getFaviconUrlXMA:s,getHeaderUrlXMA:t,getPreviewUrlXMA:u,hasText:v,headlineLineLimit:w,isHscroll:J,mediaRenderQpl:x,xmaLayout:A,xstyle:[o.card,o.opaqueCard]}):L&&H.length===6?Q=l.jsx(c("MWXMAAttachmentVerticalLayout.react"),{attachment:b,centered:!0,connectBottom:g,connectTop:i,outgoing:z,xmaLayout:A,xstyle:[o.card,o.opaqueCard],children:l.jsx(c("MWXMAAttachmentItemIgProfile.react"),{attachment:b,attachmentItems:H,getHeaderUrlXMA:t,mediaRenderQpl:x})}):K&&H.length===1?Q=l.jsx(c("MWXMAAttachmentVerticalLayout.react"),{attachment:b,centered:!0,connectBottom:g,connectTop:i,outgoing:z,xmaLayout:A,xstyle:[o.card,o.opaqueCard],children:l.jsx(c("MWXMAAttachmentItem.react"),{attachment:b,attachmentItem:H[0],bodyLineLimit:e,cardWidth:f,ctaPopoverMenu:p,facepiles:q,getFaviconUrlXMA:s,getHeaderUrlXMA:t,getPreviewUrlXMA:u,headlineLineLimit:w,isHscroll:J,isStandalone:!0,mediaRenderQpl:x,onPollOptionFacepilePress:y,xmaLayout:A})}):H.length===0?Q=l.jsx(c("MWXMAAttachmentVerticalLayout.react"),{attachment:b,connectBottom:g,connectTop:i,hasText:v,outgoing:z,xmaLayout:A,xstyle:[o.card,E!==!0&&o.opaqueCard],children:l.jsx(c("MWXMAAttachmentItem.react"),{attachment:b,attachmentItem:m(b),bodyLineLimit:e,cardWidth:f,ctaPopoverMenu:p,facepiles:q,getFaviconUrlXMA:s,getHeaderUrlXMA:t,getPreviewUrlXMA:u,headlineLineLimit:w,isHscroll:J,isStandalone:!0,mediaRenderQpl:x,xmaLayout:A})}):H.length===1?Q=l.jsx(c("MWXMAAttachmentVerticalLayout.react"),{attachment:b,connectBottom:g,connectTop:i,hasText:v,outgoing:z,xmaLayout:A,xstyle:[o.card,o.opaqueCard],children:l.jsx(c("MWXMAAttachmentItem.react"),{attachment:b,attachmentItem:H[0],bodyLineLimit:e,cardWidth:f,ctaPopoverMenu:p,facepiles:q,getFaviconUrlXMA:s,getHeaderUrlXMA:t,getPreviewUrlXMA:u,headlineLineLimit:w,isHscroll:J,isStandalone:!0,mediaRenderQpl:x,outgoing:z,xmaLayout:A})}):(x==null?void 0:x.endFail("unknown_combination_of_xma_items_and_layout"),c("recoverableViolation")("Unknown combination of XMA items and layout. n Attachment Items: "+String(H.length)+", XMA Layout Type: "+(G==null?"na":(j||(j=d("I64"))).to_string(G))+", Attachment Type: "+(j||(j=d("I64"))).to_string(B)+",  XMA content Type: "+(F==null?"na":(j||(j=d("I64"))).to_string(F))+", default CTA type: "+(D==null?"na":D)+", CTA 1 type: "+(C==null?"na":C),"messenger_web_sharing",void 0,{trackOnly:!0}));M=F!=null&&(j||(j=d("I64"))).equal(F,(k||(k=d("LSIntEnum"))).ofNumber(c("LSXmaContentType").FB_STORY_MENTION));N=A===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?[n.cardWidth,z&&n.outgoing_xma]:M?n.storyCardWidth:n.cardWidth;r=P==="ChatTab";L=I?r?n.cardWidthChatTab:n.cardWidth:a;y=r?n.liveCardWidthChatTab:n.liveCardWidth;return l.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(J&&r&&o.rootForHScrollInChatTab,!J&&!K&&!O&&N,O?y:L),{children:Q}))}a.displayName=a.name+" [from "+f.id+"]";g.xmaCardStyles=n;g.MWXMAAttachment=a}),98);
__d("CSFBChatMessageAttachment.react",["MWMessageListAttachmentContainer.react","QPLUserFlow","qpl","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect,k=c("qpl")._(146873164,"721");function a(a){var b=a.connectBottom,d=a.connectTop,e=a.message;a=a.outgoing;j(function(){return c("QPLUserFlow").addPoint(k,"attachment_rendered",{data:{string:{message_id:e.messageId}}})});return i.jsx(c("MWMessageListAttachmentContainer.react"),{connectBottom:b,connectTop:d,hasText:!0,mediaRenderQpl:null,message:e,outgoing:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatSingleSeenHead.react",["MDSGlimmer.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.altText,e=a.head,f=a.tabIndex;a=a.xstyle;return e.imageSrc===""?i.jsx(c("MDSGlimmer.react"),{index:1,xstyle:j.profilePlaceholder}):i.jsx(d("react-strict-dom").html.img,{alt:b,"data-testid":void 0,height:14,src:e.imageSrc,style:[j.image,a],tabIndex:f,width:14})}a.displayName=a.name+" [from "+f.id+"]";var j={image:{borderTopStartRadius:"x1rcc7c0",borderTopEndRadius:"xbtbmw4",borderBottomEndRadius:"x1lie4ck",borderBottomStartRadius:"x16hxpj1",height:"x1v9usgg",objectFit:"xl1xv1r",userSelect:"x87ps6o",verticalAlign:"x11njtxf",width:"x6jxa94",$$css:!0},profilePlaceholder:{borderTopStartRadius:"x1rcc7c0",borderTopEndRadius:"xbtbmw4",borderBottomEndRadius:"x1lie4ck",borderBottomStartRadius:"x16hxpj1",height:"x1v9usgg",verticalAlign:"x3ajldb",width:"x6jxa94",$$css:!0}};g["default"]=a}),98);
__d("MWMessageDeliveryStatusIcons",["cr:4125"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:4125")}),98);
__d("MWTheme.react",["I64","cr:4128","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h,l=k.createContext,m=k.useContext,n=k.useEffect,o=k.useMemo;function a(a,b){a=a!=null?a:.4;var c=parseInt(b.slice(1,3),16),d=parseInt(b.slice(3,5),16);b=parseInt(b.slice(5,7),16);a=a.toFixed(4);return"rgba("+c+","+d+","+b+","+a+")"}function e(a){return a.type==="solid"?a.color:a.colors[0]}function p(a){return"#"+a.slice(2)}function q(a){a=(i||(i=d("I64"))).to_int32(a);var b=(a&16711680)>>>16,c=(a&65280)>>>8;a=a&255;var e=function(a){return a.toString(16).padStart(2,"0")};return"#"+(e(b)+(e(c)+e(a)))}var r=l({clearTheme:c("emptyFunction"),setTheme:c("emptyFunction"),theme:b("cr:4128")});function s(){return m(r).theme}function t(){var a=m(r),b=a.clearTheme;a=a.setTheme;n(function(){return b},[b]);return[a,b]}function u(a){var b=a.children,d=a.clearTheme,e=a.setTheme,f=a.theme;a=o(function(){var a;return{clearTheme:(a=d)!=null?a:c("emptyFunction"),setTheme:(a=e)!=null?a:c("emptyFunction"),theme:f}},[d,e,f]);return j.jsx(r.Provider,{value:a,children:b})}u.displayName=u.name+" [from "+f.id+"]";function v(a){return a.type==="gradient"}g.defaultTheme=b("cr:4128");g.lighten=a;g.top=e;g.aRGBtoHex=p;g.intToHex=q;g.useTheme=s;g.usePreview=t;g.MWThemeProvider=u;g.isGradient=v}),98);
__d("MWChatGutterItem.react",["MWChatSingleSeenHead.react","MWLSThreadDisplayContext","MWMessageDeliveryStatus","MWMessageDeliveryStatusIcons","MWTheme.react","MWXTooltip.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={icon:{display:"x78zum5",flexShrink:"x2lah0s",height:"x1v9usgg",marginEnd:"xw3qccf",marginStart:"xsgj6o6",userSelect:"x87ps6o",verticalAlign:"x11njtxf",width:"x6jxa94",$$css:!0},incoming:{flexDirection:"x15zctf7",$$css:!0},mask:{backgroundColor:"x1eb86dx",$$css:!0},root:{alignItems:"xuk3077",display:"x78zum5",$$css:!0},singleSeenHead:{marginEnd:"xw3qccf",marginStart:"xsgj6o6",$$css:!0}};function l(a){var b=a.iconStyle,d=a.status;a=a.tooltipText;b=[k.icon,b];switch(d.type){case"Sending":return j.jsx(c("MWMessageDeliveryStatusIcons").SendingIcon,{size:12,xstyle:b});case"Sent":return j.jsx(c("MWMessageDeliveryStatusIcons").SentIcon,{size:12,xstyle:b});case"Delivered":return j.jsx(c("MWMessageDeliveryStatusIcons").DeliveredIcon,{size:12,xstyle:b});case"Error":return j.jsx(c("MWMessageDeliveryStatusIcons").ErrorIcon,{size:12,title:a.toString(),xstyle:k.icon})}return null}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.title,d=a.status;a=babelHelpers.objectWithoutPropertiesLoose(a,["title","status"]);switch(d.type){case"NoneStatus":return j.jsx("div",{className:"x2lah0s x17z2i9w"});case"SingleSeenHead":return j.jsx(c("MWChatSingleSeenHead.react"),{altText:b,head:d.head,xstyle:k.singleSeenHead});case"DeliveredAndRead":return j.jsx(c("MWMessageDeliveryStatusIcons").DeliveredAndReadIcon,{size:12,xstyle:k.icon});case"MultipleSeenHeads":case"SeenCount":case"Loading":case"RetriableError":return null}return j.jsx("div",{children:j.jsx(l,babelHelpers["extends"]({},a,{status:d}))})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.tooltipText,e=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return b!==""?j.jsx(c("MWXTooltip.react"),{align:e==="Inbox"?"middle":"end",position:"above",tooltip:b,children:j.jsx(m,babelHelpers["extends"]({},a))}):j.jsx(m,babelHelpers["extends"]({},a))}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.errorMessage,e=a.hasRepliedToMessage;e=e===void 0?!1:e;var f=a.iconStyle,g=a.id;g=g===void 0?"":g;var i=a.incoming;i=i===void 0?!1:i;var l=a.status;a=a.xstyle;a=a===void 0?!1:a;var m=d("MWTheme.react").useTheme();m=d("MWTheme.react").isGradient(m);var o=d("MWMessageDeliveryStatus").getStatusTitle(l);b=l.type==="Error"&&b!=null?b:o;return j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.root,m&&!e?k.mask:!1,i?k.incoming:!1,a),{"data-testid":void 0,id:g,role:"none",children:j.jsx(n,{iconStyle:f,status:l,title:o,tooltipText:b})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWIsFBXMA",["LSIntEnum","LSXmaContentType"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){if(a==null)return!1;switch((h||(h=d("LSIntEnum"))).toNumber(a)){case c("LSXmaContentType").FB_FEED_SHARE:case c("LSXmaContentType").FB_SHORT:case c("LSXmaContentType").MSG_RECEIVER_FETCH:return!0;default:return!1}}g.isFBXMA=a}),98);
__d("MAWIsReceiverFetchXmaInLoadingState",["I64","LSIntEnum","LSXmaContentType","gkx","isReceiverFetchReceivingEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){a=(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(536870912));return a&&c("gkx")("7835")?(b==null?void 0:b.xmaDataclass)==null:a&&((b==null?void 0:b.xmaContentType)==null||(i||(i=d("LSIntEnum"))).toNumber(b==null?void 0:b.xmaContentType)===c("LSXmaContentType").MSG_RECEIVER_FETCH)&&c("isReceiverFetchReceivingEnabled")(!0)}g.isReceiverFetchXmaInLoadingState=a}),98);
__d("MWUnvaultedText",["cr:2472","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo,j=function(a,c){if(b("cr:2472")==null||c==null||c==="")return c;return a?b("cr:2472").unvaultOrThrow(c):b("cr:2472").unvault(c,!0)};function a(a,b){var c=i(function(){return j(a,b)},[a,b]);return c}g.getMWUnvaultedText=j;g.useMWUnvaultedText=a}),98);
__d("MWPMessageParsingUtils",["I64","LSBitFlag","LSIntEnum","LSMessageReplySourceTypeV2","MWPMessageHasXMA","MWUnvaultedText","gkx","isStringNullOrEmpty","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=280,k=3e5;function l(a){return!c("isStringNullOrEmpty")(a.text)}function m(a){a=a.replySourceTypeV2;return a==null?!1:!(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD))}function n(a){a=a.replySourceTypeV2;return a==null?!1:(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD))}function o(a){a=a.text;c("justknobx")._("3406")&&c("gkx")("8519")&&(a=d("MWUnvaultedText").getMWUnvaultedText(!1,a));return((a=a)!=null?a:"").length>j}var p=[128,256,65536,131072,262144,524288,4294967296,1048576,2097152,4194304,8388608,16777216,33554432,67108864,1073741824,4096,512].filter(Boolean);function q(a){return a.isAdminMessage||p.some(function(b){return d("LSBitFlag").has((i||(i=d("LSIntEnum"))).ofNumber(b),a.displayedContentTypes)})||o(a)}function r(a,b){return c("justknobx")._("3622")&&c("MWPMessageHasXMA")(a)&&c("MWPMessageHasXMA")(b)}function s(a,b){if(b===void 0)return!0;var c=Math.abs((h||(h=d("I64"))).to_float(a.timestampMs)-h.to_float(b.timestampMs))>k,e=n(a),f=h.equal(a.senderId,b.senderId);if(b.isUnsent||a.isUnsent||b.isExpired||r(b,a)||a.isExpired||m(a)||!f||c||e||q(a))return!0;else return q(b)}function t(a,b){return b==null||s(a,b)}function u(a,b){return b==null||s(b,a)}function a(a,b,c){return c==="below"?l(a)?!0:!t(a,b):!1}function b(a,b,c){if(c==="below")return!u(a,b);else if(u(a,b))return!1;else return l(a)}e={shouldConnectBottom:b,shouldConnectTop:a};g.hasText=l;g.isReplyToSomething=m;g.isForwarded=n;g.isLongText=o;g.shouldBeStandalone=q;g.areXMAsAdjacent=r;g.isInDifferentGroup=s;g.isStartOfGroup=t;g.isEndOfGroup=u;g.MessageWithAttachments=e}),98);
__d("LSIssueReactionsV2DetailsUsersListFetch",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.filter(c.db.table(243).fetch([[[a[0],a[1]]]]),function(b){return c.i64.eq(a[0],b.threadId)&&a[1]===b.messageId&&c.i64.eq(a[2],b.reactionFbid)}).next().then(function(b,d){var e=b.done;b=b.value;return e?c.db.table(243).add({threadId:a[0],messageId:a[1],reactionFbid:c.i64.cast([0,0]),minTimestampMs:c.i64.cast([2147483647,4294967295]),hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!0,maxTimestampMs:c.i64.cast([2147483647,4294967295]),nextPageCursor:""}):(d=b.item,c.forEach(c.db.table(243).fetch([[[d.threadId,d.messageId,d.reactionFbid,d.minTimestampMs]]]),function(a){var b=a.update;a.item;return b({isLoadingBefore:!0})}))})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[1]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],void 0)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[1]=d[5])})},function(e){return d[3]=new c.Map(),d[3].set("thread_id",a[0]),d[3].set("message_id",a[1]),d[3].set("reaction_fbid",a[2]),d[3].set("cursor",a[3]),d[3].set("sync_group",d[1]),d[4]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"fetch_reactions_v2_details_users_list",c.i64.cast([0,577]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxIssueReactionsV2DetailsUsersListFetchStoredProcedure";a.__tables__=["reactions_v2_details_ranges_v2__generated","threads"];e.exports=a}),null);
__d("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure",["LSIssueReactionsV2DetailsUsersListFetch","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueReactionsV2DetailsUsersListFetch"),e.threadId,e.messageId,e.reactionFbid,e.nextPageCursor);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MWChatReactionsUtils",["MetaConfig","cr:3890"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("MetaConfig")._("58");return new Set(a.split(",").map(function(a){return{codepoints:[a.codePointAt(0)],id:a}}))}g.cUSTOM_REACTIONS_NUM=(d=b("cr:3890")).cUSTOM_REACTIONS_NUM;g.defaultStaticReactions=d.defaultStaticReactions;g.defaultCustomizableReactions=d.defaultCustomizableReactions;g.heartType1=d.heartType1;g.heartType2=d.heartType2;g.isHeart=d.isHeart;g.getHarmfulEmojisForBroadcastChannels=a}),98);
__d("MWMultiReactConstants",[],(function(a,b,c,d,e,f){"use strict";a=3;b=20;c=3;d=9;e=180;var g=2;f.DEFAULT_MAX_REACTION_PREVIEWED_ALLOWED=a;f.CM_MAX_REACTION_EMOJIS_ALLOWED=b;f.PUBLIC_CHANNELS_MAX_REACTIONS_EMOJIS_PREVIEWED_WHEN_COLLAPSED=c;f.SPACING_PER_COUNT_CHARACTER=d;f.REACTIONS_ROW_EXPAND_COLLAPSE_ANIMATION_TOTAL_DURATION=e;f.REACTION_BUTTON_BUBBLE_EASE_FACTOR=g}),66);
__d("MWReactionUtils",["LSMessagingThreadTypeUtil","MWCMThreadTypes.react","ReQL","ReQLSuspense","useIsMultiReactionEnabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e,g=(h||(h=c("useReStore")))(),i=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(b);e=(e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.threads,["threadSubtype","threadType"]).getKeyRange(b)},[g,b],f.id+":30"))!=null?e:{};var j=e.threadSubtype;e=e.threadType;if(!(e!=null&&d("LSMessagingThreadTypeUtil").isDiscoverableChannel(e))&&!(e!=null&&d("MWCMThreadTypes.react").isBroadcastThread(e))&&!(j!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(j)))return;if(i)return;a.sort(function(a,b){return a.count===b.count&&a.reactionLiteral!=null&&b.reactionLiteral!=null?a.reactionLiteral.localeCompare(b.reactionLiteral):b.count-a.count})}g.useSortReactionsForBroadcastChat=a}),98);
__d("useIsReactionDialogEnabled",["LSMessagingThreadTypeUtil","LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return(a=d("MWLSThread").useThread(a,function(a){return d("LSThreadBitOffset").has(184,a)||d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)}))!=null?a:!1}g["default"]=a}),98);
__d("MWPMessageReactions.react",["fbt","EmojiRenderer","I64","JSResourceForInteraction","LSFactory","LSIssueReactionsV2DetailsUsersListFetchStoredProcedure","LSMessagingThreadTypeUtil","LSPlatformWaitForTaskCompletion","MWChatReactionsUtils","MWLSThread","MWMultiReactConstants","MWReactionUtils","MWV2MessageRowIsRowFocusedContext.react","MWXPressable.react","ReQL","ReQLSuspense","emptyFunction","gkx","intlList","promiseDone","react","useIsMultiReactionEnabled","useIsReactionDialogEnabled","useIsReactionsV2Enabled","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k,n=m.useCallback,o=m.useContext,p=m.useDeferredValue,q=m.useMemo,r=m.useRef,s=m.useState,t=c("gkx")("24166")?d("MWChatReactionsUtils").heartType2:d("MWChatReactionsUtils").heartType1;function a(a){var b=(i||(i=c("useReStore")))(),e=p(d("ReQLSuspense").useArray(function(){if(a==null)return d("ReQL").empty();var c=a.messageId,e=a.threadKey;return d("ReQL").fromTableAscending(b.tables.reactions).getKeyRange(e,c).map(function(a){return d("MWChatReactionsUtils").isHeart(a.reaction)?{actorId:a.actorId,authorityLevel:a.authorityLevel,messageId:a.messageId,reaction:t,threadKey:a.threadKey,timestampMs:a.timestampMs}:a})},[a,b.tables.reactions],f.id+":64"));return e}function b(a){var b=(i||(i=c("useReStore")))(),e=a.messageId,g=a.threadKey;a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.tables.reactions_v2).getKeyRange(g,e)},[b,g,e],f.id+":91");return a}function e(a){var b=(i||(i=c("useReStore")))(),e=a.messageId,g=a.threadKey;a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.tables.reactions_v2).getKeyRange(g,e).filter(function(a){return(j||(j=d("I64"))).gt(a.count,j.zero)})},[b,g,e],f.id+":105");return a}function u(a,b){a=a!=null?c("intlList")(a.map(function(a){return a.join("")}),c("intlList").CONJUNCTIONS.AND,c("intlList").DELIMITERS.COMMA):"";return h._(/*BTDS*/"__JHASH__tSgM5wXgT0G__JHASH__",[h._plural(b,"number"),h._param("the comma separated list of emojis used to react on this message",a)])}function v(a){return a.map(function(a,b){b=d("EmojiRenderer").parse(a).map(function(a){return a.emoji});return b.length!==1?[""]:b[0]}).filter(function(a){return a.join("")!==""})}function w(a){var b=a.children,e=a.dialogResource,g=a.message,h=a.onPress;a.outgoing;var k=a.reactions,m=a.reactionsV2;a=a.shouldUseVariant16ForReactionsV2;var p=a===void 0?!1:a,t=g.messageId,w=g.threadKey;a=o(d("MWV2MessageRowIsRowFocusedContext.react").context);var x=a.setFocused,y=a.setIsDialogOpened,z=(i||(i=c("useReStore")))();a=s(!1);var A=a[0],B=a[1];a=function(){B(function(a){return!a})};var C=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(w),D=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(w),E=d("MWLSThread").useThread(w,function(a){return d("LSMessagingThreadTypeUtil").isDiscoverableChannel(a.threadType)}),F=D?d("MWMultiReactConstants").CM_MAX_REACTION_EMOJIS_ALLOWED:3,G=c("useIsReactionDialogEnabled")(w),H=r(new Map()),I=n(function(){C&&c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(z,function(a){return c("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure")(c("LSFactory")(a),{messageId:g.messageId,threadId:w})},"issueReactionsV2DetailsUsersListFetch").then(function(){return H.current.forEach(function(a){return a()})}))},[z,C,g.messageId,w]),J=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(z.tables.reactions_v2).getKeyRange(w,t).filter(function(a){return(j||(j=d("I64"))).gt(a.count,j.zero)}).map(function(a){var b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(z.tables.reaction_v2_types).getKeyRange(a.reactionFbid),f.id+":224");b=p?b==null?void 0:b.reactionLiteralVariant16:b==null?void 0:b.reactionLiteral;return babelHelpers["extends"]({},a,{count:(j||(j=d("I64"))).to_int32(a.count),reactionLiteral:b})})},[z,w,t,p],f.id+":218");d("MWReactionUtils").useSortReactionsForBroadcastChat(J,w);var K=Array.from(new Set(J.map(function(a){return(a=a.reactionLiteral)!=null?a:""})));E=D&&E===!0?K:K.slice(0,F);K=m!=null&&C?v(E):v(Array.from(new Set(k.map(function(a){a=a.reaction;return a}))).slice(0,F));E=m!=null&&C?(j||(j=d("I64"))).to_int32(J.reduce(function(a,b){return(j||(j=d("I64"))).add(a,j.of_int32(b.count))},(j||(j=d("I64"))).zero)):k.length;F=u(K,E);m=r(null);J=q(function(){return e!=null?e:C?c("JSResourceForInteraction")("MWBroadcastChatReactionsDialog.react").__setRef("MWPMessageReactions.react"):c("JSResourceForInteraction")("MWV2ChatReactionsDialog.react").__setRef("MWPMessageReactions.react")},[e,C]);var L=q(function(){return{message:g,onLoadComplete:function(a){H.current.set(a,a);return function(){H.current["delete"](a)}},thread:{threadKey:w}}},[g,w]),M=n(function(){y(function(){return!1}),x(function(){return!0})},[x,y]);J=c("useMWXLazyDialog")(J);var N=J[0],O=n(function(a){y(function(){return!0}),N(babelHelpers["extends"]({},L,{initialTab:a}),M),h==null?void 0:h(),I()},[L,M,h,y,N,I]);J={eventName:"open_message_reactions_dialog",threadKey:w};return D||!G?b(K,E,k,g,w,O,A,a):l.jsx(c("MWXPressable.react"),{"aria-label":F,loggingEvent:J,onPress:function(){return O()},overlayDisabled:!0,ref:m,children:b(K,E,k,g,w,O,!1,c("emptyFunction"))})}w.displayName=w.name+" [from "+f.id+"]";g.useReactions=a;g.useReactionsV2=b;g.useNonZeroCountReactionsV2=e;g.MWPMessageReactions=w}),226);
__d("isMWEditedMessage",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.editCount!=null&&(h||(h=d("I64"))).gt(a.editCount,(h||(h=d("I64"))).zero);return b&&!a.isUnsent}g["default"]=a}),98);
__d("MWPBaseMessageContent.react",["I64","LSReplyMessageAttachmentType","MAWIsFBXMA","MAWIsReceiverFetchXmaInLoadingState","MWPAttachmentDataContext","MWPMessageHasXMA","MWPMessageListColumn.react","MWPMessageParsingUtils","MWPMessageReactions.react","MWPThreadCapabilitiesContext","gkx","isMWBumpMessage","isMWEditedMessage","mwpMessageHasAttachment","mwpMessageIsReply","react","useXMAPreviewsDisabledSetting","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;var k=b.useContext,l=b.useEffect;function a(a){var b=a.attachmentRenderPosition,e=a.isEmojiOnly,f=a.isFirstMessageInGroup,g=a.isLastMessageInGroup,h=a.isMessagePinned,m=a.isNextMessagePinned,n=a.isSearchPluginAttachment,o=a.isSecureMessage,p=a.mediaRenderQpl,q=a.message,r=a.nextMessage,s=a.outgoing,t=a.prevMessage,u=a.renderAttachment,v=a.renderEmoji,w=a.renderMessageBubble,x=a.shouldRenderMessageContent;a=a.xmaLayout;var y=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();y=y.disableLinks;var z=c("mwpMessageIsReply")(q),A=c("isMWEditedMessage")(q),B=r!=null&&c("isMWEditedMessage")(r),C=d("MWPMessageParsingUtils").hasText(q),D=c("MWPMessageHasXMA")(q),E=d("MWPMessageReactions.react").useReactions(q);E=E.length>0;var F=d("MWPMessageReactions.react").useReactions(t);F=F.length>0;var G=c("gkx")("24165")&&y&&D&&q.textHasLinks;l(function(){p==null?void 0:p.addAnnotations({bool:{message_type_supports_attachment:c("mwpMessageHasAttachment")(q)}}),c("mwpMessageHasAttachment")(q)&&!G&&(p==null?void 0:p.addPoint("base-message-render-attachment"))},[p,q,G]);y=c("isMWBumpMessage")(q);var H=k(d("MWPAttachmentDataContext").MWPAttachmentDataContext);H=H.attachments;H=H!=null&&H.length>0?H[0]:null;var I=c("useXMAPreviewsDisabledSetting")();o=o===!0&&I&&d("MAWIsFBXMA").isFBXMA(H==null?void 0:H.xmaContentType);I=d("MAWIsReceiverFetchXmaInLoadingState").isReceiverFetchXmaInLoadingState(q.displayedContentTypes,H);H=!I&&!o&&!y&&D&&b==="below"&&!G&&!n;y=b==="below"?!z&&!f&&!h&&!A&&!F:!1;D=I||o||!g&&!m&&!B&&!E||(a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?H:!1);x?n=q.text!=null?e?z?j.jsx("div",babelHelpers["extends"]({className:"x1n2onr6 x1vjfegm"},{children:v(q)})):z?null:j.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[y?j.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}):null,j.jsx("div",babelHelpers["extends"]({className:"x1n2onr6 x1vjfegm"},{children:v(q)}))]}):q.text!==""?j.jsxs(j.Fragment,{children:[y||b==="above"?j.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}):null,j.jsxs("div",babelHelpers["extends"]({className:"x78zum5 xh8yej3"},{role:"none",children:[s?j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{paint:!z,children:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})}):null,w(q,y,D,H,s),s?null:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{paint:!z,children:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})})]}))]}):null:null:n=null;f=q.replyAttachmentType!==void 0&&(i||(i=d("I64"))).to_float(q.replyAttachmentType)===c("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION;var J;c("mwpMessageHasAttachment")(q)&&!G&&!f&&(J=u(d("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectTop(q,t,b),d("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectBottom(q,r,b),C));return j.jsxs(j.Fragment,{children:[b==="above"?J:null,n,b==="below"?J:null]})}a.displayName=a.name+" [from "+f.id+"]";g.MWPBaseMessageContent=a}),98);
__d("MWPBaseMessageContentWithPinnedMessageSupport.react",["MWPBaseMessageContent.react","react","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var b=a.attachmentRenderPosition,e=a.isEmojiOnly,f=a.isFirstMessageInGroup,g=a.isLastMessageInGroup,h=a.isSearchPluginAttachment,k=a.isSecureMessage,l=a.mediaRenderQpl,m=a.message,n=a.nextMessage,o=a.outgoing,p=a.prevMessage,q=a.renderAttachment,r=a.renderEmoji,s=a.renderMessageBubble,t=a.shouldRenderMessageContent,u=a.xmaLayout,v=c("useMWPIsMessagePinned")(m),w=c("useMWPIsMessagePinned")(n);return j(function(){return i.jsx(d("MWPBaseMessageContent.react").MWPBaseMessageContent,{attachmentRenderPosition:b,isEmojiOnly:e,isFirstMessageInGroup:f,isLastMessageInGroup:g,isMessagePinned:v,isNextMessagePinned:w,isSearchPluginAttachment:h,isSecureMessage:k,mediaRenderQpl:l,message:m,nextMessage:n,outgoing:o,prevMessage:p,renderAttachment:q,renderEmoji:r,renderMessageBubble:s,shouldRenderMessageContent:t,xmaLayout:u})},[b,e,h,f,g,v,w,k,l,m,n,o,p,q,r,s,t,u])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("mwpIsMessageUnsupported",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return(h||(h=d("I64"))).equal(a.displayedContentTypes,(h||(h=d("I64"))).zero)&&b.length===0}g["default"]=a}),98);
__d("mwv2MessageIsEmojiOnly",["EmojiRenderer","EmoticonRenderer","ReStoreVaulting"],(function(a,b,c,d,e,f,g){"use strict";var h=/^[ \r\n\s]*$/;function a(a,b){if(a==null)return!1;var c=d("ReStoreVaulting").maybeUnvault(a);a=d("EmojiRenderer").parse(c).map(function(a){return{length:a.length,offset:a.offset}});b=b?d("EmoticonRenderer").parse(c).map(function(a){return{length:a.chars.length,offset:a.offset}}):[];a=a.concat(b);if(a.length===0)return!1;b=a.sort(function(a,b){return a.offset-b.offset|0});var e={contents:0},f={contents:0};a=b.some(function(a){e.contents===a.offset?(e.contents=e.contents+a.length|0,f.contents=e.contents):f.contents=a.offset;var b=c.substring(e.contents,f.contents);e.contents=a.offset+a.length|0;return h.test(b)===!1});b=e.contents!==c.length&&!h.test(c.substring(f.contents));if(a)return!1;else return!b}g["default"]=a}),98);
__d("MWPBaseMessage.react",["LSBitFlag","LSIntEnum","MWBlockingProtectionContext.react","MWGroupBlockingProtectionUtils","MWPAttachmentDataContext","MWPBaseMessageContentWithPinnedMessageSupport.react","MWPMessageListColumn.react","MessengerWebUXLogger","mwpIsMessageUnsupported","mwv2MessageIsEmojiOnly","react","react-strict-dom","useGetMediaGroupInformation","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useContext,l={container:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",maxWidth:"x193iq5w",position:"x1n2onr6",userSelect:"x1kxipp6",$$css:!0},footerForGroupedImageStack:{paddingEnd:"x1pi30zi",$$css:!0},footerForGroupedImageTile:{paddingEnd:"x1tyevoi",$$css:!0},outgoing:{alignItems:"xuk3077",$$css:!0},row_container:{display:"x78zum5",width:"xh8yej3",$$css:!0}};function m(a,b){if(d("LSBitFlag").has((i||(i=d("LSIntEnum"))).ofNumber(128),a.displayedContentTypes))return!0;else return c("mwv2MessageIsEmojiOnly")(a.text,b)}function a(a){var b,e=a.attachmentRenderPosition;e=e===void 0?"below":e;var f=a.checkEmoticon,g=a.isFirstMessageInGroup,h=a.isLastMessageInGroup,i=a.isSearchPluginAttachment;i=i===void 0?!1:i;var n=a.isSecureMessage,o=a.mediaRenderQpl,p=a.message,q=a.nextMessage,r=a.outgoing,s=a.prevMessage,t=a.reactions;a.reactionsV2;var u=a.renderAttachment,v=a.renderEmoji,w=a.renderMessageBubble,x=a.renderMessageContainer,y=a.renderMessageFooter,z=a.renderMessageFromBlockee,A=a.renderUnsentMessage,B=a.renderUnsupportedMessage,C=a.shouldRenderMessageContent;C=C===void 0?!0:C;a=a.xmaLayout;a=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;var D=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"messagelist_message_impression"}),E=d("MWGroupBlockingProtectionUtils").useMWIsContactBlocked(p.threadKey),F=c("MWBlockingProtectionContext.react").useHook(),G=F.addMessageId;F=F.findMessageId;b=c("useGetMediaGroupInformation")(p,(b=n)!=null?b:!1,o);var H=k(d("MWPAttachmentDataContext").MWPAttachmentDataContext);H=H.attachments;H=c("mwpIsMessageUnsupported")(p,H);if(p.isUnsent)if(A!=null)return j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:A()});else return null;if(H)if(B!=null)return j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:B()});else return null;if(!F(p.messageId)&&E&&z!=null)return j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:z(function(){G(p.messageId)})});A=m(p,f);H=j.jsx(c("MWPBaseMessageContentWithPinnedMessageSupport.react"),{attachmentRenderPosition:e,isEmojiOnly:A,isFirstMessageInGroup:g,isLastMessageInGroup:h,isSearchPluginAttachment:i,isSecureMessage:n,mediaRenderQpl:o,message:p,nextMessage:q,outgoing:r,prevMessage:s,renderAttachment:u,renderEmoji:v,renderMessageBubble:w,shouldRenderMessageContent:C,xmaLayout:a});return j.jsxs(j.Fragment,{children:[j.jsxs(d("react-strict-dom").html.div,{ref:D,role:"none",style:l.row_container,children:[r?j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})}):null,x!=null?x(H,[l.container,r?l.outgoing:!1]):j.jsx(d("react-strict-dom").html.div,{style:[l.container,r?l.outgoing:!1],children:H}),r?null:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})})]}),j.jsxs(j.Fragment,{children:[A&&t.length>0?j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:5}):null,j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:j.jsx(d("react-strict-dom").html.div,{style:[b!=null&&b.groupSize>=4&&l.footerForGroupedImageStack,!r&&b!=null&&b.groupSize<4&&l.footerForGroupedImageTile],children:y()})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCombineThemeConfigs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{dark:Object.assign(a.dark,b.dark),light:Object.assign(a.light,b.light),type:b.type}}f.combine=a}),66);
__d("MAWEphemeralMessageTimer.react",["fbt","CometScreenReaderText.react","I64","MAWEphemeralConsts","MWXText.react","WATimeUtils","react","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));b=i;var l=b.useEffect,m=b.useState;function n(a){if(a<d("MAWEphemeralConsts").oneMinuteInSeconds)return h._(/*BTDS*/"__JHASH__A4ingmAx2be__JHASH__",[h._param("seconds",String(a).concat("s"))]);if(a<d("MAWEphemeralConsts").oneHourInSeconds)return h._(/*BTDS*/"__JHASH__vWI2ZlgwXQb__JHASH__",[h._param("minutes",String(Math.floor(a/d("MAWEphemeralConsts").oneMinuteInSeconds)).concat("m"))]);return a<d("MAWEphemeralConsts").oneDayInSeconds?h._(/*BTDS*/"__JHASH__25PcZ3MKsFM__JHASH__",[h._param("hours",String(Math.floor(a/d("MAWEphemeralConsts").oneHourInSeconds)).concat("h"))]):h._(/*BTDS*/"__JHASH__eRreAbYsreU__JHASH__",[h._param("days",String(Math.floor(a/d("MAWEphemeralConsts").oneDayInSeconds)).concat("d"))])}function o(a,b){a=(j||(j=d("I64"))).to_int32(j.sub(a,j.of_float(d("WATimeUtils").unixTime())));return b!=null&&a>(j||(j=d("I64"))).to_int32(b)?(j||(j=d("I64"))).to_int32(b):a}function a(a){var b=a.ephemeralDurationInSec,e=a.expirationTimestamp,f=a.handleMessageExpired;a=m(function(){return o(e,b)});var g=a[0],i=a[1];a=n(g);var j=h._(/*BTDS*/"__JHASH__LNXEmV_oB6W__JHASH__",[h._param("time",a)]);l(function(){g>0&&c("setTimeout")(function(){return i(g-1)},d("MAWEphemeralConsts").msPerSec),g===0&&(f==null?void 0:f())},[g,e,f]);return g>0?k.jsxs("div",babelHelpers["extends"]({className:"x2b8uid xbkr7qi"},{children:[k.jsx(c("CometScreenReaderText.react"),{text:j}),k.jsx("div",{"aria-hidden":!0,children:k.jsx(c("MWXText.react"),{testid:void 0,type:"meta1",children:a})})]})):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWPBaseMessageListRowCountdown.react",["MAWEphemeralMessageTimer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.ariaHidden;b=b===void 0?!1:b;var d=a.ephemeralDurationInSec,e=a.expirationTimestamp;a=a.handleMessageExpired;return i.jsx("div",babelHelpers["extends"]({"aria-hidden":b},{className:"x78zum5 xdt5ytf x1c4vz4f xl56j7k x4ii5y1 xr1yuqi x1e558r4 x150jy0e x1vjfegm"},{children:i.jsx(c("MAWEphemeralMessageTimer.react"),{ephemeralDurationInSec:d,expirationTimestamp:e,handleMessageExpired:a})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMessageBubbleRow.react",["react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={addOn:{display:"x78zum5",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",$$css:!0},bubble:{minWidth:"xeuugli",zIndex:"x1vjfegm",$$css:!0},container:{display:"x78zum5",$$css:!0},containerRight:{flexDirection:"x15zctf7",$$css:!0},opaque:{backgroundColor:"x1eb86dx",$$css:!0},paddingBottom:function(a){return[{paddingBottom:a==null?null:"x18061mc",$$css:!0},{"--paddingBottom":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]},paddingEnd:function(a){function b(b){return a.apply(this,arguments)}b.toString=function(){return a.toString()};return b}(function(a){return[{paddingEnd:a==null?null:"x55ruut",paddingLeft:null,paddingRight:null,$$css:!0},{"--paddingEnd":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]}),paddingStart:function(a){function b(b){return a.apply(this,arguments)}b.toString=function(){return a.toString()};return b}(function(a){return[{paddingStart:a==null?null:"xjz4gdx",paddingLeft:null,paddingRight:null,$$css:!0},{"--paddingStart":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]}),spacer:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0}},k={bottom:{alignSelf:"xpvyfi4",$$css:!0},center:{alignSelf:"xamitd3",$$css:!0},top:{alignSelf:"xqcrz7y",$$css:!0}},l={left:{end:j.paddingStart,start:j.paddingEnd},right:{end:j.paddingEnd,start:j.paddingStart}};function m(a){var b=a.children,c=a.gap,e=a.paddingBottom,f=a.rowAlign,g=a.testid;g=a.type;a=a.verticalAlign;return b!=null?i.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,style:[j.opaque,j.addOn,e!=null&&j.paddingBottom(e),c!=null&&l[f][g](c)],children:i.jsx(d("react-strict-dom").html.div,{style:[j.container,f==="right"&&j.containerRight,k[a]],children:b})}):null}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.addOnEnd,c=a.addOnEndGap;c=c===void 0?0:c;var e=a.addOnEndVerticalAlign;e=e===void 0?"center":e;var f=a.addOnPaddingBottom;f=f===void 0?0:f;var g=a.addOnStart,h=a.addOnStartGap;h=h===void 0?0:h;var k=a.addOnStartVerticalAlign;k=k===void 0?"center":k;var l=a.align;l=l===void 0?"right":l;var n=a.children,o=a.opaque;o=o===void 0?!1:o;var p=a.testid;p=a.xstyle;return i.jsxs(d("react-strict-dom").html.div,{"data-testid":void 0,style:[j.container,l==="right"&&j.containerRight,o&&j.opaque,p],children:[i.jsx(m,{gap:h,paddingBottom:f,rowAlign:l,testid:void 0,type:"start",verticalAlign:k,children:g}),n!=null?i.jsx(d("react-strict-dom").html.div,{style:j.bubble,children:n}):null,i.jsx(m,{gap:c,paddingBottom:f,rowAlign:l,type:"end",verticalAlign:e,children:b}),i.jsx(d("react-strict-dom").html.div,{style:[j.opaque,j.spacer]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPBaseMessageListRow.react",["BaseThemeProvider.react","I64","LSIntEnum","MWCombineThemeConfigs","MWMessageDeliveryStatus","MWPBaseMessageListRowActions.react","MWPBaseMessageListRowCountdown.react","MWPMessageListColumn.react","MWPMessageParsingUtils","MWXMessageBubbleRow.react","cr:8668","mwpMessageIsReply","react","stylex","useEmptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react")),m=i,n=m.useCallback,o=m.useMemo,p=(m=b("cr:8668"))!=null?m:c("useEmptyFunction");function a(a){var b=a.children,c=a.message;a=a.prevMessage;c=d("MWPMessageParsingUtils").isStartOfGroup(c,a);return c?b():null}a.displayName=a.name+" [from "+f.id+"]";function q(a){return(j||(j=d("I64"))).equal(j.and_(a.displayedContentTypes,(k||(k=d("LSIntEnum"))).ofNumber(2048)),j.zero)}var r={container:{display:"x78zum5",$$css:!0},multiReact:{zIndex:"x1vjfegm",$$css:!0},multiReactIncoming:{marginStart:"x1liizu2",$$css:!0},multiReactOutgoing:{display:"x78zum5",flexDirection:"x15zctf7",marginEnd:"xw3qccf",marginStart:"x1mh8g0r",$$css:!0}};function e(a){var b,e=a.children,f=a.handleMessageExpired,g=a.hasMessageEmphasisRing,i=a.hasReactions,j=a.message,k=a.originalBumpedMsg,m=a.outgoing,n=a.renderGutterItem,o=a.renderMessageActions,s=a.renderMultiReactions;a=a.renderProfile;k=c("mwpMessageIsReply")((k=k)!=null?k:j);var t=j.ephemeralExpirationTs,u=j.ephemeralDurationInSec,v=j.isUnsent,w=d("MWMessageDeliveryStatus").getFromSendStatus(j.sendStatusV2).type==="Sending";b=(b=p(j.threadKey))!=null?b:!1;b=b;s=s&&s();var x=s!=null;j=l.jsx(c("MWXMessageBubbleRow.react"),{addOnEnd:q(j)?l.jsxs(l.Fragment,{children:[t!=null&&!v?l.jsx(c("MWPBaseMessageListRowCountdown.react"),{ephemeralDurationInSec:u,expirationTimestamp:t,handleMessageExpired:f}):null,o(w)]}):l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsEmptyList,{}),addOnEndVerticalAlign:b?"bottom":"center",addOnPaddingBottom:i?18:0,addOnStart:m?n():l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnProfile,{children:a()}),addOnStartVerticalAlign:"bottom",align:m?"right":"left",opaque:!m||k||g===!0,testid:void 0,children:e});return x?l.jsxs("div",babelHelpers["extends"]({className:"x78zum5 xdt5ytf x1n2onr6"},{role:"none",children:[j,l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:l.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(r.container,r.multiReact,m?r.multiReactOutgoing:r.multiReactIncoming),{children:s}))})]})):j}e.displayName=e.name+" [from "+f.id+"]";function s(a){var b=a.children,c=a.message,e=a.nextMessage;a=a.showContent;c=d("MWPMessageParsingUtils").isEndOfGroup(c,e);return c||a===!0?b():null}s.displayName=s.name+" [from "+f.id+"]";b={"mwp-reply-background-color":"var(--comment-footer-background)"};m={"mwp-reply-background-color":"var(--comment-footer-background)"};var t={dark:m,light:b,type:"VARIABLES"};function u(a){var b=a.children,e=a.domElementRef;a.message;var f=a.role,g=a.setHovered,i=a.stopHoveringRef,j=a.theme,k=j===void 0?t:j,m=a.xstyle,p=n(function(){return g(function(){return!1})},[g]);return l.jsx(c("BaseThemeProvider.react"),{config:o(function(){return d("MWCombineThemeConfigs").combine(t,k)},[k]),children:function(a,d){return l.jsx("div",{className:(h||(h=c("stylex")))(a,m),onMouseEnter:function(){i.current&&i.current(),g(function(){return!0}),i.current=p},onMouseLeave:function(){if(i.current===p){p();i.current=function(){};return}},ref:e,role:f,style:babelHelpers["extends"]({},d),children:b})}})}u.displayName=u.name+" [from "+f.id+"]";g.MWPBaseMessageListRowBeforeContent=a;g.MWPBaseMessageListRowBody=e;g.MWPBaseMessageListRowFooter=s;g.MWPBaseMessageListRow=u}),98);
__d("MWMessageListDisplayContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;var j=c.useContext,k=c.useMemo,l=i.createContext("standard");function a(a){var b=a.children;a=a.value;a=a===void 0?"standard":a;return i.jsx(l.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){var a=j(l);return k(function(){return{isPinnedMessageList:a==="pinnedMessages",isReportMessageList:a==="reportMessages",isStandardMessageList:a==="standard"}},[a])}g.MWMessageListDisplayContextProvider=a;g.useMWMessageListDisplayContext=b}),98);
__d("MWPBaseMessageRowHeaderTimestamp.react",["I64","MercuryTimestamp","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=a.message,e=a.renderText,f=a.renderTimestamp;a=a.xstyle;return k.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(a),{children:e(f(c("MercuryTimestamp").getRelativeTimestamp((i||(i=d("I64"))).to_float(b.timestampMs))))}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWEditedEyebrowLabel.react",["fbt","BaseMiddot.react","MessengerWebUXLogger","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.separatorStyle;var b=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"edit_eyebrow_impression"}),e=h._(/*BTDS*/"__JHASH__Mh0-kan22Pe__JHASH__");return j.jsxs(j.Fragment,{children:[a!=null&&j.jsx(d("react-strict-dom").html.span,{style:a,children:j.jsx(c("BaseMiddot.react"),{})}),j.jsx(d("react-strict-dom").html.span,{"aria-label":e,"data-testid":void 0,ref:b,children:e})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWMessageEditContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;var j=c.useContext,k=c.useMemo,l=c.useState,m={setShowEdits:function(){},showEdits:!1},n=i.createContext();function a(a){var b=a.children;a=a.value;a=a===void 0?m:a;a=l((a=a==null?void 0:a.showEdits)!=null?a:!1);var c=a[0],d=a[1];a=k(function(){return{setShowEdits:d,showEdits:c}},[c]);return i.jsx(n.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(n)}g.MWMessageEditContextProvider=a;g.useMWMessageEditContext=b}),98);
__d("MWEditedEyebrow.react",["fbt","BaseMiddot.react","IGDWebUtils","MWEditedEyebrowLabel.react","MWMessageEditContext.react","MWXLink.react","MWXTooltip.react","MessengerWebUXLogger","QPLUserFlow","qpl","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function k(a){var b=a.hasPadding;a=a.separatorStyle;var e=c("MessengerWebUXLogger").useInteractionLogger(),f=d("MWMessageEditContext.react").useMWMessageEditContext()||{setShowEdits:function(a){},showEdits:!1},g=f.setShowEdits,i=f.showEdits;function k(){i||(c("QPLUserFlow").start(c("qpl")._(1056849214,"1777")),e==null?void 0:e({eventName:"edit_message_history"})),g(!i)}f=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"edit_eyebrow_impression"});var l=i?h._(/*BTDS*/"__JHASH__WqoEC9S0Sry__JHASH__"):h._(/*BTDS*/"__JHASH__3fxL6sM27ni__JHASH__"),m=i?h._(/*BTDS*/"__JHASH__WqoEC9S0Sry__JHASH__"):h._(/*BTDS*/"__JHASH__0I22sJ_f1hm__JHASH__");return j.jsxs(j.Fragment,{children:[a!=null&&j.jsx(d("react-strict-dom").html.span,{style:a,children:j.jsx(c("BaseMiddot.react"),{})}),j.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,label:m,position:"above",tooltip:m,children:j.jsx(c("MWXLink.react"),{"aria-expanded":i,"aria-label":l,color_DEPRECATED:d("IGDWebUtils").isOnInstagramWeb()?"highlight":"blueLink",onClick:k,ref:f,role:"button",style:babelHelpers["extends"]({color:"var(--mwp-primary-theme-color)"},b===!0&&{paddingTop:6}),weight_DEPRECATED:"medium",children:j.jsx(d("react-strict-dom").html.span,{"data-testid":void 0,children:l})})})]})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.enableEditHistory;b=b===void 0?!0:b;var d=a.hasPadding;a=a.separatorStyle;return b?j.jsx(k,{hasPadding:d,separatorStyle:a}):j.jsx(c("MWEditedEyebrowLabel.react"),{separatorStyle:a})}a.displayName=a.name+" [from "+f.id+"]";g.MWEditedEyebrowWithHistory=k;g.MWEditedEyebrow=a}),226);
__d("MWPMessageAuthor.react",["I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSVerifyContactRowExistsStoredProcedure","MWPContactContext.react","ReQL","ReQLSuspense","mwCMIsCMSubthread","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react")),m=k.useMemo;function n(a){var b=a.children,e=a.contactId,g=(h||(h=c("useReStore")))(),j=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(e)},[g,e],f.id+":51");a=m(function(){var a=void 0;return{contact:j,nickname:a}},[j]);d("Int64Hooks").useEffectInt64(function(){c("promiseDone")(g.runInTransaction(function(a){return c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),blockedByViewerStatus:i.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:i.ofNumber(c("LSContactIdType").FBID),contactType:i.ofNumber(c("LSContactType").USER),contactViewerRelationship:i.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:i.ofNumber(c("LSContactGender").UNKNOWN),id:e,isBlocked:!1,isMemorialized:!1,isSelf:!1,workForeignEntityType:i.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)})},"readwrite",void 0,void 0,f.id+":65"))},[g,e]);return l.jsx(d("MWPContactContext.react").MWPContactContextProvider,{contact:a.contact,nickname:a.nickname,children:b})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.children,c=a.contact,e=a.nickname;a=m(function(){return{contact:c,nickname:e}},[c,e]);return l.jsx(d("MWPContactContext.react").MWPContactContextProvider,{contact:a.contact,nickname:a.nickname,children:b})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b,e=a.children,g=a.contactId,k=a.threadKey,m=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(m.tables.contacts).getKeyRange(g)},[g,m],f.id+":126");b=(b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(m.tables.participants,["nickname"]).getKeyRange(k,g)},[g,m,k],f.id+":130"))==null?void 0:b.nickname;var p=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(m.tables.threads,["parentThreadKey","secondaryParentThreadKey","threadType"]).getKeyRange(k).map(function(a){var b=a.parentThreadKey,e=a.secondaryParentThreadKey;a=a.threadType;a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(m.tables.contextual_profile_v1,["profileName"]).getKeyRange(g,c("mwCMIsCMSubthread")(a)&&e!=null?e:b),f.id+":155");return a==null?void 0:a.profileName})},[m,k,g],f.id+":146");p=p!=null?p:b;if(a!=null)if((j||(j=d("I64"))).ge(a.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE_PENDING_REPLACEMENT)))return l.jsx(o,{contact:a,nickname:p,children:e});else return l.jsx(n,{contactId:g,children:e});else return l.jsx(n,{contactId:g,children:e})}a.displayName=a.name+" [from "+f.id+"]";a=l.memo(a,function(a,b){if(a!=null&&b!=null&&(j||(j=d("I64"))).equal(a.contactId,b.contactId)&&(j||(j=d("I64"))).equal(a.threadKey,b.threadKey))return a.children===b.children;else return!1});function b(){var a=d("MWPContactContext.react").useMWPContactStableContext();a=a.authorName;return[a]}function e(){var a=d("MWPContactContext.react").useMWPContactFullContext();a=a.contact;var b=a!=null?a.name:void 0;return[b,a]}g.MissingContactProvider=n;g.Provider=o;g.MWPMessageAuthor=a;g.useAuthorName=b;g.useAuthorFullName=e}),98);
__d("MWPAccessibleEyebrowsText.react",["fbt","MWPMessageAuthor.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};function a(a){var b=a.message;a=a.outgoing;var c=d("MWPMessageAuthor.react").useAuthorName();c=c[0];var e=a?h._(/*BTDS*/"__JHASH__950lIWTelJN__JHASH__"):h._(/*BTDS*/"__JHASH__uufWL2Zp_42__JHASH__");return!b.isAdminMessage&&j.jsx(d("react-strict-dom").html.span,{style:k.visuallyHidden,children:c!=null&&!a?c:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWCMHostTextHovercard.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWCMHostTextHovercard.react").__setRef("MWCMHostTextHovercard.entrypoint")};g["default"]=a}),98);
__d("MWXHovercardTrigger.react",["BaseHovercardTrigger.react"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("BaseHovercardTrigger.react")}),98);
__d("LSIssueCommunityAdminModerationActionsFetch",["LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("fb_group_id",a[0]),d[0].set("target_user_id",a[1]),d[0].set("source",a[2]),d[0].set("thread_id",a[3]),d[0].set("request_id",a[4]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[5]=c.i64.of_float(Date.now()),d[1]=c.i64.add(d[5],c.i64.cast([0,0]))):d[1]=c.i64.cast([0,0]),d[2]=d[0].get("fb_group_id"),d[3]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(d[2]),c.i64.cast([0,428]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[1],c.i64.cast([0,0])).then(function(a){return a=a,d[4]=a[0],a})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxIssueCommunityAdminModerationActionsFetchStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSIssueCommunityAdminModerationActionsFetchStoredProcedure",["LSIssueCommunityAdminModerationActionsFetch","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueCommunityAdminModerationActionsFetch"),e.fbGroupId,e.targetUserId,e.source,e.threadId,e.requestId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MessagingSpecialThreadRole",[],(function(a,b,c,d,e,f){a=Object.freeze({ADMIN:1,THREAD_CREATOR:2,SUPER_ADMIN:3,MODERATOR:4,IG_BROADCAST_CHAT_COLLABORATOR:5,CHAT_HOST:6,ADMIN_VIA_PAGE:7});f["default"]=a}),66);
__d("MessagingSpecialThreadRoleBitOffset",["I64","LSBitFlag"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return b==null?!1:d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a),b.threadRoles)}g.has=a}),98);
__d("MWPMessageAdModOrHostText.react",["fbt","BaseMiddot.react","MWCMGetValidId","MWCMHostTextHovercard.entrypoint","MWXHovercardTrigger.react","MWXText.react","react","react-strict-dom","useMWCMIsSenderAdModOrChatHost"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function k(a){var b=a.communityId,e=a.senderId,f=a.shouldRenderSenderName;a=a.threadKey;b=c("useMWCMIsSenderAdModOrChatHost")(b,a,e);e=b.isAdmin;var g=b.isChatHost;b=b.isModerator;var i=h._(/*BTDS*/"__JHASH__l4xCpI5VHpV__JHASH__"),k=h._(/*BTDS*/"__JHASH__hz8R4t8GDy7__JHASH__");a=j.jsx(c("MWXHovercardTrigger.react"),{align:"middle",display:"inline-block",popoverEntryPoint:c("MWCMHostTextHovercard.entrypoint"),popoverOtherProps:{onClose:function(){},threadKey:a},popoverProps:{},position:"above",children:function(a){return j.jsx(c("MWXText.react"),{ref:a,type:"meta4",children:h._(/*BTDS*/"__JHASH__bZRJOb_t9fa__JHASH__")})}});return j.jsx(j.Fragment,{children:f&&(e||b||g)&&j.jsxs(j.Fragment,{children:[j.jsx(c("BaseMiddot.react"),{}),j.jsx(d("react-strict-dom").html.span,{"data-testid":void 0,children:e?i:b?k:a})]})})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.communityId,c=a.message;a=a.shouldRenderSenderName;return!d("MWCMGetValidId").MWCMHasValidFbGroupId(b,!1)?null:j.jsx(k,{communityId:b,senderId:c.senderId,shouldRenderSenderName:a,threadKey:c.threadKey})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXIconBot",["MWXSvgIcon","SVGIcon","cr:12328","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12328")),c("gkx")("23219"));g["default"]=a}),98);
__d("useMessageAttachments",["I64","ReQL","ReQLSuspense","mwpMessageHasAttachment","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=(i||(i=c("useReStore")))(),e=c("mwpMessageHasAttachment")(a);return d("ReQLSuspense").useArray(function(){return e?d("ReQL").fromTableAscending(b.tables.attachments).getKeyRange(a.threadKey,a.messageId):d("ReQL").empty()},[b,a.threadKey,a.messageId,e],f.id+":26").toSorted(function(a,b){return(h||(h=d("I64"))).compare(a.attachmentIndex,b.attachmentIndex)})}g["default"]=a}),98);
__d("usePinnedTextAnimation",["react","useDebouncedValue"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState,l={mountAnimation:{animationDuration:"x5hsz1j",animationName:"x127lhb5",animationTimingFunction:"x4hg4is",$$css:!0},unmountAnimation:{animationDuration:"x5hsz1j",animationFillMode:"x10e4vud",animationName:"xvma63k",animationTimingFunction:"x4hg4is",$$css:!0}};function a(a){var b=k(!1),d=b[0],e=b[1],f=j(a);i(function(){a!==f.current&&e(!0),f.current=a},[a]);return{mountAnimation:d?l.mountAnimation:null,shouldShow:c("useDebouncedValue")(a,200),unmountAnimation:l.unmountAnimation}}g["default"]=a}),98);
__d("MWPMessageEyebrows.react",["fbt","Actor","BaseMiddot.react","I64","LSContactBitOffset","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","MWEditedEyebrow.react","MWLSThread","MWMessageListDisplayContext.react","MWPAccessibleEyebrowsText.react","MWPContactContext.react","MWPMessageAdModOrHostText.react","MWPMessageAuthor.react","MWPMessageListColumn.react","MWPThreadIsPage.react","MWXIconBadgeCheckmark","MWXIconBot","MWXIconStrict.react","MessagingAttachmentType","ReQL","ReQLSuspense","gkx","isMWEditedMessage","justknobx","react","react-strict-dom","useMWPIsMessagePinned","useMessageAttachments","usePinnedTextAnimation","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||d("react"),n={alignEnd:{justifyContent:"x13a6bvl",$$css:!0},alignStart:{justifyContent:"x1nhvcw1",$$css:!0},botBadge:{display:"x1rg5ohu",paddingStart:"x1e558r4",position:"x1n2onr6",top:"xs7f9wi",$$css:!0},color:{color:"x186z157",$$css:!0},container:{display:"x78zum5",marginTop:"x1anpbxc",paddingBottom:"x10b6aqq",paddingStart:"x1ye3gou",$$css:!0},separator:{paddingEnd:"x19um543",paddingStart:"x1m6msm",$$css:!0}};function o(a){var b=a.children;a=a.outgoing;return m.jsx(d("react-strict-dom").html.div,{style:[n.container,a?n.alignEnd:n.alignStart],children:b})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.isFirstMessageInGroup,e=a.isLastMessageInGroup,g=a.message,l=a.outgoing,p=a.renderPaidPartnerShipText,q=a.renderPinnedText,r=a.renderTextWrapper;a=a.shouldRenderSenderName;var s=d("MWPMessageAuthor.react").useAuthorName();s=s[0];var t=d("MWPContactContext.react").useMWPContactStableContext(),u=t.contact;t=t.nickname;var v=d("Actor").useActor();v=v[0];var w=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext(),x=w.isReportMessageList,y=(i||(i=c("useReStore")))();w=c("useMessageAttachments")(g);var z=d("MWLSThread").useThread(g.threadKey,function(a){return a.parentThreadKey}),A=d("ReQLSuspense").useFirst(function(){return z?d("ReQL").fromTableAscending(y.tables.community_folders).getKeyRange(z).map(function(a){return a.folderId}):d("ReQL").empty()},[y,z],f.id+":115"),B=c("isMWEditedMessage")(g),C=d("MWPThreadIsPage.react").useIsPage(),D=d("MWLSThread").useThread(g.threadKey,function(a){return a.threadType});D=D!=null&&d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(D);var E=u?!(j||(j=d("I64"))).equal(u.blockedByViewerStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)):!1;C=C&&!(j||(j=d("I64"))).equal(g.senderId,g.threadKey)&&!l;C=C&&!D;c("justknobx")._("3405")&&c("gkx")("8519")&&(C=C&&b);var F=u?d("LSContactBitOffset").has(77,u):!1,G=u?d("LSContactBitOffset").has(84,u):!1,H=c("useMWPIsMessagePinned")(g);D=c("usePinnedTextAnimation")(H);var I=D.mountAnimation,J=D.unmountAnimation,K=g.isPaidPartnership===!0,L=g.groupId!=null&&g.groupIndex!=null&&(j||(j=d("I64"))).to_int32(g.groupIndex)===0&&(j||(j=d("I64"))).to_int32((u=g.groupSize)!=null?u:(j||(j=d("I64"))).zero)>=4&&c("gkx")("852"),M=w!=null&&w.length>=4&&w.every(function(a){return(j||(j=d("I64"))).equal(a.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))})&&c("gkx")("852"),N=(a||C)&&!L&&!M;D=N||H||B||K||L||M;var O="";if(M&&w!=null&&w.length>1)O=w.length.toString();else if(L){O=(j||(j=d("I64"))).to_int32((u=g.groupSize)!=null?u:(j||(j=d("I64"))).zero).toString()}C=(a=t)!=null?a:h._(/*BTDS*/"__JHASH__4LwiFWKMkVy__JHASH__");var P=v===(j||(j=d("I64"))).to_string(g.senderId),Q=P?C.toString():s==null?void 0:s.toString(),R=e&&b;w=h._(/*BTDS*/"__JHASH__G4Bi2CYTkJR__JHASH__");if(!D)return m.jsx(c("MWPAccessibleEyebrowsText.react"),{message:g,outgoing:l});u=function(a){var e=N&&a!=null||H||E;a=m.jsx(o,{outgoing:l,children:r(m.jsxs(d("react-strict-dom").html.span,{style:n.color,children:[(N||E)&&a!=null&&m.jsx(d("react-strict-dom").html.span,{"data-testid":void 0,children:a}),m.jsx(c("MWPMessageAdModOrHostText.react"),{communityId:A,message:g,shouldRenderSenderName:N}),H&&!E&&m.jsx(d("react-strict-dom").html.span,{style:H?I:J,children:q(g,N)}),E&&m.jsxs(m.Fragment,{children:[m.jsx(d("react-strict-dom").html.span,{children:m.jsx(c("BaseMiddot.react"),{})}),m.jsx(d("react-strict-dom").html.span,{"data-testid":void 0,children:h._(/*BTDS*/"__JHASH__3kkmPi45q6Z__JHASH__")})]}),B&&m.jsx(d("MWEditedEyebrow.react").MWEditedEyebrow,{hasPadding:!R&&!b,separatorStyle:e?n.separator:null}),F===!0?m.jsx(d("react-strict-dom").html.span,{style:n.botBadge,children:m.jsx(c("MWXIconStrict.react"),{color:"secondary",icon:c("MWXIconBot"),size:12})}):null,G&&m.jsx(d("react-strict-dom").html.span,{style:n.botBadge,children:m.jsx(c("MWXIconStrict.react"),{color:"primaryAccent",icon:c("MWXIconBadgeCheckmark"),size:12})}),K&&p!=null&&p(g),(L||M)&&m.jsxs(d("react-strict-dom").html.span,{"data-testid":void 0,children:[H&&m.jsx(c("BaseMiddot.react"),{}),P?h._(/*BTDS*/"__JHASH__sU6rPDUfX2M__JHASH__",[h._param("numberOfMedia",O)]):h._(/*BTDS*/"__JHASH__njxyvSSomiA__JHASH__",[h._param("senderName",Q),h._param("numberOfMedia",O)])]})]}))});return x?m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:a}):m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:a})};return g.takedownState!=null?u(w.toString()):u(Q)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWPBaseMessageRowHeader.react",["BaseHeading.react","BaseRow.react","BaseRowItem.react","LSIntEnum","LSMessageReplySourceTypeV2","MWMessageListDisplayContext.react","MWPBaseMessageRowHeaderTimestamp.react","MWPContactContext.react","MWPMessageEyebrows.react","MWPMessageListColumn.react","MWPThreadIsPage.react","mwpMessageIsReply","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||d("react"),l={alignEnd:{alignItems:"xuk3077",$$css:!0},header:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},timestamp:{marginTop:"x1anpbxc",paddingEnd:"x11eofan",$$css:!0},timestampWithSnippet:{marginTop:"x1ok221b",paddingEnd:"x11eofan",$$css:!0}};function m(a,b,e,f){var g=a.replySnippet;g=g!=null?g!=="":!1;var h=a.replySourceTypeV2!=null&&(j||(j=d("LSIntEnum"))).toNumber(a.replySourceTypeV2)===c("LSMessageReplySourceTypeV2").FORWARD;if(g)return e(a,f);return!h?null:b(a,f)}function a(a){a._fbGroupId;var b=a.alwaysRenderSenderName;b=b===void 0?!1:b;var e=a.isAnyCMThread;e=e===void 0?!1:e;var f=a.isFirstMessageInGroup,g=a.isGroupThread,i=a.isLastMessageInGroup,j=a.message,n=a.outgoing,o=a.renderForwardSnippet,p=a.renderMessageEyebrows,q=a.renderPaidPartnerShipText,r=a.renderPinnedText,s=a.renderReplySnippet,t=a.renderTextWrapper;a=a.renderTimestamp;var u=c("mwpMessageIsReply")(j);o=m(j,o,s,n);s=d("MWPContactContext.react").useMWPContactStableContext();s=s.nickname;var v=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext();v=v.isReportMessageList;s=f&&s!=null&&e;e=b||g&&f&&!n&&!u||s;o!=null?b=k.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(l.header,n?l.alignEnd:!1),{role:"none",children:v?k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:o}):k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:o})})):p!=null?b=p(j,n,t,e):b=k.jsx(d("MWPThreadIsPage.react").Provider,{threadKey:j.threadKey,children:k.jsx(c("MWPMessageEyebrows.react"),{isFirstMessageInGroup:f,isLastMessageInGroup:i,message:j,outgoing:n,renderPaidPartnerShipText:q,renderPinnedText:r,renderTextWrapper:t,shouldRenderSenderName:e})});g=o!=null?l.timestampWithSnippet:l.timestamp;u=a!=null?k.jsx(c("MWPBaseMessageRowHeaderTimestamp.react"),{message:j,renderText:t,renderTimestamp:a,xstyle:g}):null;if(f)return k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:k.jsxs(c("BaseRow.react"),{direction:n?"backward":"forward",children:[k.jsx(c("BaseRowItem.react"),{children:k.jsx(c("BaseHeading.react"),{children:b})}),u!=null?k.jsx(c("BaseRowItem.react"),{children:k.jsx(c("BaseHeading.react"),{children:u})}):null]})});else return b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageCellKeyCommands.react",["CometComponentWithKeyCommands.react","MWV2MessageRowActionsContext.react","cometGetKeyCommandConfig","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo;function a(a){var b=a.children;a.message;a=b;b=d("MWV2MessageRowActionsContext.react").useMessageRowActionsContext();var e=b.forwardMessage,f=b.openReactionsMenu,g=b.removeMessage,h=b.replyToMessage,l=j(function(){return f.current()},[f]),m=j(function(){return h.current()},[h]),n=j(function(){return e.current()},[e]),o=j(function(){return g.current()},[g]);b=k(function(){var a,b=[],c=(a=d("cometGetKeyCommandConfig")).getCometAndGeminiKeyCommandConfig("chats","likeMessage",l);b.push(c);c=a.getCometAndGeminiKeyCommandConfig("chats","replyToMessage",m);b.push(c);c=a.getCometAndGeminiKeyCommandConfig("chats","forwardMessage",n);b.push(c);c=a.getCometAndGeminiKeyCommandConfig("chats","removeMessage",o);b.push(c);return b},[l,m,n,o]);return i.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:b,xstyle:!1,children:a})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.keyCommands=e}),98);
__d("useMWPEditMessageDeemphasizer",["IGDWebUtils","MAWEditMessageContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext,j={deemphasize:{filter:"x4xejrh",$$css:!0}};function a(a){var b=i(d("MAWEditMessageContext.react").Context);b=b.editMessageData;b=(b==null?void 0:b.messageId)!=null&&(b==null?void 0:b.messageId)!==a&&!d("IGDWebUtils").isOnInstagramWeb();return b?j.deemphasize:null}g["default"]=a}),98);
__d("MWPMessageListRowWithKeyboardInteractions.react",["fbt","BaseHeadingContextWrapper.react","CometScreenReaderText.react","FocusInertRegion.react","FocusRegion.react","FocusWithinHandler.react","I64","KeyCommandHandler.react","MDSTextPairing.react","MWEditMessageOverlay.react","MWMessageCellFocusTable.react","MWMessageCellKeyCommands.react","MWMessageTableFocusTable.react","MWPBaseMessageListRow.react","MWPMessageAuthor.react","MWV2MessageListIsRowModalContext.react","MWV2MessageRowActionsContext.react","MWV2MessageRowIsRowFocusedContext.react","MWXPressable.react","ReactDOM","TimestampUtils","emptyFunction","focusScopeQueries","gkx","justknobx","react","setTimeout","stylex","useCometTheme","useMAWEditMessageData","useMWPEditMessageDeemphasizer","useServerTime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react"));e=j;var m=e.useCallback,n=e.useEffect,o=e.useId,p=e.useMemo,q=e.useRef,r={cell:{display:"x78zum5",flexDirection:"xdt5ytf",position:"x1n2onr6",$$css:!0},cellFocusVisible:{zIndex:"x1vjfegm",$$css:!0},cellModal:{outline:"x1k66dxp",outlineOffset:"x1g40iwv","@media (-webkit-min-device-pixel-ratio: 0)_outline":"x1bkw7pg",$$css:!0},enterModalButton:{backgroundColor:"x1h0vfkc",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"x152obne",end:"xlr8s2x",left:null,right:null,paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",position:"x10l6tqk",top:"x1qiirwl",transform:"x105ttfm",zIndex:"x1vjfegm",$$css:!0},enterModalButtonVisible:{opacity:"x1hc1fzr",$$css:!0},row:{position:"x1n2onr6",$$css:!0},visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};function s(a){var b=a.key;(b==="ArrowUp"||b==="ArrowDown"||b==="ArrowLeft"||b==="ArrowRight"||b==="PageUp"||b==="PageDown"||b==="Home"||b==="End")&&a.preventDefault()}var t=h._(/*BTDS*/"__JHASH__U5V4JiyTDSI__JHASH__"),u=h._(/*BTDS*/"__JHASH__GoIrDg5lzef__JHASH__"),v=h._(/*BTDS*/"__JHASH__ctLNxPXr8we__JHASH__"),w=l.forwardRef(a);function a(a,b){var d=a.ariaLabel,e=a.focusable,f=a.onPress,g=a.text;a=a.xstyle;var h=c("useCometTheme")("invert"),i=h[0];h=h[1];return l.jsx(i,{children:l.jsx(c("MWXPressable.react"),{"aria-label":d,focusable:e,onPress:function(){return f()},ref:b,xstyle:[h,r.enterModalButton,a],children:l.jsx(c("MDSTextPairing.react"),{body:g,bodyColor:"primary",level:4})})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.children,e=a.domElementRef,f=a.focusCellOnRender,g=f===void 0?!1:f,j=a.isDialogOpened,x=a.isFocused,y=a.isModal,z=a.message,A=a.messageDomID;f=a.outgoing;var B=a.setFocused,C=a.setHovered,D=a.setIsDialogOpened,E=a.stopHoveringRef;a=a.theme;var F=d("MWV2MessageListIsRowModalContext.react").useMWV2MessageListIsRowModal(),G=q(null),H=o(),I=m(function(){F(function(){return z.messageId}),c("setTimeout")(function(){d("FocusRegion.react").focusRegionById(H,d("focusScopeQueries").tabbableScopeQuery)},0)},[F,z.messageId,H]),J=function(){F(function(){return""});var a=G.current;if(a!=null)return a.focus()},K=d("TimestampUtils").getTimestamp(c("useServerTime")(),new Date((k||(k=d("I64"))).to_float(z.timestampMs))),L=d("MWPMessageAuthor.react").useAuthorName();L=L[0];f=f?h._(/*BTDS*/"__JHASH__g90cYI08lR4__JHASH__"):L!=null?L:h._(/*BTDS*/"__JHASH__I4KHPAQ-RAf__JHASH__");var M=o(),N=l.jsx(c("CometScreenReaderText.react"),{id:M,text:h._(/*BTDS*/"__JHASH__BGN2Md9i0L4__JHASH__",[h._param("Stringified timestamp of the incoming message",K),h._param("Name of the author of the incoming message",f)])}),O=o(),P=q(null),Q=c("gkx")("22803"),R=q(c("emptyFunction")),S=q(c("emptyFunction")),T=q(c("emptyFunction")),U=q(c("emptyFunction"));L=p(function(){return{isDialogOpened:j,setFocused:B,setIsDialogOpened:D}},[B,D,j]);K=p(function(){return{forwardMessage:T,openReactionsMenu:R,removeMessage:U,replyToMessage:S}},[R,S]);var V=c("useMAWEditMessageData")()!=null;f=c("useMWPEditMessageDeemphasizer")(z.messageId);var W=function(a){if(x!==a){c("justknobx")._("3588")?j||B(function(){return a}):B(function(){return a});return F(function(){if((a||j)&&y)return z.messageId;else return""})}},X=function(a){x!==a&&(c("justknobx")._("3588")?j||B(function(){return a}):B(function(){return a}));var b=P.current;if(a&&b!=null){c("setTimeout")(function(){try{return b.scrollIntoView({behavior:"smooth",block:"nearest"})}catch(a){return b.scrollIntoView(!1)}},0);return}};n(function(){if(g){var a;(a=G.current)==null?void 0:a.focus();(a=G.current)==null?void 0:a.scrollIntoView()}},[g]);return l.jsx(c("BaseHeadingContextWrapper.react"),{children:l.jsx(d("MWV2MessageRowIsRowFocusedContext.react").MWV2MessageRowIsRowFocusedContextProvider,{value:L,children:l.jsx(d("MWV2MessageRowActionsContext.react").MWV2MessageRowActionsContextProvider,{value:K,children:l.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRow,{domElementRef:e,message:z,role:"row",setHovered:V?c("emptyFunction"):C,stopHoveringRef:E,theme:a,xstyle:[r.row,f],children:l.jsxs(l.Fragment,{children:[l.jsx(d("MWMessageTableFocusTable.react").FocusTable[1],{children:l.jsx(c("FocusWithinHandler.react"),{onFocusChange:V?void 0:W,onFocusVisibleChange:V?void 0:X,children:function(a,e){a=l.jsx(d("MWMessageTableFocusTable.react").FocusTable[2],{children:l.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(r.cell,y?r.cellModal:!1,e?r.cellFocusVisible:!1),{"data-release-focus-from":"CLICK","data-scope":d("MWMessageTableFocusTable.react").scopeID,ref:G,role:"gridcell",tabIndex:V?-1:0,children:l.jsx(c("FocusInertRegion.react"),{disabled:y,focusQuery:d("focusScopeQueries").tabbableScopeQuery,children:y?l.jsxs(l.Fragment,{children:[l.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,containFocusQuery:d("focusScopeQueries").tabbableScopeQuery,id:H,recoverFocusQuery:d("focusScopeQueries").tabbableScopeQuery,children:l.jsx(c("KeyCommandHandler.react"),{onKeyDown:s,children:l.jsxs("div",{"aria-describedby":A,"aria-labelledby":M,id:O,role:"dialog",children:[b,y?N:null,l.jsx(w,{ariaLabel:u,focusable:!0,onPress:J,text:h._(/*BTDS*/"__JHASH__PEyi9JodUw1__JHASH__"),xstyle:r.enterModalButtonVisible})]})})}),d("ReactDOM").createPortal(l.jsx("div",{"aria-owns":O}),document.body)]}):b})}))});return l.jsxs(l.Fragment,{children:[l.jsx(d("MWMessageCellFocusTable.react").keyCommands,{onEnter:y||V?void 0:I,onEscape:y?J:void 0,onSpace:y||V?void 0:I,children:Q?l.jsx(d("MWMessageCellKeyCommands.react").keyCommands,{message:z,children:a}):a}),l.jsx("div",{role:"gridcell",children:l.jsx(w,{ariaLabel:y?h._(/*BTDS*/"__JHASH__7kFsaJ4_Q_k__JHASH__"):t,focusable:y,onPress:I,ref:P,text:y?h._(/*BTDS*/"__JHASH__7kFsaJ4_Q_k__JHASH__"):v,xstyle:e&&!y?r.enterModalButtonVisible:r.visuallyHidden})})]})}})}),l.jsx(c("MWEditMessageOverlay.react"),{messageId:z.messageId})]})})})})})}b.displayName=b.name+" [from "+f.id+"]";g["default"]=b}),226);
__d("MWAdminTextLayout.react",["CometTextWithEntities.react","LSMessagingThreadTypeUtil","MAWVault","MWChatTextTransform","ReQL","ReQLSuspense","react","useReStore","useStringWithSubstitutions"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.cta,e=a.message,g=(h||(h=c("useReStore")))();a=(a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.threads,["threadType"]).getKeyRange(e.threadKey)},[g,e.threadKey],f.id+":29"))==null?void 0:a.threadType;a=a==null?!1:d("LSMessagingThreadTypeUtil").isArmadilloSecure(a);var i=e.text==null?null:d("MAWVault").unvault(e.text);a=(a=d("useStringWithSubstitutions").useStringWithSubstitutions(a?i:null,e.threadKey))!=null?a:i;if(a!=null)if(b!=null)return j.jsxs(j.Fragment,{children:[j.jsx(c("CometTextWithEntities.react"),{text:a,transforms:d("MWChatTextTransform").textTransformsNoVault})," ",b]});else return j.jsx(c("CometTextWithEntities.react"),{text:a,transforms:d("MWChatTextTransform").textTransformsNoVault});else if(b!=null)return b;else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSCustomUpdateMuteManagement",["LSGetViewerFBID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(e){return d[1]=new c.Map(),d[1].set("game_id",a[1]),d[1].set("muted_user_id",a[0]),d[1].set("owner_id",d[0]),d[1].set("user_action_type",a[2]),d[2]=c.toJSON(d[1]),c.storedProcedure(b("LSIssueNewTask"),"instant_game_custom_update_mute_management",c.i64.cast([0,759]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxCustomUpdateMuteManagementStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSCustomUpdateMuteManagementStoredProcedure",["LSCustomUpdateMuteManagement","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSCustomUpdateMuteManagement"),e.mutedUserId,e.gameId,e.userActionType);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react",["LSCustomUpdateMuteManagementStoredProcedure","LSFactory","LSIntEnum","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useCallback;function a(a){var b=a.message,e=a.shouldMute,g=(h||(h=c("useReStore")))(),j=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId)},[g,b.messageId,b.threadKey],f.id+":32");a=l(function(){if((j==null?void 0:j.targetId)==null)return;var a=j.targetId,h=e?(i||(i=d("LSIntEnum"))).ofNumber(0):(i||(i=d("LSIntEnum"))).ofNumber(1);c("promiseDone")(g.runInTransaction(function(d){return c("LSCustomUpdateMuteManagementStoredProcedure")(c("LSFactory")(d),{gameId:a,mutedUserId:b.threadKey,userActionType:h})},"readwrite",void 0,void 0,f.id+":55"))},[g,b.threadKey,e,j]);a=b.adminMsgCtaTitle!=null?k.jsx(c("MWXLink.react"),{onClick:a,target:"_blank",children:b.adminMsgCtaTitle}):void 0;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSUpdateBotSubscription",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("user_action_type",a[1]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"game_messenger_updates_management_xmat",c.i64.cast([0,755]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxUpdateBotSubscriptionStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSUpdateBotSubscriptionStoredProcedure",["LSSynchronousPromise","LSUpdateBotSubscription","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSUpdateBotSubscription"),e.threadKey,e.userActionType);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react",["I64","LSFactory","LSIntEnum","LSUpdateBotSubscriptionStoredProcedure","MWAdminTextLayout.react","MWXLink.react","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react")),m=k.useCallback;function a(a){var b=a.message,e=a.shouldSubscribe,g=(h||(h=c("useReStore")))(),k=(i||(i=d("I64"))).to_string(b.threadKey),n=m(function(){var a=e?(j||(j=d("LSIntEnum"))).ofNumber(0):(j||(j=d("LSIntEnum"))).ofNumber(1);c("promiseDone")(g.runInTransaction(function(b){return c("LSUpdateBotSubscriptionStoredProcedure")(c("LSFactory")(b),{threadKey:(i||(i=d("I64"))).of_string(k),userActionType:a})},"readwrite",void 0,void 0,f.id+":41"))},[g,k,e]);a=b.adminMsgCtaTitle!=null?l.jsx(c("MWXLink.react"),{onClick:function(){return n()},target:"_blank",children:b.adminMsgCtaTitle}):void 0;return l.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgArmadilloEphemeralChangeDuration.react",["MWAdminTextLayout.react","cr:7125","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.message;var d=a.adminMsgCtaTitle;d=d!=null&&b("cr:7125")!=null?i.jsx("div",babelHelpers["extends"]({className:"xz94kzr x1rg5ohu xo1l8bm"},{children:i.jsx(b("cr:7125"),{threadKey:a.threadKey,title:d})})):null;return i.jsx(c("MWAdminTextLayout.react"),{cta:d,message:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWAdminMsgCtaLink.react",["MWXLink.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.xstyle,d=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["xstyle","children"]);return i.jsx(c("MWXLink.react"),babelHelpers["extends"]({style:{color:"var(--mwp-primary-theme-color)"},weight_DEPRECATED:"bold",xstyle_DEPRECATED:b},a,{children:d}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgBMGenAIConsumerDisclaimerLearnMore.react",["fbt","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.message;return j.jsx(c("MWAdminTextLayout.react"),{cta:j.jsx(c("MWAdminMsgCtaLink.react"),{href:"https://www.facebook.com/legal/ai-terms",target:"_blank",children:h._(/*BTDS*/"__JHASH__0TSM4SpHjsx__JHASH__")}),message:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDDisappearingMessagesStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a="https://help.instagram.com/491565145294150/";b=h._(/*BTDS*/"__JHASH__2OBcaB7QAZn__JHASH__");g.LEARN_MORE_LINK=a;g.DM_SECURITY_NOTICE=b}),226);
__d("MWV2AdminMsgDMLearnMore.react",["fbt","IGDDisappearingMessagesStrings","MWAdminTextLayout.react","MWXLink.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.message;return j.jsx(c("MWAdminTextLayout.react"),{cta:j.jsx(c("MWXLink.react"),{href:d("IGDDisappearingMessagesStrings").LEARN_MORE_LINK,target:"_blank",children:h._(/*BTDS*/"__JHASH__t0_WbzixXKp__JHASH__")}),message:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("XPolarisDirectInboxControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/direct/inbox/",Object.freeze({initial_e2ee_toggle_position:!1,recurring_notification:!1}),["/direct/t/{?thread_key}/","/direct/{?subpage}/{?folder}/"],void 0);b=a;g["default"]=b}),98);
__d("useAdminMessageCTATitleLS",["I64","ReQL","ReQLSuspense"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var c=d("ReQLSuspense").useFirst(function(){var c;return d("ReQL").fromTableAscending(a.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(c=b.adminMsgCtaId)!=null?c:(h||(h=d("I64"))).neg_one)},[a,b],f.id+":27");return c==null?void 0:c.title}g["default"]=a}),98);
__d("useAdminMessageCTATitleProvider",["qex","useAdminMessageCTATitleLS","useMAWSeparateReadsSelector"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){e=e&&((e=c("qex")._("62"))!=null?e:!1);a=c("useAdminMessageCTATitleLS")(a,b);b=d("useMAWSeparateReadsSelector").useMAWSeparateReadsSelector("Title",b.adminMsgCtaTitle,e?void 0:a,e);return b}g["default"]=a}),98);
__d("MWV2AdminMsgE2EECutoverRollback.react",["CurrentEnvironment","I64","MWAdminTextLayout.react","MWInboxRouteBuilder","MWXLink.react","ReQL","ReQLSuspense","WALoggerDeferred","XPolarisDirectInboxControllerRouteBuilder","promiseDone","react","react-strict-dom","useAdminMessageCTATitleProvider","useIsSecureMessage","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to generate the url, thread is missing in mi_act_mapping table for threadKey ",""]);k=function(){return a};return a}var l=j||d("react"),m={adminTextCta:{color:"xz94kzr",display:"x1rg5ohu",fontWeight:"xk50ysn",$$css:!0}};function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.mi_act_mapping_table).getKeyRange(b.threadKey).map(function(a){return(i||(i=d("I64"))).to_string(a.jid)})},[e,b.threadKey],f.id+":43");var g;a!=null?c("CurrentEnvironment").instagramdotcom?g=c("XPolarisDirectInboxControllerRouteBuilder").buildExtraURL("/direct/t/{?thread_key}/",{thread_key:a}):g=d("MWInboxRouteBuilder").buildURL({thread_key:a}):(c("promiseDone")(d("WALoggerDeferred").LOG(k(),(i||(i=d("I64"))).to_string(b.threadKey))),g=d("MWInboxRouteBuilder").buildHomeURL());a=c("useIsSecureMessage")(e,b,{fallbackIsSecure:!0});a=c("useAdminMessageCTATitleProvider")(e,b,a);g=a!=null?l.jsx(d("react-strict-dom").html.div,{style:m.adminTextCta,children:l.jsx(c("MWXLink.react"),{href:g,target:"_self",children:a})}):null;return l.jsx(c("MWAdminTextLayout.react"),{cta:g,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSLockSvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:i.jsx("path",{clipRule:"evenodd",d:"M12.25 15.5a.25.25 0 00.25-.25V12a5.5 5.5 0 1111 0v3.25c0 .138.112.25.25.25h.75a2 2 0 012 2v9a2 2 0 01-2 2h-13a2 2 0 01-2-2v-9a2 2 0 012-2h.75zm3 0h5.5a.25.25 0 00.25-.25V12a3 3 0 10-6 0v3.25c0 .138.112.25.25.25z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgE2EEDescription.react",["fbt","CurrentEnvironment","JSResourceForInteraction","MDSLockSvgIcon.react","MWAdminTextLayout.react","MWXLink.react","XInstagramHelpDotComContentControllerRouteBuilder","react","useAdminMessageCTATitleProvider","useIsSecureMessage","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=c("JSResourceForInteraction")("MAWLearnMoreCutoverDialog.react").__setRef("MWV2AdminMsgE2EEDescription.react"),m=h._(/*BTDS*/"__JHASH__8YEBJluoCs5__JHASH__");function a(a){var b;a=a.message;var d=(i||(i=c("useReStore")))();b=(b=c("XInstagramHelpDotComContentControllerRouteBuilder").buildUri({cms_id:"491565145294150"}).setDomain("help.instagram.com"))==null?void 0:(b=b.setProtocol("https"))==null?void 0:b.toString();var e={},f=c("useMWXLazyDialog")(l),g=f[0];f=function(){return g(e)};var h=c("useIsSecureMessage")(d,a,{fallbackIsSecure:!0});d=c("useAdminMessageCTATitleProvider")(d,a,h);h=d!=null?c("CurrentEnvironment").instagramdotcom?k.jsx(c("MWXLink.react"),{href:b,target:"_blank",children:m}):k.jsx("div",babelHelpers["extends"]({className:"xz94kzr x1rg5ohu xk50ysn"},{children:k.jsx(c("MWXLink.react"),{onClick:f,target:"_blank",children:d})})):null;return k.jsxs(k.Fragment,{children:[k.jsx("div",babelHelpers["extends"]({className:"x1o583il x1rg5ohu x177n6bx x1n2onr6"},{children:k.jsx(c("MDSLockSvgIcon.react"),{color:"tertiary",size:16})})),k.jsx(c("MWAdminTextLayout.react"),{cta:h,message:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2AdminMsgE2EEUKOSA.react",["MWAdminTextLayout.react","MWXLink.react","react","useAdminMessageCTATitleProvider","useIsSecureMessage","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k="https://www.messenger.com/help/1145318292241859/?helpref=hc_fnav";function a(a){a=a.message;var b=(h||(h=c("useReStore")))(),d=c("useIsSecureMessage")(b,a,{fallbackIsSecure:!0});b=c("useAdminMessageCTATitleProvider")(b,a,d);d=j.jsx("div",babelHelpers["extends"]({className:"xxq4lyh x1rg5ohu xk50ysn"},{children:j.jsx(c("MWXLink.react"),{href:k,children:b})}));return j.jsx(c("MWAdminTextLayout.react"),{cta:d,message:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgICDC.react",["fbt","MWAdminTextLayout.react","MWXLink.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k="https://www.facebook.com/help/147596532316790";function a(a){a=a.message;return j.jsx(c("MWAdminTextLayout.react"),{cta:j.jsx(d("react-strict-dom").html.div,{children:j.jsx(c("MWXLink.react"),{color_DEPRECATED:"blueLink",href:k,target:"_blank",children:h._(/*BTDS*/"__JHASH__t0_WbzixXKp__JHASH__")})}),message:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWNotificationMessageManageNotificationsLazyDialogTrigger.react",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");var i=c("JSResourceForInteraction")("MWNotificationMessagesManageNotificationsDialog.react").__setRef("MWNotificationMessageManageNotificationsLazyDialogTrigger.react");function a(a){var b=a.isOptOut,d=a.renderer,e=a.targetId;a=a.threadKey;var f={isOptOut:b,targetId:e,threadKey:a};b=c("useMWXLazyDialog")(i);var g=b[0];e=function(){return g(f,c("emptyFunction"))};return d(e)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWNotificationMessageManageNotificationsAdminMsgCta.react",["CometTextWithEntities.react","MWNotificationMessageManageNotificationsLazyDialogTrigger.react","MWXPressable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.isOptOut,d=a.targetId,e=a.threadKey,f=a.title;a=function(a){return i.jsx(c("MWXPressable.react"),{onPress:function(){return a()},children:i.jsx(c("CometTextWithEntities.react"),{text:f})})};return i.jsx(c("MWNotificationMessageManageNotificationsLazyDialogTrigger.react"),{isOptOut:b,renderer:a,targetId:d,threadKey:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgNotificationMessageManageNotifications.react",["I64","MWAdminTextLayout.react","MWNotificationMessageManageNotificationsAdminMsgCta.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=a.isOptOut,e=a.message,g=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(g.tables.admin_message_ctas).getKeyRange(e.threadKey,e.messageId,(a=e.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[g,e],f.id+":35");var j=e.adminMsgCtaTitle,l=a==null?void 0:a.targetId;a=j!=null&&a!=null&&l!=null?k.jsx("div",babelHelpers["extends"]({className:"x1rg5ohu x1s688f"},{children:k.jsx(c("MWNotificationMessageManageNotificationsAdminMsgCta.react"),{isOptOut:b,targetId:l,threadKey:e.threadKey,title:j})})):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3008");b=d("FalcoLoggerInternal").create("p2b_differentiation_privacy_disclosure_open_click_web",a);e=b;g["default"]=e}),98);
__d("MWV2AdminMsgP2BPrivacyDisclosure.react",["I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=c("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWV2AdminMsgP2BPrivacyDisclosure.react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":31");var g=c("useMWXLazyDialog")(l),j=g[0];g=a==null?void 0:a.title;a=g!=null?k.jsx(c("MWXLink.react"),{onClick:function(){j({entryPoint:"ADMIN_TEXT",threadKey:b.threadKey},function(){}),c("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent").log(function(){return{consumer_id:"0",entry_point:"ADMIN_TEXT",page_id:(i||(i=d("I64"))).to_string(b.threadKey)}})},children:g}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgPostMessageRemoveActions.react",["C4GFalcoLoggerDeferred","I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react")),l=i.useCallback,m=c("JSResourceForInteraction")("MWCMAdmodRemoveMessageOtherActionsDialog.react").__setRef("MWV2AdminMsgPostMessageRemoveActions.react");function n(a){var b=a.senderId,e=a.threadKey;a=a.title;var f=c("useMWXLazyDialog")(m),g=f[0];f=l(function(){d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"tap",event:"message_removed_more_actions_sheet_rendered",surface:"thread_view",thread_id:(j||(j=d("I64"))).to_string(e)}),g({senderId:b,threadKey:e})},[g,b,e]);return k.jsx(c("MWXLink.react"),{color_DEPRECATED:"highlight",onClick:f,role:"button",children:a})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(j||(j=d("I64"))).neg_one)},[e,b],f.id+":63");var g=a==null?void 0:a.title;a=a==null?void 0:a.actionUrl;var i=null;if(a!=null){a=new URL(a);i=a.searchParams.get("removed_msg_sender_id")}a=i!=null&&g!=null?k.jsx(n,{senderId:i,threadKey:b.threadKey,title:g}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgServiceBookingLegalDisclaimer.react",["I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=c("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWV2AdminMsgServiceBookingLegalDisclaimer.react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":32");var g=c("useMWXLazyDialog")(l),j=g[0];g=a==null?void 0:a.title;a=g!=null?k.jsx(c("MWXLink.react"),{onClick:function(){return j({entryPoint:"ADMIN_TEXT",threadKey:b.threadKey},function(){})},children:g}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgShowPinnedMessages.react",["JSResourceForInteraction","LSMessagingThreadTypeUtil","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","MWPBumpEntityKey","MessengerWebUXLogger","ReQL","ReQLSuspense","react","useAdminMessageCTATitleProvider","useIsSecureMessage","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=c("JSResourceForInteraction")("MWPinnedMessagesDialog.react").__setRef("MWV2AdminMsgShowPinnedMessages.react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=c("useMWXLazyDialog")(k);var g=a[0],i=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.threads,["threadType"]).getKeyRange(b.threadKey)},[e,b.threadKey],f.id+":36"),l=c("MessengerWebUXLogger").useInteractionLogger();a=function(){var a={eventName:"open_view_pinned_messages_dialog",threadKey:b.threadKey,threadType:i==null?void 0:i.threadType};l==null?void 0:l(a);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_pinned_messages","see_all_admin_msg_cta");return g({threadKey:b.threadKey},function(){})};var m=c("useIsSecureMessage")(e,b,{fallbackIsSecure:i!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(i==null?void 0:i.threadType)});m=c("useAdminMessageCTATitleProvider")(e,b,m);a=m!=null?j.jsx(c("MWAdminMsgCtaLink.react"),{onClick:a,children:m}):null;return j.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgSupportDialogCTA.react",["AdsMessengerContext.react","I64","MWAdminTextLayout.react","MWXLink.react","MWXText.react","ReQL","ReQLSuspense","react","useJSON","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":28");var g=d("AdsMessengerContext.react").useAdsMessengerContext(),j=g.showAdsAISMAGModal;g=a==null?void 0:a.actionContentBlob;var l=c("useJSON")((g=g)!=null?g:"{}");if(j===void 0)return null;g=a==null?void 0:a.title;a=g!=null?k.jsx(c("MWXText.react"),{color:"blueLink",type:"meta4",children:k.jsx(c("MWXLink.react"),{onClick:function(){return j({use_case:l.use_case,use_case_params:l.use_case_params})},children:g})}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgViewMessagesDualThreadCutover.react",["I64","LSFactory","LSIntEnum","LSPlatformWaitForTaskCompletion","LSVerifyThreadRowExistsStoredProcedure","MWAdminTextLayout.react","MWXLink.react","MWXText.react","ReQL","WALoggerDeferred","asyncToGeneratorRuntime","promiseDone","react","useAsyncReStore","useMWNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Dual-thread-cutover] Failed to navitage to open messages thread ",""]);k=function(){return a};return a}var l=h||(h=d("react")),m=h.useCallback;function a(a){var e=a.message,f=c("useAsyncReStore")(),g=c("useMWNavigation")();a=m(function(){c("promiseDone")(f,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,f=(b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.mi_act_mapping_table).getKeyRange(e.threadKey))))==null?void 0:b.jid;f&&(yield c("LSPlatformWaitForTaskCompletion")(a,function(a){return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(a),{syncGroup:(i||(i=d("LSIntEnum"))).ofNumber(1),threadKey:f,threadType:i.ofNumber(1)})},"readwrite"));b=f?yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(f)):null;b?g.openTabOrInbox({clientThreadKey:b.clientThreadKey,threadKey:b.threadKey,threadType:b.threadType},"preCutoverThread"):void d("WALoggerDeferred").LOG(k(),(j||(j=d("I64"))).to_string(e.threadKey))});return function(b){return a.apply(this,arguments)}}())},[f,e.threadKey,g]);var h=e.adminMsgCtaTitle;a=h!=null?l.jsx(c("MWXLink.react"),{onClick:a,role:"button",children:l.jsx(c("MWXText.react"),{color:"blueLink",type:"body4",children:h})}):null;return l.jsx(c("MWAdminTextLayout.react"),{cta:a,message:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgViewPoll.react",["I64","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","ReQL","ReQLSuspense","justknobx","react","useMWChatPollXMAActionHandler","useMWHasPollsVotingEnabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useCallback;function a(a){var b=a.message,e=(h||(h=c("useReStore")))(),g=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":28");a=c("useMWHasPollsVotingEnabled")(b.threadKey);var j=c("useMWChatPollXMAActionHandler")(),m=l(function(){j(g==null?void 0:g.targetId,g==null?void 0:g.targetTitle)},[g==null?void 0:g.targetId,g==null?void 0:g.targetTitle,j]);if(!c("justknobx")._("1987")||!a||g==null)return k.jsx(c("MWAdminTextLayout.react"),{message:b});a=g==null?void 0:g.title;m=a!=null?k.jsx(c("MWAdminMsgCtaLink.react"),{onClick:m,children:a}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:m,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgWebUrl.react",["AdsMessengerContext.react","I64","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useContext;function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":26");var g=l(d("AdsMessengerContext.react").AdsMessengerContext),j=a==null?void 0:a.title;a=a==null?void 0:a.actionUrl;g=(g==null?void 0:g.messengerLinkColor)||"primary";g=j!=null&&a!=null?k.jsx(c("MWXLink.react"),{color_DEPRECATED:g,href:a,target:"_blank",children:j}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:g,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LWICometProactiveChatOptInMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7358944124142177"}),null);
__d("LWICometProactiveChatOptInMutation.graphql",["LWICometProactiveChatOptInMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"input",variableName:"input"}],d=[{kind:"Literal",name:"topic",value:"ADVERTISER_GUIDANCE"}],e={alias:null,args:null,kind:"ScalarField",name:"is_opted_in",storageKey:null},f=[e];e=[e,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"LWICometProactiveChatOptInMutation",selections:[{alias:null,args:c,concreteType:"XFBProactiveOptInOutput",kind:"LinkedField",name:"xfb_ProactiveChatUpdateIsOptedIn",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:d,concreteType:"XFBProactiveChatOptInSettings",kind:"LinkedField",name:"proactive_chat_opt_in_settings",plural:!1,selections:f,storageKey:'proactive_chat_opt_in_settings(topic:"ADVERTISER_GUIDANCE")'},{alias:null,args:d,concreteType:"XFBProactiveChatOptInSettingsV2",kind:"LinkedField",name:"proactive_chat_opt_in_settings_v2",plural:!1,selections:f,storageKey:'proactive_chat_opt_in_settings_v2(topic:"ADVERTISER_GUIDANCE")'}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"LWICometProactiveChatOptInMutation",selections:[{alias:null,args:c,concreteType:"XFBProactiveOptInOutput",kind:"LinkedField",name:"xfb_ProactiveChatUpdateIsOptedIn",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:d,concreteType:"XFBProactiveChatOptInSettings",kind:"LinkedField",name:"proactive_chat_opt_in_settings",plural:!1,selections:e,storageKey:'proactive_chat_opt_in_settings(topic:"ADVERTISER_GUIDANCE")'},{alias:null,args:d,concreteType:"XFBProactiveChatOptInSettingsV2",kind:"LinkedField",name:"proactive_chat_opt_in_settings_v2",plural:!1,selections:e,storageKey:'proactive_chat_opt_in_settings_v2(topic:"ADVERTISER_GUIDANCE")'}],storageKey:null}],storageKey:null}]},params:{id:b("LWICometProactiveChatOptInMutation_facebookRelayOperation"),metadata:{},name:"LWICometProactiveChatOptInMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("LWICometProactiveChatOptInMutation.react",["CometRelay","LWICometProactiveChatOptInMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("LWICometProactiveChatOptInMutation.graphql");function a(a){var b=a.entryPoint,c=a.environment,e=a.optInValue,f=a.setLoading,g=a.setOptedIn;d("CometRelay").commitMutation(c,{mutation:i,onCompleted:function(a,b){a=e;g(a);f(!1)},onError:function(){f(!1)},variables:{input:{entry_point:b,is_opted_in:e,topic:"ADVERTISER_GUIDANCE"}}})}g.commitProactiveChatOptInMutation=a}),98);
__d("MWV2SBGProactiveChatMutationUrl.react",["CometRelay","I64","LWICometProactiveChatOptInMutation.react","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","ReQL","ReQLSuspense","react","useReStore","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=a.message,e=a.opted_in;c("vulture")("Opb7TR2U2I_h46Z6iLPeKq5sTDE=");var g=d("CometRelay").useRelayEnvironment(),j=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(j.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[j,b],f.id+":34");a=(a=a==null?void 0:a.title)!=null?a:"";var l=function(){return d("LWICometProactiveChatOptInMutation.react").commitProactiveChatOptInMutation({entryPoint:"sbg_messenger_xmat",environment:g,optInValue:e,setLoading:function(){},setOptedIn:function(){}})};l=a!=null?k.jsx(c("MWAdminMsgCtaLink.react"),{onClick:l,children:a}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:l,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatAdminMessage.react",["MWAdminTextLayout.react","MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react","MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react","MWV2AdminMsgArmadilloEphemeralChangeDuration.react","MWV2AdminMsgBMGenAIConsumerDisclaimerLearnMore.react","MWV2AdminMsgDMLearnMore.react","MWV2AdminMsgE2EECutoverRollback.react","MWV2AdminMsgE2EEDescription.react","MWV2AdminMsgE2EEUKOSA.react","MWV2AdminMsgICDC.react","MWV2AdminMsgNotificationMessageManageNotifications.react","MWV2AdminMsgP2BPrivacyDisclosure.react","MWV2AdminMsgPostMessageRemoveActions.react","MWV2AdminMsgServiceBookingLegalDisclaimer.react","MWV2AdminMsgShowPinnedMessages.react","MWV2AdminMsgSupportDialogCTA.react","MWV2AdminMsgViewMessagesDualThreadCutover.react","MWV2AdminMsgViewPoll.react","MWV2AdminMsgWebUrl.react","MWV2SBGProactiveChatMutationUrl.react","MWXText.react","gkx","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={color:{color:"x186z157",fontWeight:"xk50ysn",$$css:!0},container:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",paddingStart:"x5ib6vp",paddingEnd:"xc73u3c",paddingLeft:null,paddingRight:null,$$css:!0},containerThatPrecedesAdminMessage:{paddingBottom:"x1a8lsjc",$$css:!0},containerThatProceedsAdminMessage:{paddingTop:"x889kno",$$css:!0},content:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",maxWidth:"x1ekjcvx",textAlign:"x2b8uid",wordBreak:"x13faqbe",$$css:!0}};function k(a){if(a!=null)return a.isAdminMessage;else return!1}function l(a){var b=a.children,c=a.nextMessage;a=a.prevMessage;return i.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,style:[j.container,k(a)?j.containerThatProceedsAdminMessage:!1,k(c)?j.containerThatPrecedesAdminMessage:!1],children:i.jsx(d("react-strict-dom").html.div,{style:j.content,children:b})})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.message;a.nextMessage;a.prevMessage;switch(b.adminMsgCtaType){case"admin_msg_armadillo_ephemeral_change_duration":return i.jsx(c("MWV2AdminMsgArmadilloEphemeralChangeDuration.react"),{message:b});case"admin_msg_dual_thread_cutover":return i.jsx(c("MWV2AdminMsgViewMessagesDualThreadCutover.react"),{message:b});case"admin_msg_web_url":return i.jsx(c("MWV2AdminMsgWebUrl.react"),{message:b});case"admin_msg_sbg_proactive_chat_opt_in":return i.jsx(c("MWV2SBGProactiveChatMutationUrl.react"),{message:b,opted_in:!0});case"admin_msg_sbg_proactive_chat_opt_out":return i.jsx(c("MWV2SBGProactiveChatMutationUrl.react"),{message:b,opted_in:!1});case"admin_msg_p2b_privacy_disclosure":if(c("gkx")("24144"))return i.jsx(c("MWV2AdminMsgP2BPrivacyDisclosure.react"),{message:b});else break;case"admin_notification_messages_opt_out":return i.jsx(c("MWV2AdminMsgNotificationMessageManageNotifications.react"),{isOptOut:!0,message:b});case"admin_notification_messages_opt_in":return i.jsx(c("MWV2AdminMsgNotificationMessageManageNotifications.react"),{isOptOut:!1,message:b});case"admin_msg_thread_level_cutover":return i.jsx(c("MWV2AdminMsgE2EEDescription.react"),{message:b});case"admin_msg_e2ee_thread":return null;case"admin_msg_cutover_rollback":return i.jsx(c("MWV2AdminMsgE2EECutoverRollback.react"),{message:b});case"admin_msg_e2ee_uk_osa":return i.jsx(c("MWV2AdminMsgE2EEUKOSA.react"),{message:b});case"xmat_instant_game_bot_message_subscribe":return i.jsx(c("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react"),{message:b,shouldSubscribe:!0});case"xmat_instant_game_bot_message_unsubscribe":return i.jsx(c("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react"),{message:b,shouldSubscribe:!1});case"admin_msg_view_pin_msgs_v2":return i.jsx(c("MWV2AdminMsgShowPinnedMessages.react"),{message:b});case"xmat_instant_game_custom_update_message_mute":return i.jsx(c("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react"),{message:b,shouldMute:!0});case"xmat_instant_game_custom_update_message_unmute":return i.jsx(c("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react"),{message:b,shouldMute:!1});case"admin_message_service_booking_legal_disclaimer":return i.jsx(c("MWV2AdminMsgServiceBookingLegalDisclaimer.react"),{message:b});case"admin_msg_admod_post_msg_remove_actions":return i.jsx(c("MWV2AdminMsgPostMessageRemoveActions.react"),{message:b});case"admin_msg_poll_details":return i.jsx(c("MWV2AdminMsgViewPoll.react"),{message:b});case"admin_msg_icdc":return i.jsx(c("MWV2AdminMsgICDC.react"),{message:b});case"admin_msg_ig_dm_learn_more":return i.jsx(c("MWV2AdminMsgDMLearnMore.react"),{message:b});case"admin_msg_bm_genai_consumer_disclaimer_learn_more":return i.jsx(c("MWV2AdminMsgBMGenAIConsumerDisclaimerLearnMore.react"),{message:b});case"support_open_dialog":return i.jsx(c("MWV2AdminMsgSupportDialogCTA.react"),{message:b})}return i.jsx(c("MWAdminTextLayout.react"),{message:b})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.message,e=a.nextMessage;a=a.prevMessage;return b.adminMsgCtaType==="admin_msg_e2ee_thread"?null:i.jsx(l,{nextMessage:e,prevMessage:a,children:i.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:i.jsx(d("react-strict-dom").html.div,{style:j.color,children:i.jsx(m,{message:b})})})})}a.displayName=a.name+" [from "+f.id+"]";g.isAdminMessage=k;g.MWV2ChatAdminMessageContainer=l;g.MWV2ChatAdminMessage=a}),98);
__d("MWV2ChatBubble.react",["MWXMessageBubble.react","mwpMessageIsReply","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.emphasized,d=a.message,e=a.xmaLayout,f=a.children,g=a.connectBottom,h=a.connectTop,j=a.outgoing;a=a.precedesXMA;d=c("mwpMessageIsReply")(d);return i.jsx(c("MWXMessageBubble.react"),{align:j?"right":"left",color:j?"outgoing":"incoming",connectBottom:g,connectTop:h,precedesXMA:a,variant:d||b?"opaque":"default",xmaLayout:e,children:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatBubbleContainer.react",["MWChatBubbleEmphasisRing.react","MWV2ChatBubble.react","react","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.hasEmphasisRing;b=b===void 0?!1:b;var e=a.message,f=a.xmaLayout;f=f===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:f;var g=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["hasEmphasisRing","message","xmaLayout","children"]);g=i.jsx(c("MWV2ChatBubble.react"),babelHelpers["extends"]({children:g,emphasized:b,message:e,xmaLayout:f},a));return b?i.jsx(c("MWChatBubbleEmphasisRing.react"),babelHelpers["extends"]({},a,{children:g})):g}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatEmoji.react",["CometTextWithEntities.react","I64","LSHotEmojiSize","LSIntEnum","MWChatBubbleEmphasisRing.react","MWChatTextTransform","MWV2ChatEmojiHotLike.react","ReStoreVaulting","gkx","justknobx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react")),l=h.useMemo,m=(b={},b[c("LSHotEmojiSize").NONE]=32,b[c("LSHotEmojiSize").SMALL]=32,b[c("LSHotEmojiSize").MEDIUM]=56,b[c("LSHotEmojiSize").LARGE]=96,b);function a(a){var b=a.hasEmphasisRing;b=b===void 0?!1:b;var e=a.isSecureMessage;e=e===void 0?!1:e;a=a.message;var f=a.hotEmojiSize,g=f!=null&&((i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL))||(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").MEDIUM))||(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").LARGE))),h=f?(j||(j=d("LSIntEnum"))).unwrapIntEnum(f):c("LSHotEmojiSize").NONE;f=l(function(){return d("MWChatTextTransform").textTransformsWithOptions({size:c("gkx")("23249")?32:m[h]})},[h]);a=a.text;if(a==null)return null;a=d("ReStoreVaulting").maybeUnvault(a);if(e&&g&&a==="\ud83d\udc4d")return k.jsx(c("MWV2ChatEmojiHotLike.react"),{hotEmojiSize:h});e=k.jsx(c("CometTextWithEntities.react"),{text:a,transforms:f,withLineBreaks:c("justknobx")._("3030"),withParagraphs:!0});return b?k.jsx(c("MWChatBubbleEmphasisRing.react"),{connectBottom:!1,connectTop:!1,outgoing:!1,precedesXMA:!1,children:e}):e}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatErrorBubble.react",["fbt","MWV2TombstonedMessage.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={vr:{height:"x36qwtl",width:"xh8yej3",$$css:!0},withRepliedMessage:{zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=a.isOutgoing;a=a.isReply;return j.jsxs(d("react-strict-dom").html.div,{style:a&&k.withRepliedMessage,children:[a?null:j.jsx(d("react-strict-dom").html.div,{style:k.vr}),j.jsxs(c("MWV2TombstonedMessage.react"),{isOutgoing:b,children:[" ",h._(/*BTDS*/"__JHASH__fgvjfNhcDBr__JHASH__")]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWMessageTranslationContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;d=e.createContext;var j=e.useCallback,k=e.useContext,l=e.useMemo,m=e.useState,n=d({shouldShowTranslateOption:function(){return!1},toggleMessageTranslation:c("emptyFunction")});function a(a){a=a.children;var b=m(new Set()),c=b[0],d=b[1],e=j(function(a){var b=new Set(c);c.has(a)?b["delete"](a):b.add(a);d(b)},[c]),f=j(function(a){return!c.has(a)},[c]);b=l(function(){return{shouldShowTranslateOption:f,toggleMessageTranslation:e}},[e,f]);return i.jsx(n.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return k(n)}e={Provider:a,useHook:b};g["default"]=e}),98);
__d("MWXMessageBaseMessageListText.react",["MWChatTextTransform","MWXMessageTextWithEntities.react","MWXText.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={incoming:{color:"x18lvrbx",$$css:!0},outgoing:{color:"xyk4ms5",$$css:!0},regular:{marginTop:"x1gslohp",marginEnd:"x11i5rnm",marginBottom:"x12nagc",marginStart:"x1mh8g0r",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0}};function a(a){var b=a.outgoing,e=a.text,f=a.xstyle,g=a.ranges,h=a.renderers;a=a.transforms;return e==null?null:i.jsx(c("MWXText.react"),{color:b?"white":"primary",type:"body3",children:i.jsx(d("react-strict-dom").html.div,{dir:"auto",style:[j.regular,b?j.outgoing:j.incoming,f],children:i.jsx(c("MWXMessageTextWithEntities.react"),{ranges:g,renderers:h,text:e,transforms:(b=a)!=null?b:d("MWChatTextTransform").textTransforms,withParagraphs:!1})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMessageListText.react",["I64","LSIntEnum","LSMessageReplySourceTypeV2","MWChatTextTransform","MWXMessageBaseMessageListText.react","MWXMessageBlockQuote.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var b=a.message,e=a.xstyleForForwarded,f=a.xstyleForText,g=a.outgoing,h=a.ranges,l=a.renderers,m=a.text;a=a.transforms;if(m==null)return null;b=b.replySourceTypeV2!=null&&(i||(i=d("I64"))).equal(b.replySourceTypeV2,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD));l=k.jsx(c("MWXMessageBaseMessageListText.react"),{outgoing:g,ranges:h,renderers:l,text:m,transforms:(h=a)!=null?h:d("MWChatTextTransform").textTransforms,xstyle:f});return b?k.jsx(c("MWXMessageBlockQuote.react"),{outgoing:g,xstyle:e,children:l}):l}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatText.react",["MWMessageTranslationContext.react","MWUnvaultedText","MWV2ChatTextUtils","MWXMessageListText.react","gkx","isMWBumpMessage","react","useMWTextRenderers","useStringWithSubstitutions"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var b=a.containerThreadKey,e=a.containerThreadType,f=a.isSecureMessage,g=a.message;a=a.outgoing;var h=c("useMWTextRenderers")(a,f),j=c("MWMessageTranslationContext.react").useHook();j=j.shouldShowTranslateOption;j=c("gkx")("4988")&&!j(g.messageId);j=j&&g.translatedText!=null?g.translatedText:g.text;j=d("MWUnvaultedText").useMWUnvaultedText(f,j);b=d("MWV2ChatTextUtils").useRanges(j,g,b,e);if(j==null)return null;return f&&c("isMWBumpMessage")(g)?i.jsx(l,{message:g,outgoing:a,ranges:b,renderers:h,text:j}):i.jsx(k,{isSecureMessage:f,message:g,outgoing:a,ranges:b,renderers:h,text:j})}a.displayName=a.name+" [from "+f.id+"]";function k(a){var b=a.isSecureMessage,e=a.message,f=a.outgoing,g=a.ranges,h=a.renderers;a=a.text;var k=j(function(){var a;return new Set((a=(a=e.mentionIds)==null?void 0:a.split==null?void 0:a.split(","))!=null?a:[])},[e.mentionIds]);k=(b=d("useStringWithSubstitutions").useStringWithMentionSubstitutionsAndUpdatedRanges(b?a:null,g,k,e.threadKey))!=null?b:{textWithSubstitutions:a,updatedRanges:g};b=k.textWithSubstitutions;a=k.updatedRanges;return i.jsx(c("MWXMessageListText.react"),{message:e,outgoing:f,ranges:a,renderers:h,text:b})}k.displayName=k.name+" [from "+f.id+"]";function l(a){var b,e=a.message,f=a.outgoing,g=a.ranges,h=a.renderers;a=a.text;b=(b=d("useStringWithSubstitutions").useStringWithSubstitutions(a,e.threadKey))!=null?b:a;return i.jsx(c("MWXMessageListText.react"),{message:e,outgoing:f,ranges:g,renderers:h,text:b})}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XCometGroupAdminActivitiesControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/groups/{idorvanity}/admin_activities/",Object.freeze({with_note:!1,automatic_action:!1}),void 0);b=a;g["default"]=b}),98);
__d("useMAWUnsendContentInSecureThread",["fbt","MWPMessageAuthor.react"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){a=d("MWPMessageAuthor.react").useAuthorName();a=a[0];return a!=null?h._(/*BTDS*/"__JHASH___lYaXtrKDTe__JHASH__",[h._param("first name",a)]):h._(/*BTDS*/"__JHASH__I-2GRtvMpnJ__JHASH__")}g["default"]=a}),226);
__d("MWV2ChatUnsentMessage.react",["fbt","I64","MWLSThread","MWPMessageAuthor.react","MWV2TombstonedMessage.react","MWXPressable.react","MWXText.react","ReQL","ReQLSuspense","XCometGroupAdminActivitiesControllerRouteBuilder","mwCMIsAnyCMThread","react","useCommunityFolder","useMAWUnsendContentInSecureThread","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||d("react"),m={linkText:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingStart:"x16hj40l",paddingEnd:"xsyo7zv",paddingLeft:null,paddingRight:null,$$css:!0}};function n(a){var b=a.attachment,e=a.isSecureMessage;a=a.message;var f=h._(/*BTDS*/"__JHASH__I-2GRtvMpnJ__JHASH__");a=c("useMAWUnsendContentInSecureThread")(a);var g=d("MWPMessageAuthor.react").useAuthorName();g=g[0];if(e)e=a;else if(g!=null)e=h._(/*BTDS*/"__JHASH___lYaXtrKDTe__JHASH__",[h._param("first name",g)]);else if(b!=null){a=b.descriptionText;e=a!=null?a:f}else e=f;return l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:!1,children:e})}n.displayName=n.name+" [from "+f.id+"]";function o(a){a=a.attachment;if(a!=null){a=a.descriptionText;a=a!=null?a:h._(/*BTDS*/"__JHASH__eGohYC1zonu__JHASH__")}else a=h._(/*BTDS*/"__JHASH__eGohYC1zonu__JHASH__");return l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:!0,children:a})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.attachment;a=a.thread;a=c("useCommunityFolder")(a);if(b!=null){b=b.cta1Title;b=b!=null?b:h._(/*BTDS*/"__JHASH__8jyfQXNgswL__JHASH__")}else b=h._(/*BTDS*/"__JHASH__8jyfQXNgswL__JHASH__");if(a!=null)return l.jsx(c("MWXPressable.react"),{linkProps:{url:"https://www.facebook.com"+c("XCometGroupAdminActivitiesControllerRouteBuilder").buildURL({idorvanity:(k||(k=d("I64"))).to_string(a.fbGroupId)})},overlayDisabled:!0,xstyle:function(){return[m.linkText]},children:l.jsx(c("MWXText.react"),{color:"blueLink",type:"meta2",children:b})});else return null}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.isSecureMessage,e=a.message;a=a.outgoing;var g=(i||(i=c("useReStore")))(),h=e.messageId,j=e.threadKey,k=d("MWLSThread").useThread(j),m=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.attachments).getKeyRange(j,h)},[g,h,j],f.id+":145");if(m!=null){var q=m.cta1Type;q=q!=null?q==="xma_view_activity_log":!1}else q=!1;return l.jsxs(l.Fragment,{children:[a?l.jsx(o,{attachment:m}):l.jsx(n,{attachment:m,isSecureMessage:b,message:e}),k!=null&&q&&c("mwCMIsAnyCMThread")(k.threadType)?l.jsx(p,{attachment:m,thread:k}):null]})}a.displayName=a.name+" [from "+f.id+"]";g.MWV2ChatUnsentMessage=a}),226);
__d("MWChatSingleSeenHeadRow.react",["MWChatSingleSeenHead.react","MWLSThreadDisplayContext","MWXTooltip.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={mask:{backgroundColor:"x1eb86dx",$$css:!0},root:{display:"x78zum5",justifyContent:"x13a6bvl",$$css:!0},singleSeenHeadRow:{display:"x1jfb8zj",$$css:!0}};function a(a){var b=a.head,e=a.text;a=a.xstyle;var f=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return i.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,style:[j.root,j.mask],children:i.jsx(d("react-strict-dom").html.div,{style:[j.singleSeenHeadRow,a],children:i.jsx(c("MWXTooltip.react"),{align:f==="Inbox"?"middle":"end",forceInlineDisplay:!0,position:"above",tooltip:e,children:i.jsx(c("MWChatSingleSeenHead.react"),{altText:e,head:b,tabIndex:0})},b.id)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWStatusText.react",["MWXText.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={alignLeft:{paddingStart:"xtt4iyq",$$css:!0},alignRight:{paddingEnd:"x1sxyh0",$$css:!0},color:{color:"x1xf6ywa",$$css:!0},mask:{backgroundColor:"x1eb86dx",$$css:!0}};b=i.forwardRef(a);function a(a,b){var e=a.addOnEnd,f=a.alignLeft;f=f===void 0?!1:f;var g=a.error,h=a.text;a=a.xstyle;return i.jsx(d("react-strict-dom").html.span,{ref:b,role:"none",style:[f?j.alignLeft:j.alignRight,j.mask,a],children:i.jsxs(c("MWXText.react"),{align:f===!0?"start":"end",color:g===!0?"negative":"secondary",testid:void 0,type:"meta4",children:[i.jsx(d("react-strict-dom").html.span,{style:j.color,children:h}),e]})})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("MWClickToRevealMustacheText.react",["fbt","MWBlockingProtectionContext.react","MWStatusText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={statusText:{paddingBottom:"xwib8y2",$$css:!0}};function a(a){var b=a.messageId;a=a.xsyle;var d=c("MWBlockingProtectionContext.react").useHook();d=d.findMessageId;d=d(b);return d?null:j.jsx(c("MWStatusText.react"),{alignLeft:!0,text:h._(/*BTDS*/"__JHASH__vzmOniQEuzD__JHASH__").toString(),xstyle:[a,k.statusText]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWMessageDeliverySentTimestamp",["fbt","I64"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("I64"))).of_int32(60),k=i.of_int32(60*60),l=i.of_int32(24*60*60),m=i.of_int32(7*24*60*60);function a(a,b){b=(i||(i=d("I64"))).of_float(b.getTime()/1e3);a=i.div(a,i.of_int32(1e3));b=i.sub(b,a);a=h._(/*BTDS*/"__JHASH__FdnMQ3ayYbi__JHASH__");if((i||(i=d("I64"))).lt(b,j))return a;else if((i||(i=d("I64"))).lt(b,k)){var c=(i||(i=d("I64"))).to_string(i.div(b,j));return h._(/*BTDS*/"__JHASH__wurNpoApU1z__JHASH__",[h._param("minutes",c)])}else if((i||(i=d("I64"))).lt(b,l)){c=(i||(i=d("I64"))).to_string(i.div(b,k));return h._(/*BTDS*/"__JHASH__Og6TIDKGh51__JHASH__",[h._param("hours",c)])}else if((i||(i=d("I64"))).lt(b,m)){c=(i||(i=d("I64"))).to_string(i.div(b,l));return h._(/*BTDS*/"__JHASH___ys48wQwNKi__JHASH__",[h._param("days",c)])}else return a}g.getSentTitleWithTimestamp=a}),226);
__d("MWMessageSendingContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;d=e.createContext;var j=e.useContext,k=e.useMemo,l=e.useRef,m=d({findSendingMessage:c("emptyFunction").thatReturnsFalse,trackSendingMessage:c("emptyFunction"),untrackSendingMessage:c("emptyFunction")});function a(a){a=a.children;var b=l(new Set()),c=k(function(){return{findSendingMessage:function(a){return b.current.has(a)},trackSendingMessage:function(a){b.current.add(a)},untrackSendingMessage:function(a){b.current["delete"](a)}}},[b]);return i.jsx(m.Provider,{value:c,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(m)}e={Provider:a,useHook:b};g["default"]=e}),98);
__d("useLSMessagingInitiatingSourceNumber",["LSMessagingInitiatingSource","MWLSThreadDisplayContext"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();if(a==null)return;else if(a==="Inbox")return c("LSMessagingInitiatingSource").FACEBOOK_INBOX;else if(a==="FullscreenChat")return c("LSMessagingInitiatingSource").FACEBOOK_FULLSCREEN;else if(a==="ChatTab")return c("LSMessagingInitiatingSource").FACEBOOK_CHAT;else return c("LSMessagingInitiatingSource").ROOMS_SIDE_CHAT}g["default"]=a}),98);
__d("useMAWSendMessageV2",["I64","LSHotEmojiSize","LSIntEnum","MAWBridgeSendAndReceive","MAWMessageSendReporter","MAWMessageSendReporterV2","MWPActor.react","MWPReplyContext.react","QPLUserFlow","WAResultOrError","asyncToGeneratorRuntime","qpl","react","requireDeferred","useLSMessagingInitiatingSourceNumber"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).useContext,l=c("requireDeferred")("MWLogSend").__setRef("useMAWSendMessageV2");function m(a){if(a==null)return;if((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL)))return 1;if((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").MEDIUM)))return 2;if((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").LARGE)))return 3}function a(){var a=d("MWPActor.react").useActor(),e=k(d("MWPReplyContext.react").MWPReplyContext),f=e.reply,g=c("useLSMessagingInitiatingSourceNumber")();return function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,e,h,j,k,n,o,p,q,r,s,t,u,v,w,x,y,z,A){k=babelHelpers["extends"]({content:k,initiatingSource:g,isFirstMsg:s,isForwarded:!1,openMessageOtid:o,openMessageParticipantCount:t,optimisticMsg:{msgId:p,ts:q},participantCount:u,source:n,specialTextSize:m(r)},v!=null&&{quote:v});w!=null&&(k.ephemeralSetting=w);x!=null&&(k.mentionedJids=[].concat(x));A!=null&&(k.commands=[].concat(A));c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"sending_message_to_wajob_start",{instanceKey:y});s=d("MAWBridgeSendAndReceive").sendAndReceive("backend","sendMsg",{args:k,chatJid:j,externalId:z,qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:y});l.onReady(function(c){var g=(i||(i=d("I64"))).to_string(e),j=r!=null?3:0;return c.log(b,{_mentionedJids:x,actor:a,attachmentFbids:[],attachmentType:j,backend:1,hasReply:f!=null,messagingThreadId:g,msgTtl:w==null?void 0:w.ephemeralExpirationInSec,offlineThreadingId:z,sendType:0,source:n,threadKey:e,threadType:h})});c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"sending_message_to_wajob_end",{instanceKey:y});if(d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled())return s;else{yield d("MAWMessageSendReporter").MAWMessageSendReporter({chatJid:j,externalId:z},s,{qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:y},b);return d("WAResultOrError").makeResult({description:"removal pending rollout of Message Send Reporter V2",messageType:"fixMe"})}});return function(a,b,c,d,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){return e.apply(this,arguments)}}()}g["default"]=a}),98);
__d("MWRetryMessageSend.react",["fbt","BaseMiddot.react","FBLogger","I64","LSIntEnum","LSThreadAttributionTypeUtil","MAWMessageSendReporterV2","MAWMiActOnActThreadReady","MWSharedMsgLogUtils","MWSharedS2SBaseAnnotations","MWXLink.react","MWXSpinner.react","MWXText.react","MessengerWebUXLogger","ReQL","WAStanzaUtils","asyncToGeneratorRuntime","promiseDone","react","sendToSentQPLLogger","setTimeout","useAsyncReStore","useLSMessagingSource","useMAWSendMessageV2","useMWLSDefaultThreadSource"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react")),m=i.useState,n={loadingSpinner:{display:"x3nfvp2",paddingTop:"x1iorvi4",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xurb0ha",$$css:!0}};function a(a){var e=a.message,f=c("useAsyncReStore")(),g=c("useMWLSDefaultThreadSource")(),i=c("useMAWSendMessageV2")(),o=c("MessengerWebUXLogger").useInteractionLogger();a=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"secure_message_retry_impression"});var p=c("useLSMessagingSource")(),q=m(!1),r=q[0],s=q[1];q=m(!1);var t=q[0],u=q[1],v=r||t;q=function(){if(v)return;s(!0);u(!0);c("setTimeout")(function(){s(!1)},1e3);o==null?void 0:o({eventName:"secure_message_retry_lick"});c("promiseDone")(f,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(e.threadKey))),h=d("WAStanzaUtils").toStanzaId(e.offlineThreadingId),l=function(){var k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){d("sendToSentQPLLogger").markSendToSentPoint(b,"retry_secure_message_start");if(f==null){d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled()||d("sendToSentQPLLogger").markSendToSentFail(b,"message_retry_fail");throw c("FBLogger")("messenger_web_messaging").mustfixThrow("Failed while fetching thread from DB in MWRetryMessageSend.react")}var k=(yield d("MAWMiActOnActThreadReady").waitForACTThreadReady(a.tables,f.threadKey,"MWRetryMessageSend"));return i(a,f.threadKey,f.threadType,k.chatJid,(k=e.text)!=null?k:"",g(f.threadKey),void 0,e.offlineThreadingId,(j||(j=d("I64"))).to_int32(e.timestampMs),e.hotEmojiSize,!1,void 0,void 0,void 0,void 0,void 0,b,h).then(function(a){u(!1);return[a]},function(a){u(!1);return[a]})});return function(a){return k.apply(this,arguments)}}();if(d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled())return d("MAWMessageSendReporterV2").MAWMessageSendReporterV2({composerEntrypoint:"retry-button",externalId:h,lsSource:p,messageTypeParamsArgs:{hotEmojiSize:e.hotEmojiSize,messageText:e.text},thread:f},l,a);else{var m=d("sendToSentQPLLogger").markSendToSentStart();if(f){var n=d("LSThreadAttributionTypeUtil").getSource(f.threadKey,p),o=d("MWSharedS2SBaseAnnotations").getMessageTypeParams({hotEmojiSize:e.hotEmojiSize,messageText:e.text,threadType:f.threadType});d("sendToSentQPLLogger").addSendToSentAnnotations(m,yield d("MWSharedMsgLogUtils").getSendToSentAnnotations(f,o,(k||(k=d("LSIntEnum"))).unwrapIntEnum(n),"retry-button"))}return l(m)}});return function(b){return a.apply(this,arguments)}}())};return l.jsx(l.Fragment,{children:v?l.jsx(c("MWXSpinner.react"),{color:"disabled",size:12,xstyle:n.loadingSpinner}):l.jsxs(l.Fragment,{children:[l.jsx(c("BaseMiddot.react"),{}),l.jsx(c("MWXText.react"),{color:"negative",type:"bodyLink4",children:l.jsx(c("MWXLink.react"),{onClick:q,ref:a,children:h._(/*BTDS*/"__JHASH__9CDNHt9PfWl__JHASH__")})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWMessageOutgoingStatus.react",["MWMessageDeliverySentTimestamp","MWMessageDeliveryStatus","MWMessageSendingContext.react","MWPMessageListColumn.react","MWRetryMessageSend.react","MWStatusText.react","MessengerWebUXLogger","clearTimeout","gkx","react","react-strict-dom","setTimeout","useServerTime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useMemo,l=b.useRef,m=b.useState,n=3e3,o={mountAnimation:{animationDuration:"x4afe7t",animationName:"x1nuzdyh",animationTimingFunction:"x4hg4is",display:"x1rg5ohu",$$css:!0},statusText:{paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",$$css:!0},statusTextRow:{backgroundColor:"x1eb86dx",display:"x78zum5",justifyContent:"x13a6bvl",$$css:!0}};function a(a){var b=a.alignLeft,e=a.isLastMessage,f=a.isSecureMessage,g=a.message,h=a.status,p=a.xstyle;a=m(!1);var q=a[0],r=a[1],s=l(null),t=l(!1);a=c("MWMessageSendingContext.react").useHook();var u=a.findSendingMessage,v=a.trackSendingMessage,w=a.untrackSendingMessage,x=c("useServerTime")();j(function(){w(g.offlineThreadingId);h.type==="Sending"?(v(g.offlineThreadingId),s.current=c("setTimeout")(function(){r(!0)},n)):s.current&&c("clearTimeout")(s.current);return function(){s.current&&c("clearTimeout")(s.current)}},[u,g.offlineThreadingId,h.type,v,w]);var y=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"message_cant_send_status",threadKey:g.threadKey});a=k(function(){h.type==="Sending"?v(g.offlineThreadingId):u(g.offlineThreadingId)&&(t.current=!0);var a=h.type==="Sending"||t.current;a=[o.statusText,a&&o.mountAnimation,p];var j=c("gkx")("7471");j=j&&f===!0&&g.subscriptErrorMessage!=null?g.subscriptErrorMessage:d("MWMessageDeliveryStatus").Titles.error.toString();switch(h.type){case"Sending":return q?i.jsx(c("MWStatusText.react"),{alignLeft:b,text:d("MWMessageDeliveryStatus").Titles.sending.toString(),xstyle:a}):i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:17});case"Sent":case"Delivered":return e?i.jsx(c("MWStatusText.react"),{alignLeft:b,text:d("MWMessageDeliverySentTimestamp").getSentTitleWithTimestamp(g.timestampMs,x).toString(),xstyle:a}):null;case"Error":return i.jsx(c("MWStatusText.react"),{alignLeft:b,error:!0,ref:y,text:j,xstyle:a});case"RetriableError":return i.jsx(c("MWStatusText.react"),{addOnEnd:f===!0?i.jsx(c("MWRetryMessageSend.react"),{message:g}):void 0,alignLeft:b,error:!0,text:j,xstyle:a});case"ValidationError":return null;default:return null}},[b,u,e,f,g,x,q,h.type,v,p,y]);return i.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,style:[o.statusTextRow],children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatSeenHeadsRow.react",["fbt","JSResourceForInteraction","MDSGlimmer.react","MWLSThreadDisplayContext","MWV2MessageRowIsRowFocusedContext.react","MWXImage.react","MWXPressable.react","MWXTooltip.react","MWXTooltipGroup.react","getFBTSafeGenderFromGenderConst","getMessengerPreciseTimestamp","react","react-strict-dom","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useContext,l=b.useRef,m=5,n=c("JSResourceForInteraction")("MWV2ChatSeenHeadsDialog.react").__setRef("MWV2ChatSeenHeadsRow.react"),o={heads:{display:"x78zum5",flexShrink:"x2lah0s",$$css:!0},img:{borderTopStartRadius:"x1rcc7c0",borderTopEndRadius:"xbtbmw4",borderBottomEndRadius:"x1lie4ck",borderBottomStartRadius:"x16hxpj1",height:"x1v9usgg",paddingEnd:"x19um543",paddingStart:"x1m6msm",verticalAlign:"xxymvpz",width:"x6jxa94",$$css:!0},mask:{backgroundColor:"x1eb86dx",$$css:!0},overflow:{backgroundColor:"x1qhmfi1",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",color:"xi81zsa",fontSize:"x1ncwhqj",fontWeight:"x117nqv4",lineHeight:"x1hkbg2g",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x150jy0e",paddingBottom:"x18d9i69",paddingStart:"x1e558r4",textAlign:"x2b8uid",$$css:!0},root:{display:"x78zum5",paddingBottom:"x1120s5i",$$css:!0},spacer:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0}};function p(a,b,e,f){if(!e)return[];e=Math.max(Math.floor(b-9),0);a=a.slice(e,b);var g="\n"+h._(/*BTDS*/"__JHASH__8_D_WS90lqj__JHASH__",[h._param("Number of additional views",e,[0])]).toString();a=j.jsxs(d("react-strict-dom").html.ul,{children:[a.reverse().map(function(a,b){return j.jsx(d("react-strict-dom").html.li,{children:a.name},String(b))}),e>0?j.jsx(d("react-strict-dom").html.li,{children:g},"overflow"):null]});e=h._(/*BTDS*/"__JHASH__hpZlVXKj1CE__JHASH__",[h._param("the number of additional viewers",b,[0])]);return[j.jsx(c("MWXTooltip.react"),{align:f==="Inbox"?"middle":"end",forceInlineDisplay:!0,label:e,position:"above",tooltip:a,children:j.jsx(d("react-strict-dom").html.span,{style:o.overflow,children:e})},"overflow")]}function q(a){var b=a.displayContext,d=a.index;a=a.user;var e=a.timestamp>0?h._(/*BTDS*/"__JHASH__i65FoHjBJBT__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender)),h._param("seen time",c("getMessengerPreciseTimestamp")(a.timestamp))]):h._(/*BTDS*/"__JHASH__o0y2JESDXU1__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender))]);return j.jsx(c("MWXTooltip.react"),{align:b==="Inbox"?"middle":"end",forceInlineDisplay:!0,position:"above",tooltip:e,children:a.imageSrc===""?j.jsx(c("MDSGlimmer.react"),{index:d,xstyle:o.img}):j.jsx(c("MWXImage.react"),{alt:e,src:a.imageSrc,xstyle:o.img})})}q.displayName=q.name+" [from "+f.id+"]";function r(a,b){var c=a.length,d=c>m;c=Math.max(Math.floor(c-(d?m-1:m)),0);var e=a.slice(c);return[].concat(p(a,c,d,b),e.map(function(a,c){return j.jsx(q,{displayContext:b,index:c,user:a},a.id)}))}function a(a){var b=a.messageSeenBy,e=a.xstyle;a=k(d("MWV2MessageRowIsRowFocusedContext.react").context);var f=a.setFocused,g=a.setIsDialogOpened;a=b.length;var i=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),m=l(null),p={messageSeenBy:b},q=c("useMWXLazyDialog")(n),s=q[0],t=function(){return s(p,function(){g(function(){return!1}),f(function(){return!0})})};return j.jsxs(d("react-strict-dom").html.div,{role:"none",style:[o.root,o.mask],children:[j.jsx(d("react-strict-dom").html.div,{style:o.spacer}),j.jsx(c("MWXPressable.react"),{"aria-label":h._(/*BTDS*/"__JHASH__JhvMDLpCFuF__JHASH__",[h._param("number of participants who have seen this message",String(a))]).toString(),onPress:function(){g(function(){return!0}),t()},overlayDisabled:!0,ref:m,xstyle:function(){return[o.heads,e]},children:j.jsx(c("MWXTooltipGroup.react"),{children:r(b,i)})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2MessageEndOfGroupContentTextOnly.react",["fbt","MWMessageDeliveryStatus","MWStatusText.react","intlSummarizeNumber","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={statusText:{paddingBottom:"xwib8y2",paddingTop:"x1iorvi4",$$css:!0}};function l(a){var b=a.alignLeft,d=a.enableSeenInfo;a=a.num;return!d?j.jsx(j.Fragment,{}):j.jsx(c("MWStatusText.react"),{alignLeft:b,text:h._(/*BTDS*/"__JHASH__SlWkB_YFGR6__JHASH__",[h._param("seenByNumber",c("intlSummarizeNumber")(a))]).toString(),xstyle:k.statusText})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.alignLeft,e=a.enableSeenInfo;e=e===void 0?!0:e;a=a.status;var f=d("MWMessageDeliveryStatus").getBroadcastStatusTitle(a);switch(a.type){case"NoneStatus":return null;case"Error":return j.jsx(c("MWStatusText.react"),{error:!0,text:f.toString(),xstyle:k.statusText});case"SingleSeenHead":return j.jsx(l,{enableSeenInfo:e,num:1});case"MultipleSeenHeads":case"DeliveredAndRead":break;case"SeenCount":return j.jsx(l,{alignLeft:b,enableSeenInfo:e,num:a.count});case"Loading":return j.jsx(c("MWStatusText.react"),{alignLeft:b,text:f.toString(),xstyle:k.statusText});case"RetriableError":return j.jsx(c("MWStatusText.react"),{alignLeft:b,error:!0,text:f.toString(),xstyle:k.statusText});default:return j.jsx(c("MWStatusText.react"),{text:f.toString(),xstyle:k.statusText})}return j.jsx(l,{enableSeenInfo:e,num:a.heads.length})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2MessageEndOfGroupContent.react",["LSMessagingThreadTypeUtil","MWChatSingleSeenHeadRow.react","MWClickToRevealMustacheText.react","MWLSThread","MWMessageDeliveryStatus","MWMessageOutgoingStatus.react","MWPMessageListColumn.react","MWV2ChatSeenHeadsRow.react","MWV2MessageEndOfGroupContentTextOnly.react","justknobx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={baseStyle:{marginEnd:"xpdqn1h",marginTop:"x1gslohp",$$css:!0},lastMessage:{marginBottom:"x12nagc",$$css:!0},nonLastMessage:{marginBottom:"xod5an3",$$css:!0},seenHeads:{marginTop:"x1gslohp",marginEnd:"xw3qccf",marginBottom:"xjpr12u",marginStart:"x1mh8g0r",$$css:!0}};function a(a){var b=a.alignLeft,e=a.enableSeenInfo;e=e===void 0?!0:e;var f=a.hasTextBasedMessageReceipts,g=a.isFromBlockedContact,h=a.isLastMessage,k=a.isOutgoing,l=a.isSecureMessage,m=a.isTextOnly,n=a.message;a=a.status;var o=d("MWLSThread").useThread(n.threadKey,function(a){return d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)});if(h&&f&&a.type==="NoneStatus")return i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:17});if(g)return i.jsx(c("MWClickToRevealMustacheText.react"),{messageId:n.messageId});if(m===!0)return i.jsx(c("MWV2MessageEndOfGroupContentTextOnly.react"),{alignLeft:b,enableSeenInfo:e,status:a});if(a.type==="MultipleSeenHeads")return i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:i.jsx(c("MWV2ChatSeenHeadsRow.react"),{messageSeenBy:a.heads,xstyle:[j.seenHeads,f&&(h?j.lastMessage:j.nonLastMessage),f&&j.baseStyle]})});if(h===!0&&o===!0&&f===!0&&a.type==="SeenCount")return a.count>0||!c("justknobx")._("2943")?i.jsx(c("MWV2MessageEndOfGroupContentTextOnly.react"),{alignLeft:b,enableSeenInfo:e,status:a}):i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:22});if(f&&a.type==="SingleSeenHead")return i.jsx(c("MWChatSingleSeenHeadRow.react"),{head:a.head,text:d("MWMessageDeliveryStatus").getSingleSeenHead(a.head),xstyle:[h?j.lastMessage:j.nonLastMessage,j.baseStyle]});return k&&f?i.jsx(c("MWMessageOutgoingStatus.react"),{alignLeft:b,isLastMessage:h,isSecureMessage:l,message:n,status:a,xstyle:[h?j.lastMessage:j.nonLastMessage,j.baseStyle]}):null}a.displayName=a.name+" [from "+f.id+"]";g.MWV2MessageEndOfGroupContent=a}),98);
__d("MWV2MessageProfilePhotoMenuQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6825449144230575"}),null);
__d("MWV2MessageProfilePhotoMenuQuery$Parameters",["MWV2MessageProfilePhotoMenuQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWV2MessageProfilePhotoMenuQuery_facebookRelayOperation"),metadata:{},name:"MWV2MessageProfilePhotoMenuQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWV2MessageProfilePhotoMenu.entrypoint",["JSResourceForInteraction","MWV2MessageProfilePhotoMenuQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.groupID;a=a.userID;return{queries:{messageProfilePhotoMenuQueryRef:{parameters:c("MWV2MessageProfilePhotoMenuQuery$Parameters"),variables:{groupID:b,userID:a}}}}},root:c("JSResourceForInteraction")("MWV2MessageProfilePhotoMenu.react").__setRef("MWV2MessageProfilePhotoMenu.entrypoint")};g["default"]=a}),98);
__d("MWXIconAccount",["MWXSvgIcon","SVGIcon","cr:12266","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12266")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWV2MessageProfilePhotoContent.react",["fbt","FDSImageCover.react","I64","LSContactBitOffset","MWLSThread","MWPActor.react","MWPContactContext.react","MWPreloadableQueries","MWV2MessageProfilePhotoMenu.entrypoint","MWXEntryPointPopoverTrigger.react","MWXGlimmer.react","MWXIconAccount","MWXIconStrict.react","MWXPressable.react","MWXTooltip.react","QE2Logger","ReQLSuspense","getLSMediaContactProfilePictureUrl","mwCMIsAnyCMThread","qex","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m=h._(/*BTDS*/"__JHASH__G4Bi2CYTkJR__JHASH__"),n={glimmer:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x5yr21d",width:"xh8yej3",$$css:!0},profile:{alignItems:"xuk3077",display:"x78zum5",flexShrink:"x2lah0s",height:"x1fgtraw",maxWidth:"x193iq5w",width:"xgd8bvy",$$css:!0}};function a(a){var b=a.ariaHidden;b=b===void 0?!1:b;var e=a.isGroupThread;a=a.message;var g=d("MWPContactContext.react").useMWPContactStableContext(),h=g.contact;g=g.nickname;var k=d("MWPActor.react").useActor(),o=(i||(i=c("useReStore")))(),p=d("MWLSThread").useThread(a.threadKey),q=p==null?void 0:p.parentThreadKey;p=p==null?void 0:p.threadType;var r=d("ReQLSuspense").useFirst(function(){var a;return d("MWPreloadableQueries").getCommunityFolderQuery(o,(a=q)!=null?a:(j||(j=d("I64"))).zero).map(function(a){return a.fbGroupId})},[o,q],f.id+":72"),s=p?c("mwCMIsAnyCMThread")(p):!1;if(a.takedownState!=null)p=l.jsx(c("MWXTooltip.react"),{align:"middle",position:"start",tooltip:m,children:l.jsx(c("MWXIconStrict.react"),{alt:m,color:"secondary",icon:c("MWXIconAccount"),size:28})});else if(h!=null&&c("getLSMediaContactProfilePictureUrl")(h)!==""){var t,u;g=g!=null?g+" ("+h.name+")":h.name;t=(t=d("LSContactBitOffset").has(77,h))!=null?t:!1;u=(u=d("LSContactBitOffset").has(84,h))!=null?u:!1;u=!u&&!t;t=u&&s&&c("qex")._("20")===!0;var v=l.jsx(c("FDSImageCover.react"),{alt:h.name,src:c("getLSMediaContactProfilePictureUrl")(h),style:{borderRadius:"50%"}});p=l.jsx(c("MWXTooltip.react"),{align:"middle",onVisibilityChange:function(a){a&&(s&&d("QE2Logger").logExposureForUser("cm_web_group_message_profile_photo_menu"))},position:"start",tooltip:g,children:t?l.jsx(c("MWXEntryPointPopoverTrigger.react"),{entryPointParams:{groupID:(j||(j=d("I64"))).to_string((u=r)!=null?u:(j||(j=d("I64"))).zero),userID:(j||(j=d("I64"))).to_string(k)},otherProps:{isGroupThread:e,message:a},popoverEntryPoint:c("MWV2MessageProfilePhotoMenu.entrypoint"),position:"above",children:function(a,b,e,f,g,h){return l.jsx(c("MWXPressable.react"),{onHoverIn:f,onHoverOut:g,onPress:function(){s&&d("QE2Logger").logExposureForUser("cm_web_group_message_profile_photo_menu"),b()},onPressIn:h,overlayRadius:"50%",ref:a,xstyle:n.profile,children:v})}}):v})}else p=l.jsx(c("MWXGlimmer.react"),{index:1,xstyle:n.glimmer});return l.jsx("div",babelHelpers["extends"]({"aria-hidden":b},{className:"xuk3077 x78zum5 x2lah0s x1fgtraw x193iq5w xgd8bvy"},{children:p}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2MessageProfilePhoto.react",["MWV2MessageProfilePhotoContent.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.ariaHidden;b=b===void 0?!1:b;var d=a.display;d=d===void 0?"visible":d;var e=a.isGroupThread;a=a.message;return i.jsx("div",babelHelpers["extends"]({className:"xgd8bvy"},{children:d==="visible"&&i.jsx(c("MWV2MessageProfilePhotoContent.react"),{ariaHidden:b,isGroupThread:e,message:a})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageRowSimple.react",["FocusWithinHandler.react","MWEditMessageOverlay.react","MWMessageTableFocusTable.react","react","stylex","useMAWEditMessageData","useMWPEditMessageDeemphasizer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef,m={row:{position:"x1n2onr6",$$css:!0},rowFocusVisible:{zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=a.children,e=a.domElementRef;a=a.focusCellOnRender;var f=a===void 0?!1:a;a=c("useMAWEditMessageData")();var g=a!=null;a=c("useMWPEditMessageDeemphasizer")();var i=l(null);k(function(){if(f){var a;(a=i.current)==null?void 0:a.focus();(a=i.current)==null?void 0:a.scrollIntoView()}},[f]);return j.jsx(d("MWMessageTableFocusTable.react").FocusTable[1],{children:j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(a),{ref:e,role:"row",children:j.jsx(d("MWMessageTableFocusTable.react").FocusTable[2],{children:j.jsx(c("FocusWithinHandler.react"),{children:function(a,e){return j.jsxs("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(m.row,e?m.rowFocusVisible:!1),{"data-release-focus-from":"CLICK","data-scope":d("MWMessageTableFocusTable.react").scopeID,ref:i,role:"gridcell",tabIndex:g?-1:0,children:[b,j.jsx(c("MWEditMessageOverlay.react"),{})]}))}})})}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPDateBreak.react",["BaseHeading.react","BaseTimestamp.react","MWTheme.react","MWXText.react","formatDate","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={mask:{backgroundColor:"x1eb86dx",$$css:!0},root:{marginBottom:"xjpr12u",marginTop:"xr9ek0c",textAlign:"x2b8uid",$$css:!0}};function l(a){var b=a.renderTextWrapper;a=a.timestamp;a=j.jsx("span",babelHelpers["extends"]({className:"x186z157 xk50ysn"},{children:c("formatDate")(new Date(a),{future:"g:ia",older:"m/d/Y g:ia",thisYear:"M jS, g:ia",today:"g:ia",withinWeek:"D g:ia"})}));return b!=null?b(a):a}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.renderTextWrapper;a=a.timestamp;var e=d("MWTheme.react").useTheme();return j.jsxs(c("BaseHeading.react"),{testid:void 0,children:[j.jsx("div",babelHelpers["extends"]({className:"xzpqnlu x1hyvwdk xqtp20y x6ikm8r x10wlt62 xnalus7"},{children:j.jsx(c("BaseTimestamp.react"),{date:new Date(a)})})),j.jsx("div",babelHelpers["extends"]({"aria-hidden":!0},(h||(h=c("stylex"))).props(k.root,d("MWTheme.react").isGradient(e)&&k.mask),{"data-scope":"date_break",children:j.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:j.jsx(l,{renderTextWrapper:b,timestamp:a})})}))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageStartOfGroupContent.react",["I64","MWPDateBreak.react","MWPMessageListColumn.react","MWV2ChatAdminMessage.react","MWV2MessageRowSimple.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function k(a,b){if(b!=null)return(i||(i=d("I64"))).compare(i.abs(i.sub(a.timestampMs,b.timestampMs)),i.of_string("900000"))>0;else return!0}function l(a){var b=a.domElementRef,e=a.message,f=a.prevMessage;a=a.renderTextWrapper;if(k(e,f))return j.jsx(c("MWV2MessageRowSimple.react"),{domElementRef:b,children:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:j.jsx(d("MWV2ChatAdminMessage.react").MWV2ChatAdminMessageContainer,{nextMessage:e,prevMessage:f,children:j.jsx(c("MWPDateBreak.react"),{renderTextWrapper:a,timestamp:(i||(i=d("I64"))).to_float(e.timestampMs)})})})});else return null}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.domElementRef,c=a.message,d=a.prevMessage;a=a.renderTextWrapper;return j.jsx(l,{domElementRef:b,message:c,prevMessage:d,renderTextWrapper:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageUnsentTimestampText.react",["fbt","I64","getMessengerPreciseTimestamp","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function a(a){var b=a.timestampMs;a=a.unsentTimestampMs;return k.jsxs("div",{children:[k.jsx("div",{children:h._(/*BTDS*/"__JHASH__L93MxMH-RPL__JHASH__",[h._param("time",c("getMessengerPreciseTimestamp")((j||(j=d("I64"))).to_float(b)))])}),k.jsx("div",{children:h._(/*BTDS*/"__JHASH__6L85PWgp0uQ__JHASH__",[h._param("time",c("getMessengerPreciseTimestamp")(j.to_float(a)))])})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2MessageTimestampTooltip.react",["fbt","I64","MWMessageUnsentTimestampText.react","MWXTooltip.react","cr:1654","cr:6194","getMessengerPreciseTimestamp","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react")),l=i.useMemo;function m(a){a=a.ts;return k.jsx("div",{children:a!=null?"Uploaded to EB: "+a:null})}m.displayName=m.name+" [from "+f.id+"]";function n(a){a=a.ts;return k.jsx("div",{children:a!=null&&a>0?"Send Latency: "+a.toString()+"ms":null})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var e=a.children,f=a.message,g=b("cr:1654")==null?void 0:b("cr:1654")(f.messageId),i=b("cr:6194")==null?void 0:b("cr:6194")(f.messageId);a=l(function(){var a=f.isUnsent,b=f.unsentTimestampMs;if(b!=null&&a)return[k.jsx(c("MWMessageUnsentTimestampText.react"),{timestampMs:f.timestampMs,unsentTimestampMs:b},"first"),h._(/*BTDS*/"__JHASH__8eZEd_EeDsx__JHASH__")];a=h._(/*BTDS*/"__JHASH__GNnexJRNZQN__JHASH__",[h._param("time",c("getMessengerPreciseTimestamp")((j||(j=d("I64"))).to_float(f.timestampMs),!0))]);return[k.jsxs("div",{"data-testid":void 0,children:[k.jsx(n,{ts:g}),k.jsx(m,{ts:i}),k.jsx("div",{children:a})]},"first"),a]},[f,g,i]);var o=a[0];a=a[1];return k.jsx(c("MWXTooltip.react"),{align:"middle",label:a,position:"start",tooltip:o,children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CSFBChatMessageRow.react",["CSExperienceFeaturesContext.react","CSFBChatMessageAttachment.react","CometErrorBoundary.react","CometPlaceholder.react","FDSProgressIndicator.react","I64","MWChatGutterItem.react","MWMessageRowActions.react","MWPActor.react","MWPAttachmentDataContext","MWPBaseMessage.react","MWPBaseMessageListRow.react","MWPBaseMessageRowHeader.react","MWPMessageListColumn.react","MWPMessageListRowWithKeyboardInteractions.react","MWPMessageParsingUtils","MWV2ChatAdminMessage.react","MWV2ChatBubbleContainer.react","MWV2ChatEmoji.react","MWV2ChatErrorBubble.react","MWV2ChatText.react","MWV2ChatUnsentMessage.react","MWV2MessageEndOfGroupContent.react","MWV2MessageProfilePhoto.react","MWV2MessageRowSimple.react","MWV2MessageStartOfGroupContent.react","MWV2MessageTimestampTooltip.react","MWXText.react","QPLUserFlow","ReQL","ReQLSuspense","UserLocaleContext.react","deferredLoadComponent","isStringNullOrEmpty","justknobx","qpl","react","requireDeferredForDisplay","stylex","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));e=k;var m=e.memo,n=e.useEffect,o=e.useId,p=e.useState,q=c("deferredLoadComponent")(c("requireDeferredForDisplay")("CSFBChatMachineTranslationButton.react").__setRef("CSFBChatMessageRow.react")),r={gutter:{overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xw4jnvo",$$css:!0}},s=c("qpl")._(146873164,"721");function a(a){var b=a.isFirstMessageInGroup,e=a.isLastMessageInGroup,g=a.message,i=a.nextMessage,k=a.outgoing;a=a.prevMessage;var m=d("UserLocaleContext.react").useUserLocaleContext(),o=m.toUpperCase(),r=(h||(h=c("useReStore")))(),t=(m=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(r.tables.support_translations).getKeyRange(g.messageId,o)},[r,g.messageId,o],f.id+":95"))==null?void 0:m.translatedText,u=d("CSExperienceFeaturesContext.react").useFeatureResult("MLT_VIEW_TRANSLATION_FEATURE")&&!k&&c("justknobx")._("212"),v=!c("isStringNullOrEmpty")(t);m=p(u);var w=m[0],x=m[1];n(function(){return c("QPLUserFlow").start(s)},[]);return l.jsx(c("MWPBaseMessage.react"),{checkEmoticon:!0,isFirstMessageInGroup:b,isLastMessageInGroup:e,message:g,nextMessage:i,outgoing:k,prevMessage:a,reactions:[],renderAttachment:function(a,b,d){a===void 0&&(a=!0);b===void 0&&(b=!1);return l.jsx(c("CSFBChatMessageAttachment.react"),{connectBottom:b,connectTop:a,message:g,outgoing:k})},renderEmoji:function(a){return l.jsx(c("MWV2ChatEmoji.react"),{message:a})},renderMessageBubble:function(a,b,d,e,f){return l.jsx(c("MWV2ChatBubbleContainer.react"),{connectBottom:d,connectTop:b,message:a,outgoing:f,precedesXMA:e,children:v&&w?l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(c("FDSProgressIndicator.react"),{}),children:l.jsx(c("MWV2ChatText.react"),{isSecureMessage:!1,message:babelHelpers["extends"]({},g,{text:t}),outgoing:k})}):l.jsx(c("MWV2ChatText.react"),{isSecureMessage:!1,message:g,outgoing:k})})},renderMessageContainer:function(a,b){return l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(b),{children:l.jsx(c("MWV2MessageTimestampTooltip.react"),{message:g,children:a})}))},renderMessageFooter:function(){return u&&v&&l.jsx(q,{isTranslationDisplayed:w,onTranslationToggle:function(){return x(function(a){return!a})}})},renderUnsentMessage:function(){return l.jsx(c("MWV2MessageTimestampTooltip.react"),{message:g,children:l.jsx(d("MWV2ChatUnsentMessage.react").MWV2ChatUnsentMessage,{isSecureMessage:!1,message:g,outgoing:k})})}})}a.displayName=a.name+" [from "+f.id+"]";var t=m(a);function b(a){var b=a.domElementRef,e=a.isGroupThread,f=e===void 0?!1:e,g=a.isModal,h=a.message,j=a.nextMessage;e=a.prevMessage;var k=a.status,m=a.stopHoveringRef,n=a.threadType;a=d("MWPActor.react").useActor();var q=d("MWPMessageParsingUtils").isStartOfGroup(h,e),s=d("MWPMessageParsingUtils").isEndOfGroup(h,j),u=(i||(i=d("I64"))).equal(h.senderId,a);a=o();var v=p(!1),w=v[0];v=v[1];var x=p(!1),y=x[0];x=x[1];var z=p(!1),A=z[0];z=z[1];if(h.isAdminMessage)return l.jsx(c("MWV2MessageRowSimple.react"),{children:l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:l.jsx(d("MWV2ChatAdminMessage.react").MWV2ChatAdminMessage,{message:h,nextMessage:j,prevMessage:e})})});var B=q?void 0:b;a=babelHelpers["extends"]({isDialogOpened:A,isFocused:w,isModal:g,message:h,messageDomID:a,outgoing:u,setFocused:v,setHovered:x,setIsDialogOpened:z,stopHoveringRef:m},B==null?{}:{domElementRef:B});return l.jsxs(d("MWPAttachmentDataContext").MWPAttachmentDataContextProviderLS,{message:h,children:[q?l.jsx(c("MWV2MessageStartOfGroupContent.react"),{domElementRef:b,message:h,prevMessage:e}):null,l.jsxs(c("MWPMessageListRowWithKeyboardInteractions.react"),babelHelpers["extends"]({},a,{children:[l.jsx(c("MWPBaseMessageRowHeader.react"),{isFirstMessageInGroup:q,isGroupThread:f,isLastMessageInGroup:s,message:h,outgoing:u,renderForwardSnippet:function(){return null},renderPinnedText:function(){return null},renderReplySnippet:function(){return null},renderTextWrapper:function(a){return l.jsx(c("MWXText.react"),{color:"secondary",type:"meta4",children:a})},renderTimestamp:void 0}),q?l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:2}):null,l.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowBody,{hasReactions:!1,message:h,outgoing:u,renderGutterItem:function(){return l.jsx(c("MWChatGutterItem.react"),{incoming:!1,status:k,xstyle:r.gutter})},renderMessageActions:function(a){return l.jsx(d("MWMessageRowActions.react").MWMessageRowActions,{ariaHidden:g===!1,focused:w||A||g,hidden:a,hovered:y,message:h,outgoing:u,threadType:n})},renderProfile:function(){return l.jsx(c("MWV2MessageProfilePhoto.react"),{display:s?"visible":"hidden",isGroupThread:f,message:h})},children:l.jsx(c("CometErrorBoundary.react"),{fallback:function(){return l.jsx(c("MWV2ChatErrorBubble.react"),{isOutgoing:u,isReply:!1})},children:l.jsx(t,{isFirstMessageInGroup:q,isLastMessageInGroup:s,message:h,nextMessage:j,outgoing:u,prevMessage:e})})}),s?l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:7}):null,l.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowFooter,{message:h,nextMessage:j,children:function(){return l.jsx(d("MWV2MessageEndOfGroupContent.react").MWV2MessageEndOfGroupContent,{hasTextBasedMessageReceipts:!1,isFromBlockedContact:!1,isLastMessage:j==null,isOutgoing:u,message:h,status:k})}})]}))]})}b.displayName=b.name+" [from "+f.id+"]";e=m(b);g["default"]=e}),98);
__d("LSMessagePointQueryStoredProcedure",["LSMessagePointQuery","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSMessagePointQuery"),e.threadKey,e.messageId,e.threadType,e.numContextMessages);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MWPJumpToMostRecentMessageButtonAnimationWrapper.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useMemo,m=b.useState,n={animateIn:{animationDuration:"x2mfxb",animationName:"x1j49z95",transform:"x1dufm33",$$css:!0},animateOut:{animationDuration:"x2mfxb",animationName:"x1j4bph1",transform:"xk9af5f",$$css:!0},animationWrapper:{bottom:"x1ey2m1c",start:"x14yxtea",position:"x10l6tqk",zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=a.children,d=a.visible;a=m(d);var e=a[0],f=a[1];k(function(){d&&f(!0)},[d,f]);return l(function(){return e?j.jsx("div",babelHelpers["extends"]({className:"xqtp20y x1n2onr6 xh8yej3"},{children:j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props([n.animationWrapper,d?n.animateIn:n.animateOut]),{onAnimationEnd:function(a){d||f(!1)},children:b}))})):null},[d,e,f,b])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWMarkThreadAsReadWhenNewMessagesArrive",["I64","Int64Hooks","MWLSThreadDisplayContext","MWV2IsTabFocusedContext.react","ReQL","ReQLObservable","UserActivity","asyncToGeneratorRuntime","cr:268","gkx","promiseDone","useAsyncReStore","useEmptyFunction","useMWInboxPassiveContext","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(e=b("cr:268"))!=null?e:c("useEmptyFunction");function k(a,b,c,d,e){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){var h=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.tables.messages).getKeyRange(b)));if(h==null)return!1;a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b)));if(a==null)return!1;b=g!==void 0?g==="ChatTab"?e:g==="Inbox"&&c("gkx")("24041")?!f.isPassive:!0:!0;e=(i||(i=d("I64"))).gt(h.timestampMs,a.lastActivityTimestampMs)?h.timestampMs:a.lastActivityTimestampMs;g=(i||(i=d("I64"))).gt(e,a.lastReadWatermarkTimestampMs);return c("UserActivity").isOnTab()&&c("UserActivity").isActive()&&b&&g});return l.apply(this,arguments)}function m(a,e){var f=c("useAsyncReStore")(),g=d("MWV2IsTabFocusedContext.react").useIsTabFocused(),h=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),i=c("useMWInboxPassiveContext")();return d("Int64Hooks").useCallbackInt64(function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield f);if(yield k(b,a,g,i,h))return e()})())},[f,a,g,i,h,e])}function n(a,e,f,g){var i=(h||(h=c("useReStore")))();d("Int64Hooks").useEffectInt64(function(){var c=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=a();typeof b!=="boolean"&&(b=(yield b));if(b&&!e())return f()});return function(){return c.apply(this,arguments)}}();window.addEventListener("focus",c);document.hasFocus()&&void c();var h=d("ReQLObservable").create(i,function(){return d("ReQL").fromTableDescending(i.tables.messages).getKeyRange(g)}).subscribe({next:c});return function(){window.removeEventListener("focus",c),h.unsubscribe()}},[f,a,e,g,i])}function a(a,b,c,d){b=m(a.threadKey,b);j(a);n(c,d,b,a.threadKey);return b}g["default"]=a}),98);
__d("useMWPSafelyMarkThreadAsRead",["I64","Int64Hooks","LSFactory","LSMessagingThreadTypeUtil","LSOptimisticMarkThreadReadV2StoredProcedure","ServerTime","cr:886","promiseDone","useMAWMarkThreadAsRead","useMWMarkThreadAsReadWhenNewMessagesArrive","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e,g,j){var k=(i||(i=c("useReStore")))(),l=a.consistentThreadFbid,m=a.threadKey,n=a.threadType,o=c("useMAWMarkThreadAsRead")(a),p=b("cr:886")({consistentThreadFbid:l,entryPoint:j,threadKey:m,threadType:n});l=d("Int64Hooks").useCallbackInt64(function(){p==null?void 0:p();if(d("LSMessagingThreadTypeUtil").isArmadilloSecure(n)){o();return}c("promiseDone")(k.runInTransaction(function(a){return c("LSOptimisticMarkThreadReadV2StoredProcedure")(c("LSFactory")(a),{readWatermarkTimestampMs:(h||(h=d("I64"))).of_float(d("ServerTime").getMillis()),threadKey:m})},"readwrite","ui",void 0,f.id+":62"))},[k,p,o,m,n]);return c("useMWMarkThreadAsReadWhenNewMessagesArrive")(a,l,e,g)}g["default"]=a}),98);
__d("MWPMessageListFocusTable.react",["FocusRegion.react","MWMessageTableFocusTable.react","MWV2MessageListIsRowModalContext.react","emptyFunction","focusScopeQueries","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo;function l(a,b,c){return b["data-scope"]==="date_break"}function a(a){var b=a.ariaLabel,e=a.children,f=a.hasMessages,g=f===void 0?!0:f;f=a.modal;var h=a.onNavigate,m=h===void 0?c("emptyFunction"):h;h=a.setModal;var n=a.wrapX;n=n===void 0?!1:n;a=a.wrapY;a=a===void 0?!1:a;var o=j(function(a){m(a);var b=a.type;switch(b){case"PAGE_DOWN":case"PAGE_UP":break;default:return}b=b==="PAGE_DOWN";a.preventDefault();var c=a.currentRowIndex+(b?1:-1)|0,d=!1;while(!d){var e=a.getCell(c,a.currentCellIndex);if(e==null){var f=a.getCell(b?c-1|0:0,a.currentCellIndex);f!=null&&a.focusCell(f);d=!0}else{f=e.scopeRef.current;f=f!=null?f.DO_NOT_USE_queryFirstNode(l):null;f==null?c=b?c+1|0:c-1|0:(a.focusCell(e),d=!0)}}},[]),p=k(function(){return g?i.jsx("div",babelHelpers["extends"]({"aria-label":b},{className:"x1uipg7g xu3j5b3 xol2nv xlauuyb x26u7qi x19p7ews x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62"},{role:"grid",children:e})):i.jsx("div",babelHelpers["extends"]({className:"x1uipg7g xu3j5b3 xol2nv xlauuyb x26u7qi x19p7ews x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62"},{children:e}))},[b,e,g]);return i.jsx(d("MWV2MessageListIsRowModalContext.react").MWV2MessageListIsRowModalContextProvider,{value:h,children:i.jsx(d("FocusRegion.react").FocusRegion,{recoverFocusQuery:d("MWMessageTableFocusTable.react").scopeQuery,stopOnFocusWithinPropagation:!1,children:i.jsx(d("MWMessageTableFocusTable.react").FocusTable[0],{allowModifiers:!0,disabled:f!=="",onNavigate:o,tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrapX:n,wrapY:a,children:p})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSFetchMessageSeenCount",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_id",a[0]),d[0].set("message_id",a[1]),d[1]=d[0].get("thread_id"),d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),["cm_message_seen_count",c.i64.to_string(d[1])].join(""),c.i64.cast([0,540]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxFetchMessageSeenCountStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSFetchMessageSeenCountStoredProcedure",["LSFetchMessageSeenCount","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSFetchMessageSeenCount"),e.threadKey,e.messageId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MWClickedMessageContext.react",["GroupsCometChatsEngagementLogger","I64","LSFactory","LSFetchMessageSeenCountStoredProcedure","emptyFunction","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));e=j;var l=e.createContext,m=e.useCallback,n=e.useContext,o=e.useMemo,p=e.useState,q=l({clickedMessageId:null,fetchMessageSeenCount:c("emptyFunction"),hasError:!1,isLoading:!1,setClickedMessageId:c("emptyFunction")});function a(a){a=a.children;var b=p(null),e=b[0],g=b[1];b=p(!1);var j=b[0],l=b[1];b=p(!1);var n=b[0],r=b[1],s=(h||(h=c("useReStore")))(),t=m(function(a,b,e){r(!0),g(b),s.runInTransaction(function(d){return c("LSFetchMessageSeenCountStoredProcedure")(c("LSFactory")(d),{messageId:b,threadKey:a})},"readwrite",void 0,void 0,f.id+":53").then(function(){r(!1),l(!1),d("GroupsCometChatsEngagementLogger").log({action:"impression",client_extras:{mid:b},community_id:e?(i||(i=d("I64"))).to_string(e.folderId):null,event:"seen_count_rendered",group_id:e?(i||(i=d("I64"))).to_string(e.fbGroupId):null,source:"message_bubble",surface:"thread_view",thread_id:(i||(i=d("I64"))).to_string(a)})})["catch"](function(){r(!1),l(!0)})},[s]);b=o(function(){return{clickedMessageId:e,fetchMessageSeenCount:t,hasError:j,isLoading:n,setClickedMessageId:g}},[e,t,j,n]);return k.jsx(q.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return n(q)}e={Provider:a,useHook:b};g["default"]=e}),98);
__d("MWPMessageRowCalculateStatus.react",["GenderConst","I64","MAWThreadCutover","MAWVideoAudioPlaybackErrorHandlerUtils","MWClickedMessageContext.react","MWMessageDeliveryStatus","MWPActor.react","MWPThreadCapabilitiesContext","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","gkx","react","useGetMediaGroupInformation","useMWIsReadReceiptsDisabledForThread","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;j||(j=d("react"));b=j;var k=b.useEffect,l=b.useMemo,m=b.useState,n={type:"NoneStatus"},o={type:"Loading"},p={type:"RetriableError"},q={type:"Error"},r={type:"ValidationError"},s={type:"Sending"},t={type:"Sent"},u={type:"Delivered"};function a(a){var b=a.children,e=a.isBroadcastChannel,g=e===void 0?!1:e;e=a.isBroadcastThread;var j=a.isLargeGroup,m=a.isSecureGroupThread,x=a.isSecureThread,y=a.message,z=a.nextMessage,A=d("MWPActor.react").useActor(),B=(h||(h=c("useReStore")))(),C=(i||(i=d("I64"))).equal(A,y.senderId),D=z!=null&&!(i||(i=d("I64"))).equal(A,z.senderId),E=y.isUnsent,F=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();F=F.seenCountV2Enabled;var G=!y.isUnsent&&F,H=z==null;F=c("useMWIsReadReceiptsDisabledForThread")(y.threadKey);x=c("useGetMediaGroupInformation")(y,x);var I=d("MAWVideoAudioPlaybackErrorHandlerUtils").useIsInvalidVideoMessage(y),J=c("MWClickedMessageContext.react").useHook(),K=J.clickedMessageId,L=J.fetchMessageSeenCount,M=J.hasError;J=J.isLoading;var N=d("ReQLSuspense").useFirst(function(){return G?d("ReQL").fromTableAscending(B.tables.community_chat_message_seen_count,["seenCount"]).getKeyRange(y.threadKey,y.messageId):d("ReQL").empty()},[B,G,y.threadKey,y.messageId],f.id+":114");k(function(){g===!0&&H&&L(y.threadKey,y.messageId)},[L,y.messageId,y.threadKey,H,g,C]);var O=v(a,function(a){return!H&&a.length===0},[H]),P=w(function(){return d("ReQL").fromTableDescending(B.tables.participants.index("threadKeyReadWatermarkTimestampMs"),["contactId"]).getKeyRange(y.threadKey).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,A)}).take(1)},function(a){return a.length>0},[y.threadKey,A]).length>0,Q=w(function(){return d("ReQL").fromTableDescending(B.tables.participants.index("threadKeyReadWatermarkTimestampMs"),["readWatermarkTimestampMs","contactId"]).getKeyRange(y.threadKey).bounds({gte:d("ReQL").key(y.timestampMs)}).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,A)}).take(1)},function(a){return P&&a.length>0},[y.timestampMs,y.threadKey,A,P]),R=Q.length>0;Q=w(function(){return d("ReQL").fromTableDescending(B.tables.participants.index("threadKeyDeliveredWatermarkTimestampMs"),["contactId"]).getKeyRange(y.threadKey).bounds({gte:d("ReQL").key(y.timestampMs)}).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,A)}).take(1)},function(a){return a.length>0||R},[y.threadKey,y.timestampMs,R,A]).length>0;var S=v(a,function(a){return R&&a.length===0},[R]),T=l(function(){var a;return d("MWMessageDeliveryStatus").seenCount((i||(i=d("I64"))).to_int32((a=N==null?void 0:N.seenCount)!=null?a:(i||(i=d("I64"))).zero))},[N==null?void 0:N.seenCount]),U=l(function(){return d("MWMessageDeliveryStatus").seenHead(O)},[O]),V=l(function(){return d("MWMessageDeliveryStatus").seenHead(S)},[S]);if(I)return b(r);if(y.isAdminMessage)return b(n);if(e)if(!G){if(!C||z!=null||E)return b(n)}else{if(K!==y.messageId)return b(n);if(J)return b(o);return M?b(p):N!=null?b(T):b(o)}if(!C){if(m&&!c("gkx")("3265")||j)return b(n);return g===!0?N!=null?b(T):b(n):O.length>0?a.children(U):a.children(n)}if(C&&H&&g&&(N!=null&&(i||(i=d("I64"))).to_int32(N.seenCount)>0))return b(T);if(D&&m)return b(n);if((i||(i=d("I64"))).equal(y.sendStatusV2,(i||(i=d("I64"))).of_int32(0)))return b(n);if((i||(i=d("I64"))).equal(y.sendStatusV2,(i||(i=d("I64"))).of_int32(4)))return b(q);if((i||(i=d("I64"))).equal(y.sendStatusV2,(i||(i=d("I64"))).of_int32(5)))return b(p);if((i||(i=d("I64"))).equal(y.sendStatusV2,(i||(i=d("I64"))).of_int32(1)))return b(s);if((i||(i=d("I64"))).equal(y.sendStatusV2,(i||(i=d("I64"))).of_int32(6)))return b(t);if(j)if(z!=null||E)return b(n);else if((i||(i=d("I64"))).equal(y.sendStatusV2,(i||(i=d("I64"))).of_int32(2)))return b(u);if(R&&!F)return S.length>0?b(V):b(n);if(x!=null&&x.isMediaGroupLastMessage)if(x.hasAllMessagesSent)return b(t);else return b(s);return Q?b(u):b(t)}a.displayName=a.name+" [from "+f.id+"]";function v(a,b,e){var g=(h||(h=c("useReStore")))(),j=d("MWPActor.react").useActor(),k=a.message,l=a.nextMessage,m=c("useMWIsReadReceiptsDisabledForThread")(k.threadKey);a=d("MAWThreadCutover").useGetCutoverSecureThreadKey(a.isSecureThread?(i||(i=d("I64"))).to_string(k.threadKey):void 0);var n=a!=null?(i||(i=d("I64"))).of_string(a):null;a=w(function(){var a=l!=null?{gte:d("ReQL").key(k.timestampMs),lt:d("ReQL").key(l.timestampMs)}:{gte:d("ReQL").key(k.timestampMs)};a=d("ReQL").fromTableAscending(g.tables.participants.index("threadKeyReadWatermarkTimestampMs"),["contactId","nickname","readActionTimestampMs"]).getKeyRange(k.threadKey).bounds(a).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,j)});var b={gte:d("ReQL").key(k.timestampMs)},c=n!=null?d("ReQL").fromTableAscending(g.tables.participants.index("threadKeyReadWatermarkTimestampMs"),["contactId","nickname","readActionTimestampMs"]).getKeyRange(n).bounds(b).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,j)}):d("ReQL").empty();return d("ReQL").union(a,c).map(function(a){var b=d("ReQLSuspense").toArray(c,f.id+":461").some(function(b){return(i||(i=d("I64"))).equal(b.contactId,a.contactId)});return b?void 0:a}).filter(Boolean).map(function(a){var b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.tables.contacts,["id","name","profilePictureFallbackUrl","profilePictureUrl","profilePictureUrlExpirationTimestampMs"]).getKeyRange(a.contactId),f.id+":476");return[a,b]})},b,[g,k.threadKey,k.timestampMs,l==null?void 0:l.timestampMs,l==null,n==null,j].concat(e));return m?[]:a.map(function(a){var b,e=a[0];a=a[1];if(a==null)return;return{gender:c("GenderConst").UNKNOWN_SINGULAR,id:(i||(i=d("I64"))).to_string(a.id),imageSrc:c("getLSMediaContactProfilePictureUrl")(a),name:(b=e.nickname)!=null?b:a.name,timestamp:i.to_float(e.readActionTimestampMs)}}).filter(Boolean)}function w(a,b,c){var e=m(void 0),g=e[0];e=e[1];c=d("ReQLSuspense").useArray(function(){return g!=null?d("ReQL").empty():a()},[].concat(c,[g]),f.id+":536");b(c)&&g==null&&e(c);return g!=null?g:c}g["default"]=a}),98);
__d("MWChatBusinessQuickReply.react",["CometImage.react","MDSTextPairing.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={image:{borderTopStartRadius:"x1z11no5",borderTopEndRadius:"xjy5m1g",borderBottomEndRadius:"x1mnwbp6",borderBottomStartRadius:"x4pb5v6","float":"xrbpyxo",height:"x158ke7r",marginTop:"x16ldp7u",marginEnd:"x1t4t16n",marginBottom:"xz62fqu",marginStart:"xbmpl8g",width:"x1kl0l3y",$$css:!0},vertical:{paddingBottom:"xsag5q8",paddingEnd:"xn6708d",paddingStart:"xr9oo41",$$css:!0}};function a(a){var b=a.bodyLineLimit;b=b===void 0?1:b;var d=a.imageUrl,e=a.onClick,f=a.quickReplyVertical;f=f===void 0?!1:f;a=a.text;return j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(f?k.vertical:!1),{children:j.jsxs("button",babelHelpers["extends"]({className:"x6s0dn4 x1eb86dx xfh8nwu xoqspk4 x12v9rci x138vmkv x143s1ad xp3zfi1 x137oirg xojro6o x1vnslfi x9f619 x1ypdohk xjb2p0i xk50ysn xl56j7k xr9ek0c x1emribx xjpr12u x1i64zmx x1mzt3pk x1a8lsjc xn6708d x1ye3gou x889kno x1yc453h x13faqbe"},{onClick:e,children:[d!=null?j.jsx(c("CometImage.react"),{src:d,xstyle:k.image}):null,j.jsx(c("MDSTextPairing.react"),{body:a,bodyLineLimit:b,level:3,textAlign:f?"end":"start"})]}))}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatBusinessQuickReplyText.react",["MWChatBusinessQuickReply.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.onSend,d=a.quickReply;a=a.quickReplyVertical;var e=a?3:1,f=function(){return b(d)},g=d.image_url;return i.jsx(c("MWChatBusinessQuickReply.react"),{bodyLineLimit:e,imageUrl:(e=g)!=null?e:void 0,onClick:f,quickReplyVertical:a,text:d.title})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatUserBirthdayQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4679476245513562"}),null);
__d("MWChatUserBirthdayQuery.graphql",["MWChatUserBirthdayQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Date",kind:"LinkedField",name:"birthdate",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"day",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"month",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"year",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserBirthdayQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserBirthdayQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWChatUserBirthdayQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserBirthdayQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserBirthdayQuery",["CometRelay","MWChatUserBirthdayQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i="en-US";function j(a,b,c,d){c=new Date(c,b-1,a);return c.toLocaleDateString(d,{day:"numeric",month:"numeric",year:"numeric"})}function a(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,k,{}).toPromise().then(function(a){a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.user)==null?void 0:a.birthdate;if(a){var c=a==null?void 0:a.day,d=a==null?void 0:a.month;a=a==null?void 0:a.year;c!=null&&d!=null&&a!=null&&b(j(c,d,a,i))}});c("promiseDone")(e)}}var k=h!==void 0?h:h=b("MWChatUserBirthdayQuery.graphql");g.useUserBirthdayDataQuery=a}),98);
__d("MWChatBusinessQuickReplyUserBirthday.react",["MWChatBusinessQuickReply.react","MWChatUserBirthdayQuery","react","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function a(a){var b=a.onSend,e=a.quickReply,f=a.quickReplyVertical;a=a.userID;c("vulture")("tJsMumlXI5fKIWKlz4OT3_uo6ec=");var g=d("MWChatUserBirthdayQuery").useUserBirthdayDataQuery(),h=k(),l=h[0],m=h[1];j(function(){g(function(a){return m(a)})},[a,g,m]);if(l==null)return null;h=e.content_type;a=e.data;var n=e.image_url;e=e.payload;var o={content_type:h,data:a,image_url:n,payload:e,title:l};h=function(){return b(o)};return i.jsx(c("MWChatBusinessQuickReply.react"),{onClick:h,quickReplyVertical:f,text:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatUserEmailQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5146654855396537"}),null);
__d("MWChatUserEmailQuery.graphql",["MWChatUserEmailQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"Email",kind:"LinkedField",name:"all_emails",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"display_email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_primary",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserEmailQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserEmailQuery",selections:a},params:{id:b("MWChatUserEmailQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserEmailQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserEmailQuery",["CometRelay","MWChatUserEmailQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.all_emails;if(a&&a.length>0){var c=a.find(function(a){return a.is_primary});c!=null?b(c.display_email):b(a[0].display_email)}});c("promiseDone")(e)}}var i=h!==void 0?h:h=b("MWChatUserEmailQuery.graphql");g.useUserEmailDataQuery=a}),98);
__d("MWChatBusinessQuickReplyUserEmail.react",["MWChatBusinessQuickReply.react","MWChatUserEmailQuery","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function a(a){var b=a.onSend,e=a.quickReply,f=a.quickReplyVertical;a=a.userID;var g=d("MWChatUserEmailQuery").useUserEmailDataQuery(),h=k(),l=h[0],m=h[1];j(function(){g(m)},[a,g,m]);return l==null?null:i.jsx(c("MWChatBusinessQuickReply.react"),{onClick:function(){return b({content_type:e.content_type,data:e.data,image_url:e.image_url,payload:e.payload,title:l})},quickReplyVertical:f,text:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatUserPhoneNumberQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5063442323698780"}),null);
__d("MWChatUserPhoneNumberQuery.graphql",["MWChatUserPhoneNumberQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Phone",kind:"LinkedField",name:"all_phones",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_preferred",storageKey:null},{alias:null,args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"universal_number",storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserPhoneNumberQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserPhoneNumberQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWChatUserPhoneNumberQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserPhoneNumberQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserPhoneNumberQuery",["CometRelay","MWChatUserPhoneNumberQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.user.all_phones;if(a&&a.length>0){var c=a.find(function(a){return a.is_preferred});if(c!=null){b((c=c.phone_number)==null?void 0:c.universal_number)}else{b((c=a[0].phone_number)==null?void 0:c.universal_number)}}});c("promiseDone")(e)}}var i=h!==void 0?h:h=b("MWChatUserPhoneNumberQuery.graphql");g.useUserPhoneNumberDataQuery=a}),98);
__d("MWChatBusinessQuickReplyUserPhoneNumber.react",["MWChatBusinessQuickReply.react","MWChatUserPhoneNumberQuery","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function a(a){var b=a.onSend,e=a.quickReply,f=a.quickReplyVertical;a=a.userID;var g=d("MWChatUserPhoneNumberQuery").useUserPhoneNumberDataQuery(),h=k(function(){}),l=h[0],m=h[1];j(function(){g(function(a){return m(function(){return a})})},[a,g,m]);if(l==null)return null;h=e.content_type;a=e.data;var n=e.image_url;e=e.payload;var o={content_type:h,data:a,image_url:n,payload:e,title:l};h=function(){return b(o)};return i.jsx(c("MWChatBusinessQuickReply.react"),{onClick:h,quickReplyVertical:f,text:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatUserProfileLocationQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7039613476103704"}),null);
__d("MWChatUserProfileLocationQuery.graphql",["MWChatUserProfileLocationQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"region",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"postal_code",storageKey:null}],storageKey:null}],type:"User",abstractKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserProfileLocationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserProfileLocationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWChatUserProfileLocationQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserProfileLocationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserProfileLocationQuery",["CometRelay","MWChatUserProfileLocationQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.actor)==null?void 0:(a=a.address)==null?void 0:a.region;a!=null&&a!==""&&b(a)});c("promiseDone")(e)}}function e(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.actor)==null?void 0:a.address;a=a==null?void 0:a.postal_code;a!=null&&b(a)});c("promiseDone")(e)}}var i=h!==void 0?h:h=b("MWChatUserProfileLocationQuery.graphql");g.useUserProfileStateDataQuery=a;g.useUserProfileZipCodeDataQuery=e}),98);
__d("MWChatBusinessQuickReplyUserState.react",["MWChatBusinessQuickReply.react","MWChatUserProfileLocationQuery","react","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function a(a){var b=a.onSend,e=a.quickReply,f=a.quickReplyVertical;a=a.userID;c("vulture")("XR6-ZbqO30xv0l_X_kfEtnNQhlM=");var g=d("MWChatUserProfileLocationQuery").useUserProfileStateDataQuery(),h=k(),l=h[0],m=h[1];j(function(){g(function(a){return m(a)})},[a,g,m]);if(l==null)return null;h=e.content_type;a=e.data;var n=e.image_url;e=e.payload;var o={content_type:h,data:a,image_url:n,payload:e,title:l};h=function(){return b(o)};return i.jsx(c("MWChatBusinessQuickReply.react"),{onClick:h,quickReplyVertical:f,text:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatBusinessQuickReplyUserZipCode.react",["MWChatBusinessQuickReply.react","MWChatUserProfileLocationQuery","react","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function a(a){var b=a.onSend,e=a.quickReply,f=a.quickReplyVertical;a=a.userID;c("vulture")("xJwNdVx-jEQ2udC06J_yZ_OBaC4=");var g=d("MWChatUserProfileLocationQuery").useUserProfileZipCodeDataQuery(),h=k(),l=h[0],m=h[1];j(function(){g(function(a){return m(a)})},[a,g,m]);if(l==null)return null;h=e.content_type;a=e.data;var n=e.image_url;e=e.payload;var o={content_type:h,data:a,image_url:n,payload:e,title:l};h=function(){return b(o)};return i.jsx(c("MWChatBusinessQuickReply.react"),{onClick:h,quickReplyVertical:f,text:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatBusinessQuickReplyList.react",["Actor","CometScrollableArea.react","I64","LSIntEnum","LSQuickReplyType","MWChatBusinessQuickReplyText.react","MWChatBusinessQuickReplyUserBirthday.react","MWChatBusinessQuickReplyUserEmail.react","MWChatBusinessQuickReplyUserPhoneNumber.react","MWChatBusinessQuickReplyUserState.react","MWChatBusinessQuickReplyUserZipCode.react","MessengerWebEventsFalcoEvent","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react")),m=i.useEffect,n={pillContainer:{backgroundColor:"x1eb86dx",display:"x78zum5",flexDirection:"x1q0g3np",flexWrap:"xozqiw3",paddingTop:"x1nn3v0j",paddingEnd:"x1sxyh0",paddingBottom:"x1a8lsjc",paddingStart:"xurb0ha",$$css:!0},pillContainerVertical:{alignItems:"xuk3077",backgroundColor:"x1eb86dx",display:"x78zum5",flexDirection:"xdt5ytf",paddingTop:"xm7lytj",$$css:!0}};function a(a){var b=a.arrayQR,e=a.id,f=a.onSend;a=a.quickReplyType;a=a===void 0?(j||(j=d("LSIntEnum"))).ofNumber(c("LSQuickReplyType").NONE):a;var g=(k||(k=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSQuickReplyType").VERTICAL));a=d("Actor").useActor();var i=a[0];m(function(){c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"render_quick_replies",other_user_fbid:e}})},[e]);return l.jsx("div",babelHelpers["extends"]({className:"x1n2onr6 xh8yej3 x1eb86dx"},{children:l.jsx(c("CometScrollableArea.react"),{horizontal:!0,children:l.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(g?n.pillContainerVertical:n.pillContainer),{children:b.map(function(a,b){switch(a.content_type){case"text":return l.jsx(c("MWChatBusinessQuickReplyText.react"),{onSend:f,quickReply:a,quickReplyVertical:g},String(b));case"user_birthday":return l.jsx(c("MWChatBusinessQuickReplyUserBirthday.react"),{onSend:f,quickReply:a,quickReplyVertical:g,userID:i},String(b));case"user_email":return l.jsx(c("MWChatBusinessQuickReplyUserEmail.react"),{onSend:f,quickReply:a,quickReplyVertical:g,userID:i},String(b));case"user_phone_number":return l.jsx(c("MWChatBusinessQuickReplyUserPhoneNumber.react"),{onSend:f,quickReply:a,quickReplyVertical:g,userID:i},String(b));case"user_state":return l.jsx(c("MWChatBusinessQuickReplyUserState.react"),{onSend:f,quickReply:a,quickReplyVertical:g,userID:i},String(b));case"user_zip_code":return l.jsx(c("MWChatBusinessQuickReplyUserZipCode.react"),{onSend:f,quickReply:a,quickReplyVertical:g,userID:i},String(b));default:return null}})}))})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPQuickReplies.react",["AdsMessengerContext.react","FBLogger","I64","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSShape","LSThreadAttributionTypeUtil","MWChatBusinessQuickReplyList.react","MWPActor.react","MessagePowerUp","Promise","ReQL","ReQLSuspense","promiseDone","react","useLSMessagingSource","useReStore","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=l||(l=d("react")),n=l.useContext;function o(a){var e=a.lastMessageId,g=a.quickReplyType,l=a.threadKey,o=c("useLSMessagingSource")(),p=(i||(i=c("useReStore")))(),q=d("MWPActor.react").useActor(),r=n(d("AdsMessengerContext.react").AdsMessengerContext);a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(p.tables.quick_reply_ctas).getKeyRange(l,e).map(function(a){var b=a.type_,d=b==="quick_reply_text"||b==="quick_reply_ad"?"text":b==="quick_reply_phone"?"user_phone_number":b==="quick_reply_email"?"user_email":"";d===""&&c("FBLogger")("messenger_web_messaging").mustfix("Unexpected quick-reply type: %s, title: %s",b,a.title);return{content_type:d,data:void 0,image_url:a.imageUrl,payload:a.platformToken,title:a.title}}).filter(function(a){return a.content_type!==""})},[p,e,l],f.id+":54");if(a.length>0)return m.jsx(c("MWChatBusinessQuickReplyList.react"),{arrayQR:a,id:(j||(j=d("I64"))).to_string(q),onSend:function(a){if(r.onSendQuickReply!=null)return c("promiseDone")(r.onSendQuickReply(a,!1));var e=d("LSThreadAttributionTypeUtil").getSource(l,o);c("promiseDone")(p.runInTransaction(function(f){var g;g=(g=a.payload)!=null?g:void 0;return c("LSOptimisticSendMessageV2StoredProcedure")(c("LSFactory")(f),{extraSendMessageParams:d("LSShape").ofRecord({calculate_denormalizations:!0,mark_read:!0,platform_token:g,power_up_style:(k||(k=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),reply_source_type:k.ofNumber(c("LSMessageReplySourceType").NONE),reply_source_type_v2:k.ofNumber(c("LSMessageReplySourceTypeV2").NONE),snippet_has_emoji:!1,source:e}),mailboxType:k.ofNumber(c("LSMailboxType").MESSENGER),senderId:q,text:a.title,threadKey:l,threadType:k.ofNumber(1)}).then(function(a){return(h||(h=b("Promise"))).resolve(a)})},"readwrite",void 0,void 0,f.id+":109"))},quickReplyType:g});else return null}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.threadKey,e=(i||(i=c("useReStore")))();a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableDescending(e.tables.messages).getKeyRange(b).take(2)},[e,b],f.id+":150");if(a.length===0)return null;var g=a[0];g.isAdminMessage&&a.length===2&&(g=a[1]);return m.jsx(o,{lastMessageId:g.messageId,quickReplyType:g.quickReplyType,threadKey:b})}a.displayName=a.name+" [from "+f.id+"]";e=d("withCometPlaceholder").withCometPlaceholder(a,null,"MWPQuickReplies");g["default"]=e}),98);
__d("MWV2MessageActionsVisibility.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useRef;function a(){return i(function(){})}g.useStopHoveringRef=a}),98);
__d("useMWPAriaLabelForMessageListGrid",["fbt","Int64Hooks","MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a){var b=d("MWPActor.react").useActor(),e=(i||(i=c("useReStore")))(),g=d("ReQLSuspense").useArray(function(){return a.threadName!=null?d("ReQL").empty():d("ReQL").leftJoin(d("ReQL").fromTableAscending(e.tables.participants,["contactId","nickname"]).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(e.tables.contacts,["name","rank","contactType","firstName","capabilities","capabilities2"])).take(8)},[e,a.threadKey,a.threadName],f.id+":32");return d("Int64Hooks").useMemoInt64(function(){var c;if(a.threadName!=null)return h._(/*BTDS*/"__JHASH__NOo4A_R8oVU__JHASH__",[h._param("name of conversation",a.threadName)]).toString();c=(c=d("MWPGetThreadTitle").computeThreadTitle(void 0,a.threadType,g,b))!=null?c:"";return h._(/*BTDS*/"__JHASH__KCW8qihKWub__JHASH__",[h._param("participant list",c)]).toString()},[b,g,a.threadName,a.threadType])}g["default"]=a}),226);
__d("CSFBChatMessageList.react",["CSFBChatMessageRow.react","Int64Hooks","MWPBaseMessageList.react","MWPMessageListFocusTable.react","MWPMessageRowCalculateStatus.react","MWPQuickReplies.react","MWPThreadCapabilitiesContext","MWThreadKey.react","MWV2MessageActionsVisibility.react","deferredLoadComponent","react","requireDeferred","useMWPAriaLabelForMessageListGrid"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useState,l=c("deferredLoadComponent")(c("requireDeferred")("CSFBChatTypingIndicators.react").__setRef("CSFBChatMessageList.react"));function a(a){var b=a.contextBanner,e=a.thread;a=c("useMWPAriaLabelForMessageListGrid")(e);var f=d("MWV2MessageActionsVisibility.react").useStopHoveringRef(),g=k(""),h=g[0];g=g[1];var m=j(function(){return i.jsx(c("MWPQuickReplies.react"),{threadKey:e.threadKey})},[e]),n=d("Int64Hooks").useMemoInt64(function(){return e.threadType},[e.threadType]),o=d("Int64Hooks").useCallbackInt64(function(){return i.jsxs(i.Fragment,{children:[i.jsx(l,{threadKey:e.threadKey,threadType:n}),m&&m()]})},[m,e.threadKey,n]);return i.jsx(d("MWPThreadCapabilitiesContext").Provider,{thread:e,children:i.jsx(d("MWThreadKey.react").MWThreadKeyProvider,{id:e.threadKey,children:i.jsx(c("MWPMessageListFocusTable.react"),{ariaLabel:a,modal:h,setModal:g,children:i.jsx(c("MWPBaseMessageList.react"),{renderFooter:o,renderHeader:function(){return b},renderRow:function(a){var b=a.domElementRef,d=a.prevMessage,e=a.nextMessage,g=a.message;return i.jsx(c("MWPMessageRowCalculateStatus.react"),{isBroadcastThread:!1,isLargeGroup:!1,isSecureGroupThread:!1,isSecureThread:!1,message:g,nextMessage:e,children:function(a){return i.jsx(c("CSFBChatMessageRow.react"),{domElementRef:b,isModal:!1,message:g,nextMessage:e,prevMessage:d,status:a,stopHoveringRef:f,threadType:n})}})},thread:e})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPThreadGradientBackground.react",["BaseTheme.react","MWPColorUtils","MWPThemeCSSProvider.react","isStringNullOrEmpty","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState,l={container:{backgroundPosition:"x1xsqp64",backgroundSize:"x18d0r48",display:"x78zum5",flexBasis:"x1r8uery",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",maxHeight:"xmz0i5r",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}},m=new Map();function n(){var a=c("useMWPThreadTheme")(),b=a.backgroundGradientColors,e=a.outgoingGradientColors;a=a.threadTheme;var f=a.backgroundUrl;a=a.fallbackColor;var g=k(f!=null&&m.has(f)?f:void 0),h=g[0],i=g[1],l=d("MWPThemeCSSProvider.react").useIsThemeV2();j(function(){if(f==null||!l)return;if(m.has(f)){i(f);return}var a=!1,b=new Image();b.src=f;b.onload=function(){m.set(f,b);if(a)return;i(f)};return function(){a=!0}},[f,l]);if(l&&(!c("isStringNullOrEmpty")(f)||b.length>0)){if(f===h&&f!=null)return{backgroundImage:"url("+f+")"};if(b.length>1)return{backgroundImage:d("MWPColorUtils").gradient(b)};else{return{backgroundColor:d("MWPColorUtils").int64ToHex((h=b==null?void 0:(g=b[0])==null?void 0:g.color)!=null?h:a)}}}if(e.length>1)return{backgroundImage:d("MWPColorUtils").gradient(e)}}function a(a){var b;a=a.children;return i.jsx(c("BaseTheme.react"),{style:(b=n())!=null?b:{},xstyle:l.container,children:a})}a.displayName=a.name+" [from "+f.id+"]";g.MWPThreadGradientBackground=a}),98);
__d("CSFBChatMessageListContainer.react",["CSFBChatMessageList.react","MWPThreadGradientBackground.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.contextBanner;a=a.thread;return i.jsx(d("MWPThreadGradientBackground.react").MWPThreadGradientBackground,{children:i.jsx(c("CSFBChatMessageList.react"),{contextBanner:b,thread:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CSFBChatThreadDetail.react",["CSFBChatComposer.react","CSFBChatMessageListContainer.react","QPLUserFlow","ReQL","ReQLSuspense","qpl","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.chatSupportUserNonce,e=a.contextBanner,g=a.isAttachmentSendingEnabled;a=a.isLargeAttachmentSendingEnabled;var i=(h||(h=c("useReStore")))(),k=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(i.tables.threads)},[i],f.id+":45"),l=c("qpl")._(719732272,"2047");if(k!=null){c("QPLUserFlow").addPoint(l,"thread_load_success");return j.jsxs("div",babelHelpers["extends"]({className:"x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62"},{children:[j.jsx("div",babelHelpers["extends"]({className:"x78zum5 x1r8uery x1iyjqo2 xw2csxc x1odjw0f"},{children:j.jsx(c("CSFBChatMessageListContainer.react"),{contextBanner:e,thread:k})})),j.jsx(c("CSFBChatComposer.react"),{chatSupportUserNonce:b,isAttachmentSendingEnabled:g,isLargeAttachmentSendingEnabled:a,thread:k})]}))}c("QPLUserFlow").addPoint(l,"thread_load_failure");return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CSExperienceChatTab.react",["fbt","CSExperience.react","CSExperienceChatTabHeader.react","CSExperienceChatTab_chat.graphql","CSExperienceChatTab_greeting.graphql","CSExperienceContextBanner.react","CSExperienceLogger.react","CSFBChatGreeting.react","CSFBChatTab.react","CSFBChatThreadDetail.react","CometErrorBoundary.react","CometTextWithEntitiesRelay.react","CometTransientDialogProvider.react","CometWebLinkEntityRenderer","CustomerSupportEntryPointID","QPLUserFlow","RelayHooks","XsLiveChatEffectivenessLogger.react","cometPushToast","justknobx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));e=k;var m=e.useEffect,n=e.useState;function o(a){var e,f=a.contextBanner,g=a.fragmentKey;a=a.onProceedButtonPress;g=d("RelayHooks").useFragment(i!==void 0?i:i=b("CSExperienceChatTab_greeting.graphql"),g);if(g==null)return null;var h=!g.channel_is_open||g.channel_in_high_demand;return l.jsx(c("CSFBChatGreeting.react"),{bodyParagraphs:(e=g.content)==null?void 0:e.body_paragraphs.map(function(a){return l.jsx(c("CometTextWithEntitiesRelay.react"),{renderers:{ExternalUrl:[c("CometWebLinkEntityRenderer")]},textWithEntities:a})}),buttonText:g.content.button_text.text,footerParagraphs:(e=g.content)==null?void 0:e.footnote_paragraphs.map(function(a){return l.jsx(c("CometTextWithEntitiesRelay.react"),{renderers:{ExternalUrl:[c("CometWebLinkEntityRenderer")]},textWithEntities:a})}),isProceedButtonDisabled:h,onProceedButtonPress:a,preContent:f})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var e=a.chatSupportUserNonce,f=a.closeChatTab,g=a.enterChat,i=a.entryPointId,k=a.fragmentKey,p=a.fullScreen;a=a.onCloseButtonPress;var q=d("RelayHooks").useFragment(j!==void 0?j:j=b("CSExperienceChatTab_chat.graphql"),k);k=n(!q.greeting_screen_state);var r=k[0],s=k[1];k=l.jsx(c("CSExperienceContextBanner.react"),{fragmentKey:q.support_entity});m(function(){if(r){var a;d("CSExperienceLogger.react").log({chat_additional_metadata:{device:(a=d("CSExperience.react")).getDevice(p)},entry_point_id:c("CustomerSupportEntryPointID")[i],event:"chat_thread_displayed"});d("XsLiveChatEffectivenessLogger.react").log({chat_additional_metadata:{device:a.getDevice(p)},entry_point_id:c("CustomerSupportEntryPointID")[String(i)],event:"chat_displayed"});c("QPLUserFlow").addPoint(a.clickChatButtonQPLEvent,"chat_thread_render_success");c("QPLUserFlow").endSuccess(a.clickChatButtonQPLEvent)}else if(q.greeting_screen_state){d("CSExperienceLogger.react").log({can_proceed_from_greeting:(a=q.greeting_screen_state)==null?void 0:a.channel_is_open,chat_additional_metadata:{device:d("CSExperience.react").getDevice(p)},entry_point_id:c("CustomerSupportEntryPointID")[i],event:"greeting_displayed"});d("XsLiveChatEffectivenessLogger.react").log({chat_additional_metadata:{channel_is_open:(a=q.greeting_screen_state)==null?void 0:(a=a.channel_is_open)==null?void 0:a.toString(),device:d("CSExperience.react").getDevice(p),is_high_demand:(a=q.greeting_screen_state)==null?void 0:(a=a.channel_in_high_demand)==null?void 0:a.toString()},entry_point_id:c("CustomerSupportEntryPointID")[String(i)],event:"greeting_displayed"});c("QPLUserFlow").addPoint(d("CSExperience.react").clickChatButtonQPLEvent,"chat_greeting_render_success")}},[r,q.greeting_screen_state,i,p]);var t=c("CustomerSupportEntryPointID")[i]===10,u=c("CustomerSupportEntryPointID")[i]===10&&c("justknobx")._("1123");return l.jsx(c("CometErrorBoundary.react"),{onError:function(a){r?(d("CSExperienceLogger.react").logError({chat_additional_metadata:{device:d("CSExperience.react").getDevice(p)},entry_point_id:c("CustomerSupportEntryPointID")[i],event:"chat_thread_render_fail"},a),c("QPLUserFlow").markError(d("CSExperience.react").clickChatButtonQPLEvent,"chat_thread_render_failure")):q.greeting_screen_state?(d("CSExperienceLogger.react").logError({chat_additional_metadata:{device:d("CSExperience.react").getDevice(p)},entry_point_id:c("CustomerSupportEntryPointID")[i],event:"chat_greeting_render_fail"},a),c("QPLUserFlow").markError(d("CSExperience.react").clickChatButtonQPLEvent,"chat_greeting_render_failure")):c("QPLUserFlow").markError(d("CSExperience.react").clickChatButtonQPLEvent,"chat_tab_render_failure"),c("QPLUserFlow").endFailure(d("CSExperience.react").clickChatButtonQPLEvent,"Chat Tab isn't rendered properly")},children:l.jsxs(c("CSFBChatTab.react"),{fullScreen:p,children:[l.jsx(c("CSExperienceChatTabHeader.react"),{fragmentKey:q,onCloseButtonPress:a}),r?l.jsx(c("CometTransientDialogProvider.react"),{children:l.jsx(c("CSFBChatThreadDetail.react"),{chatSupportUserNonce:e,contextBanner:k,isAttachmentSendingEnabled:t,isLargeAttachmentSendingEnabled:u})}):q.greeting_screen_state&&l.jsx(o,{contextBanner:k,fragmentKey:q.greeting_screen_state,onProceedButtonPress:function(){return g().then(function(){s(!0)})["catch"](function(){d("cometPushToast").cometPushErrorToast({message:h._(/*BTDS*/"__JHASH__t2rrlDxUoZM__JHASH__"),truncateText:!1}),f()})}})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CSExperienceLazyLoaded",["CSExperience.react","CometErrorBoundary.react","CometPlaceholder.react","CometRelay","WebPixelRatio","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){var b=a.entryPointId,c=a.floatingButtonXstyle,e=a.fullScreen;a=a.openChatTabByDefault;b=d("CometRelay").useLazyLoadQuery(d("CSExperience.react").StateQuery,{id:b,scale:d("WebPixelRatio").get(),step:"START_SUPPORT"});return i.jsx(d("CSExperience.react").CSExperience,{data:b,floatingButtonXstyle:c,fullScreen:e,openChatTabByDefault:a})}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=a.entryPointId,d=a.floatingButtonXstyle,e=a.fullScreen;e=e===void 0?!1:e;a=a.openChatTabByDefault;a=a===void 0?!1:a;return i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(j,{entryPointId:b,floatingButtonXstyle:d,fullScreen:e,openChatTabByDefault:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CSFBChatMachineTranslationButton.react",["fbt","FDSInlinePressableText.react","FDSText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.isTranslationDisplayed;a=a.onTranslationToggle;return j.jsx("div",babelHelpers["extends"]({className:"x78zum5 x1l90r2v x1sln4lm x1y1aw1k"},{children:j.jsx(c("FDSText.react"),{type:"body4",children:j.jsx(c("FDSInlinePressableText.react"),{onPress:a,children:b?h._(/*BTDS*/"__JHASH__26iEeJ28AK0__JHASH__"):h._(/*BTDS*/"__JHASH__eG3km91tIcl__JHASH__")})})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("LSPresenceStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({OFFLINE:1,ACTIVE:2});f["default"]=a}),66);
__d("MWBaseTheme",[],(function(a,b,c,d,e,f){"use strict";a={};b={};c={dark:b,light:a,type:"VARIABLES"};f.empty=c}),66);
__d("MWPTypingIndicators.react",["fbt","BaseTheme.react","CometOverlappingFacepile_DEPRECATED.react","CometScreenReaderText.react","FBLogger","I64","LSIntEnum","LSPresenceStatus","MWBaseTheme","MWChatTypingIndicator.react","MWPMessageListColumn.react","MWV2MessageRowSimple.react","MWXMessageBubble.react","ReQL","ReQLSuspense","ServerTime","clearTimeout","getLSMediaContactProfilePictureUrl","isEmpty","justknobx","react","setTimeout","stylex","useReStore","withCometPlaceholder"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n,o=n||(n=d("react"));e=n;var p=e.useEffect,q=e.useMemo,r=e.useState,s=1e4,t=28,u={accessibilityText:{borderBottomColor:"xnezbuk",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",$$css:!0},accessibilityTextTransparent:{borderBottomColor:"x16stqrj",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",$$css:!0},root:{alignItems:"xuk3077",display:"x78zum5",flexShrink:"x2lah0s",paddingBottom:"xjkvuk6",paddingTop:"x1nn3v0j",$$css:!0}};function v(a,b){a=a==null?void 0:a.nickname;return a!=null?a:(a=b.firstName)!=null?a:b.name}function w(a,b){b===void 0&&(b=!1);var e=(i||(i=c("useReStore")))(),g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(e.tables.typing_indicator).getKeyRange(a).filter(function(a){return d("ServerTime").getMillis()<(l||(l=d("I64"))).to_float(a.expirationTimestampMs)}).map(function(g){var h=d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.tables.presence_states).getKeyRange(g.senderId),f.id+":117");if(!b||h!=null&&(l||(l=d("I64"))).equal(h.status,(m||(m=d("LSIntEnum"))).ofNumber(c("LSPresenceStatus").ACTIVE))){h=d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.tables.participants).getKeyRange(a,g.senderId),f.id+":135");var i=d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.tables.contacts).getKeyRange(g.senderId),f.id+":142");if(i!=null)return[h,i,g]}return}).filter(Boolean).take(3)},[e,a,b],f.id+":106");return g.filter(Boolean)}function x(a){return q(function(){if((j||(j=c("isEmpty")))(a))return"";var b=a[0],d=b[0],e=b[1];b[2];b=a.slice(1);return(j||(j=c("isEmpty")))(b)?h._(/*BTDS*/"__JHASH__Tbm_Qb_Y-B5__JHASH__",[h._param("The participants name",v(d,e))]):h._(/*BTDS*/"__JHASH__YLfbVFP1cLb__JHASH__")},[a])}function a(a){var b=a.length>0,e=b?a.reduce(function(a,b){b[0];b[1];b=b[2];return Math.max(a,(l||(l=d("I64"))).to_float(b.expirationTimestampMs))},0):0;a=r(e>d("ServerTime").getMillis());var f=a[0],g=a[1];p(function(){if(b){g(e>d("ServerTime").getMillis());var a=e-d("ServerTime").getMillis(),f=c("setTimeout")(function(){return g(!1)},a);return function(){c("clearTimeout")(f)}}},[e,g,b]);return b&&f}function y(a){var b=a.containerStyle,e=a.customTypingIndicatorComponent,f=a.facepileSize,g=a.isBackgroundTransparent;g=g===void 0?!1:g;var h=a.isMessageListColumnProfile,i=a.messageBubbleStyle,j=a.setIsParentTypingIndicatorVisible,m=a.threadType;a=a.typingParticipants;var n=a.reduce(function(a,b){b[0];b[1];b=b[2];return Math.max(a,(l||(l=d("I64"))).to_float(b.expirationTimestampMs))},0),q=r(function(){return n>d("ServerTime").getMillis()}),v=q[0],w=q[1];p(function(){w(function(){return n>d("ServerTime").getMillis()});var a=n-d("ServerTime").getMillis();a>s&&(c("FBLogger")("messenger_typing_indicator").warn("Typing indicator is delaying for too long: %s ms",a),!e&&c("justknobx")._("2976")&&(a=s));var b=c("setTimeout")(function(){return w(!1)},a);return function(){c("clearTimeout")(b)}},[n,w]);if(v){j!=null&&j(!0);return o.jsxs("div",babelHelpers["extends"]({"aria-hidden":!0},(k||(k=c("stylex"))).props(u.root,b),{children:[o.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnSelfCentered,{paint:!g,profile:(q=h)!=null?q:!0,children:o.jsx(c("CometOverlappingFacepile_DEPRECATED.react"),{items:a.map(function(a){a[0];var b=a[1];a[2];return{source:{uri:c("getLSMediaContactProfilePictureUrl")(b)}}}),size:(v=f)!=null?v:t})}),o.jsx(c("MWXMessageBubble.react"),{align:"left",color:"incoming",connectBottom:!1,connectTop:!1,isBackgroundTransparent:g,precedesXMA:!1,xstyle:i,children:e?e:o.jsx(c("MWChatTypingIndicator.react"),{threadType:m})})]}))}else{j!=null&&j(!1);return null}}y.displayName=y.name+" [from "+f.id+"]";function b(a){var b=a.checkPresenceSettings;b=b===void 0?!1:b;var e=a.containerStyle,f=a.customTypingIndicatorComponent,g=a.facepileSize;g=g===void 0?t:g;var h=a.isBackgroundTransparent;h=h===void 0?!1:h;var i=a.isMessageListColumnProfile;i=i===void 0?!0:i;var j=a.messageBubbleStyle,l=a.setIsParentTypingIndicatorVisible,m=a.theme,n=a.threadKey;a=a.threadType;m=m||d("MWBaseTheme").empty;n=w(n,b);b=x(n);if(n.length<=0){l!=null&&l(!1);return null}return o.jsx(c("BaseTheme.react"),{config:m,role:"grid",children:o.jsx(c("MWV2MessageRowSimple.react"),{children:o.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{paint:!h,children:[o.jsx("div",babelHelpers["extends"]({"aria-live":"polite"},(k||(k=c("stylex"))).props(h?u.accessibilityTextTransparent:u.accessibilityText),{children:o.jsx(c("CometScreenReaderText.react"),{text:b})})),o.jsx(y,{containerStyle:e,customTypingIndicatorComponent:f,facepileSize:g,isBackgroundTransparent:h,isMessageListColumnProfile:i,messageBubbleStyle:j,setIsParentTypingIndicatorVisible:l,threadType:a,typingParticipants:n})]})})})}b.displayName=b.name+" [from "+f.id+"]";e=d("withCometPlaceholder").withCometPlaceholder(b,null,"MWPTypingIndicators");g.useTypingParticipants=w;g.useAccessibilityText=x;g.useShouldShowTypingIndicator=a;g.MWPTypingIndicators=e}),226);
__d("CSFBChatTypingIndicators.react",["MWPTypingIndicators.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.threadKey;a=a.threadType;return i.jsx(d("MWPTypingIndicators.react").MWPTypingIndicators,{threadKey:b,threadType:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CSHelpCenter2FacExperience.react",["CSExperienceLazyLoaded","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.entryPointId,d=a.floatingButtonXstyle;a=a.fullScreen;a=a===void 0?!1:a;return i.jsx(c("CSExperienceLazyLoaded"),{entryPointId:b,floatingButtonXstyle:d,fullScreen:a,openChatTabByDefault:!0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CSHelpCenterExperienceLazyLoaded",["CSExperienceLazyLoaded","CSHelpCenter2FacExperience.react","CometErrorBoundary.react","CometPlaceholder.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.cmsID,d=a.entryPointId,e=a.floatingButtonXstyle;a=a.fullScreen;a=a===void 0?!1:a;b=j(b,d);return i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:b?i.jsx(c("CSHelpCenter2FacExperience.react"),{entryPointId:d,floatingButtonXstyle:e,fullScreen:a}):i.jsx(c("CSExperienceLazyLoaded"),{entryPointId:d,floatingButtonXstyle:e,fullScreen:a,openChatTabByDefault:!1})})})}a.displayName=a.name+" [from "+f.id+"]";function j(a,b){b=b===10&&new URL(location.href).searchParams.get("helpref")==="checkpoint";a=a===147926301947841;return a&&b?!0:!1}g["default"]=a}),98);
__d("CometVideoPlayerLoggingConfigForMWChat",["CometVideoPlayerLoggingConfigForDisabledLogging"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("CometVideoPlayerLoggingConfigForDisabledLogging").createCometVideoPlayerLoggingConfigForDisabledLogging()}g.createCometVideoPlayerLoggingConfigForMWChat=a}),98);
__d("FBIconBadgeCheckmarkFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-98 -917)",children:i.jsx(d("XPlatReactSVG").Path,{d:"m106.853 922.354-3.5 3.5a.499.499 0 0 1-.706 0l-1.5-1.5a.5.5 0 1 1 .706-.708l1.147 1.147 3.147-3.147a.5.5 0 1 1 .706.708m3.078 2.295-.589-1.149.588-1.15a.633.633 0 0 0-.219-.82l-1.085-.7-.065-1.287a.627.627 0 0 0-.6-.603l-1.29-.066-.703-1.087a.636.636 0 0 0-.82-.217l-1.148.588-1.15-.588a.631.631 0 0 0-.82.22l-.701 1.085-1.289.065a.626.626 0 0 0-.6.6l-.066 1.29-1.088.702a.634.634 0 0 0-.216.82l.588 1.149-.588 1.15a.632.632 0 0 0 .219.819l1.085.701.065 1.286c.014.33.274.59.6.604l1.29.065.703 1.088c.177.27.53.362.82.216l1.148-.588 1.15.589a.629.629 0 0 0 .82-.22l.701-1.085 1.286-.064a.627.627 0 0 0 .604-.601l.065-1.29 1.088-.703a.633.633 0 0 0 .216-.819"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconBotFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{d:"M104.255 922c-.41 0-.755.458-.755 1s.346 1 .755 1c.409 0 .755-.458.755-1s-.346-1-.755-1m-3.505.36v-.234a.126.126 0 0 0-.126-.126H100v.486h.624c.07 0 .126-.057.126-.126m.033 1.14H100v.5h.843a.155.155 0 0 0 .157-.153v-.136c0-.115-.1-.211-.217-.211",transform:"translate(352 156.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M108.5 922h-.5v2.5a.5.5 0 1 1-1 0V922h-.5a.5.5 0 1 1 0-1h2a.5.5 0 1 1 0 1zm-4.245 3c-.968 0-1.755-.897-1.755-2s.787-2 1.755-2c.968 0 1.755.897 1.755 2s-.788 2-1.755 2zM102 923.843c0 .638-.519 1.157-1.156 1.157H99.5a.5.5 0 0 1-.5-.5v-3a.5.5 0 0 1 .5-.5h1.124c.621 0 1.126.505 1.126 1.126v.234c0 .172-.042.333-.111.479.223.22.361.526.361.863v.141zm7.94-2.486v-.002c-.067-.835-.145-1.332-.416-1.916a3.458 3.458 0 0 0-1.58-1.505l-.026-.008c-.475-.214-.917-.277-1.792-.346a28.09 28.09 0 0 0-4.254 0c-.768.061-1.278.116-1.882.382a3.465 3.465 0 0 0-1.541 1.538l-.013.033c-.236.498-.309.985-.377 1.825a25.389 25.389 0 0 0 0 3.287c.069.837.147 1.334.417 1.916.326.629.883 1.17 1.532 1.486a.597.597 0 0 0 .049.02l.025.007c.475.214.918.277 1.792.346a28.103 28.103 0 0 0 4.254 0c.767-.061 1.277-.116 1.882-.382a3.469 3.469 0 0 0 1.541-1.538l.013-.034c.235-.497.309-.983.377-1.824.07-.936.07-2.349 0-3.285z",transform:"translate(352 156.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconCautionCircleFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{d:"m456.998 1077.072-.25 2.99a.75.75 0 0 1-1.495 0l-.25-2.99a.87.87 0 0 1-.003-.062c0-.497.374-1.01 1-1.01s1 .513 1 1.01a.87.87 0 0 1-.002.062M456 1083a1.001 1.001 0 0 1 0-2c.551 0 1 .449 1 1 0 .551-.449 1-1 1m0-9.5a6 6 0 1 0 .001 12 6 6 0 0 0 0-12"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconChevronLeftFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M457.905 1075.53a.75.75 0 0 0-1.06-1.06l-4.5 4.5a.75.75 0 0 0 0 1.06l4.5 4.5a.75.75 0 0 0 1.06-1.06l-3.97-3.97 3.97-3.97z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconChevronRightFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M454.095 1083.47a.75.75 0 1 0 1.06 1.06l4.5-4.5a.75.75 0 0 0 0-1.06l-4.5-4.5a.75.75 0 0 0-1.06 1.06l3.97 3.97-3.97 3.97z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconClockFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{d:"M457.655 1081.405a.748.748 0 0 1-1.06 0l-1.375-1.375a.75.75 0 0 1-.22-.53v-2.75a.75.75 0 0 1 1.5 0v2.44l1.155 1.155a.75.75 0 0 1 0 1.06M456 1073.5c-3.309 0-6 2.691-6 6s2.691 6 6 6 6-2.691 6-6-2.691-6-6-6"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconDots3VerticalOutline20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsx(d("XPlatReactSVG").Path,{d:"M456 410a2 2 0 1 1 0-4 2 2 0 0 1 0 4m0 6a2 2 0 1 1 0-4 2 2 0 0 1 0 4m0-12a2 2 0 1 1 0-4 2 2 0 0 1 0 4"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconEyeCrossFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{d:"M102 917.5a1.5 1.5 0 0 0-.294 2.97l1.291-2.583a1.489 1.489 0 0 0-.997-.387",transform:"translate(353.5 157) translate(.5 3.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M101.024 921.834a3 3 0 1 1 2.658-5.318l.547-1.093a5.992 5.992 0 0 0-2.218-.423c-3.344 0-5.33 2.694-5.859 3.519a.97.97 0 0 0 0 1.042c.434.68 1.893 2.657 4.38 3.258l.492-.985zm6.827-3.311c-.333-.524-1.247-1.797-2.723-2.66l-.694 1.388A2.98 2.98 0 0 1 105 919a2.998 2.998 0 0 1-2.94 2.997l-.49.981c.145.011.29.022.44.022 3.402 0 5.33-2.635 5.841-3.443a.973.973 0 0 0 0-1.034",transform:"translate(353.5 157) translate(.5 3.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"m100.447 927.724 5-10a.5.5 0 0 0-.894-.448l-5 10a.5.5 0 0 0 .894.448z",transform:"translate(353.5 157)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconFaceHappyOutline20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M113 203a9.5 9.5 0 1 1-19 0 9.5 9.5 0 0 1 19 0zm-1.5 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0z",transform:"translate(352.5 205)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M99.562 204.548c.596 1.376 2.234 2.453 3.955 2.452 1.694 0 3.327-1.08 3.921-2.452a.75.75 0 1 0-1.376-.596c-.357.825-1.451 1.548-2.545 1.548-1.123 0-2.22-.72-2.579-1.548a.75.75 0 1 0-1.376.596z",transform:"translate(352.5 205)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M108.5 199.75a1.251 1.251 0 0 0-2.5 0 1.251 1.251 0 0 0 2.5 0m-7.5 0a1.251 1.251 0 0 0-2.5 0 1.251 1.251 0 0 0 2.5 0",transform:"translate(352.5 205)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconHdFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{d:"M104.632 933H104v3h.632c.41 0 .844-.576.844-1.403v-.194c0-.827-.434-1.403-.844-1.403",transform:"translate(354 145)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M107.023 934.598c0 1.627-1.063 2.902-2.391 2.902h-1.382a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 1 .75-.75h1.382c1.328 0 2.391 1.275 2.391 2.902v.196zm-5.523 2.152a.75.75 0 0 1-1.5 0v-1.25h-1.5v1.25a.75.75 0 0 1-1.5 0v-4.5a.75.75 0 0 1 1.5 0V934h1.5v-1.75a.75.75 0 0 1 1.5 0v4.5zm6.44-3.895c-.068-.835-.145-1.332-.416-1.916a3.457 3.457 0 0 0-1.533-1.485.48.48 0 0 0-.047-.02l-.026-.008c-.475-.214-.917-.276-1.792-.345a28.09 28.09 0 0 0-4.254 0c-.768.06-1.277.115-1.883.381A3.46 3.46 0 0 0 96.45 931l-.013.033c-.236.498-.31.985-.377 1.825a25.389 25.389 0 0 0 0 3.287c.068.837.146 1.334.417 1.916.325.63.883 1.17 1.532 1.485a.377.377 0 0 0 .049.02l.024.009c.476.213.918.276 1.793.345a28.103 28.103 0 0 0 4.253 0c.768-.061 1.278-.116 1.884-.382a3.47 3.47 0 0 0 1.54-1.538l.013-.034c.235-.497.308-.983.376-1.824.072-.936.072-2.348 0-3.285v-.002z",transform:"translate(354 145)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconInfoCircleFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{d:"M456 1077.5a1.001 1.001 0 0 1 0-2 1.001 1.001 0 0 1 0 2zm1 5.5a.75.75 0 0 1-1.5 0v-3h-.25a.75.75 0 0 1 0-1.5h1a.75.75 0 0 1 .75.75v3.75zm-1-9.5c-3.308 0-6 2.691-6 6s2.692 6 6 6 6-2.691 6-6-2.692-6-6-6z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconLiveFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{d:"M460.5 1078.5h-1v.5h1v1h-1v.5h1v1h-2v-4h2v1zm-3.09 3h-1.32l-.8-4h1.02l.44 2.2.44-2.2h1.02l-.8 4zm-3.41 0h1v-4h-1v4zm-.5 0h-2v-4h1v3h1v1zm7.5-6h-10a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconMessagesFilled20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -350)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{d:"M109 209.745v2.84a5.416 5.416 0 0 1-5.416 5.415h-1.919a.758.758 0 0 0-.472.164l-1.237.98c-.551.437-.266 1.352.437 1.356h2.728l4.163 3.297a.752.752 0 0 0 1.216-.588v-2.73a3.922 3.922 0 0 0 3.5-3.895v-4.168a3.915 3.915 0 0 0-1.855-3.328c-.498-.31-1.145.07-1.145.657",transform:"translate(354 146)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M103.584 204.5h-7.668A3.92 3.92 0 0 0 92 208.416v4.168a3.922 3.922 0 0 0 3.5 3.894v2.73a.75.75 0 0 0 1.216.589l4.163-3.297h2.705a3.92 3.92 0 0 0 3.916-3.916v-4.168a3.92 3.92 0 0 0-3.916-3.916",transform:"translate(354 146)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconProfileFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{d:"M104 923.75c-.69 0-1.25-.673-1.25-1.5 0-1.5.908-1.5 1.25-1.5.342 0 1.25 0 1.25 1.5 0 .827-.56 1.5-1.25 1.5",transform:"translate(352 156)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M104 920c-1.428 0-2 1.008-2 2.25s.895 2.25 2 2.25 2-1.008 2-2.25-.572-2.25-2-2.25m0 1.5c.28 0 .5 0 .5.75 0 .429-.264.75-.5.75s-.5-.321-.5-.75c0-.75.22-.75.5-.75",transform:"translate(352 156)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M110 923.5a6 6 0 1 1-12 0 6 6 0 0 1 12 0zm-1 0a5 5 0 1 0-10 0 5 5 0 0 0 10 0z",transform:"translate(352 156)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M108.247 927.568c-.15-1.457-1.501-2.568-3.092-2.568h-2.31c-1.59 0-2.942 1.111-3.092 2.568l.994.103c.096-.927 1.001-1.67 2.098-1.67h2.31c1.097 0 2.002.743 2.098 1.67l.994-.103z",transform:"translate(352 156)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M104 929c1.463 0 2.787-.528 3.75-1.38-.123-1.184-1.243-2.12-2.595-2.12h-2.31c-1.352 0-2.472.936-2.595 2.12.963.852 2.287 1.38 3.75 1.38",transform:"translate(352 156)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconRefreshRightFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{fillRule:"nonzero",children:[i.jsx(d("XPlatReactSVG").Path,{d:"M103.5 918.5a5.5 5.5 0 1 0 3.248 1.061.75.75 0 1 0-.887 1.21A4 4 0 1 1 103.5 920a.75.75 0 1 0 0-1.5z",transform:"translate(352.5 156)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M102.47 919.97a.75.75 0 0 0 1.06 1.06l1.25-1.25a.75.75 0 0 0 0-1.06l-1.25-1.25a.75.75 0 0 0-1.06 1.06l.72.72-.72.72z",transform:"translate(352.5 156)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconReplyFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{d:"M101 936.5c1.903 0 3.847.017 5.811 3.326.053.09.192.048.189-.057-.213-8.03-6-7.769-6-7.769v-2.75c0-.112-.17-.112-.25-.034l-4.712 4.978a.128.128 0 0 0 0 .182l4.712 4.879c.08.078.25.022.25-.091V936.5z",transform:"translate(354.5 145)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M101.5 937.007c2.344.065 3.445.655 4.881 3.074.318.538 1.136.29 1.119-.326-.096-3.612-1.284-5.961-3.22-7.245a6.126 6.126 0 0 0-2.136-.888 6.042 6.042 0 0 0-.644-.1v-2.272c0-.673-.751-.733-1.1-.39l-4.725 4.99a.624.624 0 0 0 .011.881l4.704 4.87c.395.388 1.11.137 1.11-.437v-2.157zm-4.857-2.724 3.857-4.075v2.315l.527-.024c.207-.004.524.02.912.102a5.134 5.134 0 0 1 1.788.743c1.388.92 2.339 2.508 2.66 4.948-1.422-1.847-2.873-2.292-5.387-2.292h-.5v2.276l-3.857-3.993z",transform:"translate(354.5 145)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconShareIosFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{fillRule:"nonzero",children:[i.jsx(d("XPlatReactSVG").Path,{d:"M100.5 535h.475c.29 0 .525.235.525.524v4.952c0 .29-.235.524-.525.524h-4.95a.524.524 0 0 1-.525-.524v-4.952c0-.29.235-.524.525-.524h.475a.5.5 0 0 0 0-1h-.475c-.843 0-1.525.682-1.525 1.524v4.952c0 .842.682 1.524 1.525 1.524h4.95c.843 0 1.525-.682 1.525-1.524v-4.952c0-.842-.682-1.524-1.525-1.524h-.475a.5.5 0 0 0 0 1zm-.354-2.146a.5.5 0 1 0 .708-.708l-2-2a.5.5 0 0 0-.708 0l-2 2a.5.5 0 1 0 .708.708l1.646-1.647 1.646 1.647z",transform:"translate(357.5 543.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M99 537.5v-6.875a.5.5 0 0 0-1 0v6.875a.5.5 0 0 0 1 0z",transform:"translate(357.5 543.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBLikeSvgIcon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useId;function a(a){var b=a.alt,c=a.className,d=a.color;a=a.size;a=a===void 0?20:a;var e=b!=null,f=j();return i.jsxs("svg",{"aria-hidden":e?void 0:!0,"aria-labelledby":e?f:void 0,className:c,height:a,viewBox:"0 0 16 16",width:a,children:[e&&i.jsx("title",{id:f,children:b}),i.jsx("path",{d:"M16,9.1c0-0.8-0.3-1.1-0.6-1.3c0.2-0.3,0.3-0.7,0.3-1.2c0-1-0.8-1.7-2.1-1.7h-3.1c0.1-0.5,0.2-1.3,0.2-1.8 c0-1.1-0.3-2.4-1.2-3C9.3,0.1,9,0,8.7,0C8.1,0,7.7,0.2,7.6,0.4C7.5,0.5,7.5,0.6,7.5,0.7L7.6,3c0,0.2,0,0.4-0.1,0.5L5.7,6.6 c0,0-0.1,0.1-0.1,0.1l0,0l0,0L5.3,6.8C5.1,7,5,7.2,5,7.4v6.1c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,1,1,2,1h5.2c0.9,0,1.4-0.3,1.8-0.9 c0.3-0.5,0.2-1,0.1-1.4c0.5-0.2,0.9-0.5,1.1-1.2c0.1-0.4,0-0.8-0.2-1C15.6,10.3,16,9.9,16,9.1z",fill:d}),i.jsx("path",{d:"M3.3,6H0.7C0.3,6,0,6.3,0,6.7v8.5C0,15.7,0.3,16,0.7,16h2.5C3.7,16,4,15.7,4,15.3V6.7C4,6.3,3.7,6,3.3,6z",fill:d})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FBPayHubTransactionDetailDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23892077650440585"}),null);
__d("FBPayHubTransactionDetailDialogQuery$Parameters.facebook",["FBPayHubTransactionDetailDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("FBPayHubTransactionDetailDialogQuery_facebookRelayOperation"),metadata:{},name:"FBPayHubTransactionDetailDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("FDSMWMessageDeliveryStatusIcons.react",["MWMessageDeliveryStatus","react","stylex","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={disabled:{fill:"xsrhx6k",$$css:!0},negative:{fill:"x1i5740i",$$css:!0}};function l(a){switch(a){case 12:return"12px";case 14:return"14px";case 16:return"16px"}}function a(a){var b=a.size;a.title;a=a.xstyle;return j.jsxs("svg",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.disabled,a),{height:l(b),role:"img",viewBox:"2 2 20 20",width:l(b),xmlns:"http://www.w3.org/2000/svg",children:[j.jsx("title",{children:d("MWMessageDeliveryStatus").Titles.sending}),j.jsx("path",{d:"m12 2a10 10 0 1 0 10 10 10.011 10.011 0 0 0 -10-10zm0 18.5a8.5 8.5 0 1 1 8.5-8.5 8.51 8.51 0 0 1 -8.5 8.5z"})]}))}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.size;a.title;a=a.xstyle;return j.jsxs("svg",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.disabled,a),{"data-testid":void 0,height:l(b),role:"img",viewBox:"2 2 20 20",width:l(b),xmlns:"http://www.w3.org/2000/svg",children:[j.jsx("title",{children:d("MWMessageDeliveryStatus").Titles.sent}),j.jsx("path",{d:"m12 2a10 10 0 1 0 10 10 10.011 10.011 0 0 0 -10-10zm0 18.5a8.5 8.5 0 1 1 8.5-8.5 8.51 8.51 0 0 1 -8.5 8.5z"}),j.jsx("path",{d:"m15.982 8.762-5.482 5.487-2.482-2.478a.75.75 0 0 0 -1.06 1.06l3.008 3.008a.748.748 0 0 0 1.06 0l6.016-6.016a.75.75 0 0 0 -1.06-1.061z"})]}))}b.displayName=b.name+" [from "+f.id+"]";function e(a){var b=a.size;a.title;a=a.xstyle;c("vulture")("jV8Igs4y_KnfdyoRt0J3gU7FaUU=");return j.jsxs("svg",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.disabled,a),{"data-testid":void 0,height:l(b),role:"img",viewBox:"2 2 20 20",width:l(b),xmlns:"http://www.w3.org/2000/svg",children:[j.jsx("title",{children:d("MWMessageDeliveryStatus").Titles.delivered}),j.jsx("path",{d:"m12 2a10 10 0 1 0 10 10 10.011 10.011 0 0 0 -10-10zm5.219 8-6.019 6.016a1 1 0 0 1 -1.414 0l-3.005-3.008a1 1 0 1 1 1.419-1.414l2.3 2.3 5.309-5.31a1 1 0 1 1 1.41 1.416z"})]}))}e.displayName=e.name+" [from "+f.id+"]";function m(a){var b=a.size,e=a.title;e=e===void 0?d("MWMessageDeliveryStatus").Titles.error.toString():e;a=a.xstyle;return j.jsxs("svg",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.negative,a),{height:l(b),role:"img",viewBox:"2 2 20 20",width:l(b),xmlns:"http://www.w3.org/2000/svg",children:[j.jsx("title",{children:e}),j.jsx("path",{d:"m12 2a10 10 0 1 0 10 10 10.011 10.011 0 0 0 -10-10zm0 15.139a1.125 1.125 0 1 1 1.125-1.125 1.127 1.127 0 0 1 -1.125 1.125zm.8-3.81a.75.75 0 0 1 -.75.685.852.852 0 0 1 -.847-.685l-.45-5.145c0-.022 0-.043 0-.065a1.254 1.254 0 1 1 2.5 0z"})]}))}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.size;a.title;a=a.xstyle;c("vulture")("EYsc1JXGmY1Sml-d4B-Tf3oaYAk=");return j.jsx("svg",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.disabled,a),{height:l(b),role:"img",viewBox:"0 0 16 16",width:l(b),xmlns:"http://www.w3.org/2000/svg",children:j.jsx("path",{clipRule:"evenodd",d:"M8 16A8 8 0 108 0a8 8 0 000 16zm.473-5.26a.5.5 0 00.08.605l.27.271a1 1 0 001.572-.205l3.379-5.818a1 1 0 00-1.73-1.004l-.974 1.678a.911.911 0 01-.034.06L8.473 10.74zm1.3-5.147A1 1 0 008.045 4.59L5.417 9.114a.15.15 0 01-.236.03L3.798 7.763a1 1 0 10-1.414 1.414l2.44 2.44a1 1 0 001.571-.205l3.379-5.818z",fillRule:"evenodd"})}))}n.displayName=n.name+" [from "+f.id+"]";f={DeliveredAndReadIcon:n,DeliveredIcon:e,ErrorIcon:m,SendingIcon:a,SentIcon:b};n=f;g["default"]=n}),98);
__d("HelpCenterLocalePopoverQuery$Parameters",["cr:8710"],(function(a,b,c,d,e,f,g){"use strict";f.exports=b("cr:8710")}),34);
__d("HelpCenterLocalePopover.entrypoint",["HelpCenterLocalePopoverQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{supportedLanguagesQueryRef:{parameters:c("HelpCenterLocalePopoverQuery$Parameters"),variables:{helpIdentifier:a.helpIdentifier}}}}},root:c("JSResourceForInteraction")("HelpCenterLocalePopover.react").__setRef("HelpCenterLocalePopover.entrypoint")};g["default"]=a}),98);
__d("HelpCenterMobileLanguageSelector.react",["ix","FDSButton.react","FDSEntryPointPopoverTrigger.react","FDSIcon.react","HelpCenterContextProvider","HelpCenterLocalePopover.entrypoint","fbicon","react","useHelpCenterLogger.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.selectedLanguage;a=d("HelpCenterContextProvider").useHelpCenterContext();a=a.localeHelpIdentifier;var e=c("useHelpCenterLogger.react")();return j.jsx(c("FDSEntryPointPopoverTrigger.react"),{align:"middle",entryPointParams:{helpIdentifier:a},otherProps:{helpIdentifier:a,selectedLanguage:b},popoverEntryPoint:c("HelpCenterLocalePopover.entrypoint"),popoverType:"menu",position:"below",children:function(a,f,g,i,k,l,m,n){return j.jsx(c("FDSButton.react"),{addOnPrimary:j.jsx(c("FDSIcon.react"),{color:"primary",icon:d("fbicon")._(h("487626"),20)}),addOnSecondary:j.jsx(c("FDSIcon.react"),{color:"primary",icon:d("fbicon")._(h("481884"),20)}),"aria-expanded":n,"aria-haspopup":"menu",label:b,onHoverIn:i,onHoverOut:k,onPress:function(){e.logEvent("language_switcher_button_click",{}),f()},onPressIn:l,ref:a,size:"medium",type:"overlay"})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSEmojiSetsType",[],(function(a,b,c,d,e,f){a=Object.freeze({USER_GENERATED:0,RECENTLY_USED:1});f["default"]=a}),66);
__d("LSOptimisticSetOrUnsetPinnedMessage",["LSIssueNewTask","LSShimThreadPinMessage.nop","LSShimThreadUnpinMessage.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.i64.neq(a[1],void 0)?c.i64.eq(a[3],c.i64.cast([0,1]))||c.i64.eq(a[3],c.i64.cast([0,2]))?c.sequence([function(d){return c.nativeOperation(b("LSShimThreadPinMessage.nop"),a[0],a[2],a[1])},function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],void 0)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[0]=d[5])})},function(e){return d[2]=new c.Map(),d[2].set("armadillo_thread_key",a[1]),d[2].set("offline_threading_id",a[0]),d[2].set("timestamp_ms",a[2]),d[2].set("sync_group",d[0]),d[3]=d[2].get("timestamp_ms"),d[4]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),["e2ee_pin_msg","_",c.i64.to_string(d[3])].join(""),c.i64.cast([0,1010]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):c.sequence([function(d){return c.nativeOperation(b("LSShimThreadUnpinMessage.nop"),a[0],a[1])},function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],void 0)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[0]=d[5])})},function(e){return d[2]=new c.Map(),d[2].set("armadillo_thread_key",a[1]),d[2].set("offline_threading_id",a[0]),d[2].set("timestamp_ms",a[2]),d[2].set("sync_group",d[0]),d[3]=d[2].get("timestamp_ms"),d[4]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),["e2ee_unpin_msg","_",c.i64.to_string(d[3])].join(""),c.i64.cast([0,1011]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):c.resolve()},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxOptimisticSetOrUnsetPinnedMessageStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSOptimisticSetOrUnsetPinnedMessageStoredProcedure",["LSOptimisticSetOrUnsetPinnedMessage","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticSetOrUnsetPinnedMessage"),e.offlineThreadingId,e.threadKey,e.timestampMs,e.state);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MWChatComposer3PBotCommandViewItem.react",["CometSearchMentionsBaseViewItem.react","MWXTextPairing.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.entry;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]);var d=b.label,e=b.rawData.subtitle;return i.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{entry:b,children:i.jsx(c("MWXTextPairing.react"),{headline:d,level:4,meta:e,metaLineLimit:1,reduceEmphasis:!0})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCommandsComposerPluginTextNode",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d,e=a.commandId,f=a.commandPrefix,g=a.handle;a=a.rangeType;d=b.call(this,""+((d=f)!=null?d:"")+g,c)||this;d.__handle=g;d.__commandId=e;d.__rangeType=a;d.__commandPrefix=f;return d}a.getType=function(){return"command"};a.clone=function(b){var c,d=b.getEntity();return new a({commandId:d.commandId,commandPrefix:(c=b.__commandPrefix)!=null?c:"",handle:d.handle,rangeType:d.rangeType},b.__key)};a.importJSON=function(a){return i({commandId:a.commandId,handle:a.handle,rangeType:a.rangeType})};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{commandId:this.__commandId,handle:this.__handle,rangeType:this.__rangeType,type:"command"})};c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);a.className="xv78j7m xt0e3qv x3jgonx";a.spellcheck=!1;return a};c.getEntity=function(){return{commandId:this.__commandId,handle:this.__handle,rangeType:this.__rangeType}};c.getRangeType=function(){return this.__rangeType};c.getCommandId=function(){return this.__commandId};return a}(d("Lexical").TextNode);function i(a){return new h(a).setMode("segmented").toggleDirectionless()}g.MessengerLexicalCommandNode=h;g.$createMessengerLexicalCommandNode=i}),98);
__d("createCommandsHandleMatchStrategy",[],(function(a,b,c,d,e,f){"use strict";b="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\[\\]\\\\/!%'\"~=<>_:;";c="\\b[\\w][^\\s"+b+"]";d="(^|\\s|\\/)((?:"+c+"{"+1+",})$)";var g=new RegExp(d);function a(a){var b=a.minMatchLength;return{findMentionableString:function(a){a=g.exec(a);if(a===null)return null;var c=a[1],d=a[2];if(d!=null&&d.length>=b){var e=d;(c==null?void 0:c.startsWith("/"))&&(e=""+c+d);return{leadOffset:a.index+c.length,matchingString:d,replaceableString:e}}return null},name:"CommandsHandleMatchStrategy"}}f["default"]=a}),66);
__d("useMW3PBotsCommandsDataSourceResolverConfig",["I64","Promise","ReQL","ReQLSuspense","createCometMentionMatchStrategy","createCommandsHandleMatchStrategy","useCometMentionsDataSourceResolverConfig","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){var e=(j||(j=c("useReStore")))(),g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(e.tables.custom_thread_commands.index("rank")).getKeyRange(a).filter(function(a){return!a.isOpenPersistentMenu}).map(function(a){var b=a.commandDescription,c=a.commandId;a=a.commandText;return{key:(i||(i=d("I64"))).to_string(c),label:a,rawData:{rangeType:"cu",subtitle:b},type:"entry"}})},[e,a],f.id+":33"),k=function(a){return{entries:a.query.length?g.filter(function(b){return b.label.toLowerCase().startsWith(a.query.toLowerCase())}):g,params:a}};return{bootstrap:function(){},fetchCache:k,fetchNetwork:function(a){return(h||(h=b("Promise"))).resolve(k(a))}}}function a(a){a=k(a);a=[{dataSource:a,matchStrategy:c("createCommandsHandleMatchStrategy")({minMatchLength:4})},{dataSource:a,matchStrategy:c("createCometMentionMatchStrategy")({minMatchLength:0,name:"CometMentionsNameMatchStrategy",triggers:"/"})}];return c("useCometMentionsDataSourceResolverConfig")(a,!1)}g["default"]=a}),98);
__d("MW3PBotsCommandsComposerPlugin.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","MWChatComposer3PBotCommandViewItem.react","MWCommandsComposerPluginTextNode","MWThreadKey.react","cometBaseMentionsLexicalCreateNodeStrategy","react","useCometTypeaheadViewListStrategy","useMW3PBotsCommandsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.editor;var b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();b=c("useMW3PBotsCommandsDataSourceResolverConfig")(b);var e=c("useCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:c("MWChatComposer3PBotCommandViewItem.react")});return i.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("cometBaseMentionsLexicalCreateNodeStrategy")(function(a){return d("MWCommandsComposerPluginTextNode").$createMessengerLexicalCommandNode({commandId:a.key,handle:a.label,rangeType:(a=(a=a.rawData)==null?void 0:a.rangeType)!=null?a:"n"})}),dataSourceResolverConfig:b,editor:a,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatMessengerReactionsUtils",["EmojiFormat.bs","I64","LSEmojiSetsType","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=[{categoryIdx:(h||(h=d("I64"))).of_string("6"),emoji:"\u2764",emojiIdx:h.zero,sortKey:h.zero,type_:(i||(i=d("LSIntEnum"))).ofNumber(c("LSEmojiSetsType").USER_GENERATED)},{categoryIdx:h.zero,emoji:"\ud83d\ude06",emojiIdx:h.of_string("4"),sortKey:h.one,type_:i.ofNumber(c("LSEmojiSetsType").USER_GENERATED)},{categoryIdx:h.zero,emoji:"\ud83d\ude2e",emojiIdx:h.of_string("84"),sortKey:h.of_string("2"),type_:i.ofNumber(c("LSEmojiSetsType").USER_GENERATED)},{categoryIdx:h.zero,emoji:"\ud83d\ude22",emojiIdx:h.of_string("48"),sortKey:h.of_string("3"),type_:i.ofNumber(c("LSEmojiSetsType").USER_GENERATED)},{categoryIdx:h.zero,emoji:"\ud83d\ude21",emojiIdx:h.of_string("52"),sortKey:h.of_string("4"),type_:i.ofNumber(c("LSEmojiSetsType").USER_GENERATED)},{categoryIdx:h.zero,emoji:"\ud83d\udc4d",emojiIdx:h.of_string("131"),sortKey:h.of_string("5"),type_:i.ofNumber(c("LSEmojiSetsType").USER_GENERATED)},{categoryIdx:h.zero,emoji:"\ud83d\udc4e",emojiIdx:h.of_string("132"),sortKey:h.of_string("6"),type_:i.ofNumber(c("LSEmojiSetsType").USER_GENERATED)}];e=b.slice(0,6);var j=d("EmojiFormat.bs").codeArrayToUnicode([10084,65039]),k=d("EmojiFormat.bs").codeArrayToUnicode([10084]);function a(a){if(a===j)return!0;else return a===k}f=6;g.defaultStaticReactions=b;g.defaultCustomizableReactions=e;g.heartType1=j;g.heartType2=k;g.isHeart=a;g.cUSTOM_REACTIONS_NUM=f}),98);
__d("MWThumbnailDurationPill",["getFormattedTimestamp","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={durationDisplay:{alignItems:"x6s0dn4",fontSize:"x1ncwhqj",paddingTop:"x1nn3v0j",paddingEnd:"xsyo7zv",paddingBottom:"x1120s5i",paddingStart:"x16hj40l",position:"x10l6tqk",verticalAlign:"xxymvpz",$$css:!0},largeThumbnailSpacing:{bottom:"xqo3gd",end:"x1923su1",$$css:!0},newStyle:{backgroundColor:"x18l40ae",borderTopStartRadius:"x13zp6kq",borderTopEndRadius:"x1mcfq15",borderBottomEndRadius:"xrosliz",borderBottomStartRadius:"x1wb7cse",color:"x14ctfv",$$css:!0},oldStyle:{backgroundColor:"xal61yo",borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",bottom:"xrb244j",color:"x14ctfv",end:"x4r51d9",$$css:!0},smallThumbnailSpacing:{bottom:"xbfrwjf",end:"xlr8s2x",$$css:!0}};function a(a){var b=a.spacing;a=a.videoDuration;return j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props([k.durationDisplay].concat(c("gkx")("8622")?[k.newStyle,b==="TIGHT"?k.smallThumbnailSpacing:k.largeThumbnailSpacing]:[k.oldStyle])),{children:c("getFormattedTimestamp")(a)}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatVideoPlayerControls.react",["MWThumbnailDurationPill","VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","VideoPlayerFullscreenControl.react","VideoPlayerHooks","VideoPlayerPlaybackControl.react","VideoPlayerPlaybackTimer.react","VideoPlayerScrubber.react","VideoPlayerVolumeControl.react","cr:10680","gkx","justknobx","react","useVideoPlayerDefaultControlsVisibility","useVideoPlayerHasStartedPlayingAtLeastOnce"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function k(a){a=a.children;return j.jsx("span",babelHelpers["extends"]({className:"x12y6twl x1g0ag68"},{children:a}))}k.displayName=k.name+" [from "+f.id+"]";function a(a){var e=a.hideExpandButton;a=a.isMediaViewer;var f=c("useVideoPlayerDefaultControlsVisibility")(),g=f.isControlsVisible;f=f.onUserInteraction;var h=(i||(i=d("VideoPlayerHooks"))).usePaused();h=b("cr:10680")({forceVisible:h});h=h.bigPlayButtonElement;var l=i.useIsFullscreen(),m=i.useDuration(),n=c("useVideoPlayerHasStartedPlayingAtLeastOnce")(),o=i.usePlaying(),p=i.useEnded();n=!n&&!o||p;o=j.jsx(c("VideoPlayerControlsContainerOverlay.react"),{isVisible:g,children:l?j.jsxs(j.Fragment,{children:[j.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{children:[j.jsx(c("VideoPlayerPlaybackControl.react"),{}),j.jsx(c("VideoPlayerPlaybackTimer.react"),{})]}),j.jsx(d("VideoPlayerControlsGroups.react").Expanded,{children:j.jsx(c("VideoPlayerScrubber.react"),{onUserInteraction:f})}),j.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{children:[j.jsx(c("VideoPlayerFullscreenControl.react"),{onUserInteraction:f}),j.jsx(c("VideoPlayerVolumeControl.react"),{onUserInteraction:f})]})]}):c("gkx")("8623")&&n?j.jsx(c("MWThumbnailDurationPill"),{spacing:"WIDE",videoDuration:m}):j.jsxs(j.Fragment,{children:[j.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{children:[c("justknobx")._("2253")&&a===!0?j.jsx(c("VideoPlayerPlaybackTimer.react"),{}):null,j.jsx(k,{children:j.jsx(c("VideoPlayerPlaybackControl.react"),{})})]}),j.jsx(d("VideoPlayerControlsGroups.react").Expanded,{children:j.jsx(c("VideoPlayerScrubber.react"),{onUserInteraction:f})}),j.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{children:[e?null:j.jsx(k,{children:j.jsx(c("VideoPlayerFullscreenControl.react"),{onUserInteraction:f})}),j.jsx(k,{children:j.jsx(c("VideoPlayerVolumeControl.react"),{onUserInteraction:f})})]})]})});return j.jsxs(j.Fragment,{children:[h,o]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWSetupMediaRenderQpl.react",["FBLogger","VideoPlayerHooks","performanceAbsoluteNow","react","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=i||d("react");var k=b.useEffect,l=b.useRef;function a(a){var b=a.context,e=a.mediaRenderQpl,f=(j||(j=d("VideoPlayerHooks"))).useController(),g=l();k(function(){e==null?void 0:e.addPoint("setup-video-media-render-qpl",{string:{context:b}});var a=function(){var a=f.getCurrentState();if(a.error!=null){var d=a.error.errorName,i=a.error.errorType,j=a.error.errorMessageFormat+" - "+a.error.errorMessageParams.join(",");e==null?void 0:e.endFail("load-video-error",{string:{video_error_message:j,video_error_name:d,video_error_type:i}});c("FBLogger")("messenger_web_media","load-video-error").warn("%s Video Player Error: %s",b,j);(d=g.current)==null?void 0:d.remove()}i=a.domEventsLatestPerfMs.loadeddata!=null&&a.domEventsLatestPerfMs.loadeddata>0;i&&(e==null?void 0:e.addPoint("video-state-loaded-data"));j=a.domEventsLatestPerfMs.loadedmetadata!=null&&a.domEventsLatestPerfMs.loadedmetadata>0;j&&(e==null?void 0:e.addPoint("video-state-loaded-metadata"));i=(d=f.internal_getStateMachineState())==null?void 0:d.uncontrolledState;j=i==null?void 0:i.videoElementReadyState;j!=null&&j>0&&(e==null?void 0:e.addPoint("video-state-ready-state",{"int":{ready_state:j}}));d=a.domEventsLatestPerfMs.canplay!=null&&a.domEventsLatestPerfMs.canplay>0;if(d){var k=(h||(h=c("performanceAbsoluteNow")))();e==null?void 0:e.addPoint("video-state-can-play");c("setTimeout")(function(){var a;e==null?void 0:e.endSuccess(void 0,k);(a=g.current)==null?void 0:a.remove()},500)}};g.current=f.subscribe(function(){a()});a();return function(){var a;(a=g.current)==null?void 0:a.remove()}},[b,e,f]);return null}g["default"]=a}),98);
__d("MWChatVideoPlayer.react",["CometProductAttribution","CometVideoPlayerLoggingConfigForMWChat","GraphQLVideoAutoplayGatingResult","MWChatVideoAutoplaySettingContext","MWChatVideoPlayerControls.react","MWSetupMediaRenderQpl.react","MWVideoPlayerControllerContext.react","VideoPlayerDefaultControls.react","VideoPlayerHooks","VideoPlayerInteractionOverlay.react","VideoPlayerProgressiveImplementationData","VideoPlayerProgressiveImplementationV2.react","VideoPlayerSurface.react","VideoPlayerX.react","computeAspectRatio","getVideoPlayerAutoplayProps","react","useVideoPlayerClickToPauseInteraction","useVideoPlayerClickToPlayInteraction"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;var k=b.useContext,l=b.useEffect,m={link_context:null,navChainContent:null,rootName:"MWChatMediaRoot.react",tap_point:"unexpected",tracePolicy:"comet.sharedmediaviewer.media",trackingNodes:null},n=-1;function o(a){var b=a.controls,e=a.hideExpandButton,f=a.isMediaViewer;a=a.shouldForcePauseOnClick;var g=c("useVideoPlayerClickToPlayInteraction")({shouldUnmute:!0}),h=c("useVideoPlayerClickToPauseInteraction")(),k=(i||(i=d("VideoPlayerHooks"))).usePaused();k=k&&!a?g:h;return j.jsxs(j.Fragment,{children:[j.jsx(d("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,{pressInteraction:k}),p(b,e,f)]})}o.displayName=o.name+" [from "+f.id+"]";var p=function(a,b,d){switch(a){case"mwchat":return j.jsx(c("MWChatVideoPlayerControls.react"),{hideExpandButton:b===!0,isMediaViewer:d===!0});case"default":return j.jsx(c("VideoPlayerDefaultControls.react"),{});case"none":return null;default:return null}},q=function(a){return a!=null?function(b){return{objectFit:a}}:null};function r(a){a=a.children;var b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("MWVideoPlayerControllerContext.react"));l(function(){e.ref.current=b;return function(){e.ref.current=null}},[e,b]);return a}r.displayName=r.name+" [from "+f.id+"]";function a(a){var b=a.autoPlaySetting,e=a.controls,f=a.errorBoundaryFallback,g=a.fbid,h=a.hdSrc,i=a.hideExpandButton,k=a.initialForceHD,p=a.isMediaViewer,s=a.loopCount,t=a.mediaRenderQpl,u=a.originalHeight,v=a.originalWidth,w=a.pixelsFit,x=a.sdSrc,y=a.shouldForcePauseOnClick,z=a.startTimestamp;a=a.volumeSetting;var A=d("MWChatVideoAutoplaySettingContext").useMWChatVideoAutoplaySetting(),B=d("VideoPlayerProgressiveImplementationData").makeProgressiveImplementationData({hdSrc:h,hdSrcPreferred:(h=k)!=null?h:!1,sdSrc:x});l(function(){t==null?void 0:t.addPoint("render-chat-video-player"),B instanceof Error&&(t==null?void 0:t.endFail("load-video-player-error",{string:{player_implementation_error_message:B.message,player_implementation_error_name:B.name}}))},[B,t]);if(B instanceof Error)return f==null?void 0:f();k=[{Component:c("VideoPlayerProgressiveImplementationV2.react"),data:B,typename:"VideoPlayerProgressiveImplementation"}];x=c("getVideoPlayerAutoplayProps")(d("GraphQLVideoAutoplayGatingResult").makeGraphQLVideoAutoplayGatingResult("unknown",(h=b)!=null?h:A,!0),"respect_user_settings",null);b=c("computeAspectRatio")(v,u);return j.createElement(c("VideoPlayerX.react"),babelHelpers["extends"]({},x,{errorBoundaryFallback:f,implementations:k,key:g,loggingConfig:d("CometVideoPlayerLoggingConfigForMWChat").createCometVideoPlayerLoggingConfigForMWChat(),loopCount:(h=s)!=null?h:n,playerOriginOverride:"messaging",portalingEnabled:!1,productAttribution:{v2:[d("CometProductAttribution").getProductAttributionEntryV2(m)]},renderVideoPixelsFit:q(w),startTimestamp:z,subOrigin:"messenger_thread",videoFBID:g,videoPixelsAspectRatio:b,volumeSetting:a}),j.jsxs(c("VideoPlayerSurface.react"),{children:[j.jsx(c("MWSetupMediaRenderQpl.react"),{context:"MWChat",mediaRenderQpl:t}),j.jsx(r,{children:j.jsx(o,{controls:e,hideExpandButton:i===!0,isMediaViewer:p===!0,shouldForcePauseOnClick:y})})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageListProtectedMedia.react",["fbt","$InternalEnum","MWLSThreadDisplayContext","MWVerticalRhythm","MWXPressable.react","MWXText.react","emptyFunction","react","setTimeout","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;var l=e.useMemo,m=e.useRef,n=e.useState,o=b("$InternalEnum").Mirrored(["Protected","Blurred","Unprotected"]),p={container:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",minHeight:"x7v6ubd",minWidth:"xfb3i0g",position:"x1n2onr6",$$css:!0},containerForInbox:{minWidth:"xlm99nl",$$css:!0},containerUncoverable:{minWidth:"xfb3i0g",$$css:!0},overlay:{maxWidth:"x193iq5w",":before_content":"x171mlpp",":before_height":"xw22vqi",":before_position":"x1te0kx0",":before_start":"x7r5wyf",":before_top":"x1ehtkf2",":before_width":"xy7dqi3",":before_zIndex":"x1wl4osp",$$css:!0},overlayBlurred:{filter:"xj2j9hd",$$css:!0},overlayDisabled:{pointerEvents:"x47corl",$$css:!0},pressable:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},sneezeguard:{backgroundColor:"x11dxs5c",height:"x5yr21d",start:"x17qophe",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},sneezeguardTransparent:{backgroundColor:"x1cw4mn1",$$css:!0}};function q(a){var b=a.mediaType,d=a.state;a=a.uncoverable;a=a===void 0?!0:a;var e=h._(/*BTDS*/"__JHASH__ffo2a6Rimy8__JHASH__"),f=h._(/*BTDS*/"__JHASH__SmhjEO8LZM7__JHASH__"),g=h._(/*BTDS*/"__JHASH__fSHhveuOoUn__JHASH__"),i=h._(/*BTDS*/"__JHASH__9LbnXUNEOkH__JHASH__"),j=h._(/*BTDS*/"__JHASH__grSMjsZRe9-__JHASH__"),l=h._(/*BTDS*/"__JHASH__4a9auIct2D0__JHASH__"),m=h._(/*BTDS*/"__JHASH___nqNxb75_gn__JHASH__"),n=h._(/*BTDS*/"__JHASH__cegqh2566-V__JHASH__"),p=h._(/*BTDS*/"__JHASH__NU6koyzdQfy__JHASH__");f=k.jsx(c("MWXText.react"),{color:"white",testid:void 0,type:"body3",children:b==="Image"?f:b==="Video"?e:g});return d===o.Unprotected?null:k.createElement("div",babelHelpers["extends"]({"aria-live":"polite","aria-relevant":"all"},{className:"x6s0dn4 x9f619 x78zum5 xdt5ytf x5yr21d x17qophe xl56j7k xyamay9 x1pi30zi x1l90r2v x1swvt13 x10l6tqk x13vifvy xh8yej3 xhtitgo"},{key:d}),k.jsx("div",babelHelpers["extends"]({className:"x78zum5 xdt5ytf xurgmgr x2b8uid"},{children:d===o.Protected?k.jsxs(k.Fragment,{children:[f,a?k.jsxs(k.Fragment,{children:[k.jsx(c("MWVerticalRhythm"),{height:25}),k.jsx(c("MWXText.react"),{color:"white",testid:void 0,type:"bodyLink3",children:b==="Image"?j:b==="Video"?i:l})]}):null]}):k.jsxs(k.Fragment,{children:[f,k.jsx(c("MWVerticalRhythm"),{height:25}),k.jsx(c("MWXText.react"),{color:"white",testid:void 0,type:"bodyLink3",children:b==="Image"?n:b==="Video"?m:p})]})})))}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b=a.ariaLabel,e=a.children,f=a.disabled,g=a.linkProps,h=a.mediaType,j=a.onPress,r=j===void 0?c("emptyFunction"):j;j=a.overlayDisabled;j=j===void 0?!1:j;var s=a.testid,t=a.type;s=a.uncoverable;s=s===void 0?!0:s;var u=a.url;a=a.xstyle;var v=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),w=n(o.Protected),x=w[0],y=w[1],z=x===o.Unprotected;w=x===o.Blurred;var A=m(null),B=l(function(){return{url:"#"}},[]),C=l(function(){if(t==="video")return;if(u!=null)return{backgroundImage:"url("+u+")",backgroundSize:"cover",filter:"blur(10px)",height:"100%",left:"0",position:"absolute",right:"0",transform:"scale(1.2)",width:"100%"}},[u,t]);v=k.jsxs("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(p.container,v==="Inbox"?p.containerForInbox:!1,s?p.containerUncoverable:!1),{children:[k.jsx("div",{style:C}),k.jsx("div",babelHelpers["extends"]({"aria-hidden":!z},i.props(p.overlay,!z&&p.overlayDisabled,w&&p.overlayBlurred),{children:e})),z?null:k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(p.sneezeguard,w&&p.sneezeguardTransparent))),k.jsx(q,{mediaType:h,state:x,uncoverable:s})]}));return!s?k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(a,p.pressable),{"data-testid":void 0,children:v})):k.jsx(c("MWXPressable.react"),{"aria-label":z?b:void 0,disabled:f,linkProps:z?g:B,onPress:function(){z?r():y(function(a){switch(a){case o.Protected:return o.Blurred;case o.Blurred:c("setTimeout")(function(){var a=A.current;if(a!=null)return a.focus()},0);return o.Unprotected;case o.Unprotected:return a}})},overlayDisabled:j,ref:A,testid:void 0,xstyle:[a,p.pressable],children:v})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MessengerDefaultTheme",["CurrentEnvironment","I64"],(function(a,b,c,d,e,f,g){"use strict";var h;a={color:c("CurrentEnvironment").messengerdotcom?"#0099FF":"#0084FF",id:(h||(h=d("I64"))).of_string("196241301102133"),label:"Default Blue",type:"solid"};g["default"]=a}),98);
__d("TetraMWChatComposerIcons.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={fillGrey:{fill:"xsrhx6k",$$css:!0},icon:{display:"x1lliihq",forcedColorAdjust:"x1tzjh5l",$$css:!0},moreActionsIcon:{transitionDuration:"x1k90msu",transitionProperty:"x11xpdln",transitionTimingFunction:"x1qfuztq",$$css:!0},notRotated:{transform:"x7p49u4",$$css:!0},rotated:{transform:"x1158fpu",$$css:!0}};function a(a){var b=a.fill,d=a.size;a=a.xstyle;a=a===void 0?!1:a;return j.jsx("svg",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.icon,k.fillGrey,a),{height:String(d)+"px",viewBox:"0 0 16 16",width:String(d)+"px",x:"0px",y:"0px",children:j.jsx("path",{d:"M.783 12.705c.4.8 1.017 1.206 1.817 1.606 0 0 1.3.594 2.5.694 1 .1 1.9.1 2.9.1s1.9 0 2.9-.1 1.679-.294 2.479-.694c.8-.4 1.157-.906 1.557-1.706.018 0 .4-1.405.5-2.505.1-1.2.1-3 0-4.3-.1-1.1-.073-1.976-.473-2.676-.4-.8-.863-1.408-1.763-1.808-.6-.3-1.2-.3-2.4-.4-1.8-.1-3.8-.1-5.7 0-1 .1-1.7.1-2.5.5s-1.417 1.1-1.817 1.9c0 0-.4 1.484-.5 2.584-.1 1.2-.1 3 0 4.3.1 1 .2 1.705.5 2.505zm10.498-8.274h2.3c.4 0 .769.196.769.696 0 .5-.247.68-.747.68l-1.793.02.022 1.412 1.252-.02c.4 0 .835.204.835.704s-.442.696-.842.696H11.82l-.045 2.139c0 .4-.194.8-.694.8-.5 0-.7-.3-.7-.8l-.031-5.631c0-.4.43-.696.93-.696zm-3.285.771c0-.5.3-.8.8-.8s.8.3.8.8l-.037 5.579c0 .4-.3.8-.8.8s-.8-.4-.8-.8l.037-5.579zm-3.192-.825c.7 0 1.307.183 1.807.683.3.3.4.7.1 1-.2.4-.7.4-1 .1-.2-.1-.5-.3-.9-.3-1 0-2.011.84-2.011 2.14 0 1.3.795 2.227 1.695 2.227.4 0 .805.073 1.105-.127V8.6c0-.4.3-.8.8-.8s.8.3.8.8v1.8c0 .2.037.071-.063.271-.7.7-1.57.991-2.47.991C2.868 11.662 1.3 10.2 1.3 8s1.704-3.623 3.504-3.623z",fill:b,fillRule:"nonzero"})}))}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.fill,d=a.size;a=a.xstyle;a=a===void 0?null:a;return j.jsx("svg",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.icon,k.fillGrey,a),{height:String(d)+"px",viewBox:"0 0 17 16",width:String(d)+"px",x:"0px",y:"0px",children:j.jsxs("g",{fillRule:"evenodd",children:[j.jsx("circle",{cx:"5.5",cy:"5.5",fill:"none",r:"1"}),j.jsx("circle",{cx:"11.5",cy:"4.5",fill:"none",r:"1"}),j.jsx("path",{d:"M5.3 9c-.2.1-.4.4-.3.7.4 1.1 1.2 1.9 2.3 2.3h.2c.2 0 .4-.1.5-.3.1-.3 0-.5-.3-.6-.8-.4-1.4-1-1.7-1.8-.1-.2-.4-.4-.7-.3z",fill:"none"}),j.jsx("path",{d:"M10.4 13.1c0 .9-.4 1.6-.9 2.2 4.1-1.1 6.8-5.1 6.5-9.3-.4.6-1 1.1-1.8 1.5-2 1-3.7 3.6-3.8 5.6z",fill:b}),j.jsx("path",{d:"M2.5 13.4c.1.8.6 1.6 1.3 2 .5.4 1.2.6 1.8.6h.6l.4-.1c1.6-.4 2.6-1.5 2.7-2.9.1-2.4 2.1-5.4 4.5-6.6 1.3-.7 1.9-1.6 1.9-2.8l-.2-.9c-.1-.8-.6-1.6-1.3-2-.7-.5-1.5-.7-2.4-.5L3.6 1.5C1.9 1.8.7 3.4 1 5.2l1.5 8.2zm9-8.9c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1zm-3.57 6.662c.3.1.4.4.3.6-.1.3-.3.4-.5.4h-.2c-1-.4-1.9-1.3-2.3-2.3-.1-.3.1-.6.3-.7.3-.1.5 0 .6.3.4.8 1 1.4 1.8 1.7zM5.5 5.5c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1z",fill:b,fillRule:"nonzero"})]})}))}b.displayName=b.name+" [from "+f.id+"]";function e(a){var b=a.fill,d=a.size;a=a.xstyle;a=a===void 0?!1:a;var e=b==null?"xsrhx6k":void 0,f=b==null?"x1dmfqyo":void 0;return j.jsx("svg",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.icon,a),{height:String(d)+"px",viewBox:"0 -1 17 17",width:String(d)+"px",children:j.jsxs("g",{fill:"none",fillRule:"evenodd",children:[j.jsx("path",{className:e,d:"M2.882 13.13C3.476 4.743 3.773.48 3.773.348L2.195.516c-.7.1-1.478.647-1.478 1.647l1.092 11.419c0 .5.2.9.4 1.3.4.2.7.4.9.4h.4c-.6-.6-.727-.951-.627-2.151z",fill:b}),j.jsx("circle",{className:e,cx:"8.5",cy:"4.5",fill:b,r:"1.5"}),j.jsx("path",{className:e,d:"M14 6.2c-.2-.2-.6-.3-.8-.1l-2.8 2.4c-.2.1-.2.4 0 .6l.6.7c.2.2.2.6-.1.8-.1.1-.2.1-.4.1s-.3-.1-.4-.2L8.3 8.3c-.2-.2-.6-.3-.8-.1l-2.6 2-.4 3.1c0 .5.2 1.6.7 1.7l8.8.6c.2 0 .5 0 .7-.2.2-.2.5-.7.6-.9l.6-5.9L14 6.2z",fill:b}),j.jsx("path",{className:f,d:"M13.9 15.5l-8.2-.7c-.7-.1-1.3-.8-1.3-1.6l1-11.4C5.5 1 6.2.5 7 .5l8.2.7c.8.1 1.3.8 1.3 1.6l-1 11.4c-.1.8-.8 1.4-1.6 1.3z",stroke:b,strokeLinecap:"round",strokeLinejoin:"round"})]})}))}e.displayName=e.name+" [from "+f.id+"]";function l(a){var b=a.fill,d=a.isRotated;d=d===void 0?!1:d;a=a.size;return j.jsx("svg",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.icon,k.moreActionsIcon,k.fillGrey,d?k.rotated:k.notRotated),{height:String(a)+"px",viewBox:"0 0 24 24",width:String(a)+"px",children:j.jsxs("g",{fillRule:"evenodd",children:[j.jsx("polygon",{fill:"none",points:"-6,30 30,30 30,-6 -6,-6 "}),j.jsx("path",{d:"m18,11l-5,0l0,-5c0,-0.552 -0.448,-1 -1,-1c-0.5525,0 -1,0.448 -1,1l0,5l-5,0c-0.5525,0 -1,0.448 -1,1c0,0.552 0.4475,1 1,1l5,0l0,5c0,0.552 0.4475,1 1,1c0.552,0 1,-0.448 1,-1l0,-5l5,0c0.552,0 1,-0.448 1,-1c0,-0.552 -0.448,-1 -1,-1m-6,13c-6.6275,0 -12,-5.3725 -12,-12c0,-6.6275 5.3725,-12 12,-12c6.627,0 12,5.3725 12,12c0,6.6275 -5.373,12 -12,12",fill:b})]})}))}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.fill,d=a.size;a=a.xstyle;a=a===void 0?!1:a;var e=b==null?"xsrhx6k":void 0;return j.jsx("svg",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.icon,a),{height:String(d)+"px",viewBox:"0 0 38 38",width:String(d)+"px",children:j.jsx("g",{fill:"none",fillRule:"evenodd",children:j.jsx("g",{transform:"translate(-893.000000, -701.000000)",children:j.jsx("g",{transform:"translate(709.000000, 314.000000)",children:j.jsx("g",{children:j.jsx("path",{className:e,d:"M210.5,405 C209.121,405 208,403.879 208,402.5 C208,401.121 209.121,400 210.5,400 C211.879,400 213,401.121 213,402.5 C213,403.879 211.879,405 210.5,405 M212.572,411.549 C210.428,413.742 206.938,415 203,415 C199.062,415 195.572,413.742 193.428,411.549 C192.849,410.956 192.859,410.007 193.451,409.428 C194.045,408.85 194.993,408.859 195.572,409.451 C197.133,411.047 199.909,412 203,412 C206.091,412 208.867,411.047 210.428,409.451 C211.007,408.859 211.956,408.85 212.549,409.428 C213.141,410.007 213.151,410.956 212.572,411.549 M195.5,400 C196.879,400 198,401.121 198,402.5 C198,403.879 196.879,405 195.5,405 C194.121,405 193,403.879 193,402.5 C193,401.121 194.121,400 195.5,400 M203,387 C192.523,387 184,395.523 184,406 C184,416.477 192.523,425 203,425 C213.477,425 222,416.477 222,406 C222,395.523 213.477,387 203,387",fill:b})})})})})}))}m.displayName=m.name+" [from "+f.id+"]";g.Gif=a;g.Sticker=b;g.Photo=e;g.MoreActions=l;g.Emoji=m}),98);
__d("XComposerPhotoUploaderImmediate",["Promise","XComposerPhotoUploader","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h;a={load:function(){return(h||(h=b("Promise"))).resolve(c("XComposerPhotoUploader"))},preload:c("emptyFunction")};g["default"]=a}),98);
__d("XmaEventsE2eeFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1399");b=d("FalcoLoggerInternal").create("xma_events_e2ee",a);e=b;g["default"]=e}),98);
__d("useAttachmentMAWNoop",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return}f["default"]=a}),66);
__d("useCSChatTypingIndicatorQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6320089934777152"}),null);
__d("useCSChatTypingIndicatorQuery.graphql",["useCSChatTypingIndicatorQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"thread_id"},{defaultValue:null,kind:"LocalArgument",name:"use_support_user"}],c=[{alias:null,args:[{kind:"Variable",name:"thread_id",variableName:"thread_id"},{kind:"Variable",name:"use_support_user",variableName:"use_support_user"}],concreteType:"XFBCSChatTypingIndicator",kind:"LinkedField",name:"xfb_cs_chat_typing_indicator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_agent_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_action",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useCSChatTypingIndicatorQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useCSChatTypingIndicatorQuery",selections:c},params:{id:b("useCSChatTypingIndicatorQuery_facebookRelayOperation"),metadata:{live:{polling_interval:5e3}},name:"useCSChatTypingIndicatorQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useCSChatTypingIndicatorQuery",["CometRelay","useCSChatTypingIndicatorQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("useCSChatTypingIndicatorQuery.graphql"),{thread_id:a,use_support_user:!1});return a}g["default"]=a}),98);
__d("useIsAdsAIChat",["AdsAIMessengerUtils","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useMemo;function a(a){var b=(h||(h=c("useReStore")))(),e=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.tables.participants,["contactId"]).getKeyRange(a)},[b,a],f.id+":23"),g=j(function(){return e.some(function(a){return d("AdsAIMessengerUtils").isAdsAIParticipant(a.contactId)})},[e]);return g}g["default"]=a}),98);
__d("useMAWSeparateReadsSelectorArraysLoggerNoop",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d,e){return}f["default"]=a}),66);
__d("useMAWSeparateReadsSelectorObjectLoggerNoop",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){return}f["default"]=a}),66);
__d("useMAWToggleSecurePinMessage",["I64","LSFactory","LSOptimisticSetOrUnsetPinnedMessageStoredProcedure","LSPinnedMessageState","MWPBumpEntityKey","MessengerWebUXLogger","ReQL","ServerTime","asyncToGeneratorRuntime","react","useAsyncReStore","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useCallback;function a(a,e){var g=c("useAsyncReStore")(),h=c("useMWPIsMessagePinned")(a),k=a.offlineThreadingId,l=a.threadKey,m=d("ServerTime").getMillis(),n=c("MessengerWebUXLogger").useInteractionLogger();a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield g),b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads,["threadType"]).getKeyRange(l)));yield a.runInTransaction(function(a){var f=h?c("LSPinnedMessageState").NOT_PINNED:c("LSPinnedMessageState").PINNED,g=h?"unpin_message":"pin_message",j=h?"unpin":"pin";e==="message_dot_menu"?n==null?void 0:n({eventName:g,threadKey:l,threadType:b==null?void 0:b.threadType}):j==="unpin"&&e==="pinned_message_list_dot_menu"&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_pinned_messages","unpin");return c("LSOptimisticSetOrUnsetPinnedMessageStoredProcedure")(c("LSFactory")(a),{offlineThreadingId:k,state:(i||(i=d("I64"))).of_int32(f),threadKey:l,timestampMs:i.of_int32(m)})},"readwrite",void 0,void 0,f.id+":51")});return function(){return a.apply(this,arguments)}}();return j(a,[g,h,l,m,k,e,n])}g["default"]=a}),98);
__d("useVideoPlayerHasStartedSeekingSinceLastPlay",["VideoPlayerHooks","createVideoStateHook","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect;b=d("createVideoStateHook").createVideoStateHook(null);var k=b.stateHook;function a(){var a=k(!1),b=a[0],c=a[1],e=(i||(i=d("VideoPlayerHooks"))).useSeeking(),f=i.usePlaying();j(function(){e&&!f&&c(!0),f&&c(!1)},[f,e,c]);return b}g["default"]=a}),98);
__d("useMWVideoPlayerBigPlayButtonOverlay.react",["MWVideoPlayerPlayButton.react","VideoPlayerHooks","react","useVideoPlayerHasStartedPlayingAtLeastOnce","useVideoPlayerHasStartedSeekingSinceLastPlay"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useCallback;function a(a){a=a===void 0?{}:a;var b=a.buttonSize;b=b===void 0?"large":b;var e=a.forceVisible,f=a.overrideInteraction,g=a.shouldUnmute;a=(i||(i=d("VideoPlayerHooks"))).usePaused();var h=i.useEnded(),l=c("useVideoPlayerHasStartedPlayingAtLeastOnce")(),m=c("useVideoPlayerHasStartedSeekingSinceLastPlay")(),n=i.useLastMuteReason(),o=i.useController(),p=k(function(){o.play("user_initiated"),g===!0&&n!=="user_initiated"&&o.setMuted(!1,"product_initiated")},[o,n,g]);f=f!=null?f.handler:p;p=e===!0||e===!1?e:!l&&a;e=j.jsx(c("MWVideoPlayerPlayButton.react"),{isVisible:p,onClick:f,size:b==="small"?"SMALL":"LARGE",type:h&&!m?"REPLAY":"PLAY"});return{bigPlayButtonElement:e,bigPlayButtonIsVisible:p}}g["default"]=a}),98);