;/*FB_PKG_DELIM*/

__d("MQTTRequestStreamClient",["BladeRunnerClient","MQTTRequestStreamUtils","Promise","RequestStreamTransport"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(){}var e=a.prototype;e.createStream=function(a,e,f,g,i){typeof e!=="string"&&e!=null?i=new TextDecoder().decode(e):i=e;e=new(c("BladeRunnerClient"))(null,d("RequestStreamTransport").RequestStreamTransport.WEB_RS_MQTT).createStream(a,i,d("MQTTRequestStreamUtils").convertToBRHandler(g),f||{requestId:"UNKNOWN"});return(h||(h=b("Promise"))).resolve(e)};return a}();g["default"]=a}),98);
__d("MQTTRequestStreamDeferredClient",["Promise","nullthrows","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(){this.$1=null}var d=a.prototype;d.createStream=function(a,b,d,e,f){this.$2();return c("nullthrows")(this.$1).then(function(c){return c.createStream(a,b,d,e,f)})};d.$2=function(){this.$1==null&&(this.$1=new(h||(h=b("Promise")))(function(a){c("requireDeferred")("MQTTRequestStreamClient").__setRef("MQTTRequestStreamDeferredClient").onReady(function(b){a(new b())})}))};return a}();d=new a();g["default"]=d}),98);
__d("RtiRequestStreamPulsarClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1745999");b=d("FalcoLoggerInternal").create("rti_request_stream_pulsar_client",a);e=b;g["default"]=e}),98);
__d("PulsarLogger",["RtiRequestStreamPulsarClientFalcoEvent"],(function(a,b,c,d,e,f,g){a=function(){function a(){}var b=a.prototype;b.log=function(a,b){c("RtiRequestStreamPulsarClientFalcoEvent").log(function(){return{test_id:b.testId,request_id:b.requestId,test_name:a.testName,test_result:b.testResult,failure_reason:b.failureReason,transport:a.transport,payload_interval_ms:a.payloadIntervalMs.toString(),subscribe_issued:b.subscribeIssued,subscribe_retry_count:b.subscribeRetryCount.toString(),subscribe_success:b.subscribeSuccess,subscribe_latency_ms:b.subscribeLatencyMs.toString(),subscribe_timeout_interval_ms:a.timeoutIntervalMs.toString(),publish_timeout_interval_ms:b.publishTimeoutIntervalMs.toString(),num_flow_status_started:b.numFlowStatusStarted.toString(),num_flow_status_accepted:b.numFlowStatusAccepted.toString(),num_flow_status_stopped:b.numFlowStatusStopped.toString(),num_payloads_expected:a.numPayloadsExpected.toString(),num_payloads_received:b.numPayloadsReceived.toString(),num_amendment_expected:b.numAmendExpected.toString(),num_amendment_sent:b.numAmendSent.toString(),num_amendment_ack:b.numAmendAcked.toString(),test_duration_ms:b.testDurationMs.toString(),test_end_time_ms:b.testEndTimeMs.toString()}})};return a}();b=new a();g.pulsarLogger=b}),98);
__d("PulsarTestTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({INIT_REQUEST_ERROR:"Request error",INIT_REQUEST_TIMEOUT:"Request timeout",PAYLOAD_PUBLISH_TIMEOUT:"Publish timeout",PAYLOAD_INTEGRITY_CHECK:"Payload integrity check failure",PAYLOAD_OUT_OF_ORDER:"Payload is delivered out of order",STREAM_TERMINATE:"Stream terminate",AMEND_REQUEST_TIMEOUT:"Amend timeout",AMEND_ACK_TIMEOUT:"Amend ack timeout",TEST_TIME_OUT:"Test timeout"});c=b("$InternalEnum").Mirrored(["INITIALIZED","REQUESTING","STARTED","SUCCESS","FAILURE","ABORTED"]);f.PulsarTestFailureReason=a;f.PulsarTestState=c}),66);
__d("PulsarTestUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){try{a=JSON.parse(a);a=a.payload||"";return a.length===b}catch(a){return!1}}function b(a){return a<2?"":new Array(Math.floor(a/2)+1).join("a")}f.payloadIntegrityCheck=a;f.genStringOfSize=b}),66);
__d("PulsarTest",["Deferred","PulsarTestTypes","PulsarTestUtils","RequestStreamCommonRequestStreamCommonTypes","RequestStreamHandler","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){var e=this;this.$12=function(a){if(e.$18())return;window.clearTimeout(e.$7);e.$7=null;e.$5.lastSeenError=a.message;e.$5.numRetries--;e.$9={succeeded:!1,failureReason:d("PulsarTestTypes").PulsarTestFailureReason.STREAM_TERMINATE};e.$19()};this.$1=a;this.$2=b;this.$1.numAmends===0&&(this.$8={succeeded:!0});this.$1.numPayloadsExpected===0&&(this.$9={succeeded:!0});this.$4=d("PulsarTestTypes").PulsarTestState.INITIALIZED;this.$5={numPayloadReceived:0,numRequests:0,numRequestsLanded:0,numRetries:0,numFlowStatusAccepted:0,numFlowStatusStarted:0,numFlowStatusStopped:0,numAmendSent:0,numAmendAcked:0,testStartTimestampMs:Date.now(),initialRequestSentTimestampMs:0,initialRequestLatencyMs:0,testEndTimestampMs:0,publishTimeoutIntervalMs:this.$1.timeoutIntervalMs+this.$1.payloadIntervalMs,failureReason:null,lastSeenError:null};this.$6=new(c("Deferred"))()}var e=a.prototype;e.getState=function(){return this.$4};e.start=function(a){var e=this,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:if(!(this.$4!==d("PulsarTestTypes").PulsarTestState.INITIALIZED)){g.next=2;break}return g.abrupt("return",this.$6.getPromise());case 2:g.prev=2;g.next=5;return b("regeneratorRuntime").awrap(this.$2.createStream({method:"Pulsar",test_id:a},this.$10(),babelHelpers["extends"]({},this.$1.instrumentationData,{forceLogContext:"pulsar"}),new(c("RequestStreamHandler"))({onData:this.$11.bind(this),onTermination:this.$12.bind(this),onFlowStatus:this.$13.bind(this),onLog:this.$14.bind(this)}),babelHelpers["extends"]({},this.$1.rsOptions)));case 5:this.$3=g.sent;this.$4=d("PulsarTestTypes").PulsarTestState.REQUESTING;this.$5.numRequests++;this.$5.initialRequestSentTimestampMs=Date.now();this.$7=window.setTimeout(function(){e.$15(d("PulsarTestTypes").PulsarTestFailureReason.INIT_REQUEST_TIMEOUT)},this.$1.timeoutIntervalMs);g.next=12;return b("regeneratorRuntime").awrap((f=this.$3)==null?void 0:f.start());case 12:g.next=17;break;case 14:g.prev=14,g.t0=g["catch"](2),this.$6.isSettled()||(this.$4=d("PulsarTestTypes").PulsarTestState.FAILURE,this.$5.failureReason=d("PulsarTestTypes").PulsarTestFailureReason.INIT_REQUEST_ERROR,this.$16(g.t0));case 17:return g.abrupt("return",this.$6.getPromise());case 18:case"end":return g.stop()}},null,this,[[2,14]])};e.$11=function(a){this.$4===d("PulsarTestTypes").PulsarTestState.STARTED&&this.$17(a)};e.$14=function(a){};e.$13=function(a){switch(a){case d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Accepted:this.$5.numFlowStatusAccepted++;break;case d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started:this.$5.numFlowStatusStarted++;this.$20();break;case d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Stopped:this.$5.numFlowStatusStopped++;this.$5.lastSeenError="Mid hop retry";this.$5.numRetries++;break}};e.$20=function(){if(this.$4!==d("PulsarTestTypes").PulsarTestState.REQUESTING)return;window.clearTimeout(this.$7);this.$7=null;this.$4=d("PulsarTestTypes").PulsarTestState.STARTED;this.$5.numRequestsLanded++;this.$5.initialRequestLatencyMs=Date.now()-this.$5.initialRequestSentTimestampMs;this.$21();this.$22()};e.$21=function(){var a=this;this.$7=window.setTimeout(function(){a.$15(d("PulsarTestTypes").PulsarTestFailureReason.PAYLOAD_PUBLISH_TIMEOUT)},this.$5.publishTimeoutIntervalMs)};e.$22=function(){var a=this;for(var b=1;b<=this.$1.numAmends;b++)window.setTimeout(function(){var b;a.$5.numAmendSent++;var c=JSON.stringify({processing_delay:a.$1.amendProcessingDelayMs,content:d("PulsarTestUtils").genStringOfSize(a.$1.amendPayloadSizeBytes)});(b=a.$3)==null?void 0:b.amendWithAck(c).then(function(b){b?(a.$5.numAmendAcked++,a.$5.numAmendAcked===a.$1.numAmends&&(a.$8={succeeded:!0},a.$19())):(a.$5.lastSeenError="amendWithAck returned false",a.$8={succeeded:!1,failureReason:d("PulsarTestTypes").PulsarTestFailureReason.AMEND_ACK_TIMEOUT},a.$19())})["catch"](function(b){a.$5.lastSeenError=(b=b==null?void 0:b.message)!=null?b:"null message";a.$8={succeeded:!1,failureReason:d("PulsarTestTypes").PulsarTestFailureReason.AMEND_ACK_TIMEOUT};a.$19()})},b*this.$1.amendIntervalMs)};e.$17=function(a){window.clearTimeout(this.$7);this.$7=null;this.$5.numPayloadReceived++;if(!d("PulsarTestUtils").payloadIntegrityCheck(a,this.$1.payloadSize)){this.$9={succeeded:!1,failureReason:d("PulsarTestTypes").PulsarTestFailureReason.PAYLOAD_INTEGRITY_CHECK};this.$19();return}this.$5.numPayloadReceived>=this.$1.numPayloadsExpected?(this.$9={succeeded:!0},this.$19()):this.$21()};e.$15=function(a){if(this.$18())return;this.$5.failureReason=a;this.$9={succeeded:!1,failureReason:a};this.$19()};e.$18=function(){return this.$4===d("PulsarTestTypes").PulsarTestState.SUCCESS||this.$4===d("PulsarTestTypes").PulsarTestState.ABORTED||this.$4===d("PulsarTestTypes").PulsarTestState.FAILURE};e.$23=function(){this.$5.testEndTimestampMs=Date.now(),this.$6.resolve(this.$5),this.$24()};e.$16=function(a){this.$6.reject(a),this.$24()};e.$24=function(){var a;this.$7!==null&&(window.clearTimeout(this.$7),this.$7=null);(a=this.$3)==null?void 0:a.cancel()};e.$10=function(){var a={number_of_payloads:this.$1.numPayloadsExpected,number_of_amends:this.$1.numAmends,payload_size_in_bytes:this.$1.payloadSize,time_interval_in_seconds:this.$1.payloadIntervalMs/1e3,test_name:this.$1.testName,time_span_mode:"fixed",publish_mode:"direct",close_on_finish:this.$1.numAmends===0};return JSON.stringify({input:a})};e.$19=function(){if(this.$8!=null&&this.$9!=null)if(this.$8.succeeded&&this.$9.succeeded)this.$4=d("PulsarTestTypes").PulsarTestState.SUCCESS,this.$23();else{var a;this.$4=d("PulsarTestTypes").PulsarTestState.FAILURE;this.$5.failureReason=(a=(a=this.$9.failureReason)!=null?a:this.$8.failureReason)!=null?a:null;this.$23()}};return a}();g["default"]=a}),98);
__d("TestStateMachine",["$InternalEnum","BladeRunnerLogger","PulsarLogger"],(function(a,b,c,d,e,f,g){var h=b("$InternalEnum").Mirrored(["INITIAL","START","REQUEST_LANDED","SUCCESS","FAILURE","ABORT"]),i="Request timeout",j="Publish timeout",k="Payload integrity check failure",l="Stream terminate";a=function(){function a(a,b,c){this.$1=b,this.$2=c,this.$3=a,this.$4=h.INITIAL,this.$5=0,this.$6=0,this.$7=0,this.$8=0,this.$9=Date.now(),this.$13=0,this.$14=0,this.$15=0,this.$16=0,this.$10=0,this.$11=0,this.$12=0,this.$20=null}var b=a.prototype;b.setStreamRef=function(a){this.$20=a};b.hasTestEnd=function(){return this.$4===h.SUCCESS||this.$4===h.ABORT||this.$4===h.FAILURE};b.updatePublishTimeoutIntervalMs=function(){this.$5==0&&(this.$16=this.$3.payloadIntervalMs),this.$16=this.$3.timeoutIntervalMs+this.$3.payloadIntervalMs};b.getFailureReason=function(){return this.$17!=null?this.$18!=null?this.$17+" lastSeenError: "+this.$18:this.$17:""};b.logTestResultAndCancel=function(){this.$12=Date.now(),c("BladeRunnerLogger").info("Pulsar test concluded. Number of expected payloads = "+this.$3.numPayloadsExpected+" , Number of received payload = "+this.$5+" , Test Result = "+this.$4+", Failure reason: "+(this.$17!=null?this.$17:"")),d("PulsarLogger").pulsarLogger.log(this.$3,{testId:this.$1,requestId:this.$2,testResult:this.hasTestEnd()?this.$4:"Unknown",numFlowStatusAccepted:this.$13,numFlowStatusStarted:this.$14,numFlowStatusStopped:this.$15,numPayloadsReceived:this.$5,publishTimeoutIntervalMs:this.$16,subscribeIssued:this.$6>0,subscribeRetryCount:this.$8,subscribeLatencyMs:this.$11,subscribeSuccess:this.$7>0,testDurationMs:this.$12-this.$9,testEndTimeMs:this.$12,numAmendAcked:0,numAmendSent:0,numAmendExpected:0,failureReason:this.$4===h.SUCCESS?"":this.getFailureReason()}),this.$20&&(this.$20.cancel(),this.$20=null)};b.onStart=function(){var a=this;c("BladeRunnerLogger").info("Pulsar starts testId:"+this.$1+"requestId: "+this.$2);if(this.$4!==h.INITIAL){c("BladeRunnerLogger").warn("Drop Pulsar request");return}this.$4=h.START;this.$6++;this.$11==0&&(this.$10=Date.now());this.$19=window.setTimeout(function(){a.onTimeOut()},this.$3.timeoutIntervalMs)};b.onRequestLanded=function(){var a=this;c("BladeRunnerLogger").info("Pulsar request Landed");if(this.$4!==h.START){c("BladeRunnerLogger").warn("drop the request ack");return}window.clearTimeout(this.$19);this.updatePublishTimeoutIntervalMs();this.$4=h.REQUEST_LANDED;this.$7++;this.$11==0&&(this.$11=Date.now()-this.$10);this.$19=window.setTimeout(function(){a.onTimeOut()},this.$16)};b.onPayloadReceived=function(a){var b=this;c("BladeRunnerLogger").info("Pulsar payload received");if(this.$4!==h.REQUEST_LANDED){c("BladeRunnerLogger").warn("drop the received payload");return}window.clearTimeout(this.$19);this.$5++;this.updatePublishTimeoutIntervalMs();if(!this.payloadIntegrityCheck(a)){this.$17=k;this.$4=h.FAILURE;this.logTestResultAndCancel();return}this.$3.numPayloadsExpected<=this.$5?(this.$4=h.SUCCESS,this.logTestResultAndCancel()):this.$19=window.setTimeout(function(){b.onTimeOut()},this.$16)};b.onTerminate=function(a){c("BladeRunnerLogger").info("Pulsar on terminate");if(this.hasTestEnd()){c("BladeRunnerLogger").info("stream gets terminated after test ends "+a);return}window.clearTimeout(this.$19);this.$4=h.FAILURE;this.$17=l;this.$18=a;this.$8--;this.logTestResultAndCancel()};b.onRetry=function(){c("BladeRunnerLogger").info("Pulsar on retry"),this.$18="Mid hop retry",this.$8++};b.onFlowStatusAccepted=function(){this.$13++};b.onFlowStatusStarted=function(){c("BladeRunnerLogger").info("Pulsar on flow status started"),this.$14++};b.onFlowStatusStopped=function(){this.$15++};b.onTimeOut=function(){c("BladeRunnerLogger").info("Pulsar timeout");if(this.hasTestEnd()){c("BladeRunnerLogger").warn("Timer not stopped after test ends");return}this.$4===h.REQUEST_LANDED?this.$17=j:this.$17=i;this.$4=h.FAILURE;this.logTestResultAndCancel()};b.payloadIntegrityCheck=function(a){a=JSON.parse(a);a=a.payload||"";return a.length==this.$3.payloadSize+(this.$7-1)};return a}();g["default"]=a}),98);
__d("PulsarClient",["$InternalEnum","BladeRunnerDeferredClient","BladeRunnerLogger","BladeRunnerStreamHandler","BladeRunnerStreamStatus","DGWRequestStreamDeferredClient","MQTTRequestStreamDeferredClient","Promise","PulsarLogger","PulsarTest","PulsarTestTypes","Random","RequestStreamHandler","RequestStreamTransport","TestStateMachine","WebStorage","qex","regeneratorRuntime","uuidv4"],(function(a,b,c,d,e,f,g){var h,i,j=["facebook.com","workplace.com","meta.com"],k="web_pulsar_qe",l=b("$InternalEnum").Mirrored(["REQUEST_STREAM"]);a=function(){function a(){var a;this.$1=l.REQUEST_STREAM;this.$2="";this.$3=[];this.$1=l.REQUEST_STREAM;this.$2=(a=c("qex")._("467"))!=null?a:k;a=(a=c("qex")._("470"))!=null?a:d("RequestStreamTransport").RequestStreamTransport.WEB_BR_MQTT;this.$3=[];for(var a=a.split(","),b=Array.isArray(a),e=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(b){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;switch(f){case d("RequestStreamTransport").RequestStreamTransport.WEB_BR_MQTT:this.$3.push(d("RequestStreamTransport").RequestStreamTransport.WEB_BR_MQTT);break;case d("RequestStreamTransport").RequestStreamTransport.WEB_RS_MQTT:this.$3.push(d("RequestStreamTransport").RequestStreamTransport.WEB_RS_MQTT);break;case d("RequestStreamTransport").RequestStreamTransport.WEB_RS_STARGATE:this.$3.push(d("RequestStreamTransport").RequestStreamTransport.WEB_RS_STARGATE);break;default:c("BladeRunnerLogger").info("Pulsar test unknown transport");break}}this.$4=(f=c("qex")._("482"))!=null?f:0;this.$4!==0&&this.$4<10&&(this.$4=10);this.$5=(e=c("qex")._("486"))!=null?e:2;this.$6=(b=c("qex")._("505"))!=null?b:100;this.$7=(a=c("qex")._("539"))!=null?a:1e5;this.$8=(f=c("qex")._("551"))!=null?f:1e4;this.$9=(e=c("qex")._("583"))!=null?e:1;this.$10=(b=c("qex")._("584"))!=null?b:0;this.$11=(a=c("qex")._("629"))!=null?a:0;this.$14=(f=c("qex")._("630"))!=null?f:"";this.$17=(e=c("qex")._("631"))!=null?e:!1;this.$12=(b=c("qex")._("163"))!=null?b:0;this.$13=(a=c("qex")._("164"))!=null?a:100;this.$15=(f=c("qex")._("1695"))!=null?f:5;this.$16=(e=c("qex")._("1697"))!=null?e:3e3}var e=a.prototype;e.startPulsarTest=function(){try{if(this.$18()){(i||(i=c("WebStorage"))).setItemGuarded(i.getSessionStorage(),"pulsarTestConcurrency",this.$9.toString());return this.$19()}c("BladeRunnerLogger").info("Test did not run");return(h||(h=b("Promise"))).resolve([])}catch(a){c("BladeRunnerLogger").info("Pulsar test failed with exception msg: "+a.message);return(h||(h=b("Promise"))).resolve([])}};e.$18=function(){var a=window.location.hostname.split(".").slice(-2).join(".");if(!c("Random").coinflip(this.$4)||!j.includes(a))return!1;a=(i||(i=c("WebStorage"))).getSessionStorageForRead();return a&&a.getItem("pulsarTestConcurrency")?!1:!0};e.$19=function(){var a=[],e=c("uuidv4")(),f={testName:this.$2,transport:"WEB_RS_STARGATE",numPayloadsExpected:this.$5,payloadIntervalMs:this.$7,payloadSize:this.$6,timeoutIntervalMs:this.$8,amendProcessingDelayMs:this.$12,amendPayloadSizeBytes:this.$13,amendIntervalMs:this.$10,numAmends:this.$11,amendRetryCount:this.$15,amendTimeoutMS:this.$16,rsOptions:{}};for(var g=0;g<this.$9;g++){var i=e+"_"+g.toString();for(var j=this.$3,k=Array.isArray(j),l=0,j=k?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(k){if(l>=j.length)break;m=j[l++]}else{l=j.next();if(l.done)break;m=l.value}m=m;f.transport=m;m===d("RequestStreamTransport").RequestStreamTransport.WEB_BR_MQTT?a.push(this.$20(e,i,babelHelpers["extends"]({},f,{instrumentationData:{requestId:i,requestLogContext:this.$14}}))):a.push(this.$21(m,e,i,babelHelpers["extends"]({},f,{instrumentationData:{requestId:i,requestLogContext:this.$14}})))}}return(h||(h=b("Promise"))).allSettled(a).then(function(a){return a.map(function(a){return a.status==="fulfilled"})})};e.$20=function(a,e,f){var g,h,i;return b("regeneratorRuntime").async(function(b){while(1)switch(b.prev=b.next){case 0:c("BladeRunnerLogger").info("Running MQTT pulsar test");g=c("BladeRunnerDeferredClient");h=new(c("TestStateMachine"))(f,a,e);i=new(c("BladeRunnerStreamHandler"))(function(a){h.onPayloadReceived(a)},null,function(a){switch(a){case d("BladeRunnerStreamStatus").StreamStatus.ACCEPTED:h.onFlowStatusAccepted();break;case d("BladeRunnerStreamStatus").StreamStatus.STARTED:h.onFlowStatusStarted();h.onRequestLanded();break;case d("BladeRunnerStreamStatus").StreamStatus.STOPPED:h.onFlowStatusStopped();h.onRetry();break;case d("BladeRunnerStreamStatus").StreamStatus.REJECTED:h.onTerminate("StreamUpdate: REJECTED");break;case d("BladeRunnerStreamStatus").StreamStatus.CLOSED:h.onTerminate("StreamUpdate: CLOSED");break;default:c("BladeRunnerLogger").info("Pulsar Received statusUpdate unknown?")}},function(a){c("BladeRunnerLogger").info(" Pulsar Received log: "+a)},function(a){c("BladeRunnerLogger").info("Pulsar Received batch: "+JSON.stringify(a))});h.onStart();g.requestStream({method:"Pulsar",test_id:a},this.$22(f),i,{requestId:e,forceLogContext:"pulsar"});return b.abrupt("return",!0);case 7:case"end":return b.stop()}},null,this)};e.$21=function(a,e,f,g){var h,i,j,k,l,m;return b("regeneratorRuntime").async(function(n){while(1)switch(n.prev=n.next){case 0:c("BladeRunnerLogger").info("Running SG pulsar test");h=a===d("RequestStreamTransport").RequestStreamTransport.WEB_RS_MQTT?c("MQTTRequestStreamDeferredClient"):c("DGWRequestStreamDeferredClient");i=null;if(!this.$17){n.next=7;break}n.next=6;return b("regeneratorRuntime").awrap(this.$23(h));case 6:i=n.sent;case 7:j=new(c("PulsarTest"))(g,h);n.prev=8;n.next=11;return b("regeneratorRuntime").awrap(j.start(e));case 11:k=n.sent;l=j.getState();this.$24(e,f,g,l,k);c("BladeRunnerLogger").info("Pulsar test finished.");n.next=21;break;case 17:n.prev=17;n.t0=n["catch"](8);c("BladeRunnerLogger").info("Pulsar test failed with exception msg: "+n.t0.message);return n.abrupt("return",!1);case 21:n.prev=21;(m=i)==null?void 0:m.cancel();return n.finish(21);case 24:return n.abrupt("return",!0);case 25:case"end":return n.stop()}},null,this,[[8,17,21,24]])};e.$23=function(a){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(a.createStream({method:"Pulsar",test_id:"pulsar-prime-"+c("uuidv4")()},JSON.stringify({number_of_payloads:2,payload_size_in_bytes:1,time_interval_in_seconds:1e4,test_name:"pulsar-prime",time_span_mode:"fixed",publish_mode:"direct"}),null,new(c("RequestStreamHandler"))({onFlowStatus:function(){}})));case 2:d=e.sent;e.next=5;return b("regeneratorRuntime").awrap(d.start());case 5:return e.abrupt("return",d);case 6:case"end":return e.stop()}},null,this)};e.$24=function(a,b,c,e,f){d("PulsarLogger").pulsarLogger.log(c,{testId:a,requestId:b,testResult:e,numFlowStatusAccepted:f.numFlowStatusAccepted,numFlowStatusStarted:f.numFlowStatusStarted,numFlowStatusStopped:f.numFlowStatusStopped,numPayloadsReceived:f.numPayloadReceived,publishTimeoutIntervalMs:f.publishTimeoutIntervalMs,subscribeIssued:f.numRequests>0,subscribeRetryCount:f.numRetries,subscribeLatencyMs:f.initialRequestLatencyMs,subscribeSuccess:f.numRequestsLanded>0,testDurationMs:f.testEndTimestampMs-f.testStartTimestampMs,testEndTimeMs:f.testEndTimestampMs,numAmendSent:f.numAmendSent,numAmendAcked:f.numAmendAcked,numAmendExpected:c.numAmends,failureReason:e===d("PulsarTestTypes").PulsarTestState.SUCCESS?"":this.$25(f)})};e.$22=function(a){a={number_of_payloads:a.numPayloadsExpected,number_of_amends:a.numAmends,payload_size_in_bytes:a.payloadSize,time_interval_in_seconds:a.payloadIntervalMs/1e3,test_name:a.testName,time_span_mode:"fixed",publish_mode:"direct",close_on_finish:a.numAmends===0};return JSON.stringify({input:a})};e.$25=function(a){return a.failureReason!=null?a.lastSeenError!=null?a.failureReason+" lastSeenError: "+a.lastSeenError:a.failureReason:""};return a}();g["default"]=a}),98);
__d("PulsarClientSingleton",["PulsarClient"],(function(a,b,c,d,e,f,g){"use strict";a=new(c("PulsarClient"))();g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("ActorURI",["ActorURIConfig","URI"],(function(a,b,c,d,e,f,g){var h;function a(a,b){return new(h||(h=c("URI")))(a).addQueryData(c("ActorURIConfig").PARAMETER_ACTOR,b)}g.create=a;g.PARAMETER_ACTOR=c("ActorURIConfig").PARAMETER_ACTOR}),98);
__d("BUIMultiElementLayoutContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({groupID:null,getLayout:function(){}});c=b;g["default"]=c}),98);
__d("GeoPrivateMakeComponent",["cr:1641505","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");c("emptyFunction")(b("cr:1641505"));function a(a,b){b.displayName==null&&(b.displayName=a);return b}g.makeGeoComponent=a}),98);
__d("Keys",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({BACKSPACE:8,TAB:9,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE_BREAK:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,LEFT_WINDOW_KEY:91,RIGHT_WINDOW_KEY:92,SELECT_KEY:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,MULTIPLY:106,ADD:107,SUBTRACT:109,DECIMAL_POINT:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUM_LOCK:144,SCROLL_LOCK:145,SEMI_COLON:186,EQUAL_SIGN:187,COMMA:188,DASH:189,PERIOD:190,FORWARD_SLASH:191,GRAVE_ACCENT:192,OPEN_BRACKET:219,BACK_SLASH:220,CLOSE_BRAKET:221,SINGLE_QUOTE:222});f["default"]=a}),66);
__d("Popup",["isTruthy"],(function(a,b,c,d,e,f,g){function a(a,b,d,e){var f=[];c("isTruthy")(b)&&f.push("width="+b);c("isTruthy")(d)&&f.push("height="+d);var g=document.body;if(g!=null&&b!=null&&b!==0&&d!=null&&d!==0){var h="screenX"in window?window.screenX:window.screenLeft,i="screenY"in window?window.screenY:window.screenTop,j="outerWidth"in window?window.outerWidth:g.clientWidth;g="outerHeight"in window?window.outerHeight:g.clientHeight-22;h=Math.floor(h+(j-b)/2);j=Math.floor(i+(g-d)/2.5);f.push("left="+h);f.push("top="+j)}f.push("scrollbars");return window.open(a,e!=null&&e!==""?e:"_blank",f.join(","))}g.open=a}),98);
__d("QpActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744247");b=d("FalcoLoggerInternal").create("qp_action",a);e=b;g["default"]=e}),98);
__d("QpImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744249");b=d("FalcoLoggerInternal").create("qp_impression",a);e=b;g["default"]=e}),98);
__d("XControllerURIBuilder",["invariant","URI","gkx","isInternalFBURI"],(function(a,b,c,d,e,f,g,h){var i;a=function(){function a(a,b){this.$1={},this.$2=a,this.$3=b}var b=a.prototype;b.setInt=function(a,b){return this.__setParam(a,"Int",b)};b.setFBID=function(a,b){return this.__setParam(a,"FBID",b)};b.setFloat=function(a,b){return this.__setParam(a,"Float",b)};b.setString=function(a,b){return this.__setParam(a,"String",b)};b.setExists=function(a,b){b===!1&&(b=void 0);return this.__setParam(a,"Exists",b)};b.setBool=function(a,b){return this.__setParam(a,"Bool",b)};b.setBoolVector=function(a,b){return this.__setParam(a,"BoolVector",b)};b.setEnum=function(a,b){return this.__setParam(a,"Enum",b)};b.setPath=function(a,b){return this.__setParam(a,"Path",b)};b.setIntVector=function(a,b){return this.__setParam(a,"IntVector",b)};b.setIntKeyset=function(a,b){return this.__setParam(a,"IntKeyset",b)};b.setIntSet=function(a,b){return this.__setParam(a,"IntSet",b.join(","))};b.setFloatVector=function(a,b){return this.__setParam(a,"FloatVector",b)};b.setFloatSet=function(a,b){return this.__setParam(a,"FloatSet",b.join(","))};b.setStringVector=function(a,b){return this.__setParam(a,"StringVector",b)};b.setStringKeyset=function(a,b){return this.__setParam(a,"StringKeyset",b)};b.setStringSet=function(a,b){return this.__setParam(a,"StringSet",b)};b.setFBIDVector=function(a,b){return this.__setParam(a,"FBIDVector",b)};b.setFBIDSet=function(a,b){return this.__setParam(a,"FBIDSet",b)};b.setFBIDKeyset=function(a,b){return this.__setParam(a,"FBIDKeyset",b)};b.setEnumVector=function(a,b){return this.__setParam(a,"EnumVector",b)};b.setEnumSet=function(a,b){return this.__setParam(a,"EnumSet",b)};b.setEnumKeyset=function(a,b){return this.__setParam(a,"EnumKeyset",b)};b.setIntToIntMap=function(a,b){return this.__setParam(a,"IntToIntMap",b)};b.setIntToFloatMap=function(a,b){return this.__setParam(a,"IntToFloatMap",b)};b.setIntToStringMap=function(a,b){return this.__setParam(a,"IntToStringMap",b)};b.setIntToBoolMap=function(a,b){return this.__setParam(a,"IntToBoolMap",b)};b.setStringToIntMap=function(a,b){return this.__setParam(a,"StringToIntMap",b)};b.setStringToFloatMap=function(a,b){return this.__setParam(a,"StringToFloatMap",b)};b.setStringToStringMap=function(a,b){return this.__setParam(a,"StringToStringMap",b)};b.setStringToNullableStringMap=function(a,b){return this.__setParam(a,"StringToNullableStringMap",b)};b.setStringToBoolMap=function(a,b){return this.__setParam(a,"StringToBoolMap",b)};b.setStringToEnumMap=function(a,b){return this.__setParam(a,"StringToEnumMap",b)};b.setEnumToStringVectorMap=function(a,b){return this.__setParam(a,"EnumToStringVectorMap",b)};b.setEnumToStringMap=function(a,b){return this.__setParam(a,"EnumToStringMap",b)};b.setEnumToBoolMap=function(a,b){return this.__setParam(a,"EnumToBoolMap",b)};b.setEnumToEnumMap=function(a,b){return this.__setParam(a,"EnumToEnumMap",b)};b.setEnumToIntMap=function(a,b){return this.__setParam(a,"EnumToIntMap",b)};b.setEnumToFBIDVectorMap=function(a,b){return this.__setParam(a,"EnumToFBIDVectorMap",b)};b.setStringToIntDict=function(a,b){return this.__setParam(a,"StringToIntDict",b)};b.setStringToNullableIntDict=function(a,b){return this.__setParam(a,"StringToNullableIntDict",b)};b.setStringToFloatDict=function(a,b){return this.__setParam(a,"StringToFloatDict",b)};b.setStringToStringKeysetDict=function(a,b){return this.__setParam(a,"StringToStringKeysetDict",b)};b.setStringToNullableFloatDict=function(a,b){return this.__setParam(a,"StringToNullableFloatDict",b)};b.setStringToStringDict=function(a,b){return this.__setParam(a,"StringToStringDict",b)};b.setStringToNullableStringDict=function(a,b){return this.__setParam(a,"StringToNullableStringDict",b)};b.setStringToBoolDict=function(a,b){return this.__setParam(a,"StringToBoolDict",b)};b.setStringToEnumDict=function(a,b){return this.__setParam(a,"StringToEnumDict",b)};b.setEnumToIntDict=function(a,b){return this.__setParam(a,"EnumToIntDict",b)};b.setEnumToStringDict=function(a,b){return this.__setParam(a,"EnumToStringDict",b)};b.setHackType=function(a,b){return this.__setParam(a,"HackType",b)};b.setTypeAssert=function(a,b){return this.__setParam(a,"TypeAssert",b)};b.__validateRequiredParamsExistence=function(){for(var a in this.$3)!this.$3[a].required||Object.prototype.hasOwnProperty.call(this.$1,a)||h(0,903,a)};b.setParams=function(a){for(var b in a){this.__assertParamExists(b);var c=this.$3[b].type;this.__setParam(b,c,a[b])}return this};b.__assertParamExists=function(a){a in this.$3||h(0,37339,a)};b.__setParam=function(a,b,c){this.__assertParamExists(a);var d=this.$3[a].type,e={StringOrPFBID:"String",IntOrPFBID:"Int",FBIDOrPFBID:"FBID",PaymentLegacyAdAccountID:"Int"};e=e[d];d===b||e===b||h(0,37340,a,b,d);this.__setParamInt(a,c);return this};b.__setParamInt=function(a,b){this.$1[a]=b};b.getRequest_LEGACY_UNTYPED=function(a){return a.setReplaceTransportMarkers().setURI(this.getURI())};b.setPreviousActorIsPageVoice=function(a){this.__setParamInt("paipv",a?1:0);return this};b.getURI=function(){this.__validateRequiredParamsExistence();var a={},b="",d=/^(.*)?\{(\?)?(\*)?(.+?)\}(.*)?$/,e=this.$2.split("/"),f=!1;for(var g=0;g<e.length;g++){var j=e[g];if(j==="")continue;var k=d.exec(j);if(!k)b+="/"+j;else{j=k[2]==="?";var l=k[4],m=this.$3[l];m||h(0,11837,l,this.$2);if(j&&f)continue;if(this.$1[l]==null&&j){f=!0;continue}j=this.$1[l]!=null?this.$1[l]:m.defaultValue;j!=null||h(0,907,l);m=k[1]?k[1]:"";k=k[5]?k[5]:"";b+="/"+m+j+k;a[l]=!0}}this.$2.slice(-1)==="/"&&(b+="/");b===""&&(b="/");m=new(i||(i=c("URI")))(b);for(j in this.$1){k=this.$1[j];if(!a[j]&&k!=null){l=this.$3[j];m.addQueryData(j,l&&l.type==="Exists"?null:k)}}return m};b.getLookasideURI=function(){var a="lookaside.facebook.com";c("isInternalFBURI")((i||(i=c("URI"))).getRequestURI())?a="lookaside.internalfb.com":c("gkx")("21116")&&(a="lookaside.internmc.facebook.com");return this.getURI().setDomain(a).setProtocol("https")};a.create=function(b,c){return function(){return new a(b,c)}};return a}();a.prototype.getRequest=function(a){return this.getRequest_LEGACY_UNTYPED(a)};g["default"]=a}),98);
__d("XRequest",["invariant"],(function(a,b,c,d,e,f,g){var h=function a(b,c,d){var e;switch(b){case"Bool":e=c&&c!=="false"&&c!=="0"||!1;break;case"Int":e=c.toString();/-?\d+/.test(e)||g(0,11839,c);break;case"Float":e=parseFloat(c,10);isNaN(e)&&g(0,11840,c);break;case"FBID":e=c.toString();for(var f=0;f<e.length;++f){var h=e.charCodeAt(f);48<=h&&h<=57||g(0,11841,c)}break;case"String":e=c.toString();break;case"Enum":d===0?e=a("Int",c,null):d===1?e=a("String",c,null):d===2?e=c:g(0,5044,d);break;default:if(h=/^Nullable(\w+)$/.exec(b))c===null?e=null:e=a(h[1],c,d);else if(f=/^(\w+)Vector$/.exec(b)){!Array.isArray(c)?(e=c.toString(),e=e===""?[]:e.split(",")):e=c;var i=f[1];typeof i==="string"||g(0,5045);e=e.map(function(b){return a(i,b,d&&d.member)})}else if(h=/^(\w+)(Set|Keyset)$/.exec(b))!Array.isArray(c)?(e=c.toString(),e=e===""?[]:e.split(",")):e=c,e=e.reduce(function(a,b){a[b]=b;return a},{}),i=h[1],typeof i==="string"||g(0,5045),e=Object.keys(e).map(function(b){return a(i,e[b],d&&d.member)});else if(f=/^(\w+)To(\w+)Map$/.exec(b)){e={};var j=f[1],k=f[2];typeof j==="string"&&typeof k==="string"||g(0,5045);Object.keys(c).forEach(function(b){e[a(j,b,d&&d.key)]=a(k,c[b],d&&d.value)})}else g(0,11842,b)}return e};a=function(){function a(a,b,c){var d=this;this.$1=b;this.$2=babelHelpers["extends"]({},c.getQueryData());b=a.split("/").filter(function(a){return a});a=c.getPath().split("/").filter(function(a){return a});var e;for(var f=0;f<b.length;++f){var h=/^\{(\?)?(\*)?(\w+)\}$/.exec(b[f]);if(!h){b[f]===a[f]||g(0,5047,c.getPath());continue}var i=!!h[1],j=!!h[2];!j||f===b.length-1||g(0,11843,e);e=h[3];Object.prototype.hasOwnProperty.call(this.$1,e)||g(0,11844,e);this.$1[e].required?i&&g(0,5050,e):i||this.$1[e].defaultValue!=null||g(0,5057,e);a[f]&&(this.$2[e]=j?a.slice(f).join("/"):a[f])}Object.keys(this.$1).forEach(function(a){!d.$1[a].required||Object.prototype.hasOwnProperty.call(d.$2,a)||g(0,5051)})}var b=a.prototype;b.getExists=function(a){return this.$2[a]!==void 0};b.getBool=function(a){return this.$3(a,"Bool")};b.getInt=function(a){return this.$3(a,"Int")};b.getFloat=function(a){return this.$3(a,"Float")};b.getFBID=function(a){return this.$3(a,"FBID")};b.getString=function(a){return this.$3(a,"String")};b.getEnum=function(a){return this.$3(a,"Enum")};b.getOptionalInt=function(a){return this.$4(a,"Int")};b.getOptionalFloat=function(a){return this.$4(a,"Float")};b.getOptionalFBID=function(a){return this.$4(a,"FBID")};b.getOptionalString=function(a){return this.$4(a,"String")};b.getOptionalEnum=function(a){return this.$4(a,"Enum")};b.getIntVector=function(a){return this.$3(a,"IntVector")};b.getFloatVector=function(a){return this.$3(a,"FloatVector")};b.getFBIDVector=function(a){return this.$3(a,"FBIDVector")};b.getStringVector=function(a){return this.$3(a,"StringVector")};b.getEnumVector=function(a){return this.$3(a,"EnumVector")};b.getOptionalIntVector=function(a){return this.$4(a,"IntVector")};b.getOptionalFloatVector=function(a){return this.$4(a,"FloatVector")};b.getOptionalFBIDVector=function(a){return this.$4(a,"FBIDVector")};b.getOptionalStringVector=function(a){return this.$4(a,"StringVector")};b.getOptionalEnumVector=function(a){return this.$4(a,"EnumVector")};b.getIntSet=function(a){return this.$3(a,"IntSet")};b.getFBIDSet=function(a){return this.$3(a,"FBIDSet")};b.getFBIDKeyset=function(a){return this.$3(a,"FBIDKeyset")};b.getStringSet=function(a){return this.$3(a,"StringSet")};b.getEnumKeyset=function(a){return this.$3(a,"EnumKeyset")};b.getOptionalIntSet=function(a){return this.$4(a,"IntSet")};b.getOptionalFBIDSet=function(a){return this.$4(a,"FBIDSet")};b.getOptionalFBIDKeyset=function(a){return this.$4(a,"FBIDKeyset")};b.getOptionalStringSet=function(a){return this.$4(a,"StringSet")};b.getEnumToBoolMap=function(a){return this.$3(a,"EnumToBoolMap")};b.getEnumToEnumMap=function(a){return this.$3(a,"EnumToEnumMap")};b.getEnumToFloatMap=function(a){return this.$3(a,"EnumToFloatMap")};b.getEnumToIntMap=function(a){return this.$3(a,"EnumToIntMap")};b.getEnumToStringMap=function(a){return this.$3(a,"EnumToStringMap")};b.getIntToBoolMap=function(a){return this.$3(a,"IntToBoolMap")};b.getIntToEnumMap=function(a){return this.$3(a,"IntToEnumMap")};b.getIntToFloatMap=function(a){return this.$3(a,"IntToFloatMap")};b.getIntToIntMap=function(a){return this.$3(a,"IntToIntMap")};b.getIntToStringMap=function(a){return this.$3(a,"IntToStringMap")};b.getStringToBoolMap=function(a){return this.$3(a,"StringToBoolMap")};b.getStringToEnumMap=function(a){return this.$3(a,"StringToEnumMap")};b.getStringToFloatMap=function(a){return this.$3(a,"StringToFloatMap")};b.getStringToIntMap=function(a){return this.$3(a,"StringToIntMap")};b.getStringToStringMap=function(a){return this.$3(a,"StringToStringMap")};b.getOptionalEnumToBoolMap=function(a){return this.$4(a,"EnumToBoolMap")};b.getOptionalEnumToEnumMap=function(a){return this.$4(a,"EnumToEnumMap")};b.getOptionalEnumToFloatMap=function(a){return this.$4(a,"EnumToFloatMap")};b.getOptionalEnumToIntMap=function(a){return this.$4(a,"EnumToIntMap")};b.getOptionalEnumToStringMap=function(a){return this.$4(a,"EnumToStringMap")};b.getOptionalIntToBoolMap=function(a){return this.$4(a,"IntToBoolMap")};b.getOptionalIntToEnumMap=function(a){return this.$4(a,"IntToEnumMap")};b.getOptionalIntToFloatMap=function(a){return this.$4(a,"IntToFloatMap")};b.getOptionalIntToIntMap=function(a){return this.$4(a,"IntToIntMap")};b.getOptionalIntToStringMap=function(a){return this.$4(a,"IntToStringMap")};b.getOptionalStringToBoolMap=function(a){return this.$4(a,"StringToBoolMap")};b.getOptionalStringToEnumMap=function(a){return this.$4(a,"StringToEnumMap")};b.getOptionalStringToFloatMap=function(a){return this.$4(a,"StringToFloatMap")};b.getOptionalStringToIntMap=function(a){return this.$4(a,"StringToIntMap")};b.getOptionalStringToStringMap=function(a){return this.$4(a,"StringToStringMap")};b.getEnumToNullableEnumMap=function(a){return this.$3(a,"EnumToNullableEnumMap")};b.getEnumToNullableFloatMap=function(a){return this.$3(a,"EnumToNullableFloatMap")};b.getEnumToNullableIntMap=function(a){return this.$3(a,"EnumToNullableIntMap")};b.getEnumToNullableStringMap=function(a){return this.$3(a,"EnumToNullableStringMap")};b.getIntToNullableEnumMap=function(a){return this.$3(a,"IntToNullableEnumMap")};b.getIntToNullableFloatMap=function(a){return this.$3(a,"IntToNullableFloatMap")};b.getIntToNullableIntMap=function(a){return this.$3(a,"IntToNullableIntMap")};b.getIntToNullableStringMap=function(a){return this.$3(a,"IntToNullableStringMap")};b.getStringToNullableEnumMap=function(a){return this.$3(a,"StringToNullableEnumMap")};b.getStringToNullableFloatMap=function(a){return this.$3(a,"StringToNullableFloatMap")};b.getStringToNullableIntMap=function(a){return this.$3(a,"StringToNullableIntMap")};b.getStringToNullableStringMap=function(a){return this.$3(a,"StringToNullableStringMap")};b.getOptionalEnumToNullableEnumMap=function(a){return this.$4(a,"EnumToNullableEnumMap")};b.getOptionalEnumToNullableFloatMap=function(a){return this.$4(a,"EnumToNullableFloatMap")};b.getOptionalEnumToNullableIntMap=function(a){return this.$4(a,"EnumToNullableIntMap")};b.getOptionalEnumToNullableStringMap=function(a){return this.$4(a,"EnumToNullableStringMap")};b.getOptionalIntToNullableEnumMap=function(a){return this.$4(a,"IntToNullableEnumMap")};b.getOptionalIntToNullableFloatMap=function(a){return this.$4(a,"IntToNullableFloatMap")};b.getOptionalIntToNullableIntMap=function(a){return this.$4(a,"IntToNullableIntMap")};b.getOptionalIntToNullableStringMap=function(a){return this.$4(a,"IntToNullableStringMap")};b.getOptionalStringToNullableEnumMap=function(a){return this.$4(a,"StringToNullableEnumMap")};b.getOptionalStringToNullableFloatMap=function(a){return this.$4(a,"StringToNullableFloatMap")};b.getOptionalStringToNullableStringMap=function(a){return this.$4(a,"StringToNullableStringMap")};b.$3=function(a,b){this.$5(a,b);var c=this.$1[a];if(!Object.prototype.hasOwnProperty.call(this.$2,a)&&c.defaultValue!=null){c.required&&g(0,5052);return h(b,c.defaultValue,c.enumType)}c.required||b==="Bool"||c.defaultValue!=null||g(0,11845,b,a,b,a);return h(b,this.$2[a],c.enumType)};b.$4=function(a,b){this.$5(a,b);var c=this.$1[a];c.required&&g(0,11846,b,a,b,a);c.defaultValue&&g(0,5052);return Object.prototype.hasOwnProperty.call(this.$2,a)?h(b,this.$2[a],c.enumType):null};b.$5=function(a,b){Object.prototype.hasOwnProperty.call(this.$1,a)||g(0,37317,a),this.$1[a].type===b||g(0,11848,a,b,this.$1[a].type)};return a}();f["default"]=a}),66);
__d("XController",["XControllerURIBuilder","XRequest"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.getURIBuilder=function(a){var b=this,d=new(c("XControllerURIBuilder"))(this.$1,this.$2);if(a){var e=this.getRequest(a);Object.keys(this.$2).forEach(function(a){var c=b.$2[a],f="";!c.required&&!Object.prototype.hasOwnProperty.call(c,"defaultValue")&&(f="Optional");f="get"+f+c.type;f=e[f](a);if(f==null||Object.prototype.hasOwnProperty.call(c,"defaultValue")&&f===c.defaultValue)return;c="set"+c.type;d[c](a,f)})}return d};b.getRequest=function(a){return new(c("XRequest"))(this.$1,this.$2,a)};a.create=function(b,c){return new a(b,c)};return a}();g["default"]=a}),98);
__d("flattenArray",[],(function(a,b,c,d,e,f){function a(a){var b=[];g(a,b);return b}function g(a,b){var c=a.length,d=0;while(c--){var e=a[d++];Array.isArray(e)?g(e,b):b.push(e)}}f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("AsyncTypedRequest",["AsyncRequest"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.setReplaceTransportMarkers();return b}var c=b.prototype;c.promisePayload=function(b){return a.prototype.promisePayload.call(this,b)};c.setPayloadHandler=function(b){a.prototype.setPayloadHandler.call(this,b);return this};return b}(c("AsyncRequest"));g["default"]=a}),98);
__d("BootloaderEventsPerf",["invariant","Bootloader","BootloaderEvents","ResourceTimingStore","objectEntries","objectValues"],(function(a,b,c,d,e,f,g,h){var i={total_count:0,total_bytes:0,downloaded_count:0,downloaded_bytes:0,cached_count:0,cached_bytes:0,inlined_count:0,inlined_bytes:0,duration:0,missing_count:0};function j(a,b,c){return Math.max(0,((c=c)!=null?c:0)-Math.max(a,(c=b)!=null?c:0))}function k(){return{blocking:babelHelpers["extends"]({},i),nonblocking:babelHelpers["extends"]({},i),"default":babelHelpers["extends"]({},i)}}function l(a,b,c){var e,f;if(c==null)e=0,f="downloaded";else if(c[1])e=c[0].length,f="inlined";else{c=d("ResourceTimingStore").getEntryForURL(c[0]);c?(e=c.encodedBodySize,f=c.transferSize===0?"cached":"downloaded"):(e=0,f="downloaded",a.missing_count++)}a.total_count++;a.total_bytes+=e;if(!b)return;a.duration=Math.max(a.duration,b);switch(f){case"downloaded":a.downloaded_count++;a.downloaded_bytes+=e;break;case"inlined":a.inlined_count++;a.inlined_bytes+=e;break;case"cached":a.cached_count++;a.cached_bytes+=e;break}}function m(a,b,d,e,f){var g=c("Bootloader").getResourceState(b);l(a,j(d,g.loadStart,g.loadEnd),e);g.loadError!=null&&f.add(b)}function n(a,b,d,e){var f=k();for(var a=c("objectEntries")(a),g=Array.isArray(a),i=0,a=g?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(g){if(i>=a.length)break;j=a[i++]}else{i=a.next();if(i.done)break;j=i.value}j=j;var l=j[0];j=j[1];for(var j=j,n=Array.isArray(j),o=0,j=n?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=j.length)break;p=j[o++]}else{o=j.next();if(o.done)break;p=o.value}p=p;var q=p[0];p=p[1];var r=void 0,s=void 0;switch(p.type){case"async":s=null;r=d;break;case"js":case"css":s=[p.src,p.d===1];r=f;break;default:p,h(0,3721)}m(r[l],q,b,s,e)}}return f}function o(a,b){var e={unpredicted:d("BootloaderEvents").newResourceMapSet(),ef:d("BootloaderEvents").newResourceMapSet(),overpredicted:d("BootloaderEvents").newResourceMapSet()};for(var f=c("objectEntries")(b),g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var j=i[0];i=i[1];for(var i=i.entries(),k=Array.isArray(i),l=0,i=k?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(k){if(l>=i.length)break;m=i[l++]}else{l=i.next();if(l.done)break;m=l.value}m=m;var n=m[0];m=m[1];a[j].has(n)?e.ef[j].set(n,m):e.overpredicted[j].set(n,m)}}for(n=c("objectEntries")(a),m=Array.isArray(n),l=0,n=m?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(m){if(l>=n.length)break;k=n[l++]}else{l=n.next();if(l.done)break;k=l.value}i=k;j=i[0];h=i[1];for(g=h.entries(),f=Array.isArray(g),a=0,g=f?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(a>=g.length)break;k=g[a++]}else{a=g.next();if(a.done)break;k=a.value}i=k;h=i[0];k=i[1];b[j].has(h)||e.unpredicted[j].set(h,k)}}return e}function a(a){var b=a.efData,c=a.rsrcs,d=a.startTime,e=new Set(),f;if(b){var g=o(c,b.tierOne);f=g.unpredicted;g={ef:n(g.ef,b.fetchRsrcsStart,k(),e),overpredicted:n(g.overpredicted,b.fetchRsrcsStart,k(),e)};b={ef_fetch_predictions:b.fetchPredictionsEnd-b.fetchPredictionsStart,ef_fetch_start_wait:b.fetchPredictionsEnd-b.fetchRsrcsStart,ef_head_start:d-b.fetchRsrcsStart}}else f=c,g={},b={};c=babelHelpers["extends"]({unpredicted:n(f,d,k(),e)},g);return{source:a.source,source_detail:a.sourceDetail,is_first_identical:a.isFirstIdentical,timeslice_context:(f=a.timesliceContext)==null?void 0:f.name,start_time:d,err_count:e.size,resources:c,durations:babelHelpers["extends"]({jsmods_wait:a.jsmodsStart-d,jsmods:a.jsmodsEnd-a.jsmodsStart,jsmods_done_wait:a.jsmodsEnd-d,download_done_wait:a.logTime-d},b),payloadStats:a.payloadStats}}function b(a){var b=a.startTime,e=0,f=0,g=0,h=0;for(var i=a.components,m=Array.isArray(i),o=0,i=m?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(m){if(o>=i.length)break;p=i[o++]}else{o=i.next();if(o.done)break;p=o.value}p=p;p=c("Bootloader").getComponentTiming(p);var q=p.tierTwoStart,r=p.tierTwoEnd,s=p.tierThreeStart;p=p.tierThreeEnd;e=Math.max(e,j(b,q,r));f=Math.max(f,j(b,b,r));g=Math.max(g,j(b,s,p));h=Math.max(h,j(b,b,p))}q=new Set();r=k();s=n(a.tierOne,b,r,q);p=n(a.tierTwo,b,r,q);o=n(a.tierThree,b,r,q);m=r.blocking.downloaded_count!=0;i=k();var t=d("BootloaderEvents").newResourceMapSet(),u=new Set(),v=[a.tierOne,a.tierTwo,a.tierThree];for(var w=0;w<v.length;w++){var x=v[w];for(var x=c("objectValues")(x),y=Array.isArray(x),z=0,x=y?x:x[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var A;if(y){if(z>=x.length)break;A=x[z++]}else{z=x.next();if(z.done)break;A=z.value}A=A;for(var A=A.keys(),B=Array.isArray(A),C=0,A=B?A:A[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var D;if(B){if(C>=A.length)break;D=A[C++]}else{C=A.next();if(C.done)break;D=C.value}D=D;u.add(D)}}}D=0;C=0;B=0;for(A=a.beRequests.values(),z=Array.isArray(A),y=0,A=z?A:A[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(z){if(y>=A.length)break;x=A[y++]}else{y=A.next();if(y.done)break;x=y.value}v=x;D+=j(b,b,v.requestStart);C+=v.serverGenTime;B+=v.jsmodsEnd-v.jsmodsStart;l(i[m?"blocking":"nonblocking"],v.responseStart-v.requestStart,[v.uri,!1]);for(w=c("objectEntries")(v.rsrcs),x=Array.isArray(w),v=0,w=x?w:w[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var E;if(x){if(v>=w.length)break;E=w[v++]}else{v=w.next();if(v.done)break;E=v.value}E=E;var F=E[0];E=E[1];for(var E=E,G=Array.isArray(E),H=0,E=G?E:E[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var I;if(G){if(H>=E.length)break;I=E[H++]}else{H=E.next();if(H.done)break;I=H.value}I=I;var J=I[0];I=I[1];u.has(J)||t[F].set(J,I)}}}J=n(t,b,r,q);return{ref:a.ref,components:a.components,timeslice_context:(I=a.timesliceContext)==null?void 0:I.name,start_time:b,err_count:q.size,resources:{t1:s,t2:p,t3:o,be:i,unpredicted:J,async:r},durations:{fetch_start_wait:a.fetchStartTime-b,be_start_wait:D,be_server_gen:C,be_jsmods:B,callback_wait:a.callbackStart-b,callback:a.callbackEnd-a.callbackStart,bootload_done_wait:a.callbackEnd-b,rdfd_requirelazy:e,rdfd_done_wait:f,rd_requirelazy:g,rd_done_wait:h}}}function e(a){a.start_time;var b=a.resources,d=a.durations;a=babelHelpers.objectWithoutPropertiesLoose(a,["start_time","resources","durations"]);for(var b=c("objectEntries")(b),e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;var h=g[0];g=g[1];for(var g=c("objectEntries")(g),i=Array.isArray(g),j=0,g=i?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=g.length)break;k=g[j++]}else{j=g.next();if(j.done)break;k=j.value}k=k;var l=k[0];k=k[1];for(var k=c("objectEntries")(k),m=Array.isArray(k),n=0,k=m?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=k.length)break;o=k[n++]}else{n=k.next();if(n.done)break;o=n.value}o=o;var p=o[0];o=o[1];a[h+"_"+l+"_resources_"+p]=Math.round(Number(o))}}}for(p=c("objectEntries")(d),o=Array.isArray(p),n=0,p=o?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(o){if(n>=p.length)break;m=p[n++]}else{n=p.next();if(n.done)break;m=n.value}k=m;l=k[0];j=k[1];a[l+"_duration"]=Math.round(Number(j))}if(a.payloadStats){for(i=c("objectEntries")(a.payloadStats),g=Array.isArray(i),h=0,i=g?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(g){if(h>=i.length)break;f=i[h++]}else{h=i.next();if(h.done)break;f=h.value}e=f;b=e[0];d=e[1];for(m=c("objectEntries")(d),k=Array.isArray(m),l=0,m=k?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(k){if(l>=m.length)break;j=m[l++]}else{l=m.next();if(l.done)break;j=l.value}n=j;o=n[0];p=n[1];a[b+"_"+o+"_count"]=Math.round(Number(p))}}delete a.payloadStats}return a}g.computeHRData=a;g.computeBLData=b;g.flattenData=e}),98);/*FB_PKG_DELIM*/
__d("ClientServiceWorkerMessage",[],(function(a,b,c,d,e,f){a=function(){function a(a,b,c){this.$1=a,this.$2=b,this.$3=c}var b=a.prototype;b.sendViaController=function(){if(!navigator.serviceWorker||!navigator.serviceWorker.controller)return;var a=new self.MessageChannel();this.$3&&(a.port1.onmessage=this.$3);navigator.serviceWorker.controller.postMessage({command:this.$1,data:this.$2},[a.port2])};return a}();f["default"]=a}),66);
__d("CometLogoutHandlerQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"logout_whitelist",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"logout_hash",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"has_confirmed_contactpoints",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e=[d],f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometLogoutHandlerQuery",selections:[a,{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[b,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{kind:"InlineFragment",selections:[c,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pending_contactpoints",plural:!0,selections:[{kind:"InlineFragment",selections:e,type:"PendingEmail",abstractKey:null},{kind:"InlineFragment",selections:e,type:"Phone",abstractKey:null}],storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"CometLogoutHandlerQuery",selections:[a,{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[b,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[d,f,{kind:"InlineFragment",selections:[c,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pending_contactpoints",plural:!0,selections:[d,{kind:"InlineFragment",selections:[f],type:"Node",abstractKey:"__isNode"}],storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}]},params:{id:"29134689076130497",metadata:{},name:"CometLogoutHandlerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("ServiceWorkerLoginAndLogout",["ClientServiceWorkerMessage"],(function(a,b,c,d,e,f){function g(a){new(b("ClientServiceWorkerMessage"))(a,null).sendViaController()}a={login:function(){g("login")},logout:function(){g("logout")}};c=a;f["default"]=c}),66);
__d("XLogoutControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/logout.php",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("useLogoutWithPendingContactpointConfirmation",["fbt","react","useCometConfirmationDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||d("react")).useCallback;function a(a,b){var d=c("useCometConfirmationDialog")(),e=j(function(){d({body:a==="PhoneNumber"?h._(/*BTDS*/"__JHASH__ujdNv1mlfSu__JHASH__"):h._(/*BTDS*/"__JHASH__endzVwze90P__JHASH__"),cancel:h._(/*BTDS*/"__JHASH__X_pdL0YEHSk__JHASH__"),confirm:h._(/*BTDS*/"__JHASH__TkZ1VoGTY9e__JHASH__"),title:h._(/*BTDS*/"__JHASH__lPjCLZdezcS__JHASH__")},b)},[a,b,d]);return a==="PendingEmail"||a==="PhoneNumber"?e:null}g["default"]=a}),226);
__d("CometLogoutHandler.react",["Banzai","CometLogoutHandlerQuery.graphql","CometRelay","CometVisualCompletionAttributes","ServiceWorkerLoginAndLogout","WebStorageMonster","XLogoutControllerRouteBuilder","react","recoverableViolation","useLogoutWithPendingContactpointConfirmation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useEffect,m=e.useImperativeHandle,n=e.useRef;e=j.forwardRef(a);function a(a,e){var f,g=a.shouldInitiateLogout,i=n(!1);a=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("CometLogoutHandlerQuery.graphql"),{});var o=a.logout_whitelist;a=a.viewer;var p=n(),q=k(function(){if(i.current)return;i.current=!0;var a=p.current;if(a==null){c("recoverableViolation")("Unable to get logout form ref to submit","comet_ui");return}c("WebStorageMonster").cleanOnLogout(o,"CometLogoutHandler");c("ServiceWorkerLoginAndLogout").logout();c("Banzai").flush();a.submit()},[p,o]),r=c("useLogoutWithPendingContactpointConfirmation")((a==null?void 0:(f=a.actor)==null?void 0:f.has_confirmed_contactpoints)!==!0?a==null?void 0:(f=a.actor)==null?void 0:(f=f.pending_contactpoints)==null?void 0:(f=f[0])==null?void 0:f.__typename:null,q),s=k(function(){r?r():q()},[q,r]);m(e,function(){return{logout:s}});l(function(){p.current==null?c("recoverableViolation")("Expected logout form ref to be valid","comet_ui"):g===!0&&s()},[s,g]);f=c("XLogoutControllerRouteBuilder").buildURL({button_location:"settings",button_name:"logout"});return j.jsxs("form",babelHelpers["extends"]({action:f,method:"POST",ref:p},c("CometVisualCompletionAttributes").IGNORE,{children:[j.jsx("input",{name:"h",type:"hidden",value:a==null?void 0:a.logout_hash}),j.jsx("input",{name:"ref",type:"hidden",value:"mb"})]}))}a.displayName=a.name+" [from "+f.id+"]";a=e;g["default"]=a}),98);
__d("LoginDialog",["Cookie","setInterval"],(function(a,b,c,d,e,f,g){function a(){c("setInterval")(function(){c("Cookie").get("c_user")&&window.location.reload()},5e3)}function b(){window.location.reload()}g.pollLoginCookies=a;g.onClose=b}),98);
__d("LogoutHandler.react",["cr:11880"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:11880")}),98);
__d("ServiceWorkerRegistration",["ClientServiceWorkerMessage","EventListener","Promise","Run","promiseDone"],(function(a,b,c,d,e,f){var g,h=!!navigator.serviceWorker,i={};function j(){var a=navigator.serviceWorker;if(!h||!a)throw new Error("serviceWorker is not supported in this browser");return a}var k={isSupported:function(){return h},registerWorkerIfUnregisteredAfterDD:function(a){b("Run").onAfterLoad(function(){k.registerWorkerIfUnregistered(a)})},registerWorkerIfUnregistered:function(a){if(i[a])return i[a];var c=j(),d=i[a]=new(g||(g=b("Promise")))(function(d,e){b("promiseDone")(k.getWorkerRegistration(a),function(f){if(!f){var h=b("EventListener").listen(window,"message",function(a){(a==null?void 0:(a=a.data)==null?void 0:a.command)==="ServiceWorkerInstallError"&&e()});b("promiseDone")((g||(g=b("Promise"))).resolve(c.register(a,{updateViaCache:"all"})),function(){h.remove(),b("promiseDone")((g||(g=b("Promise"))).resolve(c.ready),d)})}else d(f)})});return d},unregisterControllingWorker:function(){return new(g||(g=b("Promise")))(function(a,c){c=new(b("ClientServiceWorkerMessage"))("unregister",{},function(){a(!0)});c.sendViaController()})},getWorkerRegistration:function(a){var b=j();return b.getRegistration(a)},isAWorkerActivated:function(){return!navigator.serviceWorker||!navigator.serviceWorker.getRegistration?(g||(g=b("Promise"))).resolve(!1):navigator.serviceWorker.getRegistration().then(function(a){return!!(a&&a.active)})}};e.exports=k}),null);
__d("legacy:cookie",["Cookie"],(function(a,b,c,d,e,f){a.getCookie=b("Cookie").get,a.setCookie=b("Cookie").set,a.clearCookie=b("Cookie").clear}),3);/*FB_PKG_DELIM*/
__d("GeneratedLoggerUtils",["invariant","Banzai","JstlMigrationFalcoEvent","getDataWithLoggerOptions"],(function(a,b,c,d,e,f,g){"use strict";var h=window.location.search.indexOf("showlog")>-1;function a(a,c,d,e){var f=b("getDataWithLoggerOptions")(c,e);c=a.split(":")[0];var g=a.split(":")[1];c=="logger"?b("JstlMigrationFalcoEvent").log(function(){return{logger_config_name:g,payload:f}}):b("Banzai").post(a,f,d);h}c={log:a,serializeVector:function(a){if(!a)return a;if(Array.isArray(a))return a;if(a.toArray){var b=a;return b.toArray()}if(typeof a==="object"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"])return Array.from(a);g(0,3874,a)},serializeMap:function(a){if(!a)return a;if(a.toJS){var b=a;return b.toJS()}if(typeof a==="object"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]){b=a;var c={};for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;c[f[0]]=f[1]}return c}if(Object.prototype.toString.call(a)==="[object Object]")return a;g(0,3875,a)},checkExtraDataFieldNames:function(a,b){Object.keys(a).forEach(function(a){Object.prototype.hasOwnProperty.call(b,a)&&g(0,3876,a)})},warnForInvalidFieldNames:function(a,b,c,d){},throwIfNull:function(a,b){a||g(0,3877,b);return a}};e.exports=c}),null);
__d("getViewportDimensions",["UserAgent"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){var a=null;return function(){var b=document.body;if(b==null)return null;(a==null||!b.contains(a))&&(a=document.createElement("div"),a.style.left=Number.MAX_SAFE_INTEGER+"px",a.style.width="100%",a.style.height="100%",a.style.position="fixed",b.appendChild(a));return a}}();function i(){var a;document.documentElement&&(a=document.documentElement.clientWidth);a==null&&document.body&&(a=document.body.clientWidth);return a||0}function j(){var a;document.documentElement&&(a=document.documentElement.clientHeight);a==null&&document.body&&(a=document.body.clientHeight);return a||0}function k(){return{width:window.innerWidth||i(),height:window.innerHeight||j()}}k.withoutScrollbars=function(){return c("UserAgent").isPlatform("Android")?k():{width:i(),height:j()}};k.layout=function(){var a,b=h();return{width:(a=b==null?void 0:b.clientWidth)!=null?a:i(),height:(a=b==null?void 0:b.clientHeight)!=null?a:j()}};g["default"]=k}),98);/*FB_PKG_DELIM*/
__d("BootloaderLoggingStatusEnum",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["SUCCESS","TIMEOUT"]);c=a;f["default"]=c}),66);
__d("CometBootloaderEventsTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:CometBootloaderEventsLoggerConfig")}),null);
__d("HasteResponseFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1823926");b=d("FalcoLoggerInternal").create("haste_response",a);e=b;g["default"]=e}),98);
__d("CometBootloaderLoggerUtil",["BootloaderEvents","BootloaderEventsPerf","CometBootloaderEventsTypedLoggerLite","CometTimeSpentNavigation","HasteResponseFalcoEvent","ResourceTimingStore","SiteData","performanceNavigationStart"],(function(a,b,c,d,e,f,g){"use strict";var h=!1;function a(a){var b=a.bl_sample_rate,e=a.hr_sample_rate,f=a.parent_lid;if(h||!(b||e))return;h=!0;d("ResourceTimingStore").init();var g=function(a){return{ms_since_navstart:Math.round(a-c("performanceNavigationStart")()),parent_lid:f,pkg_cohort:c("SiteData").pkg_cohort,request_path:(a=c("CometTimeSpentNavigation").getPathInfo())==null?void 0:a.name,svn_rev:c("SiteData").client_revision}};e&&d("BootloaderEvents").onHasteResponse(function(a){return c("HasteResponseFalcoEvent").log(function(){var b=d("BootloaderEventsPerf").computeHRData(a),c=d("BootloaderEventsPerf").flattenData(b);return babelHelpers["extends"]({},c,g(b.start_time))})});var i=function(a,b,e){a=d("BootloaderEventsPerf").computeBLData(a);var f=d("BootloaderEventsPerf").flattenData(a);c("CometBootloaderEventsTypedLoggerLite").log(babelHelpers["extends"]({},f,g(a.start_time),{status:b}),{weight:e})};b&&d("BootloaderEvents").onBootload(function(a){return i(a,"SUCCESS",b)});var j=1;d("BootloaderEvents").onBootloaderCallbackTimeout(function(a){return i(a,"TIMEOUT",j)})}g.initLogging=a}),98);
__d("WebWorkerInitDeferred",["cr:7429"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a.blLoggingCavalryFields&&b("cr:7429").initLogging(a.blLoggingCavalryFields)}g.initDeferred=a}),98);