// Â© 2025 Ingram Micro Inc. All rights reserved.
	// CloudBlue is a registered copyright of Ingram Micro Inc. 2025. All rights reserved.
	// https://www.cloudblue.com
	// Available via the modified BSD license. See LICENSE for details.
/* 
/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/
require({cache:{"host/aps-apsc":function(){var i=void 0;define="undefined"!=typeof require?define:function(){i=!0;for(var e=0;e<arguments.length;e++)if("function"==typeof arguments[e]){arguments[e]();break}},define(["dojo/Deferred","dojo/has","dojo/dom-construct","dojo/io-query","host/appsHub","aps/lang","aps/common"],function(e,t,a,o,s,r,c){i&&delete window.define;var d=window.aps=window.aps||{};console.log("apsc"),d.app||(d.app={}),d.apsc||(d.apsc={}),d.app||(d.util={}),d.apsc.hub||(d.apsc.hub={}),d.hub||(d.hub={createManagedHub:function(e,t,i,n){return s.openApp(n,{viewUrl:e},{},t,i)}});var p=d.app,l=d.apsc,u=d.apsc.hub;u._allowedList=["gotoResource","gotoView","gotoURL","prev","next","ready","cancelProcessing","showLoading","hideLoading","buttonState","wizardState","touchSession","showNotification","displayMessage","removeMessage","removeAllMessages","externalHttpRequest","pushAnalytics","pushException","_scrollApp","_resizeApp","_preinit","_viewReady","_setLabel","_setDescription","_startProcessing","_removeNotification","_gotoPopup","_showConfirm","_showChangePassword","_submitPopup","_cancelPopup","_setPopupSize","_toExpired","_reloadPage","_realSetRefreshURL","_showFixedPopup","_hideFixedPopup","_toCPHome","_goBack","_updateUser","_viewRequireFailed","_requestAPSTypes","_displayMessage","_removeMessage","_removeAllMessages","_showInNotifySidebar","__call","_collapseLeftMenu","_maximizeFrame","_useCustomScreenLoadingReporting"],u._createHubContext=function(e,t){return u._hubContext={appId:e,appContext:t},u._hubContext},u._DEFAULT_CONTAINER_ID="aps2-ui",u.managedHubs||(u.managedHubs=[]),l.appEventHandlingMode=!1,u._proxiesList=["onSubmit","onPrev","onNext","onCancel","externalHttpRequest","_storeContext","_onView","_onContext","_apply","_onHidePopup","_onHideConfirm","_onHideChangePassword","_setRefreshURL","_displayMessage","_removeMessage","_removeAllMessages","_response","_reject","_displayView","_duplicateViewContent","_isolateTabIndex","_readyToShow"],u._processingMap={onSubmit:"submit",onNext:"next",onPrev:"prev"},u._processingNow={},u._proxy=function(e,t){s.callApp(e,t,u._currentContainerId)},u.restoreHashForIFrame=function(t){var e=document.querySelectorAll("#aps2MashupArea iframe"),i=Array.from(e).find(function(e){return e.contentWindow===t});return i&&"appId="+i.id},l.externalHttpRequest=function(e){if(e&&e.action){var t={};if(e.action.includes("?")&&e.action.indexOf("?")!==e.action.length){var i=e.action.substr(e.action.indexOf("?")+1);t=o.queryToObject(i)}r.mixin(t,e.data||{});var n=a.create("form",{method:e.method||"GET",action:e.action,enctype:"application/x-www-form-urlencoded",style:{display:"none"}});c.forEach(t,function(e,t){a.create("input",{type:"hidden",name:t,value:e},n)}),document.documentElement.appendChild(n),n.submit();try{n.parentNode.removeChild(n)}catch(e){}}},l.injectMessage=function(e,t){c.showMessage(e,t)},l._resizeApp=function(e){var t=document.getElementById(u._hubContext.appId);t&&(t.height=parseInt(e,10))},l._preinit=function(){p._storeContext(u._hubContext.appContext)},l.gotoResource=function(e,t){d.host.handle({resourceId:e,cls:t})},l.gotoView=function(e,t,i){if(e){var n=function(e){if(e.indexOf("://")<0){var t=u._hubContext.appContext._view.id.indexOf("#");return u._hubContext.appContext._view.id.substring(0,t)+"#"+e}return e}(e),a=n!=e?e:null;i&&(i=JSON.stringify(i)),d.host.handle({viewId:n,localViewId:a,resourceId:t,params:i})}},l.prev=function(e){e&&(e=JSON.stringify(e)),d.host.handle({type:"prev",params:e})},l.next=function(e){e&&(e=JSON.stringify(e)),d.host.handle({type:"next",params:e})},l._toExpired=function(){window.location.href="/"===d.context.loginUrl?location.protocol+"//"+location.host+(d.context._brandSuffix||"")+"/?reason=expired":d.context.loginUrl},l._reloadPage=function(){var e=window.location;window.location=e.href+"?bw_id="+d.context._sessionId},l.displayMessage=function(){d.app._displayMessage.apply(void 0,arguments)},l.removeMessage=function(){d.app._removeMessage.apply(void 0,arguments)},l.removeAllMessages=function(){d.app._removeAllMessages.apply(void 0,arguments)},l._setLabel=function(e){var t=document.querySelector("#title > b");t&&(t.innerHTML=c.escape(e))},u._proxiesList.forEach(function(i){var n=p[i];p[i]=function(){var e=arguments;n&&l.appEventHandlingMode?n.apply(p,e):console.log("host:functionName = "+i);var t=u._processingMap[i];t&&(console.log("procName = "+t),d.host.startProcessing(t)),u._proxy(i,e.length?Array.prototype.slice.call(e):null)}})})},"host/appsHub":function(){define(["dojo/dom-construct","aps/query","host/utils","dojo/has","dojo/Deferred","dojo/io-query","aps/lang"],function(g,y,w,b,_,x,I){var C=[],N={scrolling:"no",frameBorder:"0",width:"100%",height:"0",allowtransparency:"true",style:{display:"block"}},f=["_displayMessage","displayMessage","externalHttpRequest","pushAnalytics","pushException"],s=["_response","_reject"],h={};function t(e,t){var i=["_calcScrollPos","_showDimensions","_stopRAF"],n=e.data,a=void 0,o=void 0,s=void 0,r=void 0;try{var c=JSON.parse(n);a=c.appId,o=c.functionName,s=c.args,r=c.eventName}catch(e){}if(e.origin===window.location.origin){if(s&&s[0]&&s[0].method&&-1<i.indexOf(s[0].method)||o&&-1<i.indexOf(o)||"vue-devtools-backend"===n.source||console.debug("Received in Host from app "+a+": "+o,s),a){var d=C.find(function(e){return e.appId===a});if("helloHost"!==o)if("_error"!==o&&"_unhandledrejection"!==o){var p=t.active&&t.view.id.split("#")[0]===a;if(aps.apsc.hub._currentContainerId===a||p||f.includes(o)){if("__call"===o){var l=s[0].id;if(!l)return void console.error("__call method does not contain id in args");h[l]=a}if(o){"_gotoPopup"===o&&(aps.navigation.popupHomeland=a),aps.apsc.appEventHandlingMode=!0,aps.apsc&&aps.apsc.hub&&aps.apsc.hub._createHubContext(a,d.appContext||aps.context);try{aps.apsc[o].apply(void 0,s)}catch(e){console.warn("something went wrong, cannot call the function "+o+": ",e)}aps.apsc.appEventHandlingMode=!1}if(r){var u=d.__subscriptions[r];if(!u)return;u.forEach(function(e){return e()})}}else console.debug("Host has received message from not active application ("+a+"): "+o+". Do nothing...",s)}else aps.apsc.pushException(s[0],s[1],s[2]);else d.isCreated.resolve()}}else console.warn("Received message from another origin, ignoring: "+e.origin+" "+window.location.origin+" "+o)}function A(e,t,i){var n=i||aps.apsc.hub._currentContainerId;if(s.includes(e)){console.debug("Restoring appId from CALLS_APP_ID_STORE for "+e);var a=t[0];a||console.error(e+" does not has id parameter."),n=h[a],console.debug("AppId for "+e+" restored: "+n),delete h[a]}var o=C.find(function(e){return e.appId===n});o?o.isCreated.isResolved()?(console.debug("Host: Calling "+e+" in app "+n+" "),!o.isVue&&o.iframe.contentWindow.postMessage(JSON.stringify({functionName:e,args:t}),window.location.origin)):console.error(n+" is not ready yet"):console.error(n+" not found to call!")}return window.addEventListener("message",function(e){b("aps-bs")?require(["host/wizard"],t.bind(null,e)):t(e,{active:!1})},!1),{openApp:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=e.viewUrl,n=e.view,a=arguments[2],o=arguments[3],s=arguments[4],r=C.find(function(e){return e.appId.startsWith("vue_")?e.appId.slice(4)===t:t.startsWith("vue_")?e.appId===t.slice(4):t===e.appId}),c=r&&r.isVue!==n.isVue;if(r&&!c)return aps.apsc.hub._currentContainerId=r.appId,r;var d=function(i,e,t,n,a,o,s){var r=null,c=void 0,d=new _;if(i=i||(b("aps-bs")?"unknown-app-"+(C.length+1):"aps2-ui"),!e||o&&!o.isVue&&e.startsWith("http")&&!e.startsWith(window.location.origin))throw new Error("Application load from different origin is not supported yet.");var p=b("aps-bs")&&"undefined"!=typeof window&&aps&&aps.navigation&&aps.navigation.vueWorkspace?"#aps2MashupArea .new-modal-body":"#aps2MashupArea .modal-body";if(n=n||(i.startsWith("popup_")?y(p)[0]:y("#aps2MashupArea")[0]),c=s?w.getContainerId(o):g.create("div",{id:"container_"+(i.startsWith("vue_")?i.slice(4):i),"ccp-container":"true"},n),o&&o.isVue){var l={url:e,appId:i,parent:c,viewId:o.id,payload:aps.context.params,isCreated:d,prevApp:C[C.length-1]||null};window.UX1Framework.createVueApp(l)}else{var u=e.split("#"),f=u[0];u[0]=f+(f.includes("?")?"&":"?")+x.objectToQuery({appId:i,parentOrigin:window.location.origin}),e=u.join("#");var h=I.mixin({},N,t||{},{src:e,id:i,name:i});r=g.create("iframe",h,c);var v=aps.hostServices;v&&r.contentWindow&&(r.contentWindow.aps=v.sharedContext.createApsContext(i,o),r.contentWindow.addEventListener("click",function(){window.dispatchEvent(new Event("HOST-IFRAME-CLICK"))}),r.contentWindow.addEventListener("keydown",function(e){window.dispatchEvent(new CustomEvent("HOST-IFRAME-KEYDOWN",{detail:e.keyCode}))}))}var m={appId:i,iframe:o&&o.isVue?null:r,isCreated:d,appContext:a,isVue:o&&o.isVue,__subscriptions:{},subscribe:function(e,t){Object.keys(this.__subscriptions).includes(e)||(this.__subscriptions[e]=[]),this.__subscriptions[e].push(t)},publish:function(e,t){"aps.apsc.proxy"===e&&t&&A(t.functionName,t.args,i)}};return C.push(m),m}(t,i,a,o,s,n,c);return aps.apsc.hub._currentContainerId=d.appId,d},callApp:A,closeApp:function(t){var e=C.find(function(e){return e.appId===t});e&&(g.destroy("container_"+e.appId),C.splice(C.indexOf(e),1))}}})},"host/utils":function(){define(["dijit/registry","dojo/io-query","dojo/has","aps/lang","aps/common","aps/query"],function(i,d,s,r,c,n){var a=[];function p(e){return encodeURIComponent("string"==typeof e?e:JSON.stringify(e))}function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function l(){return{userId:r.getObject("aps.context.user.aps.id"),sessionId:r.getObject("aps.context._sessionId")}}return{timeStampNotification:function(e){var t="number"==typeof e.created?e.created:Date.parse(e.created),i="number"==typeof e.modified?e.modified:Date.parse(e.modified);return{id:e.id,timeStamp:Math.max(t,i)}},initLocalStorageNotifications:function(){if(!localStorage.getItem(l().userId)){var e={lastSessionId:l().sessionId,lastLoginTimestamp:new Date,unreadNotifications:[],readNotifications:[]};return localStorage.setItem(l().userId,JSON.stringify(e)),e}},setAllLocalStorageNotificationsToRead:function(){var e;this.initLocalStorageNotifications();var t=JSON.parse(localStorage.getItem(l().userId));(e=t.readNotifications).push.apply(e,function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}(t.unreadNotifications)),1e3<t.readNotifications.length&&t.readNotifications.splice(0,500),localStorage.setItem(l().userId,JSON.stringify({lastSessionId:l().sessionId,lastLoginTimestamp:new Date,unreadNotifications:[],readNotifications:t.readNotifications})),n("#notify-activities .apsNotification").forEach(function(e){return i.byId(e.id).set("readStatus","read")}),n("#ccp-navbar #ccp-notify-activities .ccp-badge.danger").innerHTML(0),n("#ccp-navbar #ccp-notify-activities .ccp-badge.danger").style("display","none")},updateLocalStorage:function(t,e){this.initLocalStorageNotifications();var i=JSON.parse(localStorage.getItem(l().userId));if("add"===e){var n=i.readNotifications;if(n.some(function(e){return t.id===e.id}))return"read";var a=i.unreadNotifications;if(a.some(function(e){return t.id===e.id}))return"unread";var o=this.timeStampNotification(t);return a.push(o),localStorage.setItem(l().userId,JSON.stringify({lastSessionId:l().sessionId,lastLoginTimestamp:new Date,unreadNotifications:a,readNotifications:n})),"unread"}if("remove"===e){var s=i.readNotifications.findIndex(function(e){return t.id===e.id}),r=i.unreadNotifications.findIndex(function(e){return t.id===e.id});-1!==s?i.readNotifications.splice(s,1):-1!==r&&i.unreadNotifications.splice(r,1),localStorage.setItem(l().userId,JSON.stringify({lastSessionId:l().sessionId,lastLoginTimestamp:new Date,unreadNotifications:i.unreadNotifications,readNotifications:i.readNotifications}))}},getView:function(e){return aps.navigation.views[e]},getAppId:function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:aps.context._view).id.split("#")[0]},getFrameAppId:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:aps.context._view,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.getAppId(e);return((2<arguments.length&&void 0!==arguments[2]?arguments[2]:e.popup)?"popup_":"")+(e.isReact?"react_":"")+(e.isVue?"vue_":"")+t},getContainerId:function(e){return n('#aps2MashupArea div[id="container_'+e.id.split("#")[0]+'"]')[0]},getNavId:function(e){return e.replace(/#|http:\/\/www.parallels.com|http:\/\/com.odin.platform|http:\/\/com.odin.rating|http:\/\/com.odin|http:\/\/www.odin.com|http:\/\/odin.com|http:\/\/www.ingrammicro.com|http:\/\/ingrammicro.com|http:\/\/com.ingrammicro.cmpapi.onboarding|http:\/\/com.ingrammicro.connectextentions|http:\/\/com.ingrammicro|http:\/\/aps-standard.org|http:\/\/cloudblue.com/gi,function(e){switch(e){case"#":return"/";case"http://www.parallels.com":return"pa";case"http://aps-standard.org":return"aps";case"http://com.odin.platform":return"com.oa.platform";case"http://com.odin.rating":return"com.oa.rating";case"http://com.odin":return"com.oa";case"http://www.odin.com":return"www.oa.com";case"http://odin.com":return"oa.com";case"http://www.ingrammicro.com":return"www.cbc.com";case"http://ingrammicro.com":return"cbc.com";case"http://com.ingrammicro.connectextentions":return"com.cbc.connectextentions";case"http://com.ingrammicro.cmpapi.onboarding":return"com.cbc.cmpapi.onboarding";case"http://com.ingrammicro":return"com.cbc";case"http://cloudblue.com":return"cb.com"}}).replace("http://","")},isActive:function(e){var i=aps.navigation.tree?aps.navigation.tree.context:[];return e.children&&e.children.some(function(e){if("view"==e.type||"wizard"==e.type){var t=i[i.length-1];if(t)return e.id==t.viewId}return this.isActive(e)},this)},isUserMenuActive:function(e){if(e.items)return e.items.some(this.isUserMenuActive,this);var t=aps.navigation.tree&&aps.navigation.tree.context,i=t[t.length-1],n=this.parseDirectLink("/"+e.directLink.split("/ccp/"));return n.viewId==i.viewId&&n.resourceId==i.resourceId},notificationLocalize:function(e,t){var i=e[t];return i&&i.message?_(i.message,i.keys,i.multilangKeys,e.packageId):""},changeURL:function(e,t){var i=[],n=t.subscriptionId||aps.context.subscriptionId;aps.context.params&&(delete aps.context.params.bw_id,delete aps.context.params.apsRefreshContext,c.forEach(aps.context.params,function(e,t){i.push(t+"="+p(e))})),s("ios")&&"_sessionId"in aps.context&&(i.push("bw_id="+p(aps.context._sessionId)),i.push("apsRefreshContext="+p(JSON.stringify(aps.navigation.tree.context))));var a=aps.context._anonymousUrlPath||"";a&&!a.startsWith("/")&&(a="/"+a);var o=a+"/ccp/"+t.type+"/"+this.getNavId(e.id)+(n?"/s/"+n:"")+(t.resourceId?"/r/"+t.resourceId:"")+(i.length?"?"+i.join("&"):"");window.history.state&&window.location.pathname+window.location.search===o||window.history.pushState({viewId:e.id,resourceId:t.resourceId,params:aps.context.params,subscriptionId:t.subscriptionId,context:r.clone(aps.navigation.tree.context)},e.label,o)},parseDirectLink:function(e){var t=e.split("?"),i={},n=void 0,a=void 0,o=void 0,s=void 0;if(t[1]&&(i=d.queryToObject(t[1])),(t=t[0].split("/"))[1]&&"i"===t[1]&&(n="item"),t[2])switch(t[2]){case"pa":o="http://www.parallels.com";break;case"aps":o="http://aps-standard.org";break;case"com.oa.platform":o="http://com.odin.platform";break;case"com.oa.rating":o="http://com.odin.rating";break;case"com.oa":o="http://com.odin";break;case"www.oa.com":o="http://www.odin.com";break;case"oa.com":o="http://odin.com";break;case"cbc.com":o="http://ingrammicro.com";break;case"www.cbc.com":o="http://www.ingrammicro.com";break;case"com.cbc.connectextentions":o="http://com.ingrammicro.connectextentions";break;case"com.cbc.cmpapi.onboarding":o="http://com.ingrammicro.cmpapi.onboarding";break;case"com.cbc":o="http://com.ingrammicro";break;case"cb.com":o="http://cloudblue.com";break;default:o="http://"+t[2]}for(var r=void 0,c=3;c<t.length;c++){if("r"===t[c+1]||"s"===t[c+1]){if(r||(o+="#"+t[c],r=!0),"s"===t[c+1]){s=t[c+2],c+=2;continue}if("r"===t[c+1]){a=t[c+2];break}}o+=(c==t.length-1?"#":"/")+t[c]}return delete i.bw_id,{viewId:o,type:n,resourceId:a,params:i,subscriptionId:s}},queue:{push:function(e,t){2<a.length&&a.pop(),t&&!t.isFulfilled()&&(t.cancel(),a.shift()),a.push(e)},shift:function(){a.shift(),0<a.length&&this.run(a[0])},get length(){return a.length},run:function(){}},genGuid:function(){return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}})},"host/wizard":function(){define(["dojo/dom-construct","dijit/registry","aps/query","aps/lang","aps/common","host/breadcrumb","host/deferredRenderer","host/render","host/navigation","host/navUtils","host/utils","dojo/text!./templates/stepWizard.html"],function(o,n,s,r,c,d,a,p,l,u,f,h){var e={active:!1,activeStep:-1,data:[],steps:[],set:function(e,t){var i=this,n=this[e];switch(e){case"active":if(this.active=t)n||(this.showWizard(!0),delete aps.context.wizardData);else{if(!n)return;this.view.wizardState.forEach(function(e){return delete e.visible}),this.data=[],this.set("activeStep",-1),this.set("steps",[]),this.showWizard(!1),delete aps.context.wizardData}break;case"steps":this.steps=t,a.addAction(function(){i.renderWizard(),i.active?p.restructBtns(t&&t[0]&&t[0].controls||i.view.controls):i.restructWizardBtns()});break;case"activeStep":this.activeStep=t,a.addAction(function(){i.changeActiveStep(t),i.active?p.restructBtns():i.restructWizardBtns()})}},get:function(e){return this[e]},next:function(e){var n,t,i=void 0,a=void 0;if(this.activeStep>=this.steps.length&&(this.activeStep-=1),aps.context.wizardData||(aps.context.wizardData={}),this.activeStep<0){var o={};this.steps.forEach(function(e){e.visible&&aps.context.wizardData[e.id]&&(o[e.id]=aps.context.wizardData[e.id])}),aps.context.wizardData=o,aps.context.wizardData[this.view.id]=e}else aps.context.wizardData[this.steps[this.activeStep].id]=e;for(i=this.activeStep+1,a=this.steps[i];a&&!a.visible;)i++,a=this.steps[i];if(i>=this.steps.length){this.activeStep=i;var s=aps.apsc.hub._currentContainerId;return aps.apsc.hub._currentContainerId=(this.view.isVue?"vue_":"")+this.view.id.split("#").shift(),d.setExtractFlag(!0),aps.app._apply(this.view.id.split("#").pop(),"onSubmit",aps.context),void(aps.apsc.hub._currentContainerId=s)}aps.apsc.showLoading(),this.set("activeStep",i),aps.navigation.startTime=performance.now(),a.APSActorScope?(n=a,t={placeholder:aps.placeholder?aps.placeholder:"http://www.parallels.com/ccp/2",context:[],locale:aps.context._locale,viewId:n.id},n.subscriptionId&&(t.subscriptionId=n.subscriptionId),u.getNavigation({parameters:t,APSActorScope:n.APSActorScope}).then(function(e){var t=f.getView(n.id),i=u.findView(e);t?u.recheckViewState(t,i):(u.addView(i,n.id),t=f.getView(n.id)),t.APSActorScope=n.APSActorScope,l.changeView({viewId:n.id,existView:t})},function(){return aps.apsc.hideLoading()})):l.changeView({viewId:a.id,existView:a})},prev:function(e){var i=this;aps.apsc.showLoading();var t=void 0,n=void 0;for(this.activeStep>=this.steps.length&&(this.activeStep=this.steps.length-1),e&&(aps.context.wizardData[this.steps[this.activeStep].id]=e),t=this.activeStep-1,n=this.steps[t];n&&!n.visible;)t--,n=this.steps[t];if(t<0)return this.activeStep=-1,this.view.wizardState.forEach(function(e,t){e.visible=i.steps[t].visible,delete e.controls}),void l.changeView({viewId:this.view.id,existView:this.view,params:this.params});this.set("activeStep",t),l.changeView({viewId:n.id,existView:n})},showWizard:function(e){var t=s("#ccp-sidebar-level-2");t&&a.addAction(function(){t.style("display",e?"":"none")[e?"addClass":"removeClass"]("wizard"),p.collapseLeftMenu(e||p._leftMenuCollapsed)})},renderWizard:function(){var e=s("#ccp-sidebar-level-2").children("ul")[0];if(e){var n=2,a=this;s("p",s("#ccp-sidebar-level-2")[0]).style("display","none"),e.innerHTML="",this.active&&o.create("li",{class:this.activeStep<0?"active":"",innerHTML:r.replace(h,{label:c.escape(this.view["step-label"]||this.view.label),index:1})},e),o.place(this.steps.reduce(function(e,t,i){return t.visible&&(o.create("li",{class:i===a.activeStep?"active":"",innerHTML:r.replace(h,{label:c.escape(t["step-label"]||t.label),index:n})},e),n++),e},document.createDocumentFragment()),e)}},changeActiveStep:function(e){var t=s("#ccp-sidebar-level-2").children("ul");if(t){var i=t.children(),n=-1;if(i.removeClass("active"),e<0)t.removeClass("wizard");else{for(var a=0;a<=e;a++)this.steps[a].visible&&n++;i.at(n+1).addClass("active")}}},restructWizardBtns:function(){var e=this.activeStep+1,t=n.byId("nextNav"),i=void 0;if(this.active){for(n.byId("submitNav").set("visible",!1),n.byId("prevNav").set("visible",0<=this.activeStep),n.byId("nextNav").set("visible",!0),n.byId("cancelNav").set("visible",!0),i=this.steps[e];i&&!i.visible;)e++,i=this.steps[e];e>=this.steps.length&&t.set({type:"success",label:n.byId("submitNav").get("label"),iconClass:"fa-check"})}(!this.active||e<this.steps.length)&&t.set({type:"primary",label:this.nextLabel||_("Next"),iconClass:"fa-arrow-right"})}};return window.aps.wizard=e})},"host/breadcrumb":function(){define(["host/persistence"],function(t){var i=void 0,n=void 0,a=-1,o=!1;return{reset:function(){aps.navigation.tree.context=[]},back:function(){i?i():(this.setExtractFlag(!0),this.extract(),this.restore())},restore:function(){if(n){var e=[n.viewId,n.resourceId?n.resourceId:void 0,n.parameters?n.parameters:void 0,n.subscriptionId?n.subscriptionId:void 0];aps.apsc.gotoView.apply(this,e)}},extract:function(){var e=aps.navigation.tree.context;n?aps.navigation.tree.context=e.slice(0,a):console.warn("extract flag is not set")},save:function(){var e=aps.navigation.tree.context.slice(0,n?a+1:-1);t.setCookie("refreshContext",JSON.stringify(e),{path:"/"})},setHandler:function(e){i=e},resetHandler:function(){i=void 0},setExtractFlag:function(e){o=e;var t=aps.navigation.tree.context;e?1<t.length?(a=t.length-2,n=t[a]):console.warn("Incorrect context"):(n=null,a=-1)},isExtractFlag:function(){return o},storeCurrentLabel:function(e){var t=aps.navigation.tree.context;t.length&&(t[t.length-1].viewLabel=e)}}})},"host/persistence":function(){define([],function(){return{setCookie:function(e,t,i){i=i||{};var n=e+"="+(t=encodeURIComponent(t));for(var a in i){n+="; "+a;var o=i[a];!0!==o&&(n+="="+o)}document.cookie=n},getCookie:function(n){var a=void 0;return document.cookie.split("; ").some(function(e){var t=(e=e.split("="))[0],i=e[1];if(n===t)return a=i,!0}),a}}})},"host/deferredRenderer":function(){define(["aps/query"],function(i){var n=[],a=!1,o=[],s=void 0,r=void 0,c=void 0,t=!1,d=void 0,p=void 0;return{ENABLED:!0,init:function(e){n=[],i("body").prepend('<div id="loading-spinner" class="hidden-spin"><i class="fa fa-cog fa-spin fa-5x text-muted"></i></div>'),p=i("#loading-spinner"),d=e.render},start:function(){n=[],a=!0,i("#ccp-content").removeClass("ccp-standby").addClass("ccp-rendering"),c&&clearTimeout(c),c=setTimeout(function(){p[0].className="visible-spin"},500)},run:function(){a=!1;for(var e=0;e<n.length;e++)n[e]();if(n=[],r)s&&d.showFrame(s),d.iframeToPopup(!0);else{for(var t=0;t<o.length;t++)d.hideFrame(o[t]);s&&d.showFrame(s)}c&&(clearTimeout(c),c=null),o=[],i("#loading-spinner")[0].className="hidden-spin",i("#ccp-content").removeClass("ccp-rendering")},addAction:function(e){a?n.push(e):e()},setState:function(e){"oldFrame"in e&&o.push(e.oldFrame),"newFrame"in e&&(s=e.newFrame),"isPopup"in e&&(r=e.isPopup)},isViewContextApplied:function(e){if(!arguments.length)return t;t=!!e},isInProgress:function(){return a}}})},"host/render":function(){define(["dojo/has","dojo/Deferred","dojo/dom-construct","dijit/registry","aps/lang","aps/xhr","aps/query","aps/common","aps/load","host/breadcrumb","host/utils","host/persistence","aps/i18n","host/deferredRenderer","host/analytics","host/render/navigationButtons","host/render/modal","dojo/text!./templates/itemFirstLevel.html","dojo/text!./templates/itemSecondLevel.html","dojo/text!./templates/imageIcon.html","dojo/text!./templates/fontIcon.html","dojo/text!./templates/childFontIcon.html","host/appsHub","aps/Button","aps/Toolbar","aps/PageContainer","host/Modal","host/widgets/Button","host/widgets/GalleryModal"],function(d,e,p,l,u,f,h,v,n,a,m,t,g,i,o,s,r,y,w,b,x,I,c){var C=c.openApp,N=c.closeApp,A=void 0,S=void 0,L=void 0,k=void 0,M=void 0,T=void 0,E=void 0,P=void 0,j=void 0,V=void 0,B=void 0,H=void 0,D=void 0,z=void 0,R=void 0,F=void 0,O="ccp",q=aps.version,W="/ccp-users/help",U="/ccp-users/viewUser",G=null,J=null,Y=null,$="xs"===aps.context.visibleMode,X={},Q={},K={};function Z(e){h(".navbar-brand").style("display",e?"none":""),h("#menuLabel").style("display",e?"":"none").innerHTML(e||"")}function ee(){return!h(h("#ccp-navbar li[data-target='#ccp-sidebar']")[0]).containsClass("collapsed")}function te(e){var t=e||aps.navigation.userMenu;return!!t&&m.isUserMenuActive(t)}function ie(e,o){var s=o?I:x,r=o?w:y,c=document.createDocumentFragment();return e.forEach(function(e){var t="icon"===e.img.type?s:b,i=e.img.path?e.img.path.slice(0,e.img.path.indexOf("-")):"fa",a=p.create("li",{id:e.id,class:e.active?"active":"","data-title":e.label,innerHTML:u.replace(r,{domNode:u.replace(t,{fontFamily:i,icon:e.img.path,original:e.img.original}),src:e.src,label:e.label,hint:e.hint,customClass:e.customClass||""})},c);d("trident")&&/\.svg$/i.test(e.img.path)&&f.get(e.img.path,{handleAs:"text"}).then(function(e){var t=document.createElement("div");t.innerHTML=e;var i=h("> svg",t);v.toArray(i[0].attributes).forEach(function(e){i.removeAttr(e.name)});var n=o?"15":"23";i.attr({width:n,height:n,viewBox:"0 0 30 30",preserveAspectRatio:"xMinYMin"}),h("img",a).replaceWith(i)});var n=e.onClick?e.onClick:ce;h(a).on("click",function(e){G=o?2:1,n(e)})}),c}function ne(){function c(e){var t=e.package,i={type:t&&"fa"!==t.type?"image":"icon",path:void 0};return t&&(i.path="icon"===i.type?t.icon:t.url+"/"+t.id+"/"+t.icon,i.original=t.useOriginalIcon),i}var e=aps.navigation.tree&&aps.navigation.tree.items;J=e.map(function(e){var t=$?!te()&&m.isActive(e):m.isActive(e),i=e.id,n=v.escape(e.label),a=v.escape(e.hint),o=[];aps.context._sessionId&&o.push("bw_id="+aps.context._sessionId);var s=u.replace("/{contextRoot}/i/{item}{subscription}{params}",{contextRoot:O,item:v.escape(m.getNavId(e.id)),subscription:e.subscriptionId?"/s/"+e.subscriptionId:"",params:o.length?"?"+o.join("&"):""}),r=(e.children||[]).filter(function(e){return"item"===e.type}).map(function(e){return{id:e.id,src:"/"+O+"/i/"+v.escape(m.getNavId(e.id)),label:v.escape(e.label),active:m.isActive(e),img:c(e)}});return{id:i,active:t,label:n,hint:a,src:s,img:c(e),customClass:e.customClass,subItems:r}});var t=aps.navigation.userMenu;if($&&t){J.unshift({id:t.directLink,active:te(),label:t.label,hint:"",src:t.directLink,img:{type:"icon",path:t.icon},subItems:t.items.map(function(e){return{id:e.directLink,active:te(e),src:e.directLink,label:e.label,img:{type:"icon",path:e.icon}}})});var i=aps.navigation.helpMenu;i&&i.items&&0<i.items.length&&J.push({id:i.directLink,active:!1,label:i.label,hint:"",src:i.directLink,img:{type:"icon",path:i.icon},subItems:i.items.map(function(t,e){return{id:"help-link-"+e,active:!1,src:t.directLink,label:t.label,img:{type:"icon",path:t.icon},onClick:function(e){e.preventDefault(),window.open(t.directLink,"_blank")}}})})}Y=J.find(function(e){return e.active})}function ae(e){if(S.removeClass("collapsed"),A.style("display","none"),T.removeClass("wizard"),!e||!e.subItems||!e.subItems.length)return Z(R),void L.addClass("in");var t,i=T.children("ul")[0];i.innerHTML="",p.place(ie(e.subItems,!0),i),t=e.label,T.addClass("in collapse").style("display",""),h("#viewLabel").style("display","none"),Z(t),k.style("display","")}function oe(){T.removeClass("in").style("display","none"),L.removeClass("in"),h("#viewLabel").style("display",""),Z(""),S.addClass("collapsed"),A.style("display",""),k.style("display","none")}function se(e){var t=!1;if(K[aps.apsc.hub._currentContainerId]&&(t=!0),$)switch(e){case void 0:L.addClass("in"),T.addClass("in"),Z(R),k.style("display","none");break;case!0:oe();break;case!1:ae(Y)}else L.toggleClass("userHide",t),T.toggleClass("userHide",t),t||(L.toggleClass("in",!e),k.style("display","none"),S.toggleClass("collapsed",e),A.style("display",e?"":"none"))}function re(){var e=document.getElementById("ccp-navigation");if(e){var t=T.children("ul")[0];T.addClass("collapse").removeClass("in"),e.innerHTML="",M.active||(t.innerHTML=""),ne(),p.place(ie(J),e);var i,n=u.getObject("subItems.length",!1,Y);$?(se(!0),n&&1===G&&Y&&ae(Y)):(!n&&M.active||!Y||(i=Y.label,T.query(".lead").text(i).style("display",""),p.place(ie(Y.subItems,!0),t)),T.style("display",n?"":"none"),se(n||2===G)),G=null,h.NodeList([e,t]).query("a").on("click",function(e){e.preventDefault()})}}function ce(e){e.preventDefault();var t=h(e.target).closest("a")[0].href;if("javascript:void(0)"!==t)if(t.includes("/ccp/signout"))location.href=t;else{if($){var i=t.includes(W),n=t.includes(U)&&1===G;if(i||n){var a=i?W:U,o=J.find(function(e){return e.id.includes(a)});return se(!0),void ae(o)}}aps.apsc.gotoURL("/"+t.match(/\/ccp\/(.*)/)[1])}}function de(){if(!Q[aps.apsc.hub._currentContainerId]){var e=u.getObject("aps.navigation.startTime")||0;o.pushData({event:e?"viewShown":"panelReady",eventLabel:aps.context._view.id,eventValue:performance.now()-e,eventAction:aps.context._view.label})}}Object.defineProperty(aps,"version",{get:function(){v._logError("Access:versionProperty")}});var pe=function(e){var t=h(".ccp-content-header");t.removeClass("impersonated-header").toggleClass("minimized",e),h("#ccp-view-impersonated",t[0]).length&&t.toggleClass("impersonated-header",e)};return{_leftMenuCollapsed:!1,_navBarMenuItems:{},init:function(e,t){var i=this;R=_("Menu"),F=_("Notifications"),M=e,L=h("#ccp-sidebar"),T=h("#ccp-sidebar-level-2"),k=h("#menuArrow"),A=h("#bcArrow"),E=t,V=h("#notify-warnings"),j=h("#notify-problems"),H=h("#notify-tabs"),B=h("#notify-activities"),P=h("#ccp-notify"),D=h("#problemsTab"),z=h("#warningsTab"),S=h("#ccp-navbar [data-target='#ccp-sidebar']"),d("aps-bs")?re():ne(),h("#account-id-tag").innerHTML(_("Account ID")+": "),h("#account-id-number").innerHTML(""+aps.context._accountId),S.on("click",function(){var e=ee();i.displayNotifySidebar(!1),i.collapseLeftMenu(e)}),h("#ccp-title a, #bcArrow").on("click",function(){a.back()}),k.on("click",function(){i.collapseLeftMenu()}),h("[data-target='#ccp-notify']:not(#ccp-notify-warnings):not(#ccp-notify-activities)").on("click",function(){i.switchMenuItem("ccp-notify-warnings"),i.hideOthers({id:"ccp-notify-warnings"})}),h(".ccp-navbar-item").on("click",function(){i.switchMenuItem(this.id),i.hideOthers(this)}),h("#ccp-user-menu li").on("click",function(e){e.preventDefault(),i.handleUsermenuItem(this)}),s.create({containerId:aps.buttonsContainerId,wizard:M}),r.create("aps2MashupArea"),n(["host/widgets/GalleryModal",{id:"galModal"}],"aps2MashupArea"),n(["aps/MessageList",{id:"msList"}],"ccp-messages"),"xs"!==aps.context.visibleMode&&aps.context._isLogoLinkNeeded&&h("#viewLabel").on("click",function(){a.reset(),E({viewId:aps.navigation.tree.items[0].id,type:"item"})}),d("ios")&&"xs"===aps.context.visibleMode&&window.addEventListener("orientationchange",function(){h("#aps2MashupArea > div:not(.modal) iframe").forEach(function(e){e.width=window.top.document.body.offsetWidth})}),window.addEventListener("error",function(e){var t=aps.context._view.id,i=aps.context._view.label,n=e.message+" @ "+e.filename+":"+e.lineno+":"+e.colno;o.pushException(t,i,n)},!1),window.addEventListener("unhandledrejection",function(e){var t=aps.context._view.id,i=aps.context._view.label,n=e.reason&&e.reason.toString();o.pushException(t,i,n)},!1),["keyup","mouseup","mousemove","touchend","touchmove"].forEach(function(e){document.body.addEventListener(e,aps.apsc.touchSession,!0)})},createIframe:function(e){var t=e.appId,i=e.cb,n=e.view,a=e.isScrollable,o=void 0;o=(aps.context._view=n).isVue?n.src.replace(".html",""):n.spa?n.src.split("/ui")[0]+"/ui/bootstrap"+(n.isReact?"React":"")+"App.html":n.src,aps.context._devMode||!q||n.isVue||(o+=(-1<o.indexOf("?")?"&":"?")+"apsUIRuntimeVersion="+q),C(t,{viewUrl:o,view:n},{scrolling:a?"yes":"no"}),aps.apsc.ready=function(){!n.popup&&"xs"===aps.context.visibleMode&&d("ios")&&(document.getElementById(t).width=window.top.document.body.offsetWidth),i()}},deleteIframe:function(e){N(e);var t=aps.navigation.views;for(var i in t)t[i].id&&t[i].id.split("#")[0]==e&&delete t[i]},iframeToPopup:function(e,t){e&&de(),t=t||{};var i=l.byId("Modal");t.label&&i.set("title",t.label),t.description&&i.set("description",t.description),t.size&&i.set("size",t.size),i[e?"show":"hide"](t.modal)},restructLeftMenu:function(){re()},restructBtns:function(e,t){t?r.restructBtns(e):i.addAction(function(){return s.restructBtns(e)})},changeHint:function(e){h("#ccp-title-hint").innerHTML(v.escape(e)||"")},changeLabel:function(e,t){e=e||"",t?l.byId("Modal").set("title",e):(h("xs"===aps.context.visibleMode?"#viewLabel":"#ccp-title > span").innerHTML(v.escape(e)),a.storeCurrentLabel(e))},changeDescription:function(e,t){e=e||"",t?l.byId("Modal").set("description",e):h("#ccp-view-description").innerHTML(v.escape(e))},changeLegacyElements:function(e){h("#legacy-items").style("display","").innerHTML(e)},resetLegacyElements:function(){h("#legacy-items").style("display","none").innerHTML("")},changeBreadcrumbs:function(e,t){t?a.setHandler(t):a.resetHandler(),"xs"===aps.context.visibleMode&&"none"===k.style("display")[0]?h("#bcArrow a").style("display",e?"":"none"):h("#ccp-breadcrumb").style("display",e?"":"none").children("a").children("span").at(1).innerHTML(v.escape(e)||"&nbsp;")},restoreBreadcrumbs:function(){this.changeBreadcrumbs(aps.context._view.breadcrumbs)},hideContent:function(){h("#ccp-content").removeClass("visible-spin").addClass("hidden-spin")},showContent:function(){de(),setTimeout(function(){h("#ccp-content").replaceClass("visible-spin","hidden-spin")},50)},showFrame:function(e){$?setTimeout(function(){h(e).style("display",""),pe(X[e.id]||!1)},50):(h(e).style("display",""),pe(X[e.id]||!1));var t=aps.context._view;if(t&&!t.popup){var i=h("#ccp-content");i.length&&(i[0].scrollTop=0)}},hideFrame:function(e){h(e).style("display","none"),pe(!1)},maximizeFrame:function(e){pe(e),X[aps.apsc.hub._currentContainerId]=e},displayFixedPopup:function(e,t){h("#ccp-fixed-popup").style("display",e?"":"none").innerHTML(e?t:"")},standby:function(e){e?i.isInProgress()||i.start():(aps.app.pageEnd&&aps.app.pageEnd(document.location.href,t.getCookie("JSESSIONID")),i.run())},setActiveNotifyTab:function(e){var t="problems"===e;j.concat(D).toggleClass("active",t),V.concat(z).toggleClass("active",!t);var i=t?j[0]:V[0];i&&(i.scrollTop=0)},showTypeNotifications:function(e){var t="warnings"===e;H.style("display",t?"":"none"),B.style("display",t?"none":""),t?"none"!==D.style("display")[0]?this.setActiveNotifyTab("problems"):this.setActiveNotifyTab("warnings"):B[0].scrollTop=0},displayNotifySidebar:function(e,t){var i=t||h("[data-target='#ccp-notify']");h("#ccp-notify-activities").containsClass("collapsed")||m.setAllLocalStorageNotificationsToRead(),i.toggleClass("collapsed",!e),P.toggleClass("in",e),$&&(h("li[data-target='#ccp-notify']:not(#ccp-notify-warnings):not(#ccp-notify-activities)").toggleClass("collapsed",!e),e?(oe(),Z(F)):Z(ee()?Y.label:""))},getNavbarMenuItem:function(e){var t=this._navBarMenuItems[e];return t||(t=this._navBarMenuItems[e]=h("#"+e)),t},switchMenuItem:function(e){var t=this.getNavbarMenuItem(e),i=void 0,n=void 0;"ccp-notify-warnings"==e?(i=this.getNavbarMenuItem("ccp-notify-activities"),this.showTypeNotifications("warnings"),n=aps.notifications.warnings.length):"ccp-notify-activities"==e&&(i=this.getNavbarMenuItem("ccp-notify-warnings"),this.showTypeNotifications("activities"),n=aps.notifications.activities.length),"ccp-notify-warnings"!=e&&"ccp-notify-activities"!=e||(h("#notify-none").style("display",n?"none":""),i.containsClass("collapsed")?this.displayNotifySidebar(t.containsClass("collapsed"),t):(t.toggleClass("collapsed"),i.toggleClass("collapsed").toggleClass("open"))),t.toggleClass("open")},closeMenuItem:function(e){var t=e.id;"ccp-notify-warnings"==t&&this.displayNotifySidebar(!1),this.getNavbarMenuItem(t).removeClass("open")},hideOthers:function(e){var t="";"ccp-notify-activities"==e.id?t=":not(#ccp-notify-warnings)":"ccp-notify-warnings"==e.id&&(t=":not(#ccp-notify-activities)"),h(u.replace(".ccp-navbar-item:not(#{id})"+t,e)).forEach(this.closeMenuItem.bind(this))},showNotification:function(t){(l.byId("notificationPopup")?(new e).resolve():n([["aps/Container",{id:"notificationPopup",visible:!1},[["aps/FieldSet",[["aps/Output",{id:"alp_outputDate",label:_("Date")}],["aps/Output",{id:"alp_outputDetails"}],["aps/Output",{id:"alp_outputService",label:_("Services")}],["aps/Output",{id:"alp_outputInitiator",label:_("User"),onClick:function(){this.initiatorId&&aps.apsc.gotoView("http://www.parallels.com/ccp-users#viewUser",this.initiatorId)}}],["aps/Output",{id:"alp_outputIpAddress",label:_("User IP Address")}]]],["aps/Toolbar",{id:"alp_toolbar"},[["aps/Button",{id:"alp_entityButton",autoBusy:!1,isDefault:!0,onClick:function(){this.linkMore&&aps.apsc.gotoURL(this.linkMore)}}]]]]]],l.byId("Modal").containerNode)).then(function(){!function(e){var t=m.notificationLocalize(e,"fullDetails"),i=m.notificationLocalize(e,"details"),n=m.notificationLocalize(e,"linkMoreText"),a=t?_("Full Details"):_("Details"),o=t||i||_("None");"announcement"!==e.type&&(o=v.escape(o));var s=v.escape(e.initiator),r=e.created,c=e.modified;[{id:"alp_outputDate",params:{value:g.formatDatetime(new Date(c)>new Date(r)?c:r)}},{id:"alp_outputDetails",params:{label:a,value:o,content:o}},{id:"alp_outputService",params:{value:e.service}},{id:"alp_outputInitiator",params:{value:e.service,initiatorId:e.initiatorId,content:e.initiatorId?"<a>"+s+"</a>":s}},{id:"alp_outputIpAddress",params:{value:e.ipAddress}},{id:"alp_entityButton",params:{label:n,linkMore:e.linkMore}}].forEach(function(e){var t=l.byId(e.id);if(t){var i=e.params;t.set(u.mixin(i,{visible:!(!i.value&&!i.linkMore)}))}})}(t),l.byId("notificationPopup").set("visible",!0);var e=l.byId("Modal");e.set({title:t.message?m.notificationLocalize(t,"message"):""}),h("a",e.domNode).attr("target","_blank"),h(e.domNode).on("click",function(e){"A"===e.target.tagName&&e.stopPropagation()}),e.show()})},_showInNotifySidebar:function(e){var t=h("#ccp-notify-"+(["upcoming","existing"].includes(e)?"warnings":"activities"));t.containsClass("collapsed")&&t[0].click(),this.setActiveNotifyTab("upcoming"===e?"warnings":"problems")},removeNotification:function(e,t){t.forEach(function(t){aps.notifications[e].some(function(e){if(t===e.id)return e.widget.closeNode.click(),!0})})},collapseLeftMenu:function(e){se(this._leftMenuCollapsed=e)},collapseLeftMenuProgrammatically:function(e){$||((K[aps.apsc.hub._currentContainerId]=e)?se():re())},handleUsermenuItem:function(e){var t=h("a",e)[0].href;t.includes("/ccp/signout")?location.href=t:e.id?aps.apsc.gotoView(e.id):aps.apsc.gotoURL("/"+t.match(/\/ccp\/(.*)/)[1])},useCustomScreenLoadingReporting:function(e){Q[aps.apsc.hub._currentContainerId]=e}}})},"host/analytics":function(){define([],function(){return{pushData:function(e){var t=e.analyticsType&&e.data?e:{data:e};window.aps.apsc.pushData(t)},pushException:function(e,t,i){window.aps.apsc.pushException(e,t,i)}}})},"host/render/navigationButtons":function(){define(["dijit/registry","aps/load","aps/lang","host/breadcrumb"],function(i,o,s,r){var c=void 0,d=void 0;return{create:function(e){for(var t in d=e.wizard,c={prev:{label:_("Back"),type:"link",iconClass:"fa-arrow-left",autoBusy:!1},next:{label:_("Next"),type:"primary",iconClass:"fa-arrow-right"},submit:{label:_("Submit"),type:"success",iconClass:"fa-check"},finish:{label:_("Finish"),type:"success",iconClass:"fa-check"},cancel:{label:_("Cancel"),type:"link",iconClass:"fa-times",autoBusy:!1}})s.mixin(c[t],{visible:!1,disabled:!1,isBusy:!1});var i=function(){return(d.view.isVue?"vue_":"")+d.view.id.split("#").shift()},n={prev:["host/widgets/Button",{id:"prevNav",onClick:function(){aps.app.onPrev()}}],next:["host/widgets/Button",{id:"nextNav",onClick:function(){aps.app.onNext()}}],submit:["host/widgets/Button",{id:"submitNav",onClick:function(){d.active&&(aps.apsc.hub._currentContainerId=i()),r.setExtractFlag(!0),aps.app.onSubmit()}}],finish:["host/widgets/Button",{id:"finishNav",onClick:function(){d.active&&(aps.apsc.hub._currentContainerId=i()),r.setExtractFlag(!0),aps.app.onSubmit()}}],cancel:["host/widgets/Button",{id:"cancelNav",isLeft:!0,onClick:function(){r.setExtractFlag(!0),d.active?(aps.apsc.hub._currentContainerId=i(),aps.app._apply(d.view.id.split("#").pop(),"onCancel",d.view)):aps.app.onCancel()}}]},a=("md"===s.getObject("aps.context.visibleMode")?["cancel","finish","submit","next","prev"]:["next","submit","finish","prev","cancel"]).map(function(e){var t=n[e],i=t[1];return s.mixin(i,c[e]),t});return o(["aps/Toolbar",{id:"btnPanel",visible:!1},a],e.containerId)},restructBtns:function(e){var t=i.byId("btnPanel");if(!e&&!d.active)return window.dispatchEvent(new CustomEvent("HOST-NAV-PANEL-STATE",{detail:{navPanelState:!1}})),void t.set("visible",!1);t.getChildren().forEach(function(e){e.set(c[e.id.replace("Nav","")])}),e&&e.forEach(function(e){var t=i.byId(e.type+"Nav");t.set("visible",!0),e.label&&t.set("label",e.label)}),d.active&&d.restructWizardBtns(),t.set("visible",!0),window.dispatchEvent(new CustomEvent("HOST-NAV-PANEL-STATE",{detail:{navPanelState:!0}})),window.dispatchEvent(new CustomEvent("HOST-NAV-PANEL-SET-CONTROLS",{detail:{controls:t.getChildren()}}))},updateButtons:function(){var e=i.byId("btnPanel");window.dispatchEvent(new CustomEvent("HOST-NAV-PANEL-SET-CONTROLS",{detail:{controls:e.getChildren()}}))}}})},"host/render/modal":function(){define(["dijit/registry","aps/load"],function(i,t){var o={submit:{id:"submitPopupNav",onClick:function(){aps.app.onSubmit()},label:_("Submit"),type:"success",iconClass:"fa-check",visible:!1,disabled:!1,isBusy:!1},cancel:{id:"cancelPopupNav",onClick:function(){aps.app.onCancel()},label:_("Cancel"),type:"link",iconClass:"fa-times",autoBusy:!1,visible:!1,disabled:!1,isBusy:!1}};return{create:function(e){return t([["host/Modal",{id:"Modal",size:"lg",onClose:function(){aps._isBusy||aps.app.onCancel(),this.removeAll()}},[["host/widgets/Button",o.submit],["host/widgets/Button",o.cancel]]],["aps/PageContainer",{startup:function(){}}]],e)},restructBtns:function(e){var n=i.byId("submitPopupNav"),a=i.byId("cancelPopupNav");e?e.forEach(function(e){var t=void 0;if("submit"===e.type&&(t=n),"cancel"===e.type&&(t=a),t){var i={visible:!0,label:e.label||_(o[e.type].label)};e.btnType&&(i.type=e.btnType),e.btnIcon&&(i.iconClass=e.btnIcon),t.set(i)}}):(n.set(o.submit),a.set(o.cancel));var t=[i.byId("submitPopupNav"),i.byId("cancelPopupNav")];window.dispatchEvent(new CustomEvent("HOST-MODAL-SET-CONTROLS",{detail:{controls:t}}))},updateButtons:function(){var e=[i.byId("submitPopupNav"),i.byId("cancelPopupNav")];window.dispatchEvent(new CustomEvent("HOST-MODAL-SET-CONTROLS",{detail:{controls:e}}))}}})},"host/Modal":function(){define(["dojo/keys","dojo/dom-construct","dojo/has","dijit/registry","dijit/_WidgetsInTemplateMixin","aps/lang","aps/declare","aps/_ContainerBase","aps/query","aps/_TemplatedWidget","dojo/text!./templates/Modal.html"],function(i,t,a,o,e,s,n,r,c,d,p){function l(t){var e=aps.apsc.hub._currentContainerId,i=c(".modal-content")[0];if(e){if(c(t?"a, button, input, div[tabIndex='0']":"*[tabIndex = '-10']").forEach(function(e){i.contains(e)||-1==c(e).attr("tabIndex")||c(e).attr("tabIndex",t?-10:0)}),e.startsWith("popup_")){var n=s.getObject("aps.navigation.tree.context"),a=n&&n[Math.max(0,n.length-2)];a&&(aps.apsc.hub._currentContainerId=a.viewId.split("#").shift())}aps.app._isolateTabIndex(t),aps.apsc.hub._currentContainerId=e}}function u(e,t){e.style("display","block").animateProperty({duration:150,properties:{opacity:t},onEnd:function(){e.addClass("in")}}).play()}return n([d,r,e],{title:"",description:"",templateString:p,baseClass:"apsModal",size:"md",_setTitleAttr:{node:"titleNode",type:"innerHTML"},_setDescriptionAttr:{node:"descriptionNode",type:"innerHTML"},_apsPageContainerId:"apsPageContainer",_setSizeAttr:function(e){c("div",this.domNode).at(0).removeClass("modal-"+this.size).addClass("modal-"+e),this._set("size",e)},layout:function(){this.getChildren().forEach(function(e){this.addChild(e)},this)},addChild:function(e,t){this._instanceof(e,"aps/Button")?this.toolbarNode.addChild(e,t):c(e.domNode).place(this.containerNode,t)},show:function(e){if(a("aps-bs")&&"undefined"!=typeof window&&aps&&aps.navigation&&aps.navigation.vueWorkspace)window.dispatchEvent(new CustomEvent("HOST-OPEN-MODAL",{detail:{title:this.title,description:this.description}}));else{var t=c(o.byId(this._apsPageContainerId).modalNode);c(document.body).addClass("modal-open"),e?(u(t,.5),u(c(this.domNode),1)):(t.style({display:"block",opacity:0}).addClass("in"),c(this.domNode).style({display:"block",opacity:1}).addClass("in"));var i=c(".modal-footer button.btn-success")[0],n=c(".modal-header button.close")[0];document.body.focus(),i&&"none"!==window.getComputedStyle(i).display?i.focus():n&&n.focus(),l(!0)}return this},_blur:function(){var e=t.toDom('<input type="text" style="position:fixed;top:0px;" readonly>');document.body.appendChild(e),e.focus(),e.blur(),e.remove()},hide:function(){a("ios")&&this._blur();var e=c(o.byId(this._apsPageContainerId).modalNode);return c(document.body).removeClass("modal-open"),e.style({display:"none",opacity:0}).removeClass("in"),c(this.domNode).style({display:"none",opacity:0}).removeClass("in"),l(!1),this},onClose:function(){},postCreate:function(){this.inherited(arguments);var t=this;c(this.domNode).style("display","none"),this.own(c(document.body).on("keydown",function(e){e.keyCode===i.ESCAPE&&t._onClose()}),c(this.domNode).on("click",function(e){e.target.id===t.id&&t._onClose()}))},_onClose:function(){this.onClose(),this.hide()}})})},"host/widgets/Button":function(){define(["aps/declare","aps/query","aps/Button"],function(e,t,i){return e(i,{_setIsLeftAttr:function(e){this.isLeft=e,"xs"!==aps.context.visibleMode&&t(this.domNode).toggleClass("pull-right",!e)},postCreate:function(){this.inherited(arguments),this.set("isLeft",this.isLeft)}})})},"host/widgets/GalleryModal":function(){define(["dojo/dom-construct","aps/common","aps/declare","aps/Memory","aps/query","aps/_TemplatedWidget","dijit/_WidgetsInTemplateMixin","dojo/text!../templates/GalleryModalBS.html","aps/Gallery"],function(o,s,e,d,p,t,i,n){var a="Show Gallery",l="xs"===aps.context.visibleMode;function u(e,t){var i=t._srcArray[e],n=t.fullSizeNode,a=p(n);aps.apsc&&aps.apsc.showLoading(),t.set("isBusy",!0),a.empty(),o.create("img",{src:i.src,alt:i.alt},n),t.modalTitleNode.innerHTML=s.escape(i.alt),t.counterNode.innerHTML=e+1+"/"+t._total,t._currentIndex=e,l||(p(t.modalPrevNode).style("display",0<e?"":"none"),p(t.modalNextNode).style("display",e<t._total-1?"":"none")),a.style("display",""),t.set("isBusy",!1),aps.apsc&&aps.apsc.hideLoading()}function f(e,t){var i=t.gallery._itemsArray;p(i[t._currentIndex]).removeClass("active"),p(i[e]).addClass("active")}function r(e,t){var i=e?1:-1,n=t._currentIndex+i;l||f(n,t),u(n,t)}return e([t,i],{templateString:n,baseClass:"apsGalleryModal",_currentIndex:void 0,_srcArray:void 0,_total:void 0,postCreate:function(){var i=this,e=this.gallery;this.inherited(arguments),this.set("visible",!1),this.showGalleryNode.innerHTML=_(a),e._isInModal=!0,e._itemHeight="70",p(e.prevNode).addClass("inModal"),p(e.nextNode).addClass("inModal"),p(this.showNode).style("display",l?"none":"");var t=function(e){return t=i,void(27==e.keyCode&&t._closeModal());var t};window.addEventListener("keydown",t),this.own({destroy:function(){return window.removeEventListener("keydown",t)}})},openModal:function(e,t){var a=this,i=aps.context._view.src,n=i.lastIndexOf("/"),o=i.slice(0,n+1);if(this.set("visible",!0),this._total=t.length,this._srcArray=t.map(function(e){var t=e.src.charAt(0);return{src:"."===t||"/"===t?""+o+e.src:e.src,alt:e.alt}}),u(e,this),!l){var s=this.gallery,r=new d({data:this._srcArray});s.set("store",r);var c=s._itemsArray;c.forEach(function(n){a.own(p(n).on("click",function(){return t=n,e=a,i=c.findIndex(function(e){return e.id===t.id}),l||f(i,e),void u(i,e);var t,e,i}))}),p(c[e]).addClass("active"),document.getElementsByClassName("apsGalleryModal")[0].focus()}},_closeModal:function(){this.set("visible",!1)},_prevItem:function(){r(!1,this)},_nextItem:function(){r(!0,this)},_galleryVisibility:function(){var e=p(this.modalGalleryNode),t="none"===e.style("display")[0];if(e.style("display",t?"":"none"),this.showGalleryNode.innerHTML=t?_("Hide Gallery"):_(a),t?p(this.caretNode).removeClass("fa-caret-up").addClass("fa-caret-down"):p(this.caretNode).removeClass("fa-caret-down").addClass("fa-caret-up"),t){var i=this.gallery;0==i._allItemsWidth&&i._itemsArray.forEach(function(e){i._allItemsWidth+=e.offsetWidth}),i._allItemsWidth>i.containerNode.offsetWidth&&p(i.nextNode).style("display","")}}})})},"aps/Gallery":function(){define(["dojo/dom-construct","dojo/when","aps/common","aps/declare","aps/query","aps/_ItemsMovingMixin","aps/_TemplatedWidget","dojo/text!./templates/bs3/GalleryBS.html"],function(d,i,e,t,m,n,a,o){var r=e._throttle,g="xs"===aps.context.visibleMode,y=(g?400:600)+70,c=["gitem","gal-nav-btn"];function w(e,t,i){var a=i._indicatorArray,n=i._itemsArray.length-1;if(n<7)return a.forEach(function(e){return m(e).removeClass()}),void m(a[e]).addClass("active");function o(e,t,i,n){n?n.forEach(function(e){return m(a[e]).removeClass("active")}):a.forEach(function(e){return m(e).removeClass()}),m(a[e]).addClass("active"),t.forEach(function(e){return m(a[e]).addClass("ind_small")}),i.forEach(function(e){return m(a[e]).addClass("ind_none")})}switch(e){case 0:o(0,[3,4],[5,6]);break;case 1:o(1,[],[],[0,2]);break;case 2:o(2,[3,4],[5,6]);break;case 3:o(3,[0,4,5],[6]);break;case 4:o(2,[0,1,5,6],[]);break;case n-4:o(4,[0,1,5,6],[]);break;case n-3:o(3,[1,2,6],[0]);break;case n-2:o(4,[2,3],[0,1]);break;case n-1:o(5,[],[],[4,6]);break;case n:o(6,[],[],[4,5]);break;default:var s=e%3;o(0==s?4:s+1,[],[],[1,2,3,4,5])}}function b(i){i._itemsArray.forEach(function(e,t){t>=i._leftVisibleIndex&&t<=i._rightVisibleIndex?e.tabIndex=0:e.tabIndex=-1})}function s(e,t){var i=this;if(e.src){var n,a,o=e.id||"unique_"+(n=0,a=1e3,Math.floor(Math.random()*(a-n))+n),s=e.src,r=e.alt,c=d.create("li",{id:"gal-item-"+o,class:"gitem",onclick:this._isInModal?null:function(){return aps.apsc._call("_showGalleryModal",[t,i._srcArray])}},this.containerNode);return d.create("img",{src:s,alt:r,width:"auto",height:this._itemHeight},c),this._itemsArray=this._itemsArray||[],this._srcArray=this._srcArray||[],this._srcArray.push({src:s,alt:r}),c}}function p(n){var a=n._itemsArray,o=n.containerNode,s=0;n._allItemsWidth=0,n._isToRight=!0,a.forEach(function(t){var e=new Image,i=m(t);i.style("width",n._itemHeight+"px"),e.onload=function(){if(i.style("width","auto"),g&&s<7){n._indicatorArray=n._indicatorArray||[];var e=d.create("li",null,n.indicatorNode);n._indicatorArray.push(e)}0==s&&(m(n.galleryNode).style("display",""),m(o).style("left","0px"),n._leftVisibleIndex=0),s++,n._allItemsWidth+=t.offsetWidth,n._setRightVisibleIndex(),b(n),n._allItemsWidth>o.offsetWidth&&m(n.nextNode).style("display",""),g&&1<s&&(w(0,0,n),m(n.indicatorNode).style("display","")),s==a.length&&(n._isLoaded=!0)},e.src=t.children[0].src})}function l(e,t){var i,n,a,o,s,r,c,d,p,l,u,f,h,v;e?function(e){var t=e._itemsArray,i=t.length-1,n=e.containerNode,a=m(n),o=parseInt(a.style("left"),10),s=n.offsetWidth-o,r=t[i],c=e._getItemBorder(r.id,!0),d=void 0,p=void 0,l=void 0,u=void 0,f=void 0;e._rightVisibleIndex<e._leftVisibleIndex&&e._rightVisibleIndex++;var h=(d=e._rightVisibleIndex==i?(p=i,u=c,!1):(e.oneItemStep?(f=t[p=e._isToRight?e._leftVisibleIndex+1:e._leftVisibleIndex],(l=e._getItemBorder(f.id,!1))<-o&&(p=e._leftVisibleIndex+1)):p=e._rightVisibleIndex+1,f=t[p],l=e._getItemBorder(f.id,!1),(u=l+n.offsetWidth)<=c))?-l:o-c+s;a.style("left",h+"px"),m(e.prevNode).style("display",""),g&&w(p,0,e),setTimeout(function(){e._isToRight=u<c,m(e.nextNode).style("display",e._isToRight?"":"none"),d?(e._leftVisibleIndex=p,e._setRightVisibleIndex()):(e._rightVisibleIndex=i,e._setLeftVisibleIndex()),b(e)},y)}(t):(n=(i=t)._itemsArray,a=i.containerNode,o=m(a),s=parseInt(o.style("left"),10),r=a.offsetWidth-s,c=n[0],d=i._getItemBorder(c.id,!1),h=f=u=l=p=void 0,v=(p=0==i._leftVisibleIndex?(l=0,f=d,!1):(i.oneItemStep?(h=n[l=i._isToRight?i._rightVisibleIndex:i._rightVisibleIndex-1],r<(u=i._getItemBorder(h.id,!0))&&(l=i._leftVisibleIndex-1)):l=i._leftVisibleIndex-1,h=n[l],u=i._getItemBorder(h.id,!0),f=u-a.offsetWidth,d<=f))?a.offsetWidth-u:0,o.style("left",v+"px"),m(i.nextNode).style("display",""),g&&w(l,0,i),setTimeout(function(){i._isToRight=f<=d,m(i.prevNode).style("display",i._isToRight?"none":""),p?(i._rightVisibleIndex=l,i._setLeftVisibleIndex()):(i._leftVisibleIndex=0,i._setRightVisibleIndex()),b(i)},y))}return t([a,n],{templateString:o,baseClass:"apsGallery",title:"",description:"",store:null,oneItemStep:!1,_itemsArray:void 0,_indicatorArray:void 0,_allItemsWidth:void 0,_leftVisibleIndex:void 0,_rightVisibleIndex:void 0,_isToRight:void 0,_srcArray:void 0,_itemHeight:"200",_isInModal:!1,_isLoaded:!1,_move:void 0,startup:function(){var t=this;if(this.inherited(arguments),!this._destroyed){this.set("title",this.title),g&&m(this.containerNode).addClass("mobile"),this._itemsArray&&p(this);var e=function(){return function(e){var t=e._itemsArray,i=e.containerNode,n=m(i);if(t&&t.length){var a=e._getItemBorder(t[t.length-1].id,!0),o=parseInt(n.style("left"),10),s=i.offsetWidth-a;if(s<0){var r=s-o;0<r?(n.style("left",o+r+"px"),e._setLeftVisibleIndex()):e._setRightVisibleIndex(),m(e.nextNode).style("display",0<r?"none":"")}else m(e.prevNode).style("display","none"),m(e.nextNode).style("display","none")}}(t)};window.addEventListener("resize",e);var n,i,a,o,s=function(e){return function(e,t){var i=m(document.activeElement),n=c.some(function(e){return i.containsClass(e)});switch(e.keyCode){case 13:i.containsClass("gitem")?t._itemsArray.find(function(e){return e.id===i[0].id}).click():i.containsClass("gal-prev")?t._prevPage():i.containsClass("gal-next")&&t._nextPage();break;case 37:n&&(t.prevNode.focus(),t._prevPage());break;case 39:n&&(t.nextNode.focus(),t._nextPage())}}(e,t)};window.addEventListener("keydown",s),this.own({destroy:function(){window.removeEventListener("resize",e),window.removeEventListener("keydown",s)}}),g&&(this.oneItemStep=!0),this._move=r(l,y),i=m((n=this).domNode),o=a=void 0,n.own(i.on("touchstart",function(e){a=e.pageX,o=e.pageY}),i.on("touchend",function(e){var t=e.pageX,i=e.pageY;Math.abs(o-i)<30&&(10<Math.floor(t-a)?n._prevPage():10<Math.floor(a-t)&&n._nextPage())}))}},_setTitleAttr:function(e){this._set("title",e),this.titleNode.innerHTML=this._getForDOM("title"),m(this.headerNode).style("display",e||this.description?"":"none")},_setDescriptionAttr:{node:"descriptionNode",type:"innerHTML"},_setOneItemStepAttr:function(e){g||this._set("oneItemStep",e)},_setStoreAttr:function(e){var t=this;this._set("store",e),this._itemsArray&&(this._itemsArray=[],g&&(this._indicatorArray=[],m(this.indicatorNode).empty().style("display","none")),this._isLoaded=!1,m(this.containerNode).empty(),m(this.prevNode).style("display","none"),m(this.nextNode).style("display","none")),i(e.query(),function(e){t._itemsArray=e.map(s,t),e.length&&t._started&&p(t)})},_prevPage:function(){this._move(!1,this)},_nextPage:function(){this._move(!0,this)}})})},"aps/_ItemsMovingMixin":function(){define(["aps/declare","aps/query"],function(e,p){return e(null,{_getItemBorder:function(t,e){var i=0,n=this._itemsArray.findIndex(function(e){return e.id===t});n=e?n:n-1;for(var a=0;a<=n;a++)i+=this._itemsArray[a].offsetWidth;return e?i:i+1},_setLeftVisibleIndex:function(){for(var e=p(this.domNode).containsClass("apsTabs"),t=e?this._arrowWidth:0,i=e?this.tabsNode.scrollLeft:-parseInt(p(this.containerNode).style("left"),10),n=this._itemsArray,a=n[this._rightVisibleIndex].id,o=this._getItemBorder(a,!1),s=!1,r=void 0,c=this._rightVisibleIndex;-1<c;c--)c!=this._rightVisibleIndex&&(r=o,o-=n[c].offsetWidth),o<=i?(!s&&r<i+t&&this._leftVisibleIndex++,s=!0):this._leftVisibleIndex=c;!e&&this._leftVisibleIndex>this._rightVisibleIndex&&this._leftVisibleIndex--},_setRightVisibleIndex:function(){for(var e=p(this.domNode).containsClass("apsTabs"),t=e?this._arrowWidth:0,i=e?this.tabsNode:this.containerNode,n=e?i.scrollLeft+i.offsetWidth:i.offsetWidth-parseInt(p(i).style("left"),10),a=this._itemsArray,o=a[this._leftVisibleIndex].id,s=this._getItemBorder(o,!0),r=!1,c=void 0,d=this._leftVisibleIndex;d<a.length;d++)d!=this._leftVisibleIndex&&(c=s,s+=a[d].offsetWidth),n<=s?(!r&&n-t<c&&this._rightVisibleIndex--,r=!0):this._rightVisibleIndex=d;e||null!=this._rightVisibleIndex||(this._rightVisibleIndex=-1)}})})},"host/navigation":function(){define(["dojo/has","dojo/Deferred","dijit/registry","dojox/mvc/equals","aps/lang","aps/common","aps/nav/_schemaValidator","host/analytics","host/legacy","host/bizStorageAction","host/render","host/utils","host/navUtils","host/breadcrumb","host/persistence","host/deferredRenderer","host/widgets/ErrorPage404"],function(h,a,v,m,g,o,s,y,w,t,b,x,I,n,C,N,i){var A=h("aps-bs"),S={type:"",id:""},L=void 0,k=void 0,M=function(){};function r(){aps.navigation.startTime&&y.pushData({event:"contextSent",eventLabel:aps.context._view.id,eventValue:performance.now()-aps.navigation.startTime,eventAction:aps.context._view.label}),aps.app._onContext.apply(aps.app,arguments),aps._isBusy=!1,x.queue.shift()}function c(){N.addAction(function(){b.showContent(),A&&b.displayNotifySidebar(!1)})}function T(t,e,i,n){aps.apsc.hub._currentContainerId=e,function(i){var a={};if(i=i||{},aps.context.params)a=aps.context.params||a;else{for(var e in i)i[e].default&&(a[e]=i[e].default);aps.context.params=a}o.forEach(a,function(e,t){i[t]?"string"!=typeof e||"string"===i[t].type||i[t].type.includes("string")||(a[t]=JSON.parse(e)):o._logError("Navigation:NotFound",{name:t,viewId:aps.context._view.id})}),o.forEach(i,function(e,t){var i={viewId:aps.context._view.id,name:t,data:JSON.stringify(a[t])},n=function(){o._logError("Navigation:Invalid",i)};if(void 0===a[t]){if(!e.required)return;return i.reason="Missing required property",void N.addAction(n)}s.validate(a[t],e)||(i.reason=s.error.message,N.addAction(n))})}((aps.context._view=t).parameters),t.popup&&(I.popupDef=new a),t.spa?(t.isVue?setTimeout(function(){aps.apsc.hub._currentContainerId=e,r(t.id.split("#")[1],aps.context),window.UX1Framework.navigation({appId:e,viewName:t.id,context:aps.context})},0):i?aps.apsc._viewReady=function(e){t.size=e,setTimeout(function(){return r(t.id.split("#")[1],aps.context)},0),t.popup?b.iframeToPopup(!1,{size:t.size,modal:t.modal}):c()}:setTimeout(function(){aps.apsc.hub._currentContainerId=e,r(t.id.split("#")[1],aps.context)},0),aps.app._onView({id:t.id,viewId:t.id.split("#").pop(),src:t.src}),i||(t.popup||c(),b.iframeToPopup(!1,{size:t.size,modal:t.modal}))):(b.showContent(),x.queue.shift()),w.isAppIdLegacy(e)&&w.fixCSS(this),k.active||t.popup||n||x.changeURL(t,S),t.wizard&&(k.set("active",!0),(k.view=t).controls&&o.forEach(t.controls,function(e){"next"===e.type&&(k.nextLabel=e.label)}),k.set("steps",t.wizardState),k.params=aps.context.params),t.isVue&&(b.showContent(),x.queue.shift(),aps.apsc.hideLoading())}function E(e){var t=aps.context._view,i=t?x.getAppId(t):"",n=e.split("#");return{viewId:e=1<n.length||!t?e:i+"#"+e,appId:n=1<n.length?n[0]:i,context:{oldView:t,oldAppId:i,oldFrameAppId:t?x.getFrameAppId(t):""}}}function P(e,t){var i=e?x.getFrameAppId(e):"",n=document.getElementById(i);t&&e.popup&&b.hideFrame(n)}function j(e,t){if(x.queue.shift(),L)return b.showContent(),void aps.apsc.hideLoading();L=!0,n.extract();var i=aps.navigation.prevState||window.history.state;aps.context._view.inWizard?aps.apsc.gotoView(k.view.id):aps.apsc.gotoView(i.viewId,i.resourceId,i.params,i.subscriptionId),aps.apsc.displayMessage(e,t||"error"),b.showContent()}function V(){var e=aps.context._view,t=document.getElementById(aps.apsc.hub._currentContainerId);x.queue.shift(),N.setState({oldFrame:t,newFrame:void 0,isPopup:!1}),P(e,e.popup),N.addAction(function(){b.changeLabel(),b.changeBreadcrumbs(),b.changeHint(),b.changeDescription(),window.aps.navigation.isVueWorkspace?window.dispatchEvent(new CustomEvent("HOST-SHOW-RUNTIME-ERROR")):new i({id:"aps2MashupAreaErrorPage"}).placeAt("aps2MashupArea")}),aps.context._view={id:S.id},x.changeURL(aps.context._view,S),b.showContent(),aps.apsc.hideLoading()}return{init:function(e,t){k=e,M=t,x.queue.run=this.runView.bind(this),N.init({render:b})},toView:function(e){e.isPopup||t.clear(),e.viewId&&("string"==typeof e.viewId?(aps.navigation.startTime=performance.now(),e.context=g.getObject("aps.navigation.tree.context"),x.queue.push(e,void 0),1<x.queue.length||this.runView(e)):console.error("Invalid arguments were passed. Expected 'string', passed 'object'. Did you run the method from console? If yes then not all arguments are supported."))},runView:function(e){aps.apsc.showLoading(),delete aps.context.params,e.isPopup||(b.displayFixedPopup(),k.active&&1===e.viewId.split("#").length&&(e.viewId=k.view.id.split("#").shift()+"#"+e.viewId),k.set("active",!1)),b.resetLegacyElements(),this.changeView(e)},changeView:function(e){var t=e.type,i=e.resourceId,n=e.params,s=e.existView,r=e.isPopup,c=e.modal,d=e.context,p=e.subscriptionId,a=e.viewId;window.dispatchEvent(new CustomEvent("HOST-HIDE-RUNTIME-ERROR")),aps.apsc.setLoadingCount?aps.apsc.setLoadingCount(1):M(1),aps.navigation.prevState=window.history.state,aps._isBusy=!0,p=p||aps.context.subscriptionId;var l=aps.navigation;r?(v.byId("Modal").hide(),l.backViews.push({})):(I.hidePopup(!0),b.hideContent()),A&&(v.byId("msList").removeAll(),b.restructBtns(!1,r)),N.addAction(function(){var e=v.byId("aps2MashupAreaErrorPage");e&&e.destroy()});var o=E(a);a=o.viewId,p||o.appId===o.context.oldAppId||(p=void 0,aps.context.subscriptionId=void 0),aps.context.params=n,S={id:a,resourceId:i,subscriptionId:p,type:"v"};var u={placeholder:aps.placeholder?aps.placeholder:"http://www.parallels.com/ccp/2",resourceId:i,context:[],parameters:n,locale:aps.context._locale};u[t?"itemId":"viewId"]=a,p&&(u.subscriptionId=p),(d||[]).some(function(e){return u.context.push(e),!u.subscriptionId&&e.subscriptionId&&(u.subscriptionId=e.subscriptionId),e.viewId===a&&e.subscriptionId===p&&m(e.params,n)&&e.resourceId===i}),aps.app.pageBegin&&aps.app.pageBegin(document.location.href,a,r,C.getCookie("JSESSIONID"));var f=l.pmsCache;I.navigationInProgress=!0,I.getNavigation({parameters:u,view:s}).then(function(e){if(I.navigationInProgress=!1,L=!1,e.context)if(e.items){var t=void 0;if(!s){if(r){var i=l.backViews[l.backViews.length-1];i.backContext=l.tree,i.pmsCache=f}l.tree=e,d=e.context,t=d[d.length-1],N.addAction(function(){r||b.restructLeftMenu()}),y.pushData({event:"navigationResponded",eventLabel:t.viewId,eventValue:performance.now()-aps.navigation.startTime,eventAction:t.viewLabel})}var n=function(e,t,i){var n=E(e),a=x.getView(n.viewId),o=!a;o&&(I.addView(i,n.viewId),(a=x.getView(n.viewId)).popup=t);var s=x.getFrameAppId(a),r=s!==n.context.oldFrameAppId,c=n.context.oldView,d=document.getElementById(n.context.oldFrameAppId),p=r?document.getElementById(s):d;return N.setState({oldFrame:d,newFrame:p,isPopup:t}),r&&P(c,t),{view:a,frame:p,frameAppId:s,isNew:o}}(s?s.id:t.viewId,r,s),a=n.view;if(a.id===aps.context._view.id&&p!==aps.context.subscriptionId&&aps.app._duplicateViewContent(),aps.context.subscriptionId=s?s.subscriptionId:d.length?t.subscriptionId:void 0,a){if((a.popup=r)&&(a.modal=c),I.recheckViewState(a,s),A&&b.restructBtns(a.controls,r),aps.context.vars=a.vars,aps.context.varsMeta=a.varsMeta,aps.context._APSActorScope=a.APSActorScope,k.active||(aps.context._traceId=x.genGuid()),w.enrichNavigationContext(e),a.wizardState&&(aps.context.wizardState=a.wizardState=a.wizardState.filter(function(e){return!e.controls}).map(function(e){return e.controls=a.controls,e})),a.spa||(b.deleteIframe(n.frameAppId),n.frame=void 0),r&&I.saveBackView(),!n.frame||n.view.isVue&&!window.UX1Framework.getAppReady(n.frameAppId))b.createIframe({appId:n.frameAppId,cb:function(){return T(a,n.frameAppId,!0,s)},view:a,isScrollable:h("safari")||h("ios")&&w.isAppIdLegacy(n.frameAppId)}),N.setState({newFrame:document.getElementById(n.frameAppId)});else{var o=g.getObject("managed.frame.contentWindow.aps.apsc.lastResolveCall");!n.isNew&&!a.isVue&&o&&o(),T(a,n.frameAppId,n.isNew,s)}N.addAction(function(){s||(b.changeLabel(a.wizard?a.label:t.viewLabel,a.popup),r||(a.breadcrumbs=1<d.length?d[d.length-2].viewLabel:"",b.changeBreadcrumbs(a.breadcrumbs),b.changeHint(a.hint))),b.changeDescription(a.description,a.popup)})}else V()}else j("Incorrect navigation response!");else V()},function(e){if(e&&"cancel"!==e.dojoType)switch(e.response.status){case 404:V();break;case 410:j(_("Link is no longer available or object is deleted."),"warning");break;default:j(g.getObject("response.data.message",!1,e)||_("Navigation request fails, an error message is missing."))}})}}})},"dojox/mvc/equals":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/Stateful","./StatefulArray"],function(e,a,o,t){var i={getType:function(e){return a.isArray(e)?"array":a.isFunction((e||{}).getTime)?"date":null!=e&&("[object Object]"=={}.toString.call(e)||a.isFunction((e||{}).set)&&a.isFunction((e||{}).watch))?"object":"value"},equalsArray:function(e,t){for(var i=0,n=Math.max(e.length,t.length);i<n;i++)if(!s(e[i],t[i]))return!1;return!0},equalsDate:function(e,t){return e.getTime()==t.getTime()},equalsObject:function(e,t){var i=a.mixin({},e,t);for(var n in i)if(!(n in o.prototype||"_watchCallbacks"==n||s(e[n],t[n])))return!1;return!0},equalsValue:function(e,t){return e===t}},s=function(e,t,i){var n=i||s,a=[n.getType(e),n.getType(t)];return a[0]==a[1]&&n["equals"+a[0].replace(/^[a-z]/,function(e){return e.toUpperCase()})](e,t)};return a.setObject("dojox.mvc.equals",a.mixin(s,i))})},"host/legacy":function(){define(["aps/lang","aps/query","host/render","host/utils"],function(r,c,i,n){var d="http://www.parallels.com/ccp/legacy";function o(e){if(!(0<c("#bootstrap-is-needed",e).length)){c("link[rel=stylesheet][href*='bootstrap.css']",e).remove(),c("head>style",e).forEach(function(e){(e.innerHTML.includes("@import")&&e.innerHTML.includes("bootstrap.css")||e.innerHTML.includes(".ccp-content-body"))&&c(e).remove()});var t=".ccp-content-body { background: transparent; "+("xs"===aps.context.visibleMode?"":"max-width: 1280px; min-width: 860px; padding: 0 20px 60px; box-sizing: border-box;")+"}",i=e.head||e.getElementsByTagName("head")[0],n=e.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(e.createTextNode(t)),i.appendChild(n)}}function s(e){var t=e.document.getElementById(d);t&&r.exists("contentDocument",t)&&o(t.contentDocument)}return{init:function(a,e){a.legacy||(a.legacy={});var t=a.legacy;t.setScreenCaption=function(e){i.changeLabel(e.title),e.breadcrumb?i.changeBreadcrumbs(e.breadcrumb,e.breadcrumbHandler):i.restoreBreadcrumbs();var t=r.replace("{screenIdTitle}&nbsp;{screenId}",e);e.buttons.forEach(function(e){t+=r.replace('&nbsp;<a class="fa {icon}" title="{title}" onclick="aps.legacy.handleClick(\'{icon}\');"></a>',e)}),i.changeLegacyElements(t)},t.handlers={},t.handleClick=function(e){t.handlers[e]()},t.restoreHashForIFrame=e.restoreHashForIFrame,t.cleanupQueue=function(){n.queue.shift(),i.showContent()},t.fixRedirectedScreen=function(e,t){var i=e,n=i.document.getElementById(d);if(n){var a=0,o=void 0,s=function(){if(a++,o&&40<=a&&(clearInterval(o),o=void 0,n.height=700,n.scrolling="yes",n.onload=void 0,i.aps.apsc.hideLoading&&i.aps.apsc.hideLoading()),r.exists("contentDocument",n)&&r.exists("contentWindow.document.body.scrollHeight",n)){var t=!1;c("#footer-wrapper",n.contentDocument).forEach(function(e){e.style.display="none",t=!0}),c("#pathbar-wrapper",n.contentDocument).style("display","none"),c(".powered-logo",n.contentDocument).style("display","none"),c(".heading",n.contentDocument).style("display","none"),c("body",n.contentDocument).style("background","transparent"),c("#content",n.contentDocument).style("margin-left","20px"),setTimeout(function(){n.height=n.contentWindow.document.body.scrollHeight},500),n.onload=t?(i.aps.apsc.hideLoading&&i.aps.apsc.hideLoading(),clearInterval(o),function(){i.aps.legacy.fixRedirectedScreen(i,!0)}):void 0}};t?s():o=setInterval(s,200)}},t.fixCSS=s,t.fixLegacyScreen=function(e){var t=e.document.getElementById(d);if(t&&r.exists("contentDocument",t)){o(t.contentDocument);var i=t.contentDocument.getElementById("aps2-ui");if("xs"===a.context.visibleMode)c("body>style",t.contentDocument).remove(),c("body",t.contentDocument).addClass("ccp-xs").append("<style>.ccp-xs {padding:20px;}</style>"),i&&(i.onload=function(){c("body",i.contentDocument).addClass("ccp-xs"),c("style",i.contentDocument).forEach(function(e){e.innerHTML=".ccp-xs * {min-width: 0 !important;} "+e.innerHTML})});else if(i){var n=function(){c("head>style",i.contentDocument).forEach(function(e){e.innerHTML.includes("@import")||(e.innerHTML=".two-columns {margin-left: 0px !important;} "+e.innerHTML)})};n(),i.onload=function(){n()}}}}},enrichNavigationContext:function(e){aps.context._legacy=e.legacy},isAppIdLegacy:function(e){return!!e.startsWith(d)},fixCSS:s}})},"host/bizStorageAction":function(){define(["aps/lang"],function(i){var n={},t={put:function(e,t){t?n[e]=t:i.mixin(n,e)},get:function(e){return n[e]||{}},remove:function(e){delete top._apsBizStorage[e]},clear:function(){n={}}};return i.mixin(function(e){return t[e.method].apply(t,e.data)},t)})},"host/navUtils":function(){define(["dojo/Deferred","dijit/registry","aps/lang","aps/xhr","aps/common","aps/nav/_transformator","host/render","host/utils","host/deferredRenderer"],function(d,p,i,l,u,n,f,h,a){var o=["vars","varsMeta","label","hint","description"],s=["js","jsx"];function r(e){return(e=e||[]).filter(function(e){return"view"===e.type}).map(function(e){return i.mixin(i.clone(e),{inWizard:!0})})}return{recheckViewState:function(i,e){var t=e||this.findView();if(t&&t.id===i.id){if(i.APSActorScope=t.APSActorScope,i.wizard){var n=i.wizardState;i.wizardState=r(t.children),n.forEach(function(t){var e=i.wizardState.find(function(e){return e.id===t.id&&e.subscriptionId===t.subscriptionId});e&&(e.visible=t.visible)})}o.forEach(function(e){i[e]=t[e]}),t.children&&(i.placeholders=t.children.filter(function(e){return"plugin-placeholder"==e.type}))}},findViewInItem:function(e){var t=["view","wizard","popup"];if(t.includes(e.type))return e;if(e.children)for(var i=0,n=e.children.length;i<n;i++){var a=e.children[i];if(t.includes(a.type))return a;if(a.children){var o=this.findViewInItem(a);if(o)return o}}},findView:function(e){var t=(e||aps.navigation.tree).items,i=void 0,n=void 0;for(n=0;n<t.length;n++)if(i=this.findViewInItem(t[n]))return i.hint=t[n].hint||"",i},addView:function(e,t){(e=e||this.findView())&&(n(e.parameters),e.src=e.src.replace("jsx.html","jsx"),e.isVue="vue"===e.framework,e.spa=s.includes(e.src.split(".").pop())||e.isVue,e.isReact="jsx"===e.src.split(".").pop(),e.popup="popup"===e.type,e.wizard="wizard"===e.type,e.wizard&&(e.wizardState=r(e.children)),aps.navigation.views[e.id]=e,t&&(aps.navigation.views[t]=e),e.children&&(e.placeholders=e.children.filter(function(e){return"plugin-placeholder"==e.type})))},getNavigation:function(e){var t=e.parameters,i=e.view,n=e.hideErrors,a=e.APSActorScope,o=e.dontUsePmsCache,s=void 0;if(o||(t?aps.navigation.pmsCache=t:t=aps.navigation.pmsCache),i)(s=new d).resolve(aps.navigation.tree);else{var r={"Content-Type":"application/json"};a&&(r["APS-Actor-Scope"]=a);var c=l("/aps/2/navigation",{handleAs:"json",method:"POST",headers:r,data:JSON.stringify(t),query:aps.context._sessionId?"bw_id="+aps.context._sessionId:null},!0);s=new d(function(){c.cancel()}),c.then(function(e){e.APSActorScope=c.response.getHeader("APS-Actor-Scope"),s.resolve(e)}).otherwise(function(e){0!==e.response.status&&(403===e.response.status&&e.response.data&&"Authentication Failed"===e.response.data.message?aps.apsc._toExpired():(n||u._logError("Returned status "+e.response.status+". Message: "+(e.response.data&&e.response.data.message)),s.reject(e)))})}return s},hidePopup:function(e){var t=p.byId("Modal");if(t&&(t.set({size:"lg"}),p.byId("submitPopupNav").set("onClick",function(){aps.app.onSubmit()}),p.byId("cancelPopupNav").set("onClick",function(){aps.app.onCancel()}),f.restructBtns(void 0,!0),t.removeAll(),f.iframeToPopup(),aps.context._view.popup)){f.hideFrame(document.getElementById(h.getFrameAppId(aps.context._view))),function(e,t){var i=aps.navigation,n=i.backViews,a=n[e?"shift":"pop"]();if(aps.app._displayView(h.getAppId(),!1),aps.apsc.hub._currentContainerId=a.container,aps.context._view=a.view,i.tree=a.backContext,i.pmsCache=a.pmsCache,aps.context.params=a.pmsCache.parameters,e&&(n.length=0),!n.length&&t&&t.resolve(),a.view._spawnFixedPopup||aps.apsc._hideFixedPopup(),a.size){var o=p.byId("Modal");o.set({size:a.size,title:a.label,description:a.description});var s=a.view.id.split("#"),r=s[0],c=s[1];f.showFrame(document.getElementById(h.getFrameAppId(a.view,r))),aps.app._displayView(c,!0),o.show(a.modal),f.restructBtns(a.view.controls,!0)}}(e,this.popupDef);var i=aps.context._view.popup;a.setState({isPopup:i,newFrame:document.getElementById(h.getFrameAppId(aps.context._view))})}},saveBackView:function(){var e=aps.context._view,t=aps.navigation.backViews;i.mixin(t[t.length-1],{container:aps.apsc.hub._currentContainerId,view:e,size:e.size,label:p.byId("Modal").get("title"),description:p.byId("Modal").get("description"),modal:e.modal})}}})},"host/widgets/ErrorPage404":function(){define(["aps/declare","aps/lang","aps/query","host/utils","host/widgets/ErrorPage"],function(e,n,t,i,a){var o="errorPageBackUrlId",s="errorPageHomeUrlId";function r(e,t,i){return n.replace('<a id="{id}" href="{href}" {attrs}>',{id:e,href:t||"javascript:void(0)",attrs:i||""})}return e([a],{constructor:function(){this._notEscape=this._notEscape.concat("secondaryLine"),this.title=_("Error 404"),this.header=_("Sorry, we can't find the page you are looking for"),this.primaryLine=_("It has been moved, deleted or never existed."),this.secondaryLine=_("You can go back to __backLink__where you were__endLink__, get to the __homeLink__home page__endLink__, or contact our __supportLink__support team__endLink__.",{backLink:r(o),homeLink:r(s),supportLink:r("errorPageSupportUrlId",encodeURI(aps.context._supportLinks.supportContactsLink),'target="_blank"'),endLink:"</a>"})},postCreate:function(){this.inherited(arguments),this.own(t("#"+o,this.domNode).on("click",function(){aps.navigation.tree.context.push({}),aps.apsc.prev()}),t("#"+s,this.domNode).on("click",function(){var e=aps.navigation.tree.items[0],t=e.subscriptionId;aps.apsc.gotoURL("/i/"+i.getNavId(e.id)+(t?"/s/"+t:""))}))}})})},"host/widgets/ErrorPage":function(){define(["aps/_TemplatedMixin","aps/_Widget","aps/declare","dojo/text!host/templates/ErrorPage.html"],function(e,t,i,n){return i([t,e],{title:"",header:"",primaryLine:"",secondaryLine:"",templateString:n,_setTitleAttr:{node:"titleNode",type:"innerHTML"},_setHeaderAttr:{node:"headerNode",type:"innerHTML"},_setPrimaryLineAttr:{node:"primaryLineNode",type:"innerHTML"},_setSecondaryLineAttr:{node:"secondaryLineNode",type:"innerHTML"}})})},"host/aps-host-pa":function(){var i=void 0;define="undefined"!=typeof require?define:function(){i=!0;for(var e=function(){},t=0;t<arguments.length;t++)if("function"==typeof arguments[t]){e=arguments[t];break}e(void 0,function(){return!1},function(t){var e=$(t);return e.style=function(){return this.css.apply(this,arguments)},e.replaceWith=function(e){$(t).replaceWith(e)},e})},define(["dojo/dom-construct","dojo/has","aps/query"],function(a,t,o){i&&delete window.define,console.log("host-pa");var e=window.aps||{};!function(s){s.apsc||(s.apsc={});var r={},i={};for(var e in r.handle=function(e){var t=s.host._backUrl,i=!1;e.localViewId&&(delete e.localViewId,i=!0);var n=void 0,a=void 0;if(s.host._handlerButton){var o=s.host._handlerButton.getAttribute("onclick").match(/(.*doSubmit\(')(.+)('\).*)/);n=-1<o[1].indexOf("?"),a=o[2]+(n?"&":"?")+r._encodeURIComponents(e),window.doSubmit(a)}else i||e.resourceId||e.params||(t=t.replace(/doHandleuirequest/,"doNavigate"));n=-1<t.indexOf("?"),a=t+(n?"&":"?")+r._encodeURIComponents(e),window.url2form(a,"","post")},r._processing={cancelBtn:'<span class="btn disabled"><button type="button" disabled><span class="wait">'+o(".page-loading").text()+"</span></button></span>",callers:{}},r.startProcessing=function(e){var t=o("#"+e+"ActionButton");if(t.length||(t=o("#finishActionButton")),!s.host._processing.callers[e]&&0<t.length)if($){var i=$(s.host._processing.cancelBtn);i.attr("id",t.attr("id")),t.replaceWith(i),s.host._processing.callers[e]=t}else{var n=a.toDom(s.host._processing.cancelBtn);o(n).attr("id",t.attr("id")),a.place(n,t[0],"replace"),s.host._processing.callers[e]=t}},i.cancelProcessing=function(e){if(void 0===e)for(var t in s.host._processing.callers)i=t,n=void 0,(n=s.host._processing.callers[i])&&(o("#"+n.attr("id")).replaceWith(n),delete s.apsc.hub._processingNow[i],delete s.host._processing.callers[i]);var i,n},i.showLoading=function(){o(".page-loading").style("display",""),r._loadingCounter++},i.hideLoading=function(){1===r._loadingCounter&&o(".page-loading").style("display","none"),0<r._loadingCounter&&r._loadingCounter--},i.ready=function(){o("#main").style("visibility",""),o("#bottom-buttons").style("visibility",""),setTimeout(function(){var e=document.getElementById("login-page")||document.getElementById("content");e&&(e.style.visibility="")},0),r._loadingTimer&&clearTimeout(r._loadingTimer),i.hideLoading()},r._encodeURIComponents=function(e){var t="";for(var i in e)e[i]&&(t&&(t+="&"),t+=encodeURIComponent("cls"==i?"class":i)+"="+encodeURIComponent(e[i]));return t},i)!function(e){var t=s.apsc[e];s.apsc[e]=function(){s.apsc.appEventHandlingMode?i[e].apply(s.apsc,arguments):t&&t.apply(s.apsc,arguments)}}(e);t("aps-bs")||(r._loadingTimer=setTimeout(function(){i.showLoading()},800)),(s.host=r)._loadingCounter=0}(window.aps=e)})},"host/host":function(){define(["dijit/registry","dojo/when","aps/lang","aps/common","aps/xhr","host/analytics","host/breadcrumb","host/showChangePassword","host/persistence","host/notification","host/render","host/navigation","host/utils","host/navUtils","host/wizard","host/updater","host/legacy","host/touchSession","host/showConfirm","host/requestAPSTypes","host/getStaticData","host/bizStorageAction","host/scroll","host/deferredRenderer","host/widgets/ErrorPage404","host/dimensions","host/render/modal","host/render/navigationButtons","host/appsHub","host/aps-host-pa","host/aps-apsc"],function(n,a,r,p,s,c,d,o,l,u,f,h,v,m,g,y,w,b,_,x,I,C,N,A,S,L,k,M){var T=0,E=void 0,P=null;function j(e,t){g.active&&!aps.context._view.popup&&aps.context._view.id!==g.view.id||A.addAction(function(){return f["change"+e](t,aps.context._view.popup)})}function V(){aps.host.handle=function(e){h.toView(e)};var i=aps.apsc;function e(e,t){aps.context._view.popup&&(m.hidePopup(),aps.apsc.hub._currentContainerId=aps.navigation.popupHomeland,aps.app._onHidePopup({btnType:e,data:t}))}function t(d){return function(t){var e=aps.context._view,i=v.getAppId(t)===v.getAppId(e),n=g.active&&t.id===g.view.id,a=g.active&&t.inWizard&&g.steps.some(function(e){return e.id===t.id});if(i||n||a){var o,s,r,c=p.toArray(arguments);c.splice(0,1),o=aps.app[d],s=c,r=aps.apsc.hub._currentContainerId,aps.apsc.hub._currentContainerId=v.getFrameAppId(aps.context._view),o.apply(void 0,s),aps.apsc.hub._currentContainerId=r}else p._logError("MessageMethod:notAllowed",{methodName:d,sourceViewId:t.id})}}i.gotoURL=function(e){d.reset(),h.toView(v.parseDirectLink(e))},i.buttonState=function(t,i){A.addAction(function(){var e=n.byId(t+(aps.context._view.popup?"Popup":"")+"Nav");delete i.onClick,delete i._onClick,e&&e.set(i),aps.context._view.popup?k.updateButtons():M.updateButtons()})},i._setLabel=j.bind(null,"Label"),i._setDescription=j.bind(null,"Description"),i._startProcessing=function(e){var t=n.byId(e+"Nav");t&&t.domNode.click()},i.cancelProcessing=function(e){(e?[e]:["cancel","prev","next","submit","finish","submitPopup","cancelPopup"]).forEach(function(e){var t=n.byId(e+"Nav");t&&t.cancel()})},i.gotoView=function(e,t,i,n){g.active&&(aps.apsc.hub._currentContainerId=v.getFrameAppId(aps.context._view)),d.isExtractFlag()&&(d.extract(),d.setExtractFlag(!1)),h.toView({viewId:e,resourceId:t,params:i,subscriptionId:n})},i.loadPackage=function(n){var o=aps.navigation.tree.items.find(function(e){return e.id.includes(n)});return Promise.resolve().then(function(){var e=void 0;if(o){var i=o.id,t=aps.placeholder,n={dontUsePmsCache:!0,parameters:{itemId:i,placeholder:t}},a=function(e,t){return e?e.find(function(e){return"vue"===e.framework&&e.src.includes(t)})||e.map(function(e){return a(e.children,t)}).find(function(e){return!!e}):null};e=m.getNavigation(n).then(function(e){var t=e.items.find(function(e){return e.id===i});return a(t.children,t.package.id)})}return e}).then(function(e){var t=e;t||(t=(P?Promise.resolve(P):s("/aps/2/packages?active()",{handleAs:"json",method:"GET"},!0)).then(function(e){P||(P=e);var t=e.find(function(e){return e.id.includes(n)});if(t){var i=t.id.split("/").pop();return{src:t.aps.href+"/ui/"+i+".js"}}return Promise.reject("Application '"+n+"' not found!")}));return t})},i._gotoPopup=function(e){e.isPopup=!0,A.run(),A.setState({isPopup:e.isPopup}),h.toView(e)},i._setPopupSize=function(e){aps.context._view.popup&&(aps.context._view.size=e,n.byId("Modal").set("size",e))},i._submitPopup=e.bind(null,"submit"),i._cancelPopup=e.bind(null,"cancel"),i._showConfirm=_,i._showChangePassword=o,i.showNotification=function(e){e&&(n.byId("Modal").set({size:"md"}),f.showNotification(e))},i._showInNotifySidebar=function(e){f._showInNotifySidebar(e)},i._displayMessage=t("_displayMessage"),i._removeMessage=t("_removeMessage"),i._removeAllMessages=t("_removeAllMessages"),i.showLoading=function(){0===T&&f.standby(!0),T++},i.hideLoading=function(){1===T&&(aps.app._readyToShow(),f.standby()),0<T&&T--},i.setLoadingCount=function(e){T=e},i._resizeApp=function(e){var t=document.getElementById(i.hub._hubContext.appId);t&&(t.height=parseInt(e,10)),i.hub._currentContainerId=v.getFrameAppId(aps.context._view)},i._removeNotification=function(e){var t=Array.isArray(e)?e:[e];f.removeNotification("warnings",t)},i.next=function(e){if(g.active)return g.next(e);e&&(aps.context.params=e.params),window.history.go(1)},i.prev=function(e){if(g.active)return g.prev(e);e&&(aps.context.params=e.params),window.history.go(-1)},i.wizardState=function(i){g.set("steps",i),aps.context.wizardState=i;var n=aps.context.wizardData,a=C.get("viewData"),o=C.get("requestUsageData");(n||a||o)&&(Object.keys(r.mixin({},n,a,o)).forEach(function(t){var e=i.find(function(e){return e.id===t});t===g.view.id||e&&e.visible||(delete n[t],delete a[t],delete o[t])}),C.put("viewData",a),C.put("requestUsageData",o))},i._showFixedPopup=function(e){f.displayFixedPopup(!0,e.html),aps.context._view._spawnFixedPopup=!0},i._hideFixedPopup=function(){f.displayFixedPopup(),delete aps.context._view._spawnFixedPopup},i._showGalleryModal=function(e,t){n.byId("galModal").openModal(e,t)},i._realSetRefreshURL=function(e){E=e,aps.app._setRefreshURL()},i.touchSession=b,i._toCPHome=function(){var e=window.location;window.location.href=e.protocol+"//"+e.host+(aps.context._brandSuffix||"")+"/ccp?bw_id="+aps.context._sessionId},i._goBack=function(){d.restore()},i._requestAPSTypes=x,i._getStaticData=I,i._bizStorageAction=C,i._stopRAF=L._stopRAF,i._calcScrollPos=L._calcScrollPos,i._scrollParent=L._scrollParent,i._showDimensions=L._showDimensions,i._showCoords=L._showCoords,i._updateUser=function(e){if(!e||!e.aps)throw new Error("Wrong user data format");aps.context.user=e},i._viewRequireFailed=function(){v.queue.shift()},i.__call=function(e){var t=aps.app;a(i[e.method].apply(i,e.data),t._response.bind(t,e.id),t._reject.bind(t,e.id))},i._scrollApp=function(e,t){N({target:{y:e},duration:t||100})},i._collapseLeftMenu=function(e){return f.collapseLeftMenuProgrammatically(e)},i._maximizeFrame=function(e){return f.maximizeFrame(e)},i._useCustomScreenLoadingReporting=function(e){return f.useCustomScreenLoadingReporting(e)}}return function(t){window.aps=window.aps||{},aps.apsc=aps.apsc||{},aps.navigation.views={},aps.navigation.pmsCache={},aps.navigation.backViews=[],aps.navigation.startTime=0,aps.context=aps.context||{};var e=aps.navigation.tree.context.find(function(e){return e.viewId===t.context._view.id});if(e&&!e.parameters&&(e.parameters=t.context.params),h.init(g,function(e){T=e}),V(),aps.apsc.showLoading(),r.mixin(aps.context,t.context),f.init(g,function(e){h.toView(e)}),p.forEach(aps.context.params,function(e,t,i){i[t]=i[t][0]}),aps.context._touchSessionTimeout=3e5,t.context._view.id){t.context._view=m.findView();var i=aps.navigation.tree.context,n=i[i.length-1],a=n.resourceId,o=n.subscriptionId,s={viewId:t.context._view.id,existView:t.context._view,params:aps.context.params,resourceId:a,context:i};v.changeURL(t.context._view,{type:"v",resourceId:a,subscriptionId:o}),c.pushData({event:"panelBootstrapped",eventLabel:t.context._view.id,eventValue:performance.now()}),v.queue.push(s),h.changeView(s)}else aps.context._view.id="http://www.core-types.com/fake#fake",new S({id:"aps2MashupAreaErrorPage"}).placeAt("aps2MashupArea"),aps.apsc.hideLoading();aps.context.user&&"http://www.parallels.com/ccp-activation#activation-wizard"!==t.context._view.id&&(u.init(f),u.watch(function(){g.active||y()})),aps.apsc.hub&&w.init(aps,aps.apsc.hub),L._calcViewportDimensions(),window.addEventListener("resize",L._calcViewportDimensions),window.addEventListener("popstate",function(e){if(e.state){var t=e.state;(aps.context._view.isReact||aps.context._view.id!==t.viewId)&&(t.context.splice(-1,1),aps.navigation.tree.context=t.context,h.toView({viewId:t.viewId,resourceId:t.resourceId,params:t.params,subscriptionId:t.subscriptionId}))}},!1),aps.context._sessionId&&window.addEventListener("beforeunload",function(){var e=window.location,t=e.origin;t=t||e.protocol+"//"+e.hostname+(e.port?":"+e.port:"");var i=E||e.href.replace(t,"");l.setCookie("refreshURL",i+(-1<i.indexOf("?")?"&":"?")+"bw_id="+aps.context._sessionId,{path:"/"}),d.save()}),aps.apsc.touchSession()}})},"host/showChangePassword":function(){define(["dijit/registry","host/render","host/restorePopup","aps/lang","aps/load"],function(a,o,s,r,c){return function(t){t=t||{};var e=a.byId("Modal"),i=a.byId("submitPopupNav"),n=s();e.removeAll(),e.set({size:"md",description:"",onClose:function(){aps.app._onHideChangePassword(!1),n()}}),c([["aps/Output",{value:t.description||"",visible:!!t.description}],["aps/Container",[["aps/Panel",[["aps/FieldSet",[["aps/Password",r.mixin({label:_("New Password")},t.passwordProperties||{},{id:"passwordField",disabled:!1,required:!0,visible:!0,gridSize:"md-6 xs-12"})]]]]]]]],e.containerNode).then(function(){var e=a.byId("passwordField");e.inputNode.domNode.addEventListener("keypress",function(e){13===e.keyCode&&(e.stopPropagation(),e.preventDefault(),i.domNode.click())},!0),i.set("onClick",function(){e.validate()?(aps.app._onHideChangePassword(!0,e.get("value")),n()):this.cancel()}),a.byId("cancelPopupNav").set("onClick",function(){aps.app._onHideChangePassword(!1),n()}),o.restructBtns([{label:_("Change Password"),type:"submit"},{label:_("Cancel"),type:"cancel"}],!0),o.iframeToPopup(!0,{label:t.resourceName?_("Change Password for __resourceName__",{resourceName:t.resourceName}):_("Change Password")}),e.focus()})}})},"host/restorePopup":function(){define(["dijit/registry","host/render","host/navUtils","host/utils","aps/query"],function(u,f,h,v,m){var g=["size","onClose"],y=["onClick","label","type","iconClass","visible","disabled"];function w(e,i){return e.reduce(function(e,t){return e[t]=i.get(t),e},{})}return function(){var e=u.byId("Modal"),t=u.byId("submitPopupNav"),i=u.byId("cancelPopupNav"),n=m(document.body).containsClass("modal-open"),a=aps.context._view.popup,o=v.getFrameAppId(aps.context._view);a&&f.hideFrame(document.getElementById(o));var s=document.createDocumentFragment();e.getChildren().forEach(function(e){m(e.domNode).place(s)});var r=e.get("title"),c=e.get("description"),d=w(g,e),p=w(y,t),l=w(y,i);return function(){n?(e.removeAll(),e.set(d),t.set(p),i.set(l),m(s).place(e.containerNode),a&&f.showFrame(document.getElementById(o)),f.iframeToPopup(!0,{label:r,description:c}),t.focus(),t.cancel()):h.hidePopup()}}})},"host/notification":function(){define(["dojo/Deferred","dojox/mvc/StatefulArray","dijit/registry","aps/lang","aps/query","aps/xhr","host/widgets/Notification","host/utils","host/render"],function(c,i,d,p,w,n,b,x,o){var I=5e3,C=5,N=[],A=void 0,a=[],S=!1;function L(t){var e={id:t.id,isBusy:!1,title:x.notificationLocalize(t,"message"),status:t.status};return t.linkMore&&(e.link=t.linkMore),e.isAnnouncement="announcement"===t.type,e.details=t.details?x.notificationLocalize(t,"details"):"",e.fullDetails=t.fullDetails?x.notificationLocalize(t,"fullDetails"):e.details,e.linkText=t.linkMoreText?x.notificationLocalize(t,"linkMoreText"):_("Link"),e._onClose=function(e){e.preventDefault(),n("/aps/2/services/notification-manager/notifications/"+t.id+"/",{method:"DELETE",headers:{"Content-Type":"application/json"}})},e}function k(e,t,i){var n=e.link,a=e.linkMore;i?t.onClick=function(){n||a?aps.apsc.gotoURL(n||a):o.showNotification(e),i.play()}:(n||a)&&(t.onClick=function(){aps.apsc.gotoURL(n||a)})}function M(e){var i=(JSON.parse(localStorage.getItem(p.getObject("aps.context.user.aps.id")))||x.initLocalStorageNotifications()).unreadNotifications;return e.reduce(function(e,t){return"activity"!==t.type?["existing","inProgress"].includes(t.status)?e+1:e:i.some(function(e){return t.id===e.id})?e+1:e},0)}function s(i){var t;t=i,a.forEach(function(e){try{e(t)}catch(e){console.log(e)}});var n=aps.notifications[["announcement","warning"].includes(i.type)?"warnings":"activities"];i.updated?n.every(function(e,t){return e.id!==i.id||(e.status=i.status,i.resolved?n.splice(t,1):(e.widget.set({isLoad:!1,type:"default"}),function(a,o){var e=a.widget,t=e.status,s=L(o);if("inProgress"===t&&t!==s.status){console.log('item_widget.placeAt("notify-others-list", "first");'),console.log("item_widget.id: "+e.id),console.log("item_widget.domNode: "+e.domNode);var i=w("#notify-others-list");if(i[0]){e.placeAt(i[0],"first");var n=w("#notify-others-list"),r=w("#notify-progress-list"),c=r[0].children.length;r.prev().style("display",c?"":"none"),n.prev().style("display",n[0].children.length?"":"none")}}k(o,s),delete e.onClick,delete s.rightBtn,w(".panel",e.domNode).removeClass("clickable"),e.set(s),N.every(function(e,t){if(e.id!==a.id)return!0;if(C<=t)return p.mixin(e,o),!1;var i=w("#ccp-notify-float")[0];if(i){var n=d.findWidgets(i);if(n.length)return delete s.id,delete s.fullDetails,n[0].set("isLoad",!1),n[0].set(s),clearTimeout(a.timeout),a.timeout=setTimeout(function(){a.mouseIn?a.mouseIn.then(function(){a.fade&&a.fade.play()}):a.fade&&a.fade.play()},I),!1}})&&(N.push(o),N.length<=C&&A(o))}(e,i)),!1)})&&!i.resolved&&n.push(i):i.resolved||n.push(i)}var T=function(){var t;console.log("connecting to on-screen notifications delivery sub-system"),t=function(){S=!0,aps.notifications.api.addEventListener(function(e){return s(e)})},n("/aps/2/services/notification-manager/notifications/displayMessages").then(function(e){aps.notifications.warnings.splice(0,aps.notifications.warnings.length),aps.notifications.activities.splice(0,aps.notifications.activities.length),e.warnings.forEach(function(e){e.resolved||aps.notifications.warnings.push(e)}),e.otherActivities.concat(e.inProgressActivities).forEach(function(e){e.resolved||aps.notifications.activities.push(e)}),t&&t()})};return{init:function(l){var e=w("#ccp-notify"),t=w("#ccp-notify-float"),s=t.query(".row-notify"),n=e.query(".badge"),u=w("#ccp-navbar li:not(#ccp-notify-activities) .ccp-badge.danger"),f=w("#ccp-notify-activities .ccp-badge.danger"),h=w("#ccp-notify .ccp-badge.danger"),v=w("#ccp-notify .ccp-badge.warning"),m=e.query(".nav-tabs"),g=w("#problemsTab"),y=w("#warningsTab");function r(){t.style("display",0<s.children().length?"":"none")}function a(e,t,i,n,a){i.forEach(function(t){var e=t.status,i=p.mixin(L(t),{date:new Date(t.modified)});k(t,i);var n=aps.notifications.activities,a=n.findIndex(function(e){return e!==t&&e.id===t.id});-1!==a&&n.splice(a,1);var o=x.updateLocalStorage(t,"add");i.readStatus=o;var s=new b(i),r=w({existing:"#notify-problems-list",upcoming:"#notify-warnings-list",inProgress:"#notify-progress-list",notification:"#notify-warnings-list"}[e]||"#notify-others-list");console.log('notify.placeAt(node[0], "first");'),console.log("notify.id: "+s.id),console.log("notify.domNode: "+s.domNode),console.log("node[0] "+r[0]),r[0]&&s.placeAt(r[0],"first"),t.widget=s,S&&(N.push(t),N.length<=C&&A(t))},this),t.forEach(function(e){e.widget.destroy(),x.updateLocalStorage(e,"remove")});var o=this.length,s=M(this),r=a[0]===f[0];n.innerHTML(o),a.innerHTML(r?s:o),r||(h.innerHTML(s),v.innerHTML(o-s)),function(){var e=aps.notifications.warnings,t=aps.notifications.activities,i=e.length,n=t.length,a=M(e),o=M(t),s=t.filter(function(e){return"inProgress"===e.status}).length,r=t.filter(function(e){return"inProgress"!==e.status}).length,c=i-a;u.style("display",i?"":"none"),f.style("display",o?"":"none"),h.style("display",a?"":"none"),v.style("display",c?"":"none"),m.style("display",i||n?"":"none"),g.style("display",a?"":"none"),y.style("display",c?"":"none"),!a&&c&&g.containsClass("active")?l.setActiveNotifyTab("warnings"):!c&&a&&y.containsClass("active")&&l.setActiveNotifyTab("problems"),w("#notify-progress-list").prev().style("display",s?"":"none"),w("#notify-others-list").prev().style("display",r?"":"none"),w("#notify-activities .btn-link").style("display",n?"":"none");var d=w("#ccp-notify-warnings").containsClass("collapsed"),p=w("#ccp-notify-activities").containsClass("collapsed");w("#notify-none").style("display",!d&&!i||!p&&!n?"":"none")}()}g.on("click",function(){l.setActiveNotifyTab("problems")}),y.on("click",function(){l.setActiveNotifyTab("warnings")}),aps.notifications={warnings:new i([]),activities:new i([])},A=function(e){var t=p.clone(e);delete t.fullDetails;var i=p.mixin(L(t),{style:"opacity: 0",collapsed:!1});i.id+="_popup";var n=new b,a=w(n.domNode).fadeIn({duration:500,auto:!0}).fadeOut({duration:500,onEnd:function(){n.destroy(),N.shift(),N[C-1]&&A(N[C-1]),r()}});if(n._leftBtn){var o=n._leftBtn.onClick;n._leftBtn.set("onClick",function(){o(),a.play()})}k(e,i,a),n.set(i),n._setCloseable(!0),console.log('notify.placeAt(notifyFly[0], "first");'),console.log("notify.id: "+n.id),console.log("notify.domNode: "+n.domNode),console.log("notifyFly[0] "+s[0]),s[0]&&n.placeAt(s[0],"first"),n.domNode.onmouseover=function(){e.mouseIn=new c},n.domNode.onmouseout=function(){e.mouseIn.resolve()},n._onClose=function(e){e.stopPropagation(),a.play()},r(),e.timeout=setTimeout(function(){e.mouseIn?e.mouseIn.then(function(){a.play()}):a.play()},I),e.fade=a},aps.notifications.warnings.watchElements(function(e,t,i){a.call(this,e,t,i,n.at(0),u)}),aps.notifications.activities.watchElements(function(e,t,i){a.call(this,e,t,i,n.at(1),f)}),T()},watch:function(e){a.push(e)},unwatch:function(e){a.splice(a.indexOf(e),1)}}})},"host/updater":function(){define(["dojo/promise/all","host/navUtils","host/render"],function(i,n,a){return function(){if(!n.navigationInProgress){var e=aps.navigation.backViews,t=(e.length?e[e.length-1]:aps.navigation).pmsCache;i([n.popupDef,n.getNavigation({parameters:t,hideErrors:!0})]).then(function(e){var t=e[1],i=aps.context._view;["http://www.parallels.com/ccp-billing-subscription-management#change-resource-limits","http://www.parallels.com/ccp-domains#registerDomain"].includes(i.id)||(t&&(aps.navigation.tree=t,a.restructLeftMenu(),n.recheckViewState(i),aps.context.vars=i.vars,aps.context.varsMeta=i.varsMeta),aps.app._onContext(i.id.split("#").pop(),aps.context))})}}})},"host/touchSession":function(){define(["aps/xhr"],function(t){var e=void 0,i=void 0,n=void 0,a=void 0;function o(){var e=aps.context._sessionConfirmationTimeout;!e||e<=0||(i&&clearTimeout(i),n&&clearTimeout(n),i=setTimeout(function(){a||(a=!0,aps.app._onHideConfirm=function(){a=!1,t("/ccp/touch-session").then(null,function(){aps.apsc._toExpired()})},aps.apsc._showConfirm({title:_("Your session will expire soon"),description:_('Press "Continue" to keep working.'),submitLabel:_("Continue"),cancelHidden:!0})),n=setTimeout(function(){t("/ccp/touch-session").then(null,function(){aps.app._onHideConfirm=function(){a=!1,aps.apsc._toExpired()},aps.apsc._showConfirm({title:_("Your session has expired"),description:_('Press "Continue" to sign in again.'),submitLabel:_("Continue"),cancelHidden:!0})})},1e3*aps.context._sessionCheckTimeout)},1e3*aps.context._sessionConfirmationTimeout))}return function(){e||(t("/ccp/touch-session").then(o),e=!0,setTimeout(function(){e=!1},aps.context._touchSessionTimeout))}})},"host/showConfirm":function(){define(["dijit/registry","host/render","host/restorePopup"],function(s,r,c){return function(e){if(e){var t=s.byId("Modal"),i=s.byId("submitPopupNav"),n=s.byId("cancelPopupNav"),a=c();t.removeAll();var o=function(e){return function(){aps.app._onHideConfirm(e),a()}};t.set({title:e.title,description:e.description,size:e.size||"md",onClose:o(!1)}),r.restructBtns([{label:e.submitLabel||_("Ok"),type:"submit",btnType:e.submitType,btnIcon:e.submitIcon},{label:e.cancelLabel||_("Cancel"),type:"cancel",btnType:e.cancelType,btnIcon:e.cancelIcon}],!0),i.set({onClick:o(!0),visible:!e.submitHidden&&!e._hideButtons}),n.set({onClick:o(!1),visible:!e.cancelHidden&&!e._hideButtons}),r.iframeToPopup(!0,{label:e.title}),i.focus()}}})},"host/requestAPSTypes":function(){define(["dojo/promise/all","aps/lang","aps/xhr"],function(t,e,n){var o=void 0;function s(s){o={},Object.keys(s).forEach(function(e){!function t(i,e,n){var a,o;i[e]=i[e]||[],a=i[e],o=n,a.includes(o)||a.push(o),s[e]&&s[e].implements&&s[e].implements.forEach(function(e){t(i,e,n)})}(o,e,e)})}var r={implementing:{process:function(e,t,i){o[t]?e[t]=o[t]:i.push(t)},fallback:function(t,i){return n.get(e.replace("/aps/2/types?implementing({type})",{type:i}),{headers:{"Content-Type":"application/json"}}).then(function(e){o[i]=e.map(function(e){return e.id}),t[i]=o[i]},function(e){console.error("Request for APS type failed",e)})}},select:{process:function(e,t,i,n){if(aps.types[t])switch(n.section){case"service":e[t]=aps.types[t].aps.service;break;default:e[t]=aps.types[t]}else i.push(t)},fallback:function(i,e){return n.get("/aps/2/types?select(aps.service)&id="+e,{headers:{"Content-Type":"application/json"}}).then(function(e){var t=e[0];t&&t.aps&&(aps.types[t.id]=t,i[t.id]=t)},function(e){console.error("Request for APS type failed",e)})}}};return function(i){if(i&&aps.types){var n=r.select;"implementing"===i.operator&&(o||s(aps.types),n=r.implementing);var a=[],e=i.types.reduce(function(e,t){return n.process(e,t,a,i),e},{});return a.length?t(a.map(n.fallback.bind(void 0,e))).then(function(){return e}):e}}})},"host/getStaticData":function(){define(["dojo/io-query","dojo/Deferred","aps/lang","aps/xhr"],function(r,c,d,p){var l={};function u(i){var n=d.replace("{resourceType}/{serviceName}/{operation}",i);return i.parameters&&(n+="?",Object.getOwnPropertyNames(i.parameters).sort().forEach(function(e){var t={};t[e]=i.parameters[e],n+=r.objectToQuery(t)})),n}function f(e,t){return l[u(e)]=t}return function(i){var e,n=new c;if(!i.resourceType&&!i.serviceName)return n.reject(new Error("Option resourceType or serviceName is required")),n;if(e=i,l.hasOwnProperty(u(e)))return n.resolve(l[u(i)]),n;var a=d.clone(i);a.parameters=a.parameters?"?"+r.objectToQuery(a.parameters):"";var o={headers:{"Content-Type":"application/json"}},t=void 0;if(a.resourceType){var s=d.replace("/aps/2/resources?implementing({resourceType})",a);t=p(s,o)}else(t=new c).resolve();return t.then(function(e){var t=void 0;if(a.resourceType){if(!Array.isArray(e))return n.reject(new Error("Invalid result")),n;if(!a.operation)return n.resolve(f(i,e[0])),n;if(1<e.length)return n.reject(new Error("Multi implementation of type")),n;if(0==e.length||!e[0].aps||!e[0].aps.id)return n.reject(new Error("Resource is not implemented")),n;a.apsId=e[0].aps.id,t=d.replace("/aps/2/resources/{apsId}/{operation}{parameters}",a)}else t=d.replace("/aps/2/services/{serviceName}/{operation}{parameters}",a);return p(t,o).then(function(e){return n.resolve(f(i,e)),n})})}})},"host/scroll":function(){define(["dojo/_base/fx","dojo/dom-geometry","dojox/fx/_core"],function(i,n,a){return function(e){var t=e.target;e.beforeBegin=function(){var e=n.docScroll();this.curve=new a([e.x,e.y],[void 0===t.x?e.x:t.x,t.y])},e.onAnimate=function(e){var t=document.defaultView;t&&t.scrollTo(e[0],e[1])},new i.Animation(e).play()}})},"dojox/fx/_core":function(){define(["dojo/_base/lang","dojo/_base/array","./_base"],function(n,o,e){var t=function(e,t){this.start=e,this.end=t;var i=n.isArray(e),a=i?[]:t-e;this.getValue=i?(o.forEach(this.start,function(e,t){a[t]=this.end[t]-e},this),function(i){var n=[];return o.forEach(this.start,function(e,t){n[t]=a[t]*i+e},this),n}):function(e){return a*e+this.start}};return e._Line=t})},"dojox/fx/_base":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/_base/fx","dojo/fx","dojo/dom","dojo/dom-style","dojo/dom-geometry","dojo/_base/connect","dojo/_base/html"],function(e,h,v,m,g,y,r,c,s){var t=h.getObject("dojox.fx",!0);return h.mixin(t,{anim:v.anim,animateProperty:v.animateProperty,fadeTo:v._fade,fadeIn:v.fadeIn,fadeOut:v.fadeOut,combine:m.combine,chain:m.chain,slideTo:m.slideTo,wipeIn:m.wipeIn,wipeOut:m.wipeOut}),t.sizeTo=function(o){var e=o.node=g.byId(o.node),s="absolute",t=o.method||"chain";o.duration||(o.duration=500),"chain"==t&&(o.duration=Math.floor(o.duration/2));var r,c,d,p,l,u,f=null,i=(u=e,function(){var e=y.getComputedStyle(u),t=e.position,i=e.width,n=e.height;if(r=t==s?u.offsetTop:parseInt(e.top)||0,d=t==s?u.offsetLeft:parseInt(e.left)||0,l="auto"==i?0:parseInt(i),f="auto"==n?0:parseInt(n),p=d-Math.floor((o.width-l)/2),c=r-Math.floor((o.height-f)/2),t!=s&&"relative"!=t){var a=y.coords(u,!0);r=a.y,d=a.x,u.style.position=s,u.style.top=r+"px",u.style.left=d+"px"}}),n=v.animateProperty(h.mixin({properties:{height:function(){return i(),{end:o.height||0,start:f}},top:function(){return{start:r,end:c}}}},o)),a=v.animateProperty(h.mixin({properties:{width:function(){return{start:l,end:o.width||0}},left:function(){return{start:d,end:p}}}},o));return m["combine"==o.method?"combine":"chain"]([n,a])},t.slideBy=function(e){var n,a,o,t=e.node=g.byId(e.node),i=(o=t,function(){var e=y.getComputedStyle(o),t=e.position;if(n="absolute"==t?o.offsetTop:parseInt(e.top)||0,a="absolute"==t?o.offsetLeft:parseInt(e.left)||0,"absolute"!=t&&"relative"!=t){var i=r.coords(o,!0);n=i.y,a=i.x,o.style.position="absolute",o.style.top=n+"px",o.style.left=a+"px"}});i();var s=v.animateProperty(h.mixin({properties:{top:n+(e.top||0),left:a+(e.left||0)}},e));return c.connect(s,"beforeBegin",s,i),s},t.crossFade=function(e){var t=e.nodes[0]=g.byId(e.nodes[0]),i=s.style(t,"opacity"),n=e.nodes[1]=g.byId(e.nodes[1]);s.style(n,"opacity");return m.combine([v[0==i?"fadeIn":"fadeOut"](h.mixin({node:t},e)),v[0==i?"fadeOut":"fadeIn"](h.mixin({node:n},e))])},t.highlight=function(e){var t=e.node=g.byId(e.node);e.duration=e.duration||400;var i=e.color||"#ffff99",n=s.style(t,"backgroundColor");"rgba(0, 0, 0, 0)"==n&&(n="transparent");var a=v.animateProperty(h.mixin({properties:{backgroundColor:{start:i,end:n}}},e));return"transparent"==n&&c.connect(a,"onEnd",a,function(){t.style.backgroundColor=n}),a},t.wipeTo=function(e){e.node=g.byId(e.node);var t=e.node,i=t.style,n=e.width?"width":"height",a=e[n],o={};return o[n]={start:function(){if((i.overflow="hidden")==i.visibility||"none"==i.display)return i[n]="1px",i.display="",i.visibility="",1;var e=s.style(t,n);return Math.max(e,1)},end:a},v.animateProperty(h.mixin({properties:o},e))},t})},"host/dimensions":function(){define(["host/utils"],function(a){function o(){return"xs"===aps.context.visibleMode?window.document.querySelector("html").scrollTop:document.getElementById("ccp-content").scrollTop}return{_calcViewportDimensions:function(){var e=a.getFrameAppId(aps.context._view),t=(aps.context._view.isVue?0:document.getElementById(e).getBoundingClientRect().top)+o(),i=document.getElementById("ccp-navbar"),n=i?i.getBoundingClientRect().height:0;aps.host._viewportHeight=document.documentElement.clientHeight||window.innerHeight,aps.host._iframeYStart=t,aps.host._navbarHeight=n},_scrollParent:function(e,t,i){aps.host._RAFref&&aps.apsc._stopRAF();var n="xs"===aps.context.visibleMode?window.document.querySelector("html"):document.getElementById("ccp-content");requestAnimationFrame(function e(){i||(n.scrollTo({top:n.scrollTop+t}),aps.host._RAFref=requestAnimationFrame(e))})},_stopRAF:function(){aps.host._RAFref&&cancelAnimationFrame(aps.host._RAFref)},_showCoords:function(){var e={viewportHeight:aps.host._viewportHeight,iframeYStart:aps.host._iframeYStart,navbarHeight:aps.host._navbarHeight};return e.scrollPos=o(),e}}})},"host/createIframe":function(){define(["dojo/dom-construct","dojo/when","aps/lang","aps/common","aps/data/_apscProxiesList","host/navigation","host/navUtils","host/wizard","host/bizStorageAction","host/aps-host-pa","host/aps-apsc"],function(i,n,a,o,s,r,c,d,p){var l=0;return function(e){window.aps=window.aps||{},aps.apsc=aps.apsc||{},aps.navigation={},i.create("div",{id:"aps2MashupArea"},e.iframeContainer,"last"),i.create("div",{id:"ccp-messages"},e.iframeContainer,"last"),aps.navigation.tree=e.navigation,aps.navigation.views={},aps.navigation.pmsCache={},aps.navigation.backViews=[],aps.context=aps.context||{},r.init(d,function(e){l=e}),function(){var i=aps.apsc;function t(){}s.forEach(function(e){["_resizeApp","_preinit","__call","showLoading","hideLoading"].includes(e)||(i[e]=t)}),i.showLoading=function(){l++},i.hideLoading=function(){1===l&&aps.app._readyToShow(),0<l&&l--},i._bizStorageAction=p,i.__call=function(e){var t=aps.app;n(i[e.method].apply(i,e.data),t._response.bind(t,e.id),t._reject.bind(t,e.id))}}(),aps.apsc.showLoading(),a.mixin(aps.context,e.context),o.forEach(aps.context.params,function(e,t,i){i[t]=i[t][0]}),e.context._view=c.findView();var t={viewId:e.context._view.id,existView:e.context._view,params:aps.context.params,context:aps.navigation.tree.context};r.changeView(t)}})},"url:host/templates/itemFirstLevel.html":'<a href="{src}" title="{hint}">{domNode} <strong>{label}</strong></a>',"url:host/templates/itemSecondLevel.html":'<a href="{src}" class="{customClass}"><span class="fa-stack fa-lg">{domNode} </span><span class="list-group-item-text">{label}</span></a>',"url:host/templates/imageIcon.html":'<img src="{icon}" data-use-original="{original}">',"url:host/templates/fontIcon.html":'<span class="{fontFamily} {icon}"></span>',"url:host/templates/childFontIcon.html":'<span class="fa fa-stack-1x {icon}"></span>',"url:host/templates/Modal.html":'<div class="modal fade" tabindex="-1"><div class="modal-dialog"><div class="modal-content"><div class="modal-header" dojoAttachPoint="titleConNode"><button type="button" class="close" data-dojo-attach-event="ondijitclick:_onClose"><span aria-hidden="true">\xd7</span></button><h3 class="modal-title"><span dojoAttachPoint="titleNode"></span> <small dojoAttachPoint="descriptionNode"></small></h3></div><div class="modal-body" dojoAttachPoint="containerNode"></div><div class="modal-footer"><div data-dojo-type="aps/Toolbar" id="${id}_toolbar" data-dojo-attach-point="toolbarNode"></div></div></div></div></div>',"url:host/templates/GalleryModalBS.html":'<div tabindex="0"><div><span data-dojo-attach-point="modalTitleNode"></span> <span class="fa-times" data-dojo-attach-event="onClick:_closeModal"></span></div><div data-dojo-attach-point="modalPrevNode" class="gal-modal-nav-btn gal-modal-prev" data-dojo-attach-event="onClick:_prevItem" style="display: none;" tabindex="0"></div><div data-dojo-attach-point="fullSizeNode" style="display: none; user-select: none;"></div><div data-dojo-attach-point="modalNextNode" class="gal-modal-nav-btn gal-modal-next" data-dojo-attach-event="onClick:_nextItem" style="display: none;" tabindex="0"></div><div><div><span class="gal-bottom" data-dojo-attach-point="counterNode"></span><div class="gal-bottom" data-dojo-attach-point="showNode" data-dojo-attach-event="onClick:_galleryVisibility"><span data-dojo-attach-point="showGalleryNode"></span> <span data-dojo-attach-point="caretNode" class="fa-caret-up"></span></div></div><div data-dojo-attach-point="modalGalleryNode" style="display: none;"><div data-dojo-type="aps/Gallery" data-dojo-attach-point="gallery"></div></div></div></div>',"url:aps/templates/bs3/GalleryBS.html":'<div><h3 data-dojo-attach-point="headerNode" style="display: none"><span data-dojo-attach-point="titleNode"></span> <small data-dojo-attach-point="descriptionNode"></small></h3><div data-dojo-attach-point="galleryNode" style="display: none;"><div data-dojo-attach-point="prevNode" class="gal-nav-btn gal-prev" data-dojo-attach-event="onClick:_prevPage" style="display: none;" tabindex="0"></div><ul data-dojo-attach-point="containerNode" class="row row-widgets"></ul><div data-dojo-attach-point="nextNode" class="gal-nav-btn gal-next" data-dojo-attach-event="onClick:_nextPage" style="display: none;" tabindex="0"></div></div><ol data-dojo-attach-point="indicatorNode" class="carousel-indicators" style="display: none;"></ol></div>',"url:host/templates/ErrorPage.html":'<div class="text-center"><h1><span class="fa fa-warning"></span> <span data-dojo-attach-point="titleNode"></span></h1><h3 data-dojo-attach-point="headerNode"></h3><p data-dojo-attach-point="primaryLineNode"></p><p data-dojo-attach-point="secondaryLineNode"></p></div>',"url:host/templates/stepWizard.html":'<a href="javascript:void(0)"><span class="fa-stack fa-lg" title="{label}"><span class="fa fa-circle fa-stack-2x"></span> <span class="fa-stack-1x fa-inverse">{index}</span> </span><span class="list-group-item-text">{label}</span></a>',"*noref":1}}),define("host/hostLayer",[],1);
//# sourceMappingURL=hostLayer.js.map