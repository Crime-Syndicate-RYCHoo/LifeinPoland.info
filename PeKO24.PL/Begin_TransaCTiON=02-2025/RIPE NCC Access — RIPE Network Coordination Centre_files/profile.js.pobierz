import{RipeHeader as s,AppBanner as d,AppSwitcher as m,AppNavBar as u,UserLogin as p,LegalAccordion as f}from"../web_modules/@technical-design/ripe-app-webcomponents.js";import*as v from"../web_modules/filepond.js";import{MDCTooltip as g}from"../web_modules/@material/tooltip.js";import{MDCTextField as w}from"../web_modules/@material/textfield.js";import{MDCRipple as h}from"../web_modules/@material/ripple.js";import{MDCDialog as b}from"../web_modules/@material/dialog.js";console.assert([s,d,m,u,p,f].length>0,"Prevent unused warning");const n={main:[{title:"Manage Profile",id:"profileId",url:"profile",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm0-160c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm0-192c44.1 0 80 35.9 80 80s-35.9 80-80 80-80-35.9-80-80 35.9-80 80-80zm80.1 212c-33.4 0-41.7 12-80.1 12-38.4 0-46.7-12-80.1-12-36.3 0-71.6 16.2-92.3 46.9C7.2 341.3 0 363.4 0 387.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-44.8c0-23.8-7.2-45.9-19.6-64.3-20.7-30.7-56-46.9-92.3-46.9zM352 432c0 8.8-7.2 16-16 16H48c-8.8 0-16-7.2-16-16v-44.8c0-16.6 4.9-32.7 14.1-46.4 13.8-20.5 38.4-32.8 65.7-32.8 27.4 0 37.2 12 80.2 12s52.8-12 80.1-12c27.3 0 51.9 12.3 65.7 32.8 9.2 13.7 14.1 29.8 14.1 46.4V432zm271.7-114.9C606.4 291.5 577 278 546.8 278c-27.8 0-34.8 10-66.8 10s-39-10-66.8-10c-13.2 0-26.1 3-38.1 8.1 15.2 15.4 18.5 23.6 20.2 26.6 5.7-1.6 11.6-2.6 17.9-2.6 21.8 0 30 10 66.8 10s45-10 66.8-10c21 0 39.8 9.3 50.4 25 7.1 10.5 10.9 22.9 10.9 35.7V408c0 4.4-3.6 8-8 8H416c0 17.7.3 22.5-1.6 32H600c22.1 0 40-17.9 40-40v-37.3c0-19.9-6-38.3-16.3-53.6z"/></svg>'}],footer:[{title:"Feedback",id:"f-f",subtitle:"Tell us what you think",url:"https://www.ripe.net/support/contact",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M448 0H64C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h96v84c0 7.1 5.8 12 12 12 2.4 0 4.9-.7 7.1-2.4L304 416h144c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64zm32 352c0 17.6-14.4 32-32 32H293.3l-8.5 6.4L192 460v-76H64c-17.6 0-32-14.4-32-32V64c0-17.6 14.4-32 32-32h384c17.6 0 32 14.4 32 32v288z"></path></svg>'},{title:"Legal",id:"f-l",subtitle:"Copyright, Privacy, Terms and cookies",url:"legal",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M634.4 375.09L525.35 199.12c-3.17-4.75-8.26-7.12-13.35-7.12s-10.18 2.38-13.35 7.12L389.6 375.09c-3.87 5.78-6.09 12.72-5.51 19.64C389.56 460.4 444.74 512 512 512c67.27 0 122.45-51.6 127.91-117.27.57-6.92-1.64-13.86-5.51-19.64zM511.96 238.24L602.27 384H421.02l90.94-145.76zM512 480c-41.28 0-77-26.77-90.42-64h181.2c-13.23 36.87-49.2 64-90.78 64zm17.89-317.21l5.08-15.17c1.4-4.19-.86-8.72-5.05-10.12L379.46 87.15C382.33 79.98 384 72.21 384 64c0-35.35-28.65-64-64-64-29.32 0-53.77 19.83-61.34 46.73L120.24.42c-4.19-1.4-8.72.86-10.12 5.05l-5.08 15.17c-1.4 4.19.86 8.72 5.05 10.12l148.29 49.62c5.91 22.23 23.33 39.58 45.62 45.36V480H104c-4.42 0-8 3.58-8 8v16c0 4.42 3.58 8 8 8h224c4.42 0 8-3.58 8-8V125.74c8.64-2.24 16.5-6.22 23.32-11.58l160.45 53.68c4.18 1.4 8.71-.86 10.12-5.05zM320 96c-17.64 0-32-14.36-32-32s14.36-32 32-32 32 14.36 32 32-14.36 32-32 32zm-64.09 170.73c.58-6.92-1.64-13.86-5.51-19.64L141.35 71.12C138.18 66.38 133.09 64 128 64s-10.18 2.38-13.35 7.12L5.6 247.09c-3.87 5.78-6.09 12.72-5.51 19.64C5.56 332.4 60.74 384 128 384s122.44-51.6 127.91-117.27zM127.96 110.24L218.27 256H37.02l90.94-145.76zM37.58 288h181.2c-13.23 36.87-49.2 64-90.78 64-41.28 0-77-26.77-90.42-64z"/></svg>'}]};document.querySelectorAll(".mdc-tooltip").forEach(g.attachTo),document.querySelectorAll(".mdc-text-field").forEach(e=>w.attachTo(e)),document.querySelectorAll(".mdc-button").forEach(e=>h.attachTo(e));const a=document.querySelector("app-nav-bar");a.menu=JSON.stringify(n),a.active=([...n.main,...n.footer].find(e=>window.location.pathname.includes(e.url))||n.main[0]).id,a.addEventListener("app-nav-bar-select",e=>window.location=e.detail.selected.url);const i=document.querySelector("user-login");i.accessurl=window.location.host;const L=document.querySelectorAll(".mdc-dialog");L.forEach(e=>{const t=new b(e);e.id==="emailDialog"?(document.querySelector("#email-change-button").addEventListener("click",o=>t.open()),t.listen("MDCDialog:closing",({detail:o})=>{o.action==="accept"&&document.forms.changeAddressForm.submit()})):e.id==="removeTwoFactorDialog"&&(document.querySelectorAll("form.removeTwoFactorForm button[data-credential-id]").forEach(o=>{o.addEventListener("click",c=>{c.preventDefault(),t.root.dataset.credentialId=c.target.parentElement.dataset.credentialId,t.root.dataset.formId=c.target.parentElement.form.id,t.content.innerHTML=`Are you sure you want to remove \u201C${c.target.parentElement.dataset.credentialLabel}\u201D?`,t.open()})}),t.listen("MDCDialog:closing",({detail:o})=>{if(o.action==="accept"){const c=document.forms[t.root.dataset.formId];c.elements.credentialId.value=t.root.dataset.credentialId,c.submit()}}))});const l=document.forms.picture;if(l){const e=l.elements.csrf,t=document.querySelector("img"),o=()=>{const r=`${t.src}?refresh=${Date.now()}`;i.pictureurl=r,t.src=r};document.querySelector("#remove-profile-picture").addEventListener("click",r=>{window.fetch(`${l.action}?${e.name}=${e.value}`,{method:"delete"}).then(o)});const c=v.create(l.elements.picture,{labelIdle:'Drag & Drop your image or <span class="filepond--label-action">Browse</span>',labelTapToUndo:"",dropOnPage:!0,dropOnElement:!1,credits:!1,maxFiles:1,server:{fetch:null,revert:null,process:{url:l.action,ondata:r=>(r.append(e.name,e.value),r)}},onprocessfiles:o});document.addEventListener("FilePond:loaded",r=>{l.elements.submit.remove()}),t.addEventListener("click",()=>{c.browse()})}
