/*! For license information please see push.js.LICENSE.txt */
(()=>{var e={431:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});const n='<style>body,html{width:100%;max-width:400px;margin:0 auto;font-family:sans-serif;text-align:center}#text{font-size:180%;min-height:160px}#text span{line-height:160px}#logo{width:100%;height:150px;background:center no-repeat;background-size:200px}#wp-push-yes{width:100%;max-width:350px;margin:0 auto;padding:10px 10px;border-radius:2px;background:#ec1c24;color:#fff;text-transform:uppercase;font-weight:700}#wp-push-yes:hover{cursor:pointer}#wp-push-yes:active{transform:scale(98%)}</style> <p id="header-text">BĄDŹ NA BIEŻĄCO! </p> <img id="logo" src="https://cdn-netpr.pl/file/mediakit-s/631554/d4/s-1920-x."> <div id="wp-push-yes" style="color:#fff">WŁĄCZ POWIADOMIENIA</div> '},337:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});const n='<style>body,html{width:100%;max-width:400px;margin:0 auto;font-family:sans-serif;text-align:center}#text{font-size:180%;min-height:160px}#text span{line-height:160px}#logo{width:100%;height:150px;background:center no-repeat;background-size:200px}#wp-push-yes{width:100%;max-width:350px;margin:0 auto;padding:10px 10px;border-radius:2px;background:#ec1c24;color:#fff;text-transform:uppercase;font-weight:700}#wp-push-yes:hover{cursor:pointer}#wp-push-yes:active{transform:scale(98%)}</style> <p id="header-text">Dziękujemy za zapis!</p> <img id="logo" src="https://cdn-netpr.pl/file/mediakit-s/631554/d4/s-1920-x."> '},906:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});const n='<div style="font-family:Poppins;position:fixed;top:0;left:0;width:0;height:0;background:0 0;z-index:999999999"> <style>@font-face{font-family:Poppins;src:local(\'Poppins\'),url(https://fonts.wpcdn.pl/poppins/woff2/Poppins-Regular.woff2) format(\'woff2\')}.wp-push-main-container{top:15px;bottom:unset;border-radius:8px}@media screen and (max-width:600px){.wp-push-main-container{top:unset;bottom:0;border-radius:0}}</style> <div class="wp-push-main-container" style="display:block;color:#262a44;width:100%;box-sizing:border-box;border:1px solid #c2c2c2;padding:25px;position:fixed;left:0;z-index:9999;text-align:center;font-size:16px;max-width:600px;background:#fff;right:40%;margin:0 auto"> <div class="claim-box" style="display:flex;flex-direction:row;justify-content:center;align-items:center"> <div class="icon-box" style="text-align:center;display:block;width:20%"> <img src="https://panel.savecart.pl//upload/files/1f0dc558c20dfec966fe16b71f2d7a16.png" style="width:100%"> </div> <div class="text-box" style="box-sizing:border-box;text-align:left;width:100%;padding-left:40px"> <p style="font-size:36px;margin:10px 0;padding:0;line-height:1;font-weight:600">Bądź na bieżąco!</p> <p style="margin:0;padding:0">Zapisz się, aby otrzymać informacje o nowościach i promocjach!</p> </div> </div> <div class="wp-push-button-box" style="display:flex;justify-content:flex-end;margin:10px 0"> <button id="wp-push-no" style="box-sizing:border-box;text-align:center;text-decoration:none;color:#262a44;font-size:13px;font-weight:700;padding:10px;margin:0;cursor:pointer;border:0;background:0 0">Zrezygnuj</button> <button id="wp-push-yes" style="background-color:#ed1c24;box-sizing:border-box;padding:10px;text-align:center;border:0;border-radius:50px;text-decoration:none;color:#fff;font-size:13px;font-weight:700;margin:0;cursor:pointer">Włącz powiadomienia</button> </div> </div> </div> '},795:function(e,t,i){var n;e=i.nmd(e),function(){"use strict";var o={function:!0,object:!0},r=o[typeof window]&&window||this,s=o[typeof t]&&t,a=o.object&&e&&!e.nodeType&&e,l=s&&a&&"object"==typeof i.g&&i.g;!l||l.global!==l&&l.window!==l&&l.self!==l||(r=l);var u=Math.pow(2,53)-1,c=/\bOpera/,p=Object.prototype,d=p.hasOwnProperty,g=p.toString;function b(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function h(e){return e=P(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:b(e)}function m(e,t){for(var i in e)d.call(e,i)&&t(e[i],i,e)}function S(e){return null==e?b(e):g.call(e).slice(8,-1)}function f(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function w(e,t){var i=null;return function(e,t){var i=-1,n=e?e.length:0;if("number"==typeof n&&n>-1&&n<=u)for(;++i<n;)t(e[i],i);else m(e,t)}(e,(function(n,o){i=t(i,n,o,e)})),i}function P(e){return String(e).replace(/^ +| +$/g,"")}var x=function e(t){var i=r,n=t&&"object"==typeof t&&"String"!=S(t);n&&(i=t,t=null);var o=i.navigator||{},s=o.userAgent||"";t||(t=s);var a,l,u,p,d,b=n?!!o.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(g.toString()),x="Object",v=n?x:"ScriptBridgingProxyObject",y=n?x:"Environment",I=n&&i.java?"JavaPackage":S(i.java),W=n?x:"RuntimeObject",E=/\bJava/.test(I)&&i.java,O=E&&S(i.environment)==y,k=E?"a":"α",M=E?"b":"β",C=i.document||{},L=i.operamini||i.opera,_=c.test(_=n&&L?L["[[Class]]"]:S(L))?_:L=null,A=t,R=[],T=null,B=t==s,G=B&&L&&"function"==typeof L.version&&L.version(),j=w([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],(function(e,i){return e||RegExp("\\b"+(i.pattern||f(i))+"\\b","i").exec(t)&&(i.label||i)})),F=w(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"],(function(e,i){return e||RegExp("\\b"+(i.pattern||f(i))+"\\b","i").exec(t)&&(i.label||i)})),N=z([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),D=w({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}},(function(e,i,n){return e||(i[N]||i[/^[a-z]+(?: +[a-z]+\b)*/i.exec(N)]||RegExp("\\b"+f(n)+"(?:\\b|\\w*\\d)","i").exec(t))&&n})),U=w(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "],(function(e,i){var n=i.pattern||f(i);return!e&&(e=RegExp("\\b"+n+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(e=function(e,t,i){var n={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&i&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(n=n[/[\d.]+$/.exec(e)])&&(e="Windows "+n),e=String(e),t&&i&&(e=e.replace(RegExp(t,"i"),i)),h(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,n,i.label||i)),e}));function z(e){return w(e,(function(e,i){var n=i.pattern||f(i);return!e&&(e=RegExp("\\b"+n+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+n+" *\\w+-[\\w]*","i").exec(t)||RegExp("\\b"+n+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(i.label&&!RegExp(n,"i").test(i.label)?i.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),i=i.label||i,e=h(e[0].replace(RegExp(n,"i"),i).replace(RegExp("; *(?:"+i+"[_-])?","i")," ").replace(RegExp("("+i+")[-_.]?(\\w)","i"),"$1 $2"))),e}))}function H(e){return w(e,(function(e,i){return e||(RegExp(i+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null}))}if(j&&(j=[j]),/\bAndroid\b/.test(U)&&!N&&(a=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(t))&&(N=P(a[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),D&&!N?N=z([D]):D&&N&&(N=N.replace(RegExp("^("+f(D)+")[-_.\\s]","i"),D+" ").replace(RegExp("^("+f(D)+")[-_.]?(\\w)","i"),D+" $2")),(a=/\bGoogle TV\b/.exec(N))&&(N=a[0]),/\bSimulator\b/i.test(t)&&(N=(N?N+" ":"")+"Simulator"),"Opera Mini"==F&&/\bOPiOS\b/.test(t)&&R.push("running in Turbo/Uncompressed mode"),"IE"==F&&/\blike iPhone OS\b/.test(t)?(D=(a=e(t.replace(/like iPhone OS/,""))).manufacturer,N=a.product):/^iP/.test(N)?(F||(F="Safari"),U="iOS"+((a=/ OS ([\d_]+)/i.exec(t))?" "+a[1].replace(/_/g,"."):"")):"Konqueror"==F&&/^Linux\b/i.test(U)?U="Kubuntu":D&&"Google"!=D&&(/Chrome/.test(F)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test(N))||/\bAndroid\b/.test(U)&&/^Chrome/.test(F)&&/\bVersion\//i.test(t)?(F="Android Browser",U=/\bAndroid\b/.test(U)?U:"Android"):"Silk"==F?(/\bMobi/i.test(t)||(U="Android",R.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&R.unshift("accelerated")):"UC Browser"==F&&/\bUCWEB\b/.test(t)?R.push("speed mode"):"PaleMoon"==F&&(a=/\bFirefox\/([\d.]+)\b/.exec(t))?R.push("identifying as Firefox "+a[1]):"Firefox"==F&&(a=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(U||(U="Firefox OS"),N||(N=a[1])):!F||(a=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec(F))?(F&&!N&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(a+"/")+8))&&(F=null),(a=N||D||U)&&(N||D||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(U))&&(F=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(U)?U:a)+" Browser")):"Electron"==F&&(a=(/\bChrome\/([\d.]+)\b/.exec(t)||0)[1])&&R.push("Chromium "+a),G||(G=H(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",f(F),"(?:Firefox|Minefield|NetFront)"])),(a=("iCab"==j&&parseFloat(G)>3?"WebKit":/\bOpera\b/.test(F)&&(/\bOPR\b/.test(t)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test(j)&&"WebKit"||!j&&/\bMSIE\b/i.test(t)&&("Mac OS"==U?"Tasman":"Trident")||"WebKit"==j&&/\bPlayStation\b(?! Vita\b)/i.test(F)&&"NetFront")&&(j=[a]),"IE"==F&&(a=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(F+=" Mobile",U="Windows Phone "+(/\+$/.test(a)?a:a+".x"),R.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?(F="IE Mobile",U="Windows Phone 8.x",R.unshift("desktop mode"),G||(G=(/\brv:([\d.]+)/.exec(t)||0)[1])):"IE"!=F&&"Trident"==j&&(a=/\brv:([\d.]+)/.exec(t))&&(F&&R.push("identifying as "+F+(G?" "+G:"")),F="IE",G=a[1]),B){if(p="global",d=null!=(u=i)?typeof u[p]:"number",/^(?:boolean|number|string|undefined)$/.test(d)||"object"==d&&!u[p])S(a=i.runtime)==v?(F="Adobe AIR",U=a.flash.system.Capabilities.os):S(a=i.phantom)==W?(F="PhantomJS",G=(a=a.version||null)&&a.major+"."+a.minor+"."+a.patch):"number"==typeof C.documentMode&&(a=/\bTrident\/(\d+)/i.exec(t))?(G=[G,C.documentMode],(a=+a[1]+4)!=G[1]&&(R.push("IE "+G[1]+" mode"),j&&(j[1]=""),G[1]=a),G="IE"==F?String(G[1].toFixed(1)):G[0]):"number"==typeof C.documentMode&&/^(?:Chrome|Firefox)\b/.test(F)&&(R.push("masking as "+F+" "+G),F="IE",G="11.0",j=["Trident"],U="Windows");else if(E&&(A=(a=E.lang.System).getProperty("os.arch"),U=U||a.getProperty("os.name")+" "+a.getProperty("os.version")),O){try{G=i.require("ringo/engine").version.join("."),F="RingoJS"}catch(e){(a=i.system)&&a.global.system==i.system&&(F="Narwhal",U||(U=a[0].os||null))}F||(F="Rhino")}else"object"==typeof i.process&&!i.process.browser&&(a=i.process)&&("object"==typeof a.versions&&("string"==typeof a.versions.electron?(R.push("Node "+a.versions.node),F="Electron",G=a.versions.electron):"string"==typeof a.versions.nw&&(R.push("Chromium "+G,"Node "+a.versions.node),F="NW.js",G=a.versions.nw)),F||(F="Node.js",A=a.arch,U=a.platform,G=(G=/[\d.]+/.exec(a.version))?G[0]:null));U=U&&h(U)}if(G&&(a=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(G)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(B&&o.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(T=/b/i.test(a)?"beta":"alpha",G=G.replace(RegExp(a+"\\+?$"),"")+("beta"==T?M:k)+(/\d+\+?/.exec(a)||"")),"Fennec"==F||"Firefox"==F&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(U))F="Firefox Mobile";else if("Maxthon"==F&&G)G=G.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(N))"Xbox 360"==N&&(U=null),"Xbox 360"==N&&/\bIEMobile\b/.test(t)&&R.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(F)&&(!F||N||/Browser|Mobi/.test(F))||"Windows CE"!=U&&!/Mobi/i.test(t))if("IE"==F&&B)try{null===i.external&&R.unshift("platform preview")}catch(e){R.unshift("embedded")}else(/\bBlackBerry\b/.test(N)||/\bBB10\b/.test(t))&&(a=(RegExp(N.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||G)?(U=((a=[a,/BB10/.test(t)])[1]?(N=null,D="BlackBerry"):"Device Software")+" "+a[0],G=null):this!=m&&"Wii"!=N&&(B&&L||/Opera/.test(F)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==F&&/\bOS X (?:\d+\.){2,}/.test(U)||"IE"==F&&(U&&!/^Win/.test(U)&&G>5.5||/\bWindows XP\b/.test(U)&&G>8||8==G&&!/\bTrident\b/.test(t)))&&!c.test(a=e.call(m,t.replace(c,"")+";"))&&a.name&&(a="ing as "+a.name+((a=a.version)?" "+a:""),c.test(F)?(/\bIE\b/.test(a)&&"Mac OS"==U&&(U=null),a="identify"+a):(a="mask"+a,F=_?h(_.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(a)&&(U=null),B||(G=null)),j=["Presto"],R.push(a));else F+=" Mobile";(a=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(a=[parseFloat(a.replace(/\.(\d)$/,".0$1")),a],"Safari"==F&&"+"==a[1].slice(-1)?(F="WebKit Nightly",T="alpha",G=a[1].slice(0,-1)):G!=a[1]&&G!=(a[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1])||(G=null),a[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(t)||0)[1],537.36==a[0]&&537.36==a[2]&&parseFloat(a[1])>=28&&"WebKit"==j&&(j=["Blink"]),B&&(b||a[1])?(j&&(j[1]="like Chrome"),a=a[1]||((a=a[0])<530?1:a<532?2:a<532.05?3:a<533?4:a<534.03?5:a<534.07?6:a<534.1?7:a<534.13?8:a<534.16?9:a<534.24?10:a<534.3?11:a<535.01?12:a<535.02?"13+":a<535.07?15:a<535.11?16:a<535.19?17:a<536.05?18:a<536.1?19:a<537.01?20:a<537.11?"21+":a<537.13?23:a<537.18?24:a<537.24?25:a<537.36?26:"Blink"!=j?"27":"28")):(j&&(j[1]="like Safari"),a=(a=a[0])<400?1:a<500?2:a<526?3:a<533?4:a<534?"4+":a<535?5:a<537?6:a<538?7:a<601?8:a<602?9:a<604?10:a<606?11:a<608?12:"12"),j&&(j[1]+=" "+(a+="number"==typeof a?".x":/[.+]/.test(a)?"":"+")),"Safari"==F&&(!G||parseInt(G)>45)?G=a:"Chrome"==F&&/\bHeadlessChrome/i.test(t)&&R.unshift("headless")),"Opera"==F&&(a=/\bzbov|zvav$/.exec(U))?(F+=" ",R.unshift("desktop mode"),"zvav"==a?(F+="Mini",G=null):F+="Mobile",U=U.replace(RegExp(" *"+a+"$"),"")):"Safari"==F&&/\bChrome\b/.exec(j&&j[1])?(R.unshift("desktop mode"),F="Chrome Mobile",G=null,/\bOS X\b/.test(U)?(D="Apple",U="iOS 4.3+"):U=null):/\bSRWare Iron\b/.test(F)&&!G&&(G=H("Chrome")),G&&0==G.indexOf(a=/[\d.]+$/.exec(U))&&t.indexOf("/"+a+"-")>-1&&(U=P(U.replace(a,""))),U&&-1!=U.indexOf(F)&&!RegExp(F+" OS").test(U)&&(U=U.replace(RegExp(" *"+f(F)+" *"),"")),j&&!/\b(?:Avant|Nook)\b/.test(F)&&(/Browser|Lunascape|Maxthon/.test(F)||"Safari"!=F&&/^iOS/.test(U)&&/\bSafari\b/.test(j[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(F)&&j[1])&&(a=j[j.length-1])&&R.push(a),R.length&&(R=["("+R.join("; ")+")"]),D&&N&&N.indexOf(D)<0&&R.push("on "+D),N&&R.push((/^on /.test(R[R.length-1])?"":"on ")+N),U&&(a=/ ([\d.+]+)$/.exec(U),l=a&&"/"==U.charAt(U.length-a[0].length-1),U={architecture:32,family:a&&!l?U.replace(a[0],""):U,version:a?a[1]:null,toString:function(){var e=this.version;return this.family+(e&&!l?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(a=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(A))&&!/\bi686\b/i.test(A)?(U&&(U.architecture=64,U.family=U.family.replace(RegExp(" *"+a),"")),F&&(/\bWOW64\b/i.test(t)||B&&/\w(?:86|32)$/.test(o.cpuClass||o.platform)&&!/\bWin64; x64\b/i.test(t))&&R.unshift("32-bit")):U&&/^OS X/.test(U.family)&&"Chrome"==F&&parseFloat(G)>=39&&(U.architecture=64),t||(t=null);var K={};return K.description=t,K.layout=j&&j[0],K.manufacturer=D,K.name=F,K.prerelease=T,K.product=N,K.ua=t,K.version=F&&G,K.os=U||{architecture:null,family:null,version:null,toString:function(){return"null"}},K.parse=e,K.toString=function(){return this.description||""},K.version&&R.unshift(G),K.name&&R.unshift(F),U&&F&&(U!=String(U).split(" ")[0]||U!=F.split(" ")[0]&&!N)&&R.push(N?"("+U+")":"on "+U),R.length&&(K.description=R.join(" ")),K}();r.platform=x,void 0===(n=function(){return x}.call(t,i,t,e))||(e.exports=n)}.call(this)},11:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PermissionChangeEventListener=void 0;const n=i(436),o=i(390),r=i(297),s=i(86),a=i(963),l=i(698),u=i(309),c=i(939);t.PermissionChangeEventListener=class{static register(){"permissions"in navigator&&navigator.permissions.query({name:"notifications"}).then((function(e){e.onchange=function(){o.PushInternalLogger.log("User decided to change push settings. New permission: "+e.state),"granted"==e.state?(s.Stage.isExternal()&&l.ExternalWindowSubscription.thankYouAfterSubscription(),o.PushInternalLogger.log(e),a.SwRegistration.get().then((e=>{e.pushManager.getSubscription().then((e=>{if(null==e)globalThis.swRegistration.pushManager.subscribe(r.PushSubscriptionOptionsObject.get()).then((e=>{o.PushInternalLogger.log(e);let t=e.toJSON();c.SavePushSubscription.sendToBackend(t),s.Stage.isExternal()?u.PermissionDOMWindow.sendPermissionStats("browser-external","agreed"):u.PermissionDOMWindow.sendPermissionStats("browser","agreed")}));else{o.PushInternalLogger.log(e);let t=e.toJSON();c.SavePushSubscription.sendToBackend(t),s.Stage.isExternal()?u.PermissionDOMWindow.sendPermissionStats("browser-external","agreed"):u.PermissionDOMWindow.sendPermissionStats("browser","agreed")}})).catch((e=>o.PushInternalLogger.log("PermissionChangeEventListener::error ",e)))}))):"denied"==e.state?s.Stage.isExternal()?u.PermissionDOMWindow.sendPermissionStats("browser-external","denied"):u.PermissionDOMWindow.sendPermissionStats("browser","denied"):"prompt"==e.state&&n.Cookie.delete(n.Cookie.ExistSubscriptionCookie.Name)}}))}}},238:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AcId=void 0;const n=i(436),o=i(390),r=i(86);class s{static get(){return r.Stage.isExternal()?s.getFromParams():s.getFromCookie()}static getFromCookie(){let e,t=n.Cookie.get(s.cookieName);return t?(t.startsWith("ac%3A")&&(t=t.replace("ac%3A","ac:")),o.PushInternalLogger.log("AcID cookie:"),o.PushInternalLogger.log(t),e=t.startsWith("ac:")?t.split(":").slice(0,2).join(":"):t.split(":").slice(0,1).join(),o.PushInternalLogger.log("AcID after split: ",e),e):(o.PushInternalLogger.log("AcID identifier not found"),"")}static getFromParams(){let e=new URLSearchParams(window.location.search).get("ac_id");return null!==e?e:""}}t.AcId=s,s.cookieName="STac",s.localstorageKeyName=""},991:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ApiEndpoints=void 0;const n=i(238),o=i(730),r=i(507),s=i(631),a=i(390),l=i(845),u=i(86),c=i(823),p=i(527);class d{static getBaseUrl(){return u.Stage.isLocal()?"https://wp-push.kube.local/api/":u.Stage.isStaging()?"https://webpush-stage.wp.pl/":"https://webpush.wp.pl/"}static getExternalWindowSubscriptionBaseUrl(){if(u.Stage.isLocal())return"https://wp-push.kube.local/external-subscription/";let e="https://";return e+=window.location.host.split(".").join(""),e+=".pushservice.pl/",e}static subscriptionManagerBaseEndpoint(){return d.getBaseUrl()+"subscription/"}static vapidServiceBaseEndpoint(){return u.Stage.isLocal()?d.getBaseUrl()+"vapid/":d.getBaseUrl()+"vapid_service/"}static externalWindowSubscriptionEndpoint(){let e=new URL(d.getExternalWindowSubscriptionBaseUrl());return e.searchParams.set("pixel_id",l.PixelId.get()),e.searchParams.set("domain",o.DomainHelper.get()),e.searchParams.set("uid",c.UID.get()),e.searchParams.set("ac_id",n.AcId.get()),e.searchParams.set("fpuid",s.FPUID.get()),e.searchParams.set("em",r.EM.get()),e.searchParams.set("wph_a",p.WPHa.get()),a.PushInternalLogger.log("External window url:",e.toString()),e.toString()}}t.ApiEndpoints=d,d.SubscriptionManagerEndpoints={register:{method:"POST",endpoint:"save"},update:{method:"POST",endpoint:"update"},statistics:{method:"POST",endpoint:"statistics"},doesSubscriptionExist:{method:"POST",endpoint:"exists"}}},436:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cookie=void 0;const n=i(390),o=i(86);class r{static get(e){if("undefined"==typeof document)throw n.PushInternalLogger.log("Cannot read document!"),"Cannot read document from browser.";return n.PushInternalLogger.log("all cookies"),n.PushInternalLogger.log(document.cookie),document.cookie.split(";").map((e=>e.trim())).filter((t=>t.substring(0,e.length+1)===`${e}=`)).map((t=>decodeURIComponent(t.substring(e.length+1))))[0]||null}static set(e,t,i){if("undefined"==typeof document)throw n.PushInternalLogger.log("Cannot read document!"),"Cannot read document from browser.";let r="";o.Stage.isExternal()&&(r="domain=.dcwp.pl;"),document.cookie=e+"="+t+"; expires="+i.toUTCString()+"; path=/;"+r+"SameSite=None; Secure"}static delete(e){r.get(e)?document.cookie=`${e}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/`:n.PushInternalLogger.log("Cannot delete cookie as it's not set.")}}t.Cookie=r,r.DeclinePushCookie={Name:"___wp_push_decline",LifetimeInDays:30},r.ExistSubscriptionCookie={Name:"___wp_push_exist",LifetimeInDays:30},r.AcceptedPushCookie={Name:"___wp_push_external_subscription",LifetimeInDays:365}},730:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DomainHelper=void 0;const n=i(86);t.DomainHelper=class{static get(){if(n.Stage.isExternal()){let e=new URLSearchParams(window.location.search).get("domain");if(null!==e)return e;throw new Error("Domain not specified but required in external subscription!")}return window.location.hostname.replace("www.","")}}},507:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EM=void 0;const n=i(86);t.EM=class{static get(){if(n.Stage.isExternal()){let e=new URLSearchParams(window.location.search).get("em");return null!==e&&"undefined"!==e?e:""}return"undefined"==typeof wph&&(n.Stage.isStaging()||n.Stage.isLocal())?"":"undefined"!=typeof wph&&void 0!==wph.params.em&&"undefined"!==wph.params.em&&"null"!==wph.params.em?wph.params.em:""}}},631:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FPUID=void 0;const n=i(86);t.FPUID=class{static get(){if(n.Stage.isExternal()){let e=new URLSearchParams(window.location.search).get("fpuid");return null!==e&&"undefined"!==e?e:""}return"undefined"==typeof wph&&(n.Stage.isStaging()||n.Stage.isLocal())?"":"undefined"!=typeof wph&&void 0!==wph.params.fpuid&&"undefined"!==wph.params.fpuid&&"null"!==wph.params.fpuid&&null!==wph.params.fpuid?wph.params.fpuid:""}}},390:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PushInternalLogger=void 0;class i{static log(...e){"true"===this.getSettingsFromLocalStorage()&&console.log(...e)}static getSettingsFromLocalStorage(){return null!=localStorage.getItem(i.secretSettingName)?localStorage.getItem(i.secretSettingName)||"":"false"}}t.PushInternalLogger=i,i.secretSettingName="___pushinternallogger"},459:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LTID=void 0;const n=i(86);t.LTID=class{static get(){if(n.Stage.isExternal()){let e=new URLSearchParams(window.location.search).get("ltid");return null!==e&&"undefined"!==e?e:""}return"undefined"==typeof wph&&(n.Stage.isStaging()||n.Stage.isLocal())?"":"undefined"!=typeof wph&&void 0!==wph.params.ltid&&"undefined"!==wph.params.ltid&&"null"!==wph.params.ltid?wph.params.ltid:""}}},845:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PixelId=void 0;const n=i(86);t.PixelId=class{static get(){if("undefined"==typeof wph&&n.Stage.isLocal())return"samito_test";if("undefined"==typeof wph){let e=new URLSearchParams(window.location.search).get("pixel_id");return"string"==typeof e?e:""}return wph.params.pixelID}}},297:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PushSubscriptionOptionsObject=void 0;const n=i(305);t.PushSubscriptionOptionsObject=class{static get(){return{userVisibleOnly:!0,applicationServerKey:n.VapidPublicKey.get()}}}},314:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutomaticInitializationSetting=void 0;const n=i(147);t.AutomaticInitializationSetting=class{static get(){return void 0!==window.WpPushSettings.automaticInitialization&&"boolean"==typeof window.WpPushSettings.automaticInitialization?window.WpPushSettings.automaticInitialization:void 0===n.RemoteSettingGetter.get().automaticInitialization||"boolean"!=typeof n.RemoteSettingGetter.get().automaticInitialization||n.RemoteSettingGetter.get().automaticInitialization}}},306:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CurrentWindowLocation=void 0,t.CurrentWindowLocation=class{static get(){return encodeURIComponent(window.location.href)}}},528:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExternalSubscriptionWindowSettings=void 0;const n=i(147);class o{static get(){return{enabled:o.getEnabledSettings(),html:o.getHtml(),htmlAfterSubscription:o.getHtmlAfterSubscription(),autoCloseTimeout:o.getAutoCloseTimout(),autoCloseTimeoutAfterSubscription:o.getAutoCloseTimoutAfterSubscription()}}static getEnabledSettings(){return"object"==typeof window.WpPushSettings.externalSubscription&&"boolean"==typeof window.WpPushSettings.externalSubscription.enabled?window.WpPushSettings.externalSubscription.enabled:void 0!==n.RemoteSettingGetter.get().externalSubscription&&"boolean"==typeof n.RemoteSettingGetter.get().externalSubscription.enabled&&n.RemoteSettingGetter.get().externalSubscription.enabled}static getHtml(){return void 0!==n.RemoteSettingGetter.get().externalSubscription&&"string"==typeof n.RemoteSettingGetter.get().externalSubscription.html?n.RemoteSettingGetter.get().externalSubscription.html:i(431).Z}static getHtmlAfterSubscription(){return void 0!==n.RemoteSettingGetter.get().externalSubscription&&"string"==typeof n.RemoteSettingGetter.get().externalSubscription.htmlAfterSubscription?n.RemoteSettingGetter.get().externalSubscription.htmlAfterSubscription:i(337).Z}static getAutoCloseTimout(){return void 0!==n.RemoteSettingGetter.get().externalSubscription&&"number"==typeof n.RemoteSettingGetter.get().externalSubscription.autoCloseTimeout?n.RemoteSettingGetter.get().externalSubscription.autoCloseTimeout:0}static getAutoCloseTimoutAfterSubscription(){return void 0!==n.RemoteSettingGetter.get().externalSubscription&&"number"==typeof n.RemoteSettingGetter.get().externalSubscription.autoCloseTimeoutAfterSubscription?n.RemoteSettingGetter.get().externalSubscription.autoCloseTimeoutAfterSubscription:0}}t.ExternalSubscriptionWindowSettings=o},506:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWpPushSettings=void 0;const n=i(314),o=i(508),r=i(306),s=i(528),a=i(390),l=i(731);t.GlobalWpPushSettings=class{static get(){let e={currentWindowLocation:r.CurrentWindowLocation.get(),subscriptionForm:l.SubscriptionFormSetting.get(),automaticInitialization:n.AutomaticInitializationSetting.get(),serviceWorkerName:o.ServiceWorkerName.get(),externalSubscription:s.ExternalSubscriptionWindowSettings.get()};return a.PushInternalLogger.log(e),e}}},147:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteSettingGetter=void 0;const n=i(390),o=i(845),r=i(86);class s{static get(){return""==o.PixelId.get()?{}:"object"==typeof s.settings?(n.PushInternalLogger.log("Settings returned from const."),s.settings):s.callCeph()}static callCeph(){let e=this.getUrl(),t=new XMLHttpRequest;t.open("GET",e,!1),t.send(null),n.PushInternalLogger.log("response: ",t.responseText);try{let e=JSON.parse(t.responseText);e&&"object"==typeof e?("boolean"==typeof e.automaticInintialization&&(e.automaticInitialization=e.automaticInintialization),s.settings=e):s.settings={}}catch(e){n.PushInternalLogger.log("Error parsing json: ",e),s.settings={}}return s.settings}static getUrl(){let e;return e=r.Stage.isStaging()?"https://samito-webpush.sds.dc-1.lb.dcwp.pl/stage_push_manager/"+o.PixelId.get()+"/settings.json":"https://pixel.wp.pl/push_manager/"+o.PixelId.get()+"/settings.json",e}}t.RemoteSettingGetter=s},508:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceWorkerName=void 0;const n=i(147);t.ServiceWorkerName=class{static get(){if(void 0!==window.WpPushSettings.serviceWorkerName&&window.WpPushSettings.serviceWorkerName.length>0){let e=window.WpPushSettings.serviceWorkerName;return e.startsWith("/")||e.startsWith("./")||(e="/"+e),e}if(void 0!==n.RemoteSettingGetter.get().serviceWorkerName&&"string"==typeof n.RemoteSettingGetter.get().serviceWorkerName){let e=n.RemoteSettingGetter.get().serviceWorkerName;return e.startsWith("/")||e.startsWith("./")||(e="/"+e),e}return"/sw.js"}}},731:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionFormSetting=void 0;const n=i(147);class o{static get(){return{enabled:o.getEnabled(),html:o.getHtml(),parentSelector:o.getParentSelector(),autoCloseTimeout:o.getAutoCloseTimout()}}static getEnabled(){return void 0!==window.WpPushSettings.subscriptionForm&&"boolean"==typeof window.WpPushSettings.subscriptionForm.enabled?window.WpPushSettings.subscriptionForm.enabled:void 0===n.RemoteSettingGetter.get().subscriptionForm||"boolean"!=typeof n.RemoteSettingGetter.get().subscriptionForm.enabled||n.RemoteSettingGetter.get().subscriptionForm.enabled}static getHtml(){return void 0!==window.WpPushSettings.subscriptionForm&&"string"==typeof window.WpPushSettings.subscriptionForm.html?window.WpPushSettings.subscriptionForm.html:void 0!==n.RemoteSettingGetter.get().subscriptionForm&&"string"==typeof n.RemoteSettingGetter.get().subscriptionForm.html?n.RemoteSettingGetter.get().subscriptionForm.html:""}static getParentSelector(){return void 0!==window.WpPushSettings.subscriptionForm&&"string"==typeof window.WpPushSettings.subscriptionForm.parentSelector?window.WpPushSettings.subscriptionForm.parentSelector:void 0!==n.RemoteSettingGetter.get().subscriptionForm&&"string"==typeof n.RemoteSettingGetter.get().subscriptionForm.parentSelector?n.RemoteSettingGetter.get().subscriptionForm.parentSelector:"body"}static getAutoCloseTimout(){return void 0!==window.WpPushSettings.subscriptionForm&&"number"==typeof window.WpPushSettings.subscriptionForm.autoCloseTimeout&&window.WpPushSettings.subscriptionForm.autoCloseTimeout>0?window.WpPushSettings.subscriptionForm.autoCloseTimeout:void 0!==n.RemoteSettingGetter.get().subscriptionForm&&"number"==typeof n.RemoteSettingGetter.get().subscriptionForm.autoCloseTimeout&&n.RemoteSettingGetter.get().subscriptionForm.autoCloseTimeout>0?n.RemoteSettingGetter.get().subscriptionForm.autoCloseTimeout:0}}t.SubscriptionFormSetting=o},86:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=void 0;class i{static isLocal(){return"wp-push.kube.local"===window.location.host||"localhost"===window.location.hostname}static isStaging(){return!!("true"==localStorage.getItem(i.stagingLocalStorageKey)||window.location.host.includes("dcwp.pl")||window.location.host.includes("dcwppl")||window.location.host.includes("grupawp.pl")||window.location.host.includes("grupawppl"))}static isExternal(){return!!window.location.host.includes("pushservice.pl")}}t.Stage=i,i.stagingLocalStorageKey="push-stage"},963:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SwRegistration=void 0,t.SwRegistration=class{static set(e){globalThis.swRegistration=e}static get(){return new Promise((e=>{!function t(){void 0===globalThis.swRegistration||null===globalThis.swRegistration?setTimeout(t,250):e(globalThis.swRegistration)}()}))}}},823:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UID=void 0;const n=i(86);t.UID=class{static get(){if(n.Stage.isExternal()){let e=new URLSearchParams(window.location.search).get("uid");return null!==e&&"null"!==e&&"undefined"!==e?e:""}if("undefined"==typeof wph&&(n.Stage.isStaging()||n.Stage.isLocal()))return"";if("undefined"!=typeof wph&&void 0!==wph.params.uid&&"undefined"!==wph.params.uid&&"null"!==wph.params.uid){let e=wph.params.uid;return"number"==typeof e&&e>1&&(e=e.toString()),e<2?"":e}return""}}},760:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserAgent=void 0;const n=i(390);class o{static getInfo(){return{name:o.getUserBrowserName(),version:o.getUserBrowserVersion()}}static getUserBrowserName(){return n.PushInternalLogger.log(o.UA),n.PushInternalLogger.log(o.platform.name),o.platform.name}static getUserBrowserVersion(){return n.PushInternalLogger.log(o.platform.version),o.platform.version}}t.UserAgent=o,o.UA=navigator.userAgent,o.platform=i(795)},305:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VapidPublicKey=void 0,t.VapidPublicKey=class{constructor(e){globalThis.vapidPublicKey=e}static get(){var e;return null!==(e=globalThis.vapidPublicKey)&&void 0!==e?e:""}}},527:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WPHa=void 0;const n=i(86);t.WPHa=class{static get(){if("undefined"==typeof wph&&(n.Stage.isStaging()||n.Stage.isLocal()))return"samito-test";if(n.Stage.isExternal()){let e=new URLSearchParams(window.location.search).get("wph_a");return null!==e&&"undefined"!==e?e:""}return"undefined"==typeof wph&&null!==localStorage.getItem("__wph_a.key")&&null!==localStorage.getItem("__wph_a.ts")?localStorage.getItem("__wph_a.key")+"."+localStorage.getItem("__wph_a.ts"):"undefined"!=typeof wph?wph.params.wpha:""}}},901:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoClose=void 0;const n=i(86),o=i(390);t.AutoClose=class{static start(e,t,i){o.PushInternalLogger.log("AutoClose observer start");let r=null;if(0!==t){if(o.PushInternalLogger.log("AutoClose timeout:",t),null!==r&&(o.PushInternalLogger.log("AutoClose MutationObserver clear timeout;"),clearTimeout(r)),r=window.setTimeout((()=>{o.PushInternalLogger.log("AutoClose MutationObserver timer run;"),"close"in e?(o.PushInternalLogger.log("AutoClose MutationObserver close;"),e.close()):"hide"in e&&(o.PushInternalLogger.log("AutoClose MutationObserver hide;"),e.hide())}),1e3*t),i){o.PushInternalLogger.log("clearOnClick start;");let e=document.querySelector(".wp-push-main-container");n.Stage.isExternal()&&(e=document.body),e&&e.addEventListener("click",(()=>{o.PushInternalLogger.log("clearOnClick event triggered;"),null!==r&&(clearTimeout(r),r=null)}))}}else o.PushInternalLogger.log("AutoClose observer exit; timeout = 0")}}},722:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PermissionBrowserWindow=void 0;const n=i(939),o=i(604),r=i(390),s=i(963),a=i(309),l=i(760),u=i(436),c=i(297);class p{static ask(e){e||a.PermissionDOMWindow.sendPermissionStats("browser","ask"),r.PushInternalLogger.log("PermissionBrowserWindow::ask registering ready event on serviceworker"),navigator.serviceWorker.ready.then((function(t){s.SwRegistration.get().then((t=>{r.PushInternalLogger.log(t),t.pushManager.subscribe(c.PushSubscriptionOptionsObject.get()).then((t=>{if("Safari"!=l.UserAgent.getInfo().name)return;r.PushInternalLogger.log(t);let i=t.toJSON();n.SavePushSubscription.sendToBackend(i),e||a.PermissionDOMWindow.sendPermissionStats("browser","agreed")}))}))}))}static resubscribe(){r.PushInternalLogger.log("[PermissionBrowserWindow::unsubscribe]: method called"),s.SwRegistration.get().then((e=>{e.pushManager.getSubscription().then((e=>(null==e||e.toJSON(),null==e?void 0:e.unsubscribe().then((e=>{r.PushInternalLogger.log("[PermissionBrowserWindow::unsubscribe]:  OK"),globalThis.swRegistration.pushManager.subscribe(c.PushSubscriptionOptionsObject.get()).then((e=>{r.PushInternalLogger.log(e);let t=e.toJSON();n.SavePushSubscription.sendToBackend(t),a.PermissionDOMWindow.sendPermissionStats("browser","resubscribe")}))})).catch((e=>{r.PushInternalLogger.log("[PermissionBrowserWindow::unsubscribe]: error: ",e)})))))}))}static refreshSubscription(){s.SwRegistration.get().then((e=>{e.pushManager.getSubscription().then((e=>{r.PushInternalLogger.log("[RefreshSubscription]: sub:",e);let t=null==e?void 0:e.toJSON();r.PushInternalLogger.log("[RefreshSubscription]: sub.toJSON:",t),"true"!==u.Cookie.get(u.Cookie.ExistSubscriptionCookie.Name)?t?(r.PushInternalLogger.log("[RefreshSubscription]: Subscription exists in browser, checking with backend."),o.SubscriptionExists.check(t).then((e=>{if(404===e.status)r.PushInternalLogger.log("[RefreshSubscription]: Unregistering all serviceworkers..."),r.PushInternalLogger.log("[RefreshSubscription]: Resubscribing..."),p.resubscribe();else if(302===e.status){r.PushInternalLogger.log("[RefreshSubscription]: Subscription exists, setting cookie...");const e=new Date;e.setTime(e.getTime()+24*u.Cookie.ExistSubscriptionCookie.LifetimeInDays*60*60*1e3),u.Cookie.set(u.Cookie.ExistSubscriptionCookie.Name,"true",e)}else r.PushInternalLogger.log("Subscription is valid.")}))):(r.PushInternalLogger.log("[RefreshSubscription]: Subscription is null. Subscribing..."),p.ask(!0)):r.PushInternalLogger.log("[RefreshSubscription]: User is already subscriber. Ommit.")}))}))}static decline(){a.PermissionDOMWindow.hide();const e=new Date;e.setTime(e.getTime()+24*u.Cookie.DeclinePushCookie.LifetimeInDays*60*60*1e3),u.Cookie.set(u.Cookie.DeclinePushCookie.Name,"true",e)}}t.PermissionBrowserWindow=p},604:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionExists=void 0;const n=i(238),o=i(991),r=i(730),s=i(506),a=i(86),l=i(760),u=i(527);t.SubscriptionExists=class{static check(e){let t={browser:l.UserAgent.getInfo().name,domain:r.DomainHelper.get()};return""!==n.AcId.get()&&(t.ac_id=n.AcId.get()),""!=u.WPHa.get()&&(t.wph_a=u.WPHa.get()),s.GlobalWpPushSettings.get().externalSubscription.enabled&&a.Stage.isExternal()||e&&(t.endpoint=e.endpoint),fetch(o.ApiEndpoints.subscriptionManagerBaseEndpoint()+o.ApiEndpoints.SubscriptionManagerEndpoints.doesSubscriptionExist.endpoint,{method:o.ApiEndpoints.SubscriptionManagerEndpoints.doesSubscriptionExist.method,body:JSON.stringify(t),credentials:"include"})}}},698:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExternalWindowSubscription=void 0;const n=i(991),o=i(390),r=i(506),s=i(901);class a{static open(){window.open(n.ApiEndpoints.externalWindowSubscriptionEndpoint(),"Push subscription","_blanc, toolbar=no, width=500, height=600").focus()}static fillExternalSubscriptionWindowWithElements(){o.PushInternalLogger.log("Fill external subscription window with elements::start"),a.clearHtml(),a.fillHtml(),o.PushInternalLogger.log("Fill external subscription window with elements::end")}static thankYouAfterSubscription(){a.clearHtml(),a.fillHtmlAfterSubscription(),s.AutoClose.start(a,r.GlobalWpPushSettings.get().externalSubscription.autoCloseTimeoutAfterSubscription,!1)}static fillHtml(){document.getElementById("html").insertAdjacentHTML("afterbegin",r.GlobalWpPushSettings.get().externalSubscription.html)}static fillHtmlAfterSubscription(){document.getElementById("html").insertAdjacentHTML("afterbegin",r.GlobalWpPushSettings.get().externalSubscription.htmlAfterSubscription)}static clearHtml(){document.getElementById("html").innerHTML=""}static close(){window.close()}}t.ExternalWindowSubscription=a},309:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PermissionDOMWindow=t.PermissionBoxInsertType=void 0;const n=i(238),o=i(991),r=i(436),s=i(730),a=i(390),l=i(845),u=i(506),c=i(86),p=i(760),d=i(527),g=i(722),b=i(698),h=i(901);var m;!function(e){e.before="beforeContent",e.after="afterContent"}(m||(t.PermissionBoxInsertType=m={}));class S{constructor(){}display(){if("denied"==Notification.permission||"granted"==Notification.permission)return a.PushInternalLogger.log("PermissionDOMWindow::display: skipping due to permission state."),void a.PushInternalLogger.log("PermissionDOMWindow::display: permission state: "+Notification.permission);if("true"===r.Cookie.get(r.Cookie.DeclinePushCookie.Name))return void a.PushInternalLogger.log("Decline cookie exists. Skipping");a.PushInternalLogger.log("PermissionDOMWindow::display: start");const e=this.getHtmlElement();var t;null!==(t=document.querySelector(u.GlobalWpPushSettings.get().subscriptionForm.parentSelector))?(this.show(t,e),c.Stage.isExternal()?(b.ExternalWindowSubscription.fillExternalSubscriptionWindowWithElements(),h.AutoClose.start(b.ExternalWindowSubscription,u.GlobalWpPushSettings.get().subscriptionForm.autoCloseTimeout,!0)):h.AutoClose.start(S,u.GlobalWpPushSettings.get().subscriptionForm.autoCloseTimeout,!0),this.addButtonsListeners(),a.PushInternalLogger.log("PermissionDOMWindow::display: end")):a.PushInternalLogger.log("No elements returned for given selector!")}getHtmlElement(){return"string"==typeof u.GlobalWpPushSettings.get().subscriptionForm.html&&""!=u.GlobalWpPushSettings.get().subscriptionForm.html?u.GlobalWpPushSettings.get().subscriptionForm.html:i(906).Z}show(e,t){c.Stage.isExternal()||(e.insertAdjacentHTML("beforeend",t),S.sendPermissionStats("popup","show"))}addButtonsListeners(){var e,t;null===(e=document.getElementById("wp-push-yes"))||void 0===e||e.addEventListener("click",(e=>{1!=u.GlobalWpPushSettings.get().externalSubscription.enabled||c.Stage.isExternal()?(S.hide(),c.Stage.isExternal()?S.sendPermissionStats("external-popup","agree"):S.sendPermissionStats("popup","agree"),g.PermissionBrowserWindow.ask(!1)):(S.hide(),S.sendPermissionStats("external","open"),b.ExternalWindowSubscription.open())})),null===(t=document.getElementById("wp-push-no"))||void 0===t||t.addEventListener("click",(e=>{S.sendPermissionStats("popup","declined"),g.PermissionBrowserWindow.decline()}))}static hide(){var e;null===(e=document.getElementsByClassName("wp-push-main-container")[0])||void 0===e||(e.style.visibility="hidden")}static sendPermissionStats(e,t){let i;i=n.AcId.get().length>0?n.AcId.get():d.WPHa.get();let r={user_id:i,type:e,value:t,pixel_id:l.PixelId.get(),browser:p.UserAgent.getInfo().name,domain:s.DomainHelper.get()};fetch(o.ApiEndpoints.subscriptionManagerBaseEndpoint()+"push_consents_stats",{method:"POST",headers:{"content-type":"application/json;charset=UTF-8"},body:JSON.stringify(r),credentials:"include"})}}t.PermissionDOMWindow=S},939:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SavePushSubscription=void 0;const n=i(238),o=i(991),r=i(436),s=i(730),a=i(507),l=i(631),u=i(390),c=i(459),p=i(845),d=i(86),g=i(823),b=i(760),h=i(527);t.SavePushSubscription=class{static sendToBackend(e,t){var i,m;if("string"!=typeof e.endpoint||""===e.endpoint)throw new Error("PushSubscriptionJSON endpoint is not string or is empty!");const S=n.AcId.get(),f=h.WPHa.get(),w=p.PixelId.get();u.PushInternalLogger.log("SavePushSubscription::sendToBackend","pushSubscription:",e),u.PushInternalLogger.log("SavePushSubscription::sendToBackend","ac_id:",S),u.PushInternalLogger.log("SavePushSubscription::sendToBackend","wph_a:",f),u.PushInternalLogger.log("SavePushSubscription::sendToBackend","pixel_id:",w);let P="register",x={wph_a:f,pixel_id:w,ac_id:S,endpoint:e.endpoint,auth:null===(i=null==e?void 0:e.keys)||void 0===i?void 0:i.auth,p256dh:null===(m=null==e?void 0:e.keys)||void 0===m?void 0:m.p256dh,browser:b.UserAgent.getInfo().name,domain:s.DomainHelper.get(),em:a.EM.get(),fpuid:l.FPUID.get(),ltid:c.LTID.get(),uid:g.UID.get()};if(d.Stage.isExternal()){const e=new Date;e.setTime(e.getTime()+24*r.Cookie.AcceptedPushCookie.LifetimeInDays*60*60*1e3),r.Cookie.set(r.Cookie.AcceptedPushCookie.Name,"true",e)}return void 0!==t&&"string"==typeof t.endpoint&&(x.old_endpoint=null==t?void 0:t.endpoint),fetch(o.ApiEndpoints.subscriptionManagerBaseEndpoint()+o.ApiEndpoints.SubscriptionManagerEndpoints[P].endpoint,{method:o.ApiEndpoints.SubscriptionManagerEndpoints[P].method,headers:{"content-type":"application/json;charset=UTF-8"},body:JSON.stringify(x),credentials:"include"})}}},677:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PermissionState=void 0,t.PermissionState=class{static isGranted(){return"granted"===Notification.permission}static isDefault(){return"default"===Notification.permission}static isDenied(){return"denied"===Notification.permission}}},128:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceWorkerLoader=void 0;const n=i(390),o=i(963),r=i(86);t.ServiceWorkerLoader=class{constructor(e){this.swPatch=e}load(){return new Promise(((e,t)=>{const i=window.navigator,s=i.serviceWorker;let a="/";r.Stage.isStaging()&&!r.Stage.isExternal()&&(a="/push-helloworld/"),i&&s?i.serviceWorker.register(this.swPatch,{scope:a}).then((t=>{var i;i=null,t.installing?i=t.installing:t.waiting?i=t.waiting:t.active&&(i=t.active),i&&(o.SwRegistration.set(t),n.PushInternalLogger.log(`Service Worker registration state: '${i.state}'`)),n.PushInternalLogger.log(`Service Worker registration complete, scope: '${t.scope}'`),o.SwRegistration.set(t),e()})).catch((e=>{n.PushInternalLogger.log(`Service Worker registration failed with error: '${e}'`),t(e)})):t(new Error("Navigator or Service Worker is not available"))}))}static unregisterSW(){navigator.serviceWorker.getRegistrations().then((function(e){for(let t of e)t.unregister().then((e=>{console.log("unregister: ",e)})).catch((e=>{console.error(e)}))}))}}},729:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.VapidKeys=void 0;const o=i(991),r=i(730),s=i(845);t.VapidKeys=class{static getVapidPublicKey(){return n(this,void 0,void 0,(function*(){const e=o.ApiEndpoints.vapidServiceBaseEndpoint()+"?"+new URLSearchParams({pixel_id:s.PixelId.get(),domain:r.DomainHelper.get()}).toString();return fetch(e,{method:"GET",credentials:"include"})}))}}}},t={};function i(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";const e=i(309),t=i(390),n=i(729),o=i(760),r=i(128),s=i(722),a=i(506),l=i(305),u=i(86),c=i(698),p=i(436),d=i(677),g=i(963),b=i(11),h=i(604);class m{constructor(){try{t.PushInternalLogger.log("WPPUSH CONSTRUCTOR"),m.setWpPushPublicMethods(),m.registerEventListeners(),o.UserAgent.getInfo(),Promise.all([n.VapidKeys.getVapidPublicKey().then((e=>{if(!e.ok)throw t.PushInternalLogger.log("Initialization failed. Vapid response is not OK. Check your vapid key or endpoint."),Error("Initialization failed. Vapid response is not OK. Check your vapid key or endpoint.");return e.json()})).then((e=>{t.PushInternalLogger.log("settings.vapidPublicKey:",l.VapidPublicKey.get()),new l.VapidPublicKey(e.public_key),t.PushInternalLogger.log("settings.vapidPublicKey after setting:",l.VapidPublicKey.get())}))]),t.PushInternalLogger.log(a.GlobalWpPushSettings.get()),t.PushInternalLogger.log("external state:",a.GlobalWpPushSettings.get().externalSubscription.enabled),t.PushInternalLogger.log("external stage:",u.Stage.isExternal()),m.windowSettingsShow=new e.PermissionDOMWindow,1!=a.GlobalWpPushSettings.get().externalSubscription.enabled||u.Stage.isExternal()?(Promise.all([new r.ServiceWorkerLoader(a.GlobalWpPushSettings.get().serviceWorkerName).load()]),!1!==a.GlobalWpPushSettings.get().automaticInitialization&&m.show(),"granted"==Notification.permission&&(s.PermissionBrowserWindow.refreshSubscription(),u.Stage.isExternal()&&c.ExternalWindowSubscription.thankYouAfterSubscription())):m.show()}catch(e){t.PushInternalLogger.log("error",e)}}static show(){if(a.GlobalWpPushSettings.get().externalSubscription.enabled){if(p.Cookie.get(p.Cookie.ExistSubscriptionCookie.Name))return;h.SubscriptionExists.check().then((e=>{302!==e.status&&m.windowSettingsShow.display()}))}else!1!==a.GlobalWpPushSettings.get().subscriptionForm.enabled?g.SwRegistration.get().then((e=>{e.pushManager.getSubscription().then((e=>{e?h.SubscriptionExists.check(e).then((e=>{(302!==e.status||d.PermissionState.isDefault())&&m.windowSettingsShow.display()})):m.windowSettingsShow.display()}))})):s.PermissionBrowserWindow.refreshSubscription()}static setWpPushPublicMethods(){window.WpPush.show=()=>m.show(),window.WpPush.run=()=>m.show()}static registerEventListeners(){b.PermissionChangeEventListener.register()}}"object"!=typeof window.WpPush&&(window.WpPush={}),"object"!=typeof WpPushSettings&&(window.WpPushSettings={}),new m})()})();