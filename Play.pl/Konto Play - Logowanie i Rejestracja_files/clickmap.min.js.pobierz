"use strict";(()=>{var Q=e=>{var n,o;let a=e.tagName;if(a!=="HTML"&&a!=="AREA"){let v=0;for(let g of(o=(n=e.parentNode)==null?void 0:n.childNodes)!=null?o:[])if(g instanceof Element&&g.tagName===a&&++v,g===e)return`[${v}]`}return""},W=e=>{let a=e.innerHTML.replace(/<\/?[a-z]+>/gi,""),n=e.src;return a=a===""&&n!=null?`${n}`:a,a.length>255?`${a.slice(0,252)}...`:a},Z=(e,a=document)=>{e.on("changeView",()=>{delete e.clickmap}),e.cmd.push(n=>{n.clickmap=="0"?n.enabledClickMapFlag=!1:n.enabledClickMapFlag||(a.addEventListener("mousedown",o=>x(n,o),!1),n.enabledClickMapFlag=!0,n.clickMapObject={})})},x=(e,a)=>{var n,o,v,g,w,H,_,D,O,j,y,U;if(e.clickMapObject!=null){let B=location.hostname==="www.onet.pl";try{let c=a.target;if(c instanceof HTMLElement){let F=c.tagName;if(F==="HTML"||B&&F==="BODY")return;let r,s,i,u,f,m,d,l,P=W(c),T="",C="",R,E,h,p,N,M,$;for(;c instanceof HTMLElement;c=c.parentNode){let b=c.getAttribute("href"),t=c.dataset,q=c.action,G=b!=null?`[@href='${b}']`:"";l=(o=(n=l!=null?l:t.url)!=null?n:b)!=null?o:q,r=r!=null?r:t.section,f=f!=null?f:t.ei,d=d!=null?d:t.esUi,m=m!=null?m:t.uuidUi,s=s!=null?s:t.vtfMid,i=i!=null?i:t.vtfUuid,u=u!=null?u:t.vtfBoxver;let k={},J=t.aur;J!=null&&(k=Object.fromEntries(J.split(";").map(K=>{let[L,Y]=K.split(":");try{return Y===void 0?[L,`missing value for ${L}`]:[L,decodeURIComponent(Y)]}catch(I){return[L,""]}}))),h=(g=(v=h!=null?h:k.batch)!=null?v:t.aureusContextBatchId)!=null?g:t.aurBatch,p=(H=(w=p!=null?p:k.recommendation)!=null?w:t.aureusContextRecommendationId)!=null?H:t.aurRecommendation,N=(D=(_=N!=null?N:k.segment)!=null?_:t.aureusContextSegmentId)!=null?D:t.aurSegment,M=(j=(O=M!=null?M:k.teaser)!=null?O:t.aureusContextTeaserId)!=null?j:t.aurTeaser,$=(U=(y=$!=null?$:k.variant)!=null?y:t.aureusContextVariantUuid)!=null?U:t.aurVariant;let V=Q(c),X=c.tagName.toLowerCase();C=`/${X}${G}${C}${C===""?V:""}`,T=`/${X}${V}${T}`}try{e.coords=`${a.pageX}|${a.pageY}`}catch(b){}if(l!=null||B){if(l==null&&(P=""),$!=null&&h!=null&&p!=null){R={context:{aureus:{variant_uuid:$,batch_id:h,recommendation_id:p,teaser_id:M,segment_id:N}}};try{E=btoa(JSON.stringify(R))}catch(b){E=""}}e.cmd.push(()=>e.clkEvent(l!=null?`${l}`:"",P.replace(/(^\s+)|(\s+$)/g,""),r!=null?r:"",C,T,s!=null?s:"",i!=null?i:"",u!=null?u:"",f!=null?f:"",m!=null?m:"",d!=null?d:"",E!=null?E:""))}}}catch(c){e.cmd.push(()=>e.errEvent("JsError",c==null?void 0:c.message,"initjs/clickmap/elementClicked",""))}}},z={init:Z,sendEvent:x};dlApiDefine("clickmap",[],({module:e})=>{e.exports=z});})();
