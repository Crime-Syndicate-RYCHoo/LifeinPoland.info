!function(){"use strict";var e={1225:function(){var e={},t=/^https:\/\/download.mozilla.org/,n=/^https:\/\/bouncer-bouncer.stage.mozaws.net/,o=/^https:\/\/dev.bouncer.nonprod.webservices.mozgcp.net/,r=/^https:\/\/itunes.apple.com/,a=/^https:\/\/apps.apple.com/,i=/^https:\/\/play.google.com/,l=/^market:\/\/play.google.com/,d=/^https:\/\/apps.microsoft.com/,s=/^ms-windows-store:\/\/pdp\//;"undefined"==typeof window.dataLayer&&(window.dataLayer=[]),e.isValidDownloadURL=function(e){return"string"==typeof e&&!!(t.test(e)||n.test(e)||o.test(e)||r.test(e)||a.test(e)||i.test(e)||l.test(e)||d.test(e)||s.test(e))},e.getEventObject=function(e,t,n){var o=arguments.length>3&&arguments[3]!==undefined&&arguments[3],r=arguments.length>4&&arguments[4]!==undefined&&arguments[4],a={};return a.event=e+"_download",a.product=e,a.platform=t,a.method=n,o&&(a.release_channel=o),r&&(a.download_language=r),a},e.getEventFromUrl=function(c){if("undefined"==typeof window._SearchParams)return!1;if(!e.isValidDownloadURL(c))return!1;var f;f=c.indexOf("?")>0?window._SearchParams.queryStringToObject(c.split("?")[1]):[];var u={};if(t.test(c)||n.test(c)||o.test(c)){var p=f.product,w=p.split("-"),v=w[0];v="partner"===v?"firefox":v;var m=f.os;m="osx"===m?"macos":m,m=-1!==p.indexOf("msi")?m+"-msi":m;var g=w[1];"latest"!==(g="partner"===w[0]?"release":g)&&"stub"!==g&&"msi"!==g||(g="release"),u=e.getEventObject(v,m,"site",g,f.lang)}else if(i.test(c)||l.test(c)){var h="unrecognized",y="";switch(f.id){case"org.mozilla.firefox":h="firefox_mobile",y="release";break;case"org.mozilla.fenix":h="firefox_mobile",y="nightly";break;case"org.mozilla.firefox_beta":h="firefox_mobile",y="beta";break;case"org.mozilla.focus":h="focus";break;case"org.mozilla.klar":h="klar";break;case"com.ideashower.readitlater.pro":h="pocket";break;case"org.mozilla.firefox.vpn":h="vpn"}u=e.getEventObject(h,"android","store",y)}else if(a.test(c)||r.test(c)){var x="unrecognized";-1!==c.indexOf("/id989804926")?x="firefox_mobile":-1!==c.indexOf("/id1055677337")?x="focus":-1!==c.indexOf("/id1073435754")?x="klar":-1!==c.indexOf("/id309601447")?x="pocket":-1!==c.indexOf("/id1489407738")&&(x="vpn"),u=e.getEventObject(x,"ios","store","release")}else if(d.test(c)||s.test(c)){var b="unrecognized";-1!==c.indexOf("9nzvdkpmr9rd")?b="release":-1!==c.indexOf("9nzw26frndln")&&(b="beta"),u=e.getEventObject("firefox","win","store",b)}return u},e.handleLink=function(t){var n=t.target;if("A"!==n.nodeName&&Element.prototype.closest)n=n.closest("a");else if(!Element.prototype.closest)return!1;var o=n.href;e.sendEventFromURL(o)},e.sendEventFromURL=function(t){var n=e.getEventFromUrl(t);n&&e.sendEvent(n)},e.sendGleanEvent=function(e){if("undefined"!=typeof window.Mozilla.Glean){var t=e.method;e.release_channel&&(t+=",".concat(e.release_channel)),e.download_language&&(t+=",".concat(e.download_language)),window.Mozilla.Glean.clickEvent({id:e.event,type:"".concat(e.platform),label:t})}},e.sendEvent=function(t){window.dataLayer.push(t),e.sendOldEvent(t),e.sendGleanEvent(t)},e.sendOldEvent=function(e){var t=JSON.parse(JSON.stringify(e));t.event="product_download",window.dataLayer.push(t)};var c=e;"undefined"==typeof window.Mozilla&&(window.Mozilla={}),window.Mozilla.TrackProductDownload=c;for(var f=document.querySelectorAll(".ga-product-download"),u=0;u<f.length;++u)f[u].addEventListener("click",(function(e){c.handleLink(e)}),!1)},6084:function(){"undefined"==typeof window.dataLayer&&(window.dataLayer=[]);var e,t,n,o={},r=[25,50,75,90],a=!0;o.getDepth=function(e,t,n){return n/(e-t)*100},o.sendEvent=function(e){window.dataLayer.push({event:"scroll",percent_scrolled:String(e)})},o.removeListener=function(){a&&(window.removeEventListener("scroll",o.scrollListener,!1),a=!1)},o.scrollHandler=function(){if("function"==typeof Array.prototype.filter){var e=document.documentElement.scrollHeight,t=window.innerHeight,n=window.scrollY,a=o.getDepth(e,t,n),i=r.filter((function(e){return a>=e}));r=r.filter((function(e){return a<e})),i.forEach((function(e){o.sendEvent(e)})),0===r.length&&o.removeListener()}else o.removeListener()},o.onScroll=(e=o.scrollHandler,t=100,function(){var o=arguments,r=this;clearTimeout(n),n=setTimeout((function(){e.apply(r,o)}),t)});var i=o;"undefined"==typeof window.Mozilla&&(window.Mozilla={}),window.Mozilla.TrackScroll=i,window.addEventListener("scroll",i.onScroll,!1)},1444:function(e,t,n){var o=n(2673),r=window.dataLayer=window.dataLayer||[];"undefined"!=typeof Mozilla.Utils&&Mozilla.Utils.onDocumentReady((function(){if("undefined"!=typeof window._SearchParams){var e=(new window._SearchParams).params,t=(0,o.x)(e);t&&r.push({event:"experiment_view",id:t.experiment,variant:t.variation})}}))},2673:function(e,t,n){function o(e){if(Object.prototype.hasOwnProperty.call(e,"experiment")&&Object.prototype.hasOwnProperty.call(e,"variation")){var t=decodeURIComponent(e.experiment),n=decodeURIComponent(e.variation);if(/^\d{8}_amo_.[\w/.%-]{1,50}$/.test(t)&&/^[\w/.%-]{1,50}$/.test(n))return{experiment:t,variation:n}}return null}n.d(t,{x:function(){return o}})}},t={};function n(o){var r=t[o];if(r!==undefined)return r.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n(2673),n(1444),n(1225);n(6084)}();