!function(){"use strict";var t=function(t){var e,i,n,s=void 0!==t?t:window.location.search;if(s){e=(s=s.slice(1)).split("&");for(var o=0;o<e.length;o++){var a=e[o].split("=");if((n=document.getElementById("id_"+a[0]))&&"SELECT"===n.nodeName){for(var l=decodeURIComponent(a[1]).replace(/\+/gi," "),d=0;d<n.options.length;d++)if(n.options[d].value===l){i=!0;break}i&&(n.value=l)}}}};function e(t,e,i,n){this.typeInput=t,this.teamInput=e,this.locationInput=i,this.positionTable=n,this.emptyFilterMessage=document.getElementById("empty-filter-message")}e.prototype={bindEvents:function(){var t=this,e=function(){t.onFilterChange()};this.typeInput.addEventListener("change",e),this.teamInput.addEventListener("change",e),this.locationInput.addEventListener("change",e)},onFilterChange:function(){var t=this.positionTable.getElementsByClassName("position"),e=!1,i="",n={position_type:this.typeInput.value,team:this.teamInput.value,location:this.locationInput.value};this.positionTable.classList.add("hidden"),this.emptyFilterMessage.classList.add("hidden");for(var s=0;s<t.length;s++)t.item(s).classList.remove("hidden");this.filterPositions("type",n.position_type),this.filterPositions("team",n.team),this.filterLocations(n.location);for(var o=0;o<t.length;o++)if(!t.item(o).classList.contains("hidden")){e=!0;break}for(var a in e||this.emptyFilterMessage.classList.remove("hidden"),n)Object.prototype.hasOwnProperty.call(n,a)&&!n[a]&&delete n[a];for(var l in n)i+=l+"="+n[l];var d=window.location.search.substr(1).split("&").filter((function(t){return 0===t.indexOf("utm_")}));i.length&&d.length&&(i+="&"),(i+=d.join("&")).length&&(i="?"+i),window.history.replaceState(n,"Filtered",location.pathname+i),this.positionTable.classList.remove("hidden")},filterPositions:function(t,e){if(e)for(var i=this.positionTable.getElementsByClassName("position"),n=0;n<i.length;n++){-1===i.item(n).dataset[t].indexOf(e)&&i.item(n).classList.add("hidden")}},filterLocations:function(t){if(t)for(var e=this.positionTable.getElementsByClassName("position"),i=0;i<e.length;i++){var n=e.item(i).dataset.location+",";if("Remote"===t)-1===n.indexOf(t+",")&&e.item(i).classList.add("hidden");else{if(-1!==t.indexOf("Remote")&&"Remote,"===n)continue;-1===n.indexOf(t+",")&&-1===n.indexOf("All Offices,")&&e.item(i).classList.add("hidden")}}}};var i=e;t();var n=document.getElementById("listings-filters").elements,s=new i(n.position_type,n.team,n.location,document.getElementById("listings-positions"));s.bindEvents(),s.onFilterChange()}();