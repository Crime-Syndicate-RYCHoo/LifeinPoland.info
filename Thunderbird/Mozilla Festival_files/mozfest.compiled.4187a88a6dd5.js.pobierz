(()=>{var v=()=>{let t=document.querySelector("#mozfest-home-watch-featured-video-button"),e=document.querySelector("#mozfest-hero-video iframe"),o=document.querySelector("#mozfest-hero-video video");!e&&!o||t&&t.addEventListener("click",()=>{if(i(),e){let n=t.dataset.videoUrl;e.setAttribute("src",n),r(t)}o&&(r(t),o.play())})},r=t=>{t.classList.add("tw-opacity-0"),setTimeout(()=>{t.classList.add("tw-hidden")},500)},h=()=>{let t=document.querySelector("#view-mozfest-home #hero .banner");if(!t)return;let e=t.querySelector("video.banner-video"),o=t.querySelector(".btn-video-control.btn-pause"),n=t.querySelector(".btn-video-control.btn-play");if(e&&o&&n){let a="d-none",f=()=>{n.classList.add(a),o.classList.remove(a)},p=()=>{o.classList.add(a),n.classList.remove(a)};o.addEventListener("click",()=>{e.pause()}),n.addEventListener("click",()=>{i(),e.play()}),e.addEventListener("pause",()=>{p()}),e.addEventListener("playing",()=>{f()}),e.play()}},i=()=>{window.dataLayer.push({event:"cta_watch_video_tap",category:"CTA",action:"watch video tap",label:"watch video button tap"})},y=()=>{let t=document.getElementById("mozfest-hero-video"),e=document.getElementById("mozfest-hero-video-cta");if(t&&e){let a=t.getBoundingClientRect().top-90;e.addEventListener("click",()=>{window.scrollTo({top:a,behavior:"smooth"})})}},d=()=>{v(),h(),y()};var c=()=>{document.querySelectorAll("body.mozfest .cms a.tw-btn-primary").forEach(t=>{t.addEventListener("click",()=>{window.dataLayer.push({event:"cta_button_tap",category:"CTA",action:"button tap",label:t.innerText})})})};var s=()=>{document.querySelectorAll("body.mozfest footer a[data-platform]").forEach(t=>{t.addEventListener("click",()=>{window.dataLayer.push({event:"footer_social_button_tap",category:"social",action:"social button tap",label:`${t.dataset.platform} footer button tap`})})})};var b=()=>{let t=document.querySelectorAll("[data-mozfest-video]");t&&t.forEach(e=>{let o=e.querySelector("[data-mozfest-video-button]"),n=e.querySelector("iframe");n&&o&&o.addEventListener("click",()=>{let a=o.dataset.videoUrl;n.setAttribute("src",a),w(o)})})},w=t=>{t.classList.add("tw-opacity-0"),setTimeout(()=>{t.classList.add("tw-hidden")},500)},l=()=>{b()};var u=()=>{s(),d(),c(),l()};function m(){globalThis.tito=globalThis.tito||function(){(tito.q=tito.q||[]).push(arguments)},tito("on:widget:loaded",function(){try{document.querySelector(".narrow-sticky-button-container").classList.add("hidden")}catch{}})}u();m();})();
